var YN=Object.defineProperty;var XN=(t,e,i)=>e in t?YN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i;var x0=(t,e,i)=>(XN(t,typeof e!="symbol"?e+"":e,i),i);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function i(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=i(r);fetch(r.href,s)}})();function gt(){}function cM(t){return t()}function jx(){return Object.create(null)}function xu(t){t.forEach(cM)}function Yw(t){return typeof t=="function"}function $u(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function QN(t){return Object.keys(t).length===0}function uM(t,...e){if(t==null){for(const n of e)n(void 0);return gt}const i=t.subscribe(...e);return i.unsubscribe?()=>i.unsubscribe():i}function Nc(t,e,i){t.$$.on_destroy.push(uM(e,i))}function Ux(t){return t??""}function e4(t,e,i){return t.set(i),e}function J(t,e){t.appendChild(e)}function tp(t,e,i){t.insertBefore(e,i||null)}function Tu(t){t.parentNode&&t.parentNode.removeChild(t)}function oe(t){return document.createElement(t)}function vs(t){return document.createTextNode(t)}function Nt(){return vs(" ")}function _o(t,e,i,n){return t.addEventListener(e,i,n),()=>t.removeEventListener(e,i,n)}function Si(t,e,i){i==null?t.removeAttribute(e):t.getAttribute(e)!==i&&t.setAttribute(e,i)}function W(t,e,i){const n=e.toLowerCase();n in t?t[n]=typeof t[n]=="boolean"&&i===""?!0:i:e in t?t[e]=typeof t[e]=="boolean"&&i===""?!0:i:Si(t,e,i)}function t4(t){return Array.from(t.childNodes)}function i4(t,e,{bubbles:i=!1,cancelable:n=!1}={}){return new CustomEvent(t,{detail:e,bubbles:i,cancelable:n})}let _h;function Kd(t){_h=t}function dM(){if(!_h)throw new Error("Function called outside component initialization");return _h}function n4(t){dM().$$.on_mount.push(t)}function hM(){const t=dM();return(e,i,{cancelable:n=!1}={})=>{const r=t.$$.callbacks[e];if(r){const s=i4(e,i,{cancelable:n});return r.slice().forEach(o=>{o.call(t,s)}),!s.defaultPrevented}return!0}}const uc=[],Hx=[];let Gc=[];const Bx=[],r4=Promise.resolve();let Bv=!1;function s4(){Bv||(Bv=!0,r4.then(pM))}function Gv(t){Gc.push(t)}const $0=new Set;let Yl=0;function pM(){if(Yl!==0)return;const t=_h;do{try{for(;Yl<uc.length;){const e=uc[Yl];Yl++,Kd(e),o4(e.$$)}}catch(e){throw uc.length=0,Yl=0,e}for(Kd(null),uc.length=0,Yl=0;Hx.length;)Hx.pop()();for(let e=0;e<Gc.length;e+=1){const i=Gc[e];$0.has(i)||($0.add(i),i())}Gc.length=0}while(uc.length);for(;Bx.length;)Bx.pop()();Bv=!1,$0.clear(),Kd(t)}function o4(t){if(t.fragment!==null){t.update(),xu(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Gv)}}function a4(t){const e=[],i=[];Gc.forEach(n=>t.indexOf(n)===-1?e.push(n):i.push(n)),i.forEach(n=>n()),Gc=e}const Gf=new Set;let l4;function ld(t,e){t&&t.i&&(Gf.delete(t),t.i(e))}function Bp(t,e,i,n){if(t&&t.o){if(Gf.has(t))return;Gf.add(t),l4.c.push(()=>{Gf.delete(t),n&&(i&&t.d(1),n())}),t.o(e)}else n&&n()}function Gp(t){t&&t.c()}function cd(t,e,i){const{fragment:n,after_update:r}=t.$$;n&&n.m(e,i),Gv(()=>{const s=t.$$.on_mount.map(cM).filter(Yw);t.$$.on_destroy?t.$$.on_destroy.push(...s):xu(s),t.$$.on_mount=[]}),r.forEach(Gv)}function ud(t,e){const i=t.$$;i.fragment!==null&&(a4(i.after_update),xu(i.on_destroy),i.fragment&&i.fragment.d(e),i.on_destroy=i.fragment=null,i.ctx=[])}function c4(t,e){t.$$.dirty[0]===-1&&(uc.push(t),s4(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ip(t,e,i,n,r,s,o=null,a=[-1]){const l=_h;Kd(t);const u=t.$$={fragment:null,ctx:[],props:s,update:gt,not_equal:r,bound:jx(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:jx(),dirty:a,skip_bound:!1,root:e.target||l.$$.root};o&&o(u.root);let p=!1;if(u.ctx=i?i(t,e.props||{},(f,m,...g)=>{const y=g.length?g[0]:m;return u.ctx&&r(u.ctx[f],u.ctx[f]=y)&&(!u.skip_bound&&u.bound[f]&&u.bound[f](y),p&&c4(t,f)),m}):[],u.update(),p=!0,xu(u.before_update),u.fragment=n?n(u.ctx):!1,e.target){if(e.hydrate){const f=t4(e.target);u.fragment&&u.fragment.l(f),f.forEach(Tu)}else u.fragment&&u.fragment.c();e.intro&&ld(t.$$.fragment),cd(t,e.target,e.anchor),pM()}Kd(l)}class np{constructor(){x0(this,"$$");x0(this,"$$set")}$destroy(){ud(this,1),this.$destroy=gt}$on(e,i){if(!Yw(i))return gt;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(i),()=>{const r=n.indexOf(i);r!==-1&&n.splice(r,1)}}$set(e){this.$$set&&!QN(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const u4="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(u4);const Xl=[];function d4(t,e){return{subscribe:Xw(t,e).subscribe}}function Xw(t,e=gt){let i;const n=new Set;function r(a){if($u(t,a)&&(t=a,i)){const l=!Xl.length;for(const u of n)u[1](),Xl.push(u,t);if(l){for(let u=0;u<Xl.length;u+=2)Xl[u][0](Xl[u+1]);Xl.length=0}}}function s(a){r(a(t))}function o(a,l=gt){const u=[a,l];return n.add(u),n.size===1&&(i=e(r,s)||gt),a(t),()=>{n.delete(u),n.size===0&&i&&(i(),i=null)}}return{set:r,update:s,subscribe:o}}function Qw(t,e,i){const n=!Array.isArray(t),r=n?[t]:t;if(!r.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const s=e.length<2;return d4(i,(o,a)=>{let l=!1;const u=[];let p=0,f=gt;const m=()=>{if(p)return;f();const y=e(n?u[0]:u,o,a);s?o(y):f=Yw(y)?y:gt},g=r.map((y,v)=>uM(y,w=>{u[v]=w,p&=~(1<<v),l&&m()},()=>{p|=1<<v}));return l=!0,m(),function(){xu(g),f(),l=!1}})}let T0=class Ta{constructor(e=1){this._seed=e}set seed(e){this._seed=e??Math.random()*Ta._m}getInt(){return this._seed=(Ta._a*this._seed+Ta._c)%Ta._m,this._seed}getFloat(){return this.getInt()/(Ta._m-1)}getIntRange(e,i){return Math.round(this.getFloatRange(e,i))}getFloatRange(e,i){const n=i-e;return e+this.getInt()/Ta._m*n}};T0._m=2147483647,T0._a=48271,T0._c=0;const $le=1.5;function Tle(t,e){return e?t.filter((i,n,r)=>r.findIndex(e.bind(null,i))===n):Array.from(new Set(t))}function by(t,e,i){if(t==null&&e==null)return!0;if(t==null||e==null||t.length!==e.length)return!1;if(i){for(let n=0;n<t.length;n++)if(!i(t[n],e[n]))return!1}else for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function Ele(t,e){let i=t.length!==e.length;i&&(t.length=e.length);for(let n=0;n<e.length;++n)t[n]!==e[n]&&(t[n]=e[n],i=!0);return i}function kle(t,e,i){let n,r;return i?(n=e.filter(s=>!t.some(o=>i(o,s))),r=t.filter(s=>!e.some(o=>i(o,s)))):(n=e.filter(s=>!t.includes(s)),r=t.filter(s=>!e.includes(s))),{added:n,removed:r}}function Mle(t){return t&&typeof t.length=="number"}const h4=!!Array.prototype.fill;function Cle(t,e){if(h4)return new Array(t).fill(e);const i=new Array(t);for(let n=0;n<t;n++)i[n]=e;return i}function Ile(t,e){e===void 0&&(e=t,t=0);const i=new Array(e-t);for(let n=t;n<e;n++)i[n-t]=n;return i}let fM=class{constructor(){this.last=0}};const mM=new fM;function Vv(t,e,i,n){n=n||mM;const r=Math.max(0,n.last-10);for(let o=r;o<i;++o)if(t[o]===e)return n.last=o,o;const s=Math.min(r,i);for(let o=0;o<s;++o)if(t[o]===e)return n.last=o,o;return-1}function gM(t,e,i,n){const r=i??t.length,s=Vv(t,e,r,n);if(s!==-1)return t[s]=t[r-1],i==null&&t.pop(),e}const mn=new Set;function p4(t,e,i=t.length,n=e.length,r,s){if(n===0||i===0)return i;mn.clear();for(let a=0;a<n;++a)mn.add(e[a]);r=r||mM;const o=Math.max(0,r.last-10);for(let a=o;a<i;++a)if(mn.has(t[a])&&(s==null||s.push(t[a]),mn.delete(t[a]),t[a]=t[i-1],--i,--a,mn.size===0||i===0))return mn.clear(),i;for(let a=0;a<o;++a)if(mn.has(t[a])&&(s==null||s.push(t[a]),mn.delete(t[a]),t[a]=t[i-1],--i,--a,mn.size===0||i===0))return mn.clear(),i;return mn.clear(),i}function f4(t,e){const i=t.indexOf(e);return i!==-1?(t.splice(i,1),e):null}function Ro(t,e){return t!=null}function yM(t){return 32+t.length}function e_(){return 16}function Ale(t){if(!t)return 0;let e=bM;for(const i in t)if(t.hasOwnProperty(i)){const n=t[i];switch(typeof n){case"string":e+=yM(n);break;case"number":e+=e_();break;case"boolean":e+=4}}return e}function m4(t){if(!t)return 0;if(Array.isArray(t))return g4(t);let e=bM;for(const i in t)t.hasOwnProperty(i)&&(e+=vM(t[i]));return e}function g4(t){const e=t.length;if(e===0||typeof t[0]=="number")return 32+8*e;let i=wM;for(let n=0;n<e;n++)i+=vM(t[n]);return i}function vM(t){switch(typeof t){case"object":return m4(t);case"string":return yM(t);case"number":return e_();case"boolean":return 4;default:return 8}}function y4(t,e){return wM+t.length*e}const bM=32,wM=32;let Io;function P(t){return typeof Io[t]=="function"?Io[t]=Io[t](globalThis):Io[t]}var tM,iM,nM,rM;Io=(tM=globalThis.dojoConfig)!=null&&tM.has||(iM=globalThis.esriConfig)!=null&&iM.has?{...(nM=globalThis.dojoConfig)==null?void 0:nM.has,...(rM=globalThis.esriConfig)==null?void 0:rM.has}:{},P.add=(t,e,i,n)=>((n||Io[t]===void 0)&&(Io[t]=e),i&&P(t)),P.cache=Io,P.add("big-integer-warning-enabled",!0),P.add("esri-deprecation-warnings",!0),P.add("esri-tests-disable-screenshots",!1),P.add("esri-tests-use-full-window",!1),P.add("esri-tests-post-to-influx",!0),(()=>{var e;P.add("host-webworker",globalThis.WorkerGlobalScope!==void 0&&self instanceof globalThis.WorkerGlobalScope);const t=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;if(P.add("host-browser",t),P.add("host-node",typeof globalThis.process=="object"&&((e=globalThis.process.versions)==null?void 0:e.node)&&globalThis.process.versions.v8),P.add("dom",t),P("host-browser")){const i=navigator,n=i.userAgent,r=i.appVersion,s=parseFloat(r);if(P.add("wp",parseFloat(n.split("Windows Phone")[1])||void 0),P.add("msapp",parseFloat(n.split("MSAppHost/")[1])||void 0),P.add("khtml",r.includes("Konqueror")?s:void 0),P.add("edge",parseFloat(n.split("Edge/")[1])||void 0),P.add("opr",parseFloat(n.split("OPR/")[1])||void 0),P.add("webkit",!P("wp")&&!P("edge")&&parseFloat(n.split("WebKit/")[1])||void 0),P.add("chrome",!P("edge")&&!P("opr")&&parseFloat(n.split("Chrome/")[1])||void 0),P.add("android",!P("wp")&&parseFloat(n.split("Android ")[1])||void 0),P.add("safari",!r.includes("Safari")||P("wp")||P("chrome")||P("android")||P("edge")||P("opr")?void 0:parseFloat(r.split("Version/")[1])),P.add("mac",r.includes("Macintosh")),!P("wp")&&/(iPhone|iPod|iPad)/.test(n)){const o=RegExp.$1.replace(/P/,"p"),a=/OS ([\d_]+)/.test(n)?RegExp.$1:"1",l=parseFloat(a.replace(/_/,".").replaceAll("_",""));P.add(o,l),P.add("ios",l)}P("webkit")||(!n.includes("Gecko")||P("wp")||P("khtml")||P("edge")||P.add("mozilla",s),P("mozilla")&&P.add("ff",parseFloat(n.split("Firefox/")[1]||n.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const t=navigator.userAgent,e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(t),i=/iPhone/i.test(t);e&&P.add("esri-mobile",e),i&&P.add("esri-iPhone",i),P.add("esri-geolocation",!!navigator.geolocation)}P.add("esri-wasm","WebAssembly"in globalThis),P.add("esri-performance-mode-frames-between-render",20),P.add("esri-force-performance-mode",!1),P.add("esri-shared-array-buffer",()=>{const t="SharedArrayBuffer"in globalThis,e=globalThis.crossOriginIsolated===!1;return t&&!e}),P.add("wasm-simd",()=>{const t=[0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11];return WebAssembly.validate(new Uint8Array(t))}),P.add("esri-atomics","Atomics"in globalThis),P.add("esri-workers","Worker"in globalThis),P.add("web-feat:cache","caches"in globalThis),P.add("esri-workers-arraybuffer-transfer",!P("safari")||Number(P("safari"))>=12),P.add("workers-pool-size",8),P.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),P.add("featurelayer-simplify-payload-size-factors",[1,1,4]),P.add("featurelayer-animation-enabled",!0),P.add("featurelayer-snapshot-enabled",!0),P.add("featurelayer-snapshot-point-min-threshold",8e4),P.add("featurelayer-snapshot-point-max-threshold",4e5),P.add("featurelayer-snapshot-point-coverage",.1),P.add("featurelayer-advanced-symbols",!1),P.add("featurelayer-pbf",!0),P.add("featurelayer-pbf-statistics",!1),P.add("feature-layers-workers",!0),P.add("feature-polyline-generalization-factor",1),P.add("mapview-transitions-duration",200),P.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),P.add("mapserver-pbf-version-support",10.81),P.add("mapservice-popup-identify-max-tolerance",20),P.add("heatmap-allow-raster-fallback",!1),P.add("heatmap-force-raster",!1),P("host-webworker")||P("host-browser")&&(P.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),P.add("esri-image-decode",()=>{if("decode"in new Image){const t=new Image;return t.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void t.decode().then(()=>{P.add("esri-image-decode",!0,!0,!0)}).catch(()=>{P.add("esri-image-decode",!1,!0,!0)})}return!1}),P.add("esri-url-encodes-apostrophe",()=>{const t=window.document.createElement("a");return t.href="?'",t.href.includes("?%27")}))})();function Lle(t){return t instanceof ArrayBuffer}function t_(t){var e;return((e=t==null?void 0:t.constructor)==null?void 0:e.name)==="Int8Array"}function _M(t){var e;return((e=t==null?void 0:t.constructor)==null?void 0:e.name)==="Uint8Array"}function SM(t){var e;return((e=t==null?void 0:t.constructor)==null?void 0:e.name)==="Uint8ClampedArray"}function i_(t){var e;return((e=t==null?void 0:t.constructor)==null?void 0:e.name)==="Int16Array"}function xM(t){var e;return((e=t==null?void 0:t.constructor)==null?void 0:e.name)==="Uint16Array"}function n_(t){var e;return((e=t==null?void 0:t.constructor)==null?void 0:e.name)==="Int32Array"}function $M(t){var e;return((e=t==null?void 0:t.constructor)==null?void 0:e.name)==="Uint32Array"}function wy(t){var e;return((e=t==null?void 0:t.constructor)==null?void 0:e.name)==="Float32Array"}function _y(t){var e;return((e=t==null?void 0:t.constructor)==null?void 0:e.name)==="Float64Array"}function v4(t){return!("buffer"in t)}function Ple(...t){return t.reduce((e,i)=>e+(i?v4(i)?y4(i,e_()):i.byteLength+b4:0),0)}const b4=145,Rle=1024;function Nle(t){return _y(t)||wy(t)||n_(t)||i_(t)||t_(t)}function Dle(t){return _y(t)||wy(t)}function zle(t){return _y(t)?179769e303:wy(t)?3402823e32:$M(t)?4294967295:xM(t)?65535:_M(t)||SM(t)?255:n_(t)?2147483647:i_(t)?32767:t_(t)?127:256}function TM(t,e){let i;if(e)for(i in t)t.hasOwnProperty(i)&&(t[i]===void 0?delete t[i]:t[i]instanceof Object&&TM(t[i],!0));else for(i in t)t.hasOwnProperty(i)&&t[i]===void 0&&delete t[i];return t}function z(t){if(!t||typeof t!="object"||typeof t=="function")return t;const e=MM(t);if(e!=null)return e;if(zm(t))return t.clone();if(EM(t))return t.map(z);if(kM(t))return t.clone();const i={};for(const n of Object.getOwnPropertyNames(t))i[n]=z(t[n]);return i}function Wv(t){if(!t||typeof t!="object"||typeof t=="function"||"HTMLElement"in globalThis&&t instanceof HTMLElement)return t;const e=MM(t);if(e!=null)return e;if(EM(t)){let i=!0;const n=t.map(r=>{const s=Wv(r);return r!=null&&s==null&&(i=!1),s});return i?n:null}if(zm(t))return t.clone();if(t instanceof File||t instanceof Blob)return t;if(!kM(t)){const i=new(Object.getPrototypeOf(t)).constructor;for(const n of Object.getOwnPropertyNames(t)){const r=t[n],s=Wv(r);if(r!=null&&s==null)return null;i[n]=s}return i}return null}function zm(t){return typeof t.clone=="function"}function EM(t){return typeof t.map=="function"&&typeof t.forEach=="function"}function kM(t){return typeof t.notifyChange=="function"&&typeof t.watch=="function"}function Gx(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function MM(t){if(t_(t)||_M(t)||SM(t)||i_(t)||xM(t)||n_(t)||$M(t)||wy(t)||_y(t))return t.slice();if(t instanceof Date)return new Date(t.getTime());if(t instanceof ArrayBuffer)return t.slice(0,t.byteLength);if(t instanceof Map){const e=new Map;for(const[i,n]of t)e.set(i,z(n));return e}if(t instanceof Set){const e=new Set;for(const i of t)e.add(z(i));return e}return null}function r_(t,e){return t===e||typeof t=="number"&&isNaN(t)&&typeof e=="number"&&isNaN(e)||typeof(t==null?void 0:t.getTime)=="function"&&typeof(e==null?void 0:e.getTime)=="function"&&t.getTime()===e.getTime()||!1}function CM(t,e){return t===e||(t==null||typeof t=="string"?t===e:typeof t=="number"?t===e||typeof e=="number"&&isNaN(t)&&isNaN(e):t instanceof Date?e instanceof Date&&t.getTime()===e.getTime():Array.isArray(t)?Array.isArray(e)&&by(t,e):t instanceof Set?e instanceof Set&&_4(t,e):t instanceof Map?e instanceof Map&&S4(t,e):!!Gx(t)&&Gx(e)&&w4(t,e))}function w4(t,e){if(t===null||e===null)return!1;const i=Object.keys(t);if(e===null||Object.keys(e).length!==i.length)return!1;for(const n of i)if(t[n]!==e[n]||!Object.prototype.hasOwnProperty.call(e,n))return!1;return!0}function _4(t,e){if(t.size!==e.size)return!1;for(const i of t)if(!e.has(i))return!1;return!0}function S4(t,e){if(t.size!==e.size)return!1;for(const[i,n]of t){const r=e.get(i);if(r!==n||r===void 0&&!e.has(i))return!1}return!0}function d(t,e,i,n){var r,s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,i):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,i,o):r(e,i))||o);return s>3&&o&&Object.defineProperty(e,i,o),o}function Fle(t,e,i,n){function r(s){return s instanceof i?s:new i(function(o){o(s)})}return new(i||(i=Promise))(function(s,o){function a(p){try{u(n.next(p))}catch(f){o(f)}}function l(p){try{u(n.throw(p))}catch(f){o(f)}}function u(p){p.done?s(p.value):r(p.value).then(a,l)}u((n=n.apply(t,e||[])).next())})}const Vx=new Set;function x4(t,e,i=!1){i&&Vx.has(e)||(i&&Vx.add(e),t.warn(`ðŸ›‘ DEPRECATED - ${e}`))}function IM(t,e,i={}){if(P("esri-deprecation-warnings")){const{moduleName:n}=i;ou(t,`Function: ${(n?n+"::":"")+e+"()"}`,i)}}function jle(t,e,i={}){if(P("esri-deprecation-warnings")){const{moduleName:n}=i;ou(t,`Property: ${(n?n+"::":"")+e}`,i)}}function ou(t,e,i={}){if(P("esri-deprecation-warnings")){const{replacement:n,version:r,see:s,warnOnce:o}=i;let a=e;n&&(a+=`
	ðŸ› ï¸ Replacement: ${n}`),r&&(a+=`
	âš™ï¸ Version: ${r}`),s&&(a+=`
	ðŸ”— See ${s} for more details.`),x4(t,a,o)}}function Ule(t){const e=[];return function*(){yield*e;for(const i of t)e.push(i),yield i}}function $4(t,e){for(const i of t)if(i!=null&&e(i))return i}function Fm(t){return t!=null&&typeof t[Symbol.iterator]=="function"}let Sy=class qv{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let e=0;return this._groups.forEach(i=>{e+=i.length}),e}add(e,i){if(Fm(e)){const n=this._getOrCreateGroup(i);for(const r of e)this._isHandle(r)&&n.push(r)}else this._isHandle(e)&&this._getOrCreateGroup(i).push(e);return this}forEach(e,i){if(typeof e=="function")this._groups.forEach(n=>n.forEach(e));else{const n=this._getGroup(e);n&&i&&n.forEach(i)}}has(e){return this._groups.has(this._ensureGroupKey(e))}remove(e){if(typeof e!="string"&&Fm(e)){for(const i of e)this.remove(i);return this}return this.has(e)?(this._removeAllFromGroup(this._getGroup(e)),this._groups.delete(this._ensureGroupKey(e)),this):this}removeAll(){return this._groups.forEach(e=>this._removeAllFromGroup(e)),this._groups.clear(),this}_isHandle(e){return e&&(!!e.remove||e instanceof qv)}_getOrCreateGroup(e){if(this.has(e))return this._getGroup(e);const i=[];return this._groups.set(this._ensureGroupKey(e),i),i}_getGroup(e){return this._groups.get(this._ensureGroupKey(e))}_ensureGroupKey(e){return e||"_default_"}_removeAllFromGroup(e){for(const i of e)i instanceof qv?i.removeAll():i.remove()}};function T4(t,e,i=!1){return AM(t,e,i)}function rp(t,e){if(e!=null)return e[t]||OM(t.split("."),!1,e)}function Eu(t,e,i){const n=t.split("."),r=n.pop(),s=OM(n,!0,i);s&&r&&(s[r]=e)}function OM(t,e,i){let n=i;for(const r of t){if(n==null)return;if(!(r in n)){if(!e)return;n[r]={}}n=n[r]}return n}function AM(t,e,i){return e?Object.keys(e).reduce((n,r)=>{let s=n[r],o=e[r];return s===o?n:s===void 0?(n[r]=z(o),n):(Array.isArray(o)||Array.isArray(n)?(s=s?Array.isArray(s)?n[r]=s.concat():n[r]=[s]:n[r]=[],o&&(Array.isArray(o)||(o=[o]),i?o.forEach(a=>{s.includes(a)||s.push(a)}):n[r]=o.concat())):o&&typeof o=="object"?n[r]=AM(s,o,i):n.hasOwnProperty(r)&&!e.hasOwnProperty(r)||(n[r]=o),n)},t||{}):t}var sM;const ye={apiKey:void 0,applicationName:"",applicationUrl:(sM=globalThis.location)==null?void 0:sM.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!0,portalUrl:"https://www.arcgis.com",routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:6e4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&(T4(ye,globalThis.esriConfig,!0),delete ye.has),!ye.assetsPath){{const t="4.28";ye.assetsPath=`https://js.arcgis.com/${t}/@arcgis/core/assets`}ye.defaultAssetsPath=ye.assetsPath}const E4=/\{([^\}]+)\}/g;function Wx(t){return t??""}function s_(t,e){return e?t.replaceAll(E4,typeof e=="object"?(i,n)=>Wx(rp(n,e)):(i,n)=>Wx(e(n))):t}function k4(t,e){return t.replaceAll(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,i=>e&&e.includes(i)?i:`\\${i}`)}function LM(t){let e=0;for(let i=0;i<t.length;i++)e=(e<<5)-e+t.charCodeAt(i),e|=0;return e}function Hle(t){return new DOMParser().parseFromString(t||"","text/html").body.innerText||""}function Ble(t,e){return new RegExp(`{${e}}`,"ig").test(t)}const qx={info:0,warn:1,error:2,none:3};let G=class Gt{constructor(e){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},e.level!=null&&(this.level=e.level),e.writer!=null&&(this.writer=e.writer),this._module=e.module,Gt._loggers.set(this.module,this);const i=this.module.lastIndexOf(".");i!==-1&&(this._parent=Gt.getLogger(this.module.slice(0,i)))}get module(){return this._module}get parent(){return this._parent}error(...e){this._log("error","always",...e)}warn(...e){this._log("warn","always",...e)}info(...e){this._log("info","always",...e)}errorOnce(...e){this._log("error","once",...e)}warnOnce(...e){this._log("warn","once",...e)}infoOnce(...e){this._log("info","once",...e)}errorOncePerTick(...e){this._log("error","oncePerTick",...e)}warnOncePerTick(...e){this._log("warn","oncePerTick",...e)}infoOncePerTick(...e){this._log("info","oncePerTick",...e)}get test(){const e=this;return{loggedMessages:e._loggedMessages,clearLoggedWarnings:()=>e._loggedMessages.warn.clear()}}static get test(){return{resetLoggers(e=new Map){const i=Gt._loggers;return Gt._loggers=e,i},set throttlingDisabled(e){Gt._throttlingDisabled=e}}}static getLogger(e){return e=typeof e!="string"?e.declaredClass:e,Gt._loggers.get(e)||new Gt({module:e})}_log(e,i,...n){if(this._matchLevel(e)){if(i!=="always"&&!Gt._throttlingDisabled){const r=this._argsToKey(n),s=this._loggedMessages[e].get(r);if(i==="once"&&s!=null||i==="oncePerTick"&&s&&s>=Gt._tickCounter)return;this._loggedMessages[e].set(r,Gt._tickCounter),Gt._scheduleTickCounterIncrement()}for(const r of ye.log.interceptors)if(r(e,this.module,...n))return;this._inheritedWriter()(e,this.module,...n)}}_parentWithMember(e,i){let n=this;for(;n!=null;){const r=n[e];if(r!=null)return r;n=n.parent}return i}_inheritedWriter(){return this._parentWithMember("writer",this._consoleWriter)}_consoleWriter(e,i,...n){console[e](`[${i}]`,...n)}_matchLevel(e){const i=ye.log.level||"warn";return qx[this._parentWithMember("level",i)]<=qx[e]}_argsToKey(...e){return LM(JSON.stringify(e,(n,r)=>typeof r!="object"||Array.isArray(r)?r:"[Object]"))}static _scheduleTickCounterIncrement(){Gt._tickCounterScheduled||(Gt._tickCounterScheduled=!0,Promise.resolve().then(()=>{Gt._tickCounter++,Gt._tickCounterScheduled=!1}))}};G._loggers=new Map,G._tickCounter=0,G._tickCounterScheduled=!1,G._throttlingDisabled=!1;function PM(t,e){if(t==null)throw new Error(e??"value is None")}function ze(t){return t==null||t.destroy(),null}function Gle(t){return t==null||t.dispose(),null}function Ke(t){return t==null||t.remove(),null}function Uo(t){return t==null||t.abort(),null}function Vle(t){return t==null||t.release(),null}function Wle(t,e,i){return t!=null&&e!=null?i!=null?i(t,e):t.equals(e):t===e}function M4(t,e){let i;return t.some((n,r)=>(i=e(n,r),i!=null)),i??void 0}const RM=Symbol("Accessor-beforeDestroy"),C4={remove:()=>{}};function je(t){return t?{remove(){t&&(t(),t=void 0)}}:C4}function I4(t){t.forEach(e=>e==null?void 0:e.remove())}function sp(t){return je(()=>I4(t))}function Ho(t){return t.__accessor__??null}function O4(t,e){var i;return((i=t==null?void 0:t.metadatas)==null?void 0:i[e])!=null}function Vf(t,e,i){return i?jm(t,e,{policy:i,path:""}):jm(t,e,null)}function jm(t,e,i){return e?Object.keys(e).reduce((n,r)=>{const s=r;let o=null,a="merge";if(i&&(o=i.path?`${i.path}.${r}`:r,a=i.policy(o)),a==="replace"||a==="replace-arrays"&&Array.isArray(n[s]))return n[s]=e[s],n;if(n[s]===void 0)return n[s]=z(e[s]),n;let l=n[s],u=e[s];if(l===u)return n;if(Array.isArray(u)||Array.isArray(n))l=l?Array.isArray(l)?n[s]=l.concat():n[s]=[l]:n[s]=[],u&&(Array.isArray(u)||(u=[u]),u.forEach(p=>{l.includes(p)||l.push(p)}));else if(u&&typeof u=="object")if(i){const p=i.path;i.path=o,n[s]=jm(l,u,i),i.path=p}else n[s]=jm(l,u,null);else n.hasOwnProperty(r)&&!e.hasOwnProperty(r)||(n[s]=u);return n},t||{}):t}function NM(t){return Array.isArray(t)?t:t.split(".")}function Zx(t){return t.includes(",")?t.split(",").map(e=>e.trim()):[t.trim()]}function A4(t){if(Array.isArray(t)){const e=[];for(const i of t)e.push(...Zx(i));return e}return Zx(t)}function DM(t,e,i,n){const r=A4(e);if(r.length!==1){const s=r.map(o=>n(t,o,i));return sp(s)}return n(t,r[0],i)}function zM(t,e){const i=t[t.length-1]==="?"?t.slice(0,-1):t;if(e.getItemAt!=null||Array.isArray(e)){const r=parseInt(i,10);if(!isNaN(r))return Array.isArray(e)?e[r]:e.at(r)}const n=Ho(e);return O4(n,i)?n.get(i):e[i]}function FM(t,e,i){if(t==null)return t;const n=zM(e[i],t);return!n&&i<e.length-1?void 0:i===e.length-1?n:FM(n,e,i+1)}function op(t,e,i=0){return typeof e!="string"||e.includes(".")?FM(t,NM(e),i):zM(e,t)}function Pr(t,e){return op(t,e)}function Jx(t,e){return op(e,t)!==void 0}function ap(t){let e=t.constructor.__accessorMetadata__;const i=Object.prototype.hasOwnProperty.call(t.constructor,"__accessorMetadata__");if(e){if(!i){e=Object.create(e);for(const n in e)e[n]=z(e[n]);Object.defineProperty(t.constructor,"__accessorMetadata__",{value:e,enumerable:!1,configurable:!0,writable:!0})}}else e={},Object.defineProperty(t.constructor,"__accessorMetadata__",{value:e,enumerable:!1,configurable:!0,writable:!0});return t.constructor.__accessorMetadata__}function xy(t,e){const i=ap(t);let n=i[e];return n||(n=i[e]={}),n}function L4(t,e){return Vf(t,e,R4)}const P4=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function R4(t){return P4.test(t)?"replace":"merge"}function N4(t){return(t==null?void 0:t.release)&&typeof t.release=="function"}function D4(t){return(t==null?void 0:t.acquire)&&typeof t.acquire=="function"}let Hl=class Zv{constructor(e,i,n,r=1,s=0){if(this._ctor=e,this._acquireFunction=i,this._releaseFunction=n,this.allocationSize=r,this._pool=new Array(s),this._initialSize=s,this._ctor)for(let o=0;o<s;o++)this._pool[o]=new this._ctor;this.allocationSize=Math.max(r,1)}destroy(){this.prune(0)}acquire(...e){let i;if(Zv.test.disabled)i=new this._ctor;else{if(this._pool.length===0){const n=this.allocationSize;for(let r=0;r<n;r++)this._pool[r]=new this._ctor}i=this._pool.pop()}return this._acquireFunction?this._acquireFunction(i,...e):D4(i)&&i.acquire(...e),i}release(e){e&&!Zv.test.disabled&&(this._releaseFunction?this._releaseFunction(e):N4(e)&&e.release(),this._pool.push(e))}prune(e=this._initialSize){if(!(e>=this._pool.length)){for(let i=e;i<this._pool.length;++i){const n=this._pool[i];this._dispose(n)}this._pool.length=e}}_dispose(e){e.dispose&&typeof e.dispose=="function"&&e.dispose()}};Hl.test={disabled:!1};var xs;(function(t){t[t.INITIALIZING=0]="INITIALIZING",t[t.CONSTRUCTING=1]="CONSTRUCTING",t[t.CONSTRUCTED=2]="CONSTRUCTED"})(xs||(xs={}));let z4=class{constructor(e,i){this._observers=e,this._observer=i}remove(){f4(this._observers,this._observer)}},jM=class{constructor(){this._observers=null,this.destroyed=!1}observe(e){if(this.destroyed||e.destroyed)return F4;this._observers==null&&(this._observers=[]);const i=this._observers;let n=!1,r=!1;const s=i.length;for(let o=0;o<s;++o){const a=i[o];if(a.destroyed)r=!0;else if(a===e){n=!0;break}}return n||(i.push(e),r&&this._removeDestroyedObservers()),new z4(i,e)}_removeDestroyedObservers(){const e=this._observers;if(!e||e.length===0)return;const i=e.length;let n=0;for(let r=0;r<i;++r){for(;r+n<i&&e[r+n].destroyed;)++n;if(n>0){if(!(r+n<i))break;e[r]=e[r+n]}}e.length=i-n}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this._observers;if(e!=null){for(const i of e)i.onCommitted();this._observers=null}}};const F4=je();var _e;(function(t){t[t.DEFAULTS=0]="DEFAULTS",t[t.COMPUTED=1]="COMPUTED",t[t.SERVICE=2]="SERVICE",t[t.PORTAL_ITEM=3]="PORTAL_ITEM",t[t.WEB_SCENE=4]="WEB_SCENE",t[t.WEB_MAP=5]="WEB_MAP",t[t.LINK_CHART=6]="LINK_CHART",t[t.USER=7]="USER"})(_e||(_e={}));const Jle=_e.USER+1;function UM(t){switch(t){case"defaults":return _e.DEFAULTS;case"service":return _e.SERVICE;case"portal-item":return _e.PORTAL_ITEM;case"web-scene":return _e.WEB_SCENE;case"web-map":return _e.WEB_MAP;case"link-chart":return _e.LINK_CHART;case"user":return _e.USER;default:return null}}function Jv(t){switch(t){case _e.DEFAULTS:return"defaults";case _e.SERVICE:return"service";case _e.PORTAL_ITEM:return"portal-item";case _e.WEB_SCENE:return"web-scene";case _e.WEB_MAP:return"web-map";case _e.LINK_CHART:return"link-chart";case _e.USER:return"user"}}function j4(t){return Jv(t)}var Me;(function(t){t[t.Dirty=1]="Dirty",t[t.Overriden=2]="Overriden",t[t.Computing=4]="Computing",t[t.NonNullable=8]="NonNullable",t[t.HasDefaultValue=16]="HasDefaultValue",t[t.DepTrackingInitialized=32]="DepTrackingInitialized",t[t.AutoTracked=64]="AutoTracked",t[t.ExplicitlyTracking=128]="ExplicitlyTracking"})(Me||(Me={}));const Um={onObservableAccessed:()=>{},onTrackingEnd:()=>{}},dd=[];let Yd=Um;function X(t){Yd.onObservableAccessed(t)}let Wf=!1,qf=!1;function Cs(t,e,i){if(Wf)return o_(t,e,i);HM(t);const n=e.call(i);return BM(),n}function U4(t,e){return Cs(Um,t,e)}function o_(t,e,i){const n=Wf;Wf=!0,HM(t);let r=null;try{r=e.call(i)}catch(s){qf&&G.getLogger("esri.core.accessorSupport.tracking").error(s)}return BM(),Wf=n,r}function HM(t){Yd=t,dd.push(t)}function BM(){const t=dd.length;if(t>1){const e=dd.pop();Yd=dd[t-2],e.onTrackingEnd()}else if(t===1){const e=dd.pop();Yd=Um,e.onTrackingEnd()}else Yd=Um}function GM(t,e){if(e.flags&Me.DepTrackingInitialized)return;const i=qf;qf=!1,e.flags&Me.AutoTracked?o_(e,e.metadata.get,t):VM(t,e),qf=i}const H4=[];function VM(t,e){e.flags&Me.ExplicitlyTracking||(e.flags|=Me.ExplicitlyTracking,o_(e,()=>{const i=e.metadata.dependsOn||H4;for(const n of i)if(typeof n!="string"||n.includes(".")){const r=NM(n);for(let s=0,o=t;s<r.length&&o!=null&&typeof o=="object";++s)o=Kx(o,r[s],s!==r.length-1)}else Kx(t,n,!1)}),e.flags&=~Me.ExplicitlyTracking)}function Kx(t,e,i){const n=e[e.length-1]==="?"?e.slice(0,-1):e;if(t.getItemAt!=null||Array.isArray(t)){const s=parseInt(n,10);if(!isNaN(s))return Array.isArray(t)?t[s]:t.at(s)}const r=Ho(t);if(r){const s=r.propertiesByName.get(n);s&&(X(s),GM(t,s))}return i?t[n]:void 0}let Yx=class extends jM{constructor(e,i){super(),this.propertyName=e,this.metadata=i,this._accessed=null,this._handles=null,this.flags=0,this.flags=Me.Dirty|(i.nonNullable?Me.NonNullable:0)|(i.hasOwnProperty("value")?Me.HasDefaultValue:0)|(i.get===void 0?Me.DepTrackingInitialized:0)|(i.dependsOn===void 0?Me.AutoTracked:0)}destroy(){this.flags&Me.Dirty&&this.onCommitted(),super.destroy(),this._accessed=null,this._clearObservationHandles()}getComputed(e){X(this);const i=e.store,n=this.propertyName,r=this.flags,s=i.get(n);if(r&Me.Computing||~r&Me.Dirty&&i.has(n))return s;this.flags|=Me.Computing;const o=e.host;let a;r&Me.AutoTracked?a=Cs(this,this.metadata.get,o):(VM(o,this),a=this.metadata.get.call(o)),i.set(n,a,_e.COMPUTED);const l=i.get(n);return l===s?this.flags&=~Me.Dirty:U4(this.commit,this),this.flags&=~Me.Computing,l}onObservableAccessed(e){if(e===this)return;let i=this._accessed;if(i==null)i=[],this._accessed=i;else if(i.includes(e))return;i.push(e)}onTrackingEnd(){this._clearObservationHandles(),this.flags|=Me.DepTrackingInitialized;const e=this._accessed;if(e==null||e.length===0)return;let i=this._handles;i==null&&(i=[],this._handles=i);for(let n=0;n<e.length;++n)i.push(e[n].observe(this));e.length=0}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=~Me.Dirty,this.onCommitted()}_clearObservationHandles(){const e=this._handles;if(e!==null){for(let i=0;i<e.length;++i)e[i].remove();e.length=0}}onInvalidated(){~this.flags&Me.Overriden&&(this.flags|=Me.Dirty);const e=this._observers;if(e&&e.length>0)for(const i of e)i.onInvalidated()}onCommitted(){const e=this._observers;if(e&&e.length>0){const i=e.slice();for(const n of i)n.onCommitted()}}},B4=class WM{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(e){const i=new WM;return this._values.forEach((n,r)=>{e&&e.has(r)||i.set(r,z(n))}),i}get(e){return this._values.get(e)}originOf(){return _e.USER}keys(){return[...this._values.keys()]}set(e,i){this._values.set(e,i)}delete(e){this._values.delete(e)}has(e){return this._values.has(e)}forEach(e){this._values.forEach(e)}};function Vp(t,e,i){return t!==void 0}function Xx(t,e,i,n){return t!==void 0&&(!(i==null&&t.flags&Me.NonNullable)||(n.lifecycle,xs.INITIALIZING,!1))}function G4(t){return t&&typeof t.destroy=="function"}G.getLogger("esri.core.accessorSupport.Properties");let V4=class{constructor(e){this.host=e,this.propertiesByName=new Map,this.ctorArgs=null,this.destroyed=!1,this.lifecycle=xs.INITIALIZING,this.store=new B4,this._origin=_e.USER;const i=this.host.constructor.__accessorMetadata__;for(const n in i){const r=new Yx(n,i[n]);this.propertiesByName.set(n,r)}this.metadatas=i}initialize(){this.lifecycle=xs.CONSTRUCTING}constructed(){this.lifecycle=xs.CONSTRUCTED}destroy(){this.destroyed=!0;for(const[e,i]of this.propertiesByName){if(i.metadata.autoDestroy){const n=this.internalGet(e);n&&G4(n)&&(n.destroy(),~i.flags&Me.NonNullable&&this._internalSet(i,null))}i.destroy()}}get initialized(){return this.lifecycle!==xs.INITIALIZING}get(e){const i=this.propertiesByName.get(e);if(i.metadata.get)return i.getComputed(this);X(i);const n=this.store;return n.has(e)?n.get(e):i.metadata.value}originOf(e){const i=this.store.originOf(e);if(i===void 0){const n=this.propertiesByName.get(e);if(n!==void 0&&n.flags&Me.HasDefaultValue)return"defaults"}return Jv(i)}has(e){return!!this.propertiesByName.has(e)&&this.store.has(e)}keys(){return[...this.propertiesByName.keys()]}internalGet(e){const i=this.propertiesByName.get(e);if(Vp(i))return this.store.has(e)?this.store.get(e):i.metadata.value}internalSet(e,i){const n=this.propertiesByName.get(e);Vp(n)&&this._internalSet(n,i)}getDependsInfo(e,i,n){const r=this.propertiesByName.get(i);if(!Vp(r))return"";const s=new Set,o=Cs({onObservableAccessed:l=>s.add(l),onTrackingEnd:()=>{}},()=>{var l;return(l=r.metadata.get)==null?void 0:l.call(e)});let a=`${n}${e.declaredClass.split(".").pop()}.${i}: ${o}
`;if(s.size===0)return a;n+="  ";for(const l of s)l instanceof Yx&&(a+=`${n}${l.propertyName}: undefined
`);return a}setAtOrigin(e,i,n){const r=this.propertiesByName.get(e);if(Vp(r))return this._setAtOrigin(r,i,n)}isOverridden(e){const i=this.propertiesByName.get(e);return i!==void 0&&!!(i.flags&Me.Overriden)}clearOverride(e){const i=this.propertiesByName.get(e);i&&i.flags&Me.Overriden&&(i.flags&=~Me.Overriden,i.notifyChange())}override(e,i){const n=this.propertiesByName.get(e);if(!Xx(n,e,i,this))return;const r=n.metadata.cast;if(r){const s=this._cast(r,i),{valid:o,value:a}=s;if(E0.release(s),!o)return;i=a}n.flags|=Me.Overriden,this._internalSet(n,i)}set(e,i){const n=this.propertiesByName.get(e);if(!Xx(n,e,i,this))return;const r=n.metadata.cast;if(r){const o=this._cast(r,i),{valid:a,value:l}=o;if(E0.release(o),!a)return;i=l}const s=n.metadata.set;s?s.call(this.host,i):this._internalSet(n,i)}setDefaultOrigin(e){this._origin=UM(e)}getDefaultOrigin(){return Jv(this._origin)}notifyChange(e){const i=this.propertiesByName.get(e);i!==void 0&&i.notifyChange()}invalidate(e){const i=this.propertiesByName.get(e);i!==void 0&&i.invalidate()}commit(e){const i=this.propertiesByName.get(e);i!==void 0&&i.commit()}_internalSet(e,i){const n=this.lifecycle!==xs.INITIALIZING?this._origin:_e.DEFAULTS;this._setAtOrigin(e,i,n)}_setAtOrigin(e,i,n){const r=this.store,s=e.propertyName;r.has(s,n)&&r_(i,r.get(s))&&~e.flags&Me.Overriden&&n===r.originOf(s)||(e.invalidate(),r.set(s,i,n),e.commit(),GM(this.host,e))}_cast(e,i){const n=E0.acquire();return n.valid=!0,n.value=i,e&&(n.value=e.call(this.host,i,n)),n}},W4=class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}};const E0=new Hl(W4);function q4(t,e){return t.replaceAll(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,(i,n)=>n===""?"$":(rp(n,e)??"").toString())}let qM=class{constructor(e,i,n){this.name=e,this.details=n,this.message=(i&&q4(i,n))??""}toString(){return"["+this.name+"]: "+this.message}},D=class ZM extends qM{constructor(e,i,n){super(e,i,n)}toJSON(){if(this.details!=null)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(e,i)=>{if(i&&typeof i=="object"&&typeof i.toJSON=="function")return i;try{return z(i)}catch{return"[object]"}}))}}catch(e){throw G.getLogger("esri.core.Error").error(e),e}return{name:this.name,message:this.message,details:this.details}}static fromJSON(e){return new ZM(e.name,e.message,e.details)}};D.prototype.type="error";function Hm(t,e,i){if(t&&e)if(typeof e=="object")for(const n of Object.getOwnPropertyNames(e))Hm(t,n,e[n]);else{if(e.includes(".")){const r=e.split("."),s=r.splice(-1,1)[0];return void Hm(Pr(t,r),s,i)}const n=t.__accessor__;n!=null&&Z4(e,n),t[e]=i}}function Z4(t,e){if(P("esri-unknown-property-errors")&&!J4(t,e))throw new D("set:unknown-property",K4(t,e))}function J4(t,e){return e.metadatas[t]!=null}function K4(t,e){return"setting unknown property '"+t+"' on instance of "+e.host.declaredClass}let Y4;function X4(){return Y4}var Qx;(function(t){t[t.Ignore=0]="Ignore",t[t.Destroy=1]="Destroy",t[t.ThrowError=2]="ThrowError"})(Qx||(Qx={}));function Q4(t){t.length=0}let ci=class{constructor(e=50,i=50){this._pool=new Hl(Array,void 0,Q4,i,e)}acquire(){return this._pool.acquire()}release(e){this._pool.release(e)}prune(){this._pool.prune(0)}static acquire(){return k0.acquire()}static release(e){return k0.release(e)}static prune(){k0.prune()}};const k0=new ci(100);let JM=class extends Hl{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=null}acquire(...e){const i=super.acquire(...e);return this._set.delete(i),i}release(e){e&&!this._set.has(e)&&(super.release(e),this._set.add(e))}_dispose(e){this._set.delete(e),super._dispose(e)}};const Wp=[];function Bm(t){Wp.push(t),Wp.length===1&&queueMicrotask(()=>{const e=Wp.slice();Wp.length=0;for(const i of e)i()})}let Xd=class{constructor(e,i=30){this.name=e,this._counter=0,this._samples=new Array(i)}record(e){e!=null&&(this._samples[++this._counter%this._samples.length]=e)}get median(){return this._samples.slice().sort((e,i)=>e-i)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((e,i)=>e+i,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}};var Kv;(function(t){const e=(s,o,a,l)=>{let u=o,p=o;const f=a>>>1,m=s[u-1];for(;p<=f;){p=u<<1,p<a&&l(s[p-1],s[p])<0&&++p;const g=s[p-1];if(l(g,m)<=0)break;s[u-1]=g,u=p}s[u-1]=m},i=(s,o)=>s<o?-1:s>o?1:0;function n(s,o,a,l){o===void 0&&(o=0),a===void 0&&(a=s.length),l===void 0&&(l=i);for(let p=a>>>1;p>o;p--)e(s,p,a,l);const u=o+1;for(let p=a-1;p>o;p--){const f=s[o];s[o]=s[p],s[p]=f,e(s,u,p,l)}}function*r(s,o,a,l){o===void 0&&(o=0),a===void 0&&(a=s.length),l===void 0&&(l=i);for(let p=a>>>1;p>o;p--)e(s,p,a,l),yield;const u=o+1;for(let p=a-1;p>o;p--){const f=s[o];s[o]=s[p],s[p]=f,e(s,u,p,l),yield}}t.sort=n,t.iterableSort=r})(Kv||(Kv={}));const e$=Kv,eD=1.5,tD=1.1;let Qd=class{constructor(e){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new fM,e&&(e.initialSize&&(this.data=new Array(e.initialSize)),e.allocator&&(this._allocator=e.allocator),e.deallocator!==void 0&&(this._deallocator=e.deallocator),e.shrink&&(this._shrink=()=>t$(this)))}toArray(){return this.data.slice(0,this.length)}filter(e){const i=new Array;for(let n=0;n<this._length;n++){const r=this.data[n];e(r)&&i.push(r)}return i}at(e){if((e=Math.trunc(e)||0)<0&&(e+=this._length),!(e<0||e>=this._length))return this.data[e]}includes(e,i){const n=this.data.indexOf(e,i);return n!==-1&&n<this.length}get length(){return this._length}set length(e){if(e>this._length){if(this._allocator){for(;this._length<e;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=e}else{if(this._deallocator)for(let i=e;i<this._length;++i)this.data[i]=this._deallocator(this.data[i]);this._length=e,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(e){this.data[this._length++]=e}pushArray(e,i=e.length){for(let n=0;n<i;n++)this.data[this._length++]=e[n]}fill(e,i){for(let n=0;n<i;n++)this.data[this._length++]=e}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const e=this.data[this._length];return++this._length,e}unshift(e){this.data.unshift(e),this._length++,t$(this)}pop(){if(this.length===0)return;const e=this.data[this.length-1];return this.length=this.length-1,this._shrink(),e}remove(e){const i=Vv(this.data,e,this.length,this._hint);if(i!==-1)return this.data.splice(i,1),this.length=this.length-1,e}removeUnordered(e){return this.removeUnorderedIndex(Vv(this.data,e,this.length,this._hint))}removeUnorderedIndex(e){if(!(e>=this.length||e<0))return this.swapElements(e,this.length-1),this.pop()}removeUnorderedMany(e,i=e.length,n){this.length=p4(this.data,e,this.length,i,this._hint,n),this._shrink()}front(){if(this.length!==0)return this.data[0]}back(){if(this.length!==0)return this.data[this.length-1]}swapElements(e,i){if(e>=this.length||i>=this.length||e===i)return;const n=this.data[e];this.data[e]=this.data[i],this.data[i]=n}sort(e){e$.sort(this.data,0,this.length,e)}iterableSort(e){return e$.iterableSort(this.data,0,this.length,e)}some(e,i){for(let n=0;n<this.length;++n)if(e.call(i,this.data[n],n,this.data))return!0;return!1}find(e,i){for(let n=0;n<this.length;++n){const r=this.data[n];if(e.call(i,r,n))return r}}filterInPlace(e,i){let n=0;for(let r=0;r<this._length;++r){const s=this.data[r];e.call(i,s,r,this.data)&&(this.data[r]=this.data[n],this.data[n]=s,n++)}if(this._deallocator)for(let r=n;r<this._length;r++)this.data[r]=this._deallocator(this.data[r]);return this._length=n,this._shrink(),this}forAll(e,i){const n=this.length,r=this.data;for(let s=0;s<n;++s)e.call(i,r[s],s,r)}forEach(e,i){for(let n=0;n<this.length;++n)e.call(i,this.data[n],n,this.data)}map(e,i){const n=new Array(this.length);for(let r=0;r<this.length;++r)n[r]=e.call(i,this.data[r],r,this.data);return n}reduce(e,i){let n=i;for(let r=0;r<this.length;++r)n=e(n,this.data[r],r,this.data);return n}has(e){const i=this.length,n=this.data;for(let r=0;r<i;++r)if(n[r]===e)return!0;return!1}};function t$(t){t.data.length>eD*t.length&&(t.data.length=Math.floor(t.length*tD))}function iD(t){return{setTimeout:(e,i)=>{const n=t.setTimeout(e,i);return je(()=>t.clearTimeout(n))}}}const ku=iD(globalThis);function $y(t){return t&&(typeof t.on=="function"||typeof t.addEventListener=="function")}function lp(t,e,i){if(!$y(t))throw new TypeError("target is not a Evented or EventTarget object");if("on"in t)return t.on(e,i);if(Array.isArray(e)){const n=e.slice();for(const r of n)t.addEventListener(r,i);return je(()=>{for(const r of n)t.removeEventListener(r,i)})}return t.addEventListener(e,i),je(()=>t.removeEventListener(e,i))}function KM(t,e,i){if(!$y(t))throw new TypeError("target is not a Evented or EventTarget object");if("once"in t)return t.once(e,i);const n=lp(t,e,r=>{n.remove(),i.call(t,r)});return n}const nD={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};function Zf({key:t}){return nD[t]||t}function Be(t="Aborted"){return new D("AbortError",t)}function Ge(t,e="Aborted"){if(Bn(t))throw Be(e)}function Ty(t){return t!=null?"aborted"in t?t:t.signal:t}function Bn(t){const e=Ty(t);return e!=null&&e.aborted}function YM(t){if(di(t))throw t}function i$(t){if(!di(t))throw t}function on(t,e){const i=Ty(t);if(i!=null){if(!i.aborted)return KM(i,"abort",()=>e());e()}}function a_(t,e){const i=Ty(t);if(i!=null)return Ge(i),KM(i,"abort",()=>e(Be()))}function rce(t,e){return Ty(e)==null?t:new Promise((i,n)=>{let r=on(e,()=>n(Be()));const s=()=>{r=Ke(r)};t.then(s,s),t.then(i,n)})}function di(t){return(t==null?void 0:t.name)==="AbortError"}async function n$(t){try{return await t}catch(e){if(!di(e))throw e;return}}async function Oo(t){if(!t)return;if(typeof t.forEach!="function"){const i=Object.keys(t),n=i.map(o=>t[o]),r=await Oo(n),s={};return i.map((o,a)=>s[o]=r[a]),s}const e=t;return Promise.allSettled(e).then(i=>Array.from(e,(n,r)=>{const s=i[r];return s.status==="fulfilled"?{promise:n,value:s.value}:{promise:n,error:s.reason}}))}async function rD(t){return(await Oo(t)).filter(e=>!!e.value).map(e=>e.value)}async function sce(t){return(await Promise.allSettled(t)).filter(e=>e.status==="fulfilled").map(e=>e.value)}async function oce(t){return(await Promise.allSettled(t)).filter(e=>e.status==="rejected").map(e=>e.reason)}function l_(t,e=void 0,i){const n=new AbortController;return on(i,()=>n.abort()),new Promise((r,s)=>{let o=setTimeout(()=>{o=0,r(e)},t);on(n,()=>{o&&(clearTimeout(o),s(Be()))})})}function Ns(t){return t&&typeof t.then=="function"}function Yv(t){return Ns(t)?t:Promise.resolve(t)}function sD(t,e=-1){let i,n,r,s,o=null;const a=(...l)=>{if(i){n=l,s&&s.reject(Be()),s=ln();const m=s.promise;if(o){const g=o;o=null,g.abort()}return m}if(r=s||ln(),s=null,e>0){const m=new AbortController;i=Yv(t(...l,m.signal));const g=i;l_(e).then(()=>{i===g&&(s?m.abort():o=m)})}else i=1,i=Yv(t(...l));const u=()=>{const m=n;n=r=i=o=null,m!=null&&a(...m)},p=i,f=r;return p.then(u,u),p.then(f.resolve,f.reject),f.promise};return a}function ln(){let t,e;const i=new Promise((r,s)=>{t=r,e=s}),n=r=>{t(r)};return n.resolve=r=>t(r),n.reject=r=>e(r),n.timeout=(r,s)=>ku.setTimeout(()=>n.reject(s),r),n.promise=i,n}async function r$(t){await Promise.resolve(),Ge(t)}function ace(t){return t}function lce(t){return 1e3*t}function cce(t){return t}let oD=class{constructor(e){this.phases=e,this.paused=!1,this.ticks=-1,this.removed=!1}},aD=class{constructor(e){this.callback=e,this.isActive=!0}remove(){this.isActive=!1}},Xv=0;const Hu={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},Qv=["prepare","preRender","render","postRender","update","finish"],eb=[],$l=new Qd;let lD=class{constructor(e){this._task=e}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1}};const Gm={frameTasks:$l,willDispatch:!1,clearFrameTasks:cD,dispatch:eC,executeFrameTasks:uD};function cp(t){const e=new aD(t);return eb.push(e),Gm.willDispatch||(Gm.willDispatch=!0,Bm(eC)),e}function au(t){const e=new oD(t);return $l.push(e),Vm==null&&(Xv=performance.now(),Vm=requestAnimationFrame(XM)),new lD(e)}let Vm=null;function cD(t=!1){$l.forAll(e=>{e.removed=!0}),t&&QM()}function XM(){const t=performance.now();Vm=null,Vm=$l.length>0?requestAnimationFrame(XM):null,Gm.executeFrameTasks(t)}function uD(t){const e=t-Xv;Xv=t;const i=1e3/60,n=Math.max(0,e-i);Hu.time=t,Hu.frameDuration=i-n;for(let r=0;r<Qv.length;r++){const s=performance.now(),o=Qv[r];$l.forAll(a=>{var l;a.paused||a.removed||(r===0&&a.ticks++,a.phases[o]&&(Hu.elapsedFrameTime=performance.now()-t,Hu.deltaTime=a.ticks===0?0:e,(l=a.phases[o])==null||l.call(a,Hu)))}),dD[r].record(performance.now()-s)}QM(),hD.record(performance.now()-t)}const qp=new Qd;function QM(){$l.forAll(t=>{t.removed&&qp.push(t)}),$l.removeUnorderedMany(qp.data,qp.length),qp.clear()}function eC(){for(;eb.length;){const t=eb.shift();t.isActive&&t.callback()}Gm.willDispatch=!1}function pce(t=1,e){const i=ln(),n=()=>{Bn(e)?i.reject(Be()):t===0?i():(--t,Bm(()=>n()))};return n(),i.promise}const dD=Qv.map(t=>new Xd(t)),hD=new Xd("total");function pD(t,e){for(const i of t.entries())if(e(i[0]))return!0;return!1}function s$(t,e){if(!e)return t;for(const i of e)t.add(i);return t}function fD(t,e){const i=new Set;return s$(i,t),s$(i,e),i}function fce(t,e){const i=new Set;for(const n of e)t.has(n)&&i.add(n);return i}function mce(t,e){if(!t||!e)return!1;if(t===e)return!0;for(const i of t)if(!e.has(i))return!1;return!0}function gce(t,e){if(t==null&&e==null)return!0;if(t==null||e==null||t.size!==e.size)return!1;for(const i of t)if(!e.has(i))return!1;return!0}function yce(t,e){const i=new Set(t);for(const n of e)i.delete(n);return i}let mD=0;function eh(){return++mD}let Ey=class{constructor(e){this._accessed=[],this._handles=[],this._observerObject=new gD(e),o$.register(this,new WeakRef(this._observerObject),this)}destroy(){var e;o$.unregister(this._observerObject),this._accessed.length=0,(e=this._observerObject)==null||e.destroy(),this.clear()}onObservableAccessed(e){const i=this._accessed;i.includes(e)||i.push(e)}onTrackingEnd(){const e=this._handles,i=this._accessed,n=this._observerObject;for(let r=0;r<i.length;++r)e.push(i[r].observe(n));i.length=0}clear(){const e=this._handles;for(let i=0;i<e.length;++i)e[i].remove();e.length=0}},gD=class{constructor(e){this._notify=e,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const e=this._invalidCount;if(e===1)return this._invalidCount=0,void this._notify();this._invalidCount=e>0?e-1:0}destroy(){this.destroyed=!0,this._notify=yD}};const o$=new FinalizationRegistry(t=>{var e;(e=t.deref())==null||e.destroy()});function yD(){}let Vc=!1;const Wm=[];function tC(t,e){let i=new Ey(s),n=null,r=!1;function s(){if(!i||r)return;if(Vc)return void nC(s);const a=n;i.clear(),Vc=!0,r=!0,n=Cs(i,t),r=!1,Vc=!1,e(n,a),rC()}function o(){i&&(i.destroy(),i=null,n=null)}return r=!0,n=Cs(i,t),r=!1,je(o)}function iC(t,e){let i=new Ey(r),n=null;function r(){e(n,o)}function s(){i&&(i.destroy(),i=null),n=null}function o(){return i?(i.clear(),n=Cs(i,t),n):null}return o(),je(s)}function vD(t){let e=new Ey(n),i=!1;function n(){e&&!i&&(Vc?nC(n):(e.clear(),Vc=!0,i=!0,Cs(e,t),i=!1,Vc=!1,rC()))}function r(){e&&(e.destroy(),e=null)}return i=!0,Cs(e,t),i=!1,je(r)}function nC(t){Wm.includes(t)||Wm.unshift(t)}function rC(){for(;Wm.length;)Wm.pop()()}var th;(function(t){t[t.Untracked=0]="Untracked",t[t.Tracked=1]="Tracked"})(th||(th={}));let Sh=class{constructor(){this.uid=eh(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(e,i,n,r,s){return this.pool.acquire(th.Untracked,e,i,n,r,s,r_)}static acquireTracked(e,i,n,r){return this.pool.acquire(th.Tracked,e,i,n,null,null,r)}notify(e,i){this.type===th.Untracked?this.callback.call(this.target,e,i,this.path,this.target):this.callback.call(null,e,i,void 0,void 0)}acquire(e,i,n,r,s,o,a){this.uid=eh(),this.removed=!1,this.type=e,this.oldValue=i,this.callback=n,this.getValue=r,this.target=s,this.path=o,this.equals=a}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=eh(),this.removed=!0}};Sh.pool=new JM(Sh);const Jf=new ci,Ts=new Set;let qm;function Zm(t){Ts.delete(t),Ts.add(t),qm||(qm=cp(_D))}function bD(t){if(t.removed)return;const e=t.oldValue,i=t.getValue();t.equals(e,i)||(t.oldValue=i,t.notify(i,e))}function wD(t){for(const e of Ts.values())e.target===t&&(e.removed=!0)}function _D(){let t=10;for(;qm&&t--;){qm=null;const e=SD(),i=Jf.acquire();for(const n of e){const r=n.uid;bD(n),r===n.uid&&n.removed&&i.push(n)}for(const n of Ts)n.removed&&(i.push(n),Ts.delete(n));for(const n of i)Sh.pool.release(n);Jf.release(i),Jf.release(e),tb.forEach(n=>n())}}function SD(){const t=Jf.acquire();t.length=Ts.size;let e=0;for(const i of Ts)t[e]=i,++e;return Ts.clear(),t}const tb=new Set;function xD(t){return tb.add(t),je(()=>tb.delete(t))}function $D(t,e,i){let n=DM(t,e,i,(r,s,o)=>{let a,l,u=iC(()=>op(r,s),(p,f)=>{r.__accessor__.destroyed||a&&a.uid!==l?n.remove():(a||(a=Sh.acquireUntracked(p,o,f,r,s),l=a.uid),Zm(a))});return je(()=>{u.remove(),a&&(a.uid!==l||a.removed||(a.removed=!0,Zm(a)),a=null),n=u=null})});return n}function TD(t,e,i){const n=DM(t,e,i,(r,s,o)=>{let a=!1;return tC(()=>op(r,s),(l,u)=>{r.__accessor__.destroyed?n.remove():a||(a=!0,r_(u,l)||o.call(r,l,u,s,r),a=!1)})});return n}function ED(t,e,i,n=!1){return!t.__accessor__||t.__accessor__.destroyed?je():n?TD(t,e,i):$D(t,e,i)}function kD(t,e,i){let n,r,s=iC(t,(o,a)=>{n&&n.uid!==r?s.remove():(n||(n=Sh.acquireTracked(o,e,a,i),r=n.uid),Zm(n))});return je(()=>{s.remove(),n&&(n.uid!==r||n.removed||(n.removed=!0,Zm(n)),n=null),s=null})}function MD(t,e,i){let n=!1;return tC(t,(r,s)=>{n||(n=!0,i(s,r)||e(r,s),n=!1)})}function CD(t,e,i=!1,n=CM){return i?MD(t,e,n):kD(t,e,n)}function a$(t){return pD(Ts,e=>e.oldValue===t)}function ky(t,e){for(const[i,n]of t)if(e(n,i))return!0;return!1}function ID(t,e,i){const n=t.get(e);if(n!==void 0)return n;const r=i();return t.set(e,r),r}const Wc=G.getLogger("esri.core.accessorSupport.ensureTypes");function OD(t){return t==null?t:new Date(t)}function AD(t){return t==null?t:!!t}function LD(t){return t==null?t:t.toString()}function Pn(t){return t==null?t:(t=parseFloat(t),isNaN(t)?0:t)}function c_(t){return t==null?t:Math.round(parseFloat(t))}function sC(t){return(t==null?void 0:t.constructor)&&t.constructor.__accessorMetadata__!==void 0}function Jm(t,e){return e!=null&&t&&!(e instanceof t)}function oC(t){return t&&"isCollection"in t}function l$(t){return t!=null&&t.Type?typeof t.Type=="function"?t.Type:t.Type.base:null}function PD(t,e){if(!(e!=null&&e.constructor)||!oC(e.constructor))return ib(t,e)?e:new t(e);const i=l$(t.prototype.itemType),n=l$(e.constructor.prototype.itemType);return i?n?i===n?e:i.prototype.isPrototypeOf(n.prototype)?new t(e):(ib(t,e),e):new t(e):e}function ib(t,e){return!!sC(e)&&(Wc.error("Accessor#set","Assigning an instance of '"+(e.declaredClass||"unknown")+"' which is not a subclass of '"+My(t)+"'"),!0)}function u_(t,e){return e==null?e:oC(t)?PD(t,e):Jm(t,e)?ib(t,e)?e:new t(e):e}function My(t){var e;return((e=t==null?void 0:t.prototype)==null?void 0:e.declaredClass)||"unknown"}const RD=new WeakMap;function ND(t){switch(t){case Number:return Pn;case ut:return c_;case Boolean:return AD;case String:return LD;case Date:return OD;default:return ID(RD,t,()=>u_.bind(null,t))}}function It(t,e){const i=ND(t);return arguments.length===1?i:i(e)}function xh(t,e,i){return arguments.length===1?xh.bind(null,t):e&&(Array.isArray(e)?e.map(n=>t(n,i)):[t(e,i)])}function DD(t,e){return arguments.length===1?xh(i=>It(t,i)):xh(i=>It(t,i),e)}function aC(t,e,i){return e!==0&&Array.isArray(i)?i.map(n=>aC(t,e-1,n)):t(i)}function Km(t,e,i){if(arguments.length===2)return s=>Km(t,e,s);if(!i)return i;i=aC(t,e,i);let n=e,r=i;for(;n>0&&Array.isArray(r);)n--,r=r[0];if(r!==void 0)for(let s=0;s<n;s++)i=[i];return i}function zD(t,e,i){return arguments.length===2?Km(n=>It(t,n),e):Km(n=>It(t,n),e,i)}function lC(t){return!!Array.isArray(t)&&!t.some(e=>{const i=typeof e;return!(i==="string"||i==="number"||i==="function"&&t.length>1)})}function nb(t,e){if(arguments.length===2)return nb(t).call(null,e);const i=new Set,n=t.filter(a=>typeof a!="function"),r=t.filter(a=>typeof a=="function");for(const a of t)typeof a!="string"&&typeof a!="number"||i.add(a);let s=null,o=null;return(a,l)=>{if(a==null)return a;const u=typeof a,p=u==="string"||u==="number";return p&&(i.has(a)||r.some(f=>u==="string"&&f===String||u==="number"&&f===Number))||u==="object"&&r.some(f=>!Jm(a,f))?a:(p&&n.length?(s||(s=n.map(f=>typeof f=="string"?`'${f}'`:`${f}`).join(", ")),Wc.error("Accessor#set",`'${a}' is not a valid value for this property, only the following values are valid: ${s}`)):typeof a=="object"&&r.length?(o||(o=r.map(f=>My(f)).join(", ")),Wc.error("Accessor#set",`'${a}' is not a valid value for this property, value must be one of ${o}`)):Wc.error("Accessor#set",`'${a}' is not a valid value for this property`),l&&(l.valid=!1),null)}}function Tl(t,e){if(arguments.length===2)return Tl(t).call(null,e);const i={},n=[],r=[];for(const l in t.typeMap){const u=t.typeMap[l];i[l]=It(u),n.push(My(u)),r.push(l)}const s=()=>`'${n.join("', '")}'`,o=()=>`'${r.join("', '")}'`,a=typeof t.key=="string"?l=>l[t.key]:t.key;return l=>{if(t.base&&!Jm(t.base,l)||l==null)return l;const u=a(l)||t.defaultKeyValue,p=i[u];if(!p)return Wc.error("Accessor#set",`Invalid property value, value needs to be one of ${s()}, or a plain object that can autocast (having .type = ${o()})`),null;if(!Jm(t.typeMap[u],l))return l;if(typeof t.key=="string"&&!sC(l)){const f={};for(const m in l)m!==t.key&&(f[m]=l[m]);return p(f)}return p(l)}}let ut=class{};const Sce={native:t=>({type:"native",value:t}),array:t=>({type:"array",value:t}),oneOf:t=>({type:"one-of",values:t})};function FD(t){if(!t||!("type"in t))return!1;switch(t.type){case"native":case"array":case"one-of":return!0}return!1}function cC(t){switch(t.type){case"native":return It(t.value);case"array":return xh(cC(t.value));case"one-of":return jD(t);default:return null}}function jD(t){let e=null;return(i,n)=>sb(i,t)?i:(e==null&&(e=rb(t)),Wc.error("Accessor#set",`Invalid property value, value needs to be of type ${e}`),n&&(n.valid=!1),null)}function rb(t){switch(t.type){case"native":switch(t.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case ut:return"integer";case Date:return"date";default:return My(t.value)}case"array":return`array of ${rb(t.value)}`;case"one-of":{const e=t.values.map(i=>rb(i));return`one of ${e.slice(0,-1)} or ${e[e.length-1]}`}}return"unknown"}function sb(t,e){if(t==null)return!0;switch(e.type){case"native":switch(e.value){case Number:case ut:return typeof t=="number";case Boolean:return typeof t=="boolean";case String:return typeof t=="string"}return t instanceof e.value;case"array":return!!Array.isArray(t)&&!t.some(i=>!sb(i,e.value));case"one-of":return e.values.some(i=>sb(t,i))}}function h(t={}){return(e,i)=>{if(e===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${e.name}.${i}. Accessor does not support static properties.`);const n=Object.getOwnPropertyDescriptor(e,i),r=xy(e,i);n&&(n.get||n.set?(r.get=n.get||r.get,r.set=n.set||r.set):"value"in n&&("value"in t&&G.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${i}" on "${e.constructor.name}" already defined in the metadata`,t),r.value=t.value=n.value)),t.readOnly!=null&&(r.readOnly=t.readOnly);const s=t.aliasOf;if(s){const l=typeof s=="string"?s:s.source,u=typeof s=="string"?null:s.overridable===!0;let p;r.dependsOn=[l],r.get=function(){let f=Pr(this,l);if(typeof f=="function"){p||(p=l.split(".").slice(0,-1).join("."));const m=Pr(this,p);m&&(f=f.bind(m))}return f},r.readOnly||(r.set=u?function(f){this._override(i,f)}:function(f){Hm(this,l,f)})}const o=t.type,a=t.types;r.cast||(o?r.cast=UD(o):a&&(Array.isArray(a)?r.cast=xh(Tl(a[0])):r.cast=Tl(a))),L4(r,t),t.range&&(r.cast=HD(r.cast,t.range))}}function uC(t,e,i){const n=xy(t,i);n.json||(n.json={});let r=n.json;return e!==void 0&&(r.origins||(r.origins={}),r.origins[e]||(r.origins[e]={}),r=r.origins[e]),r}function UD(t){let e=0,i=t;if(FD(t))return cC(t);for(;Array.isArray(i)&&i.length===1&&typeof i[0]!="string"&&typeof i[0]!="number";)i=i[0],e++;const n=i;if(lC(n))return e===0?nb(n):Km(nb(n),e);if(e===1)return DD(n);if(e>1)return zD(n,e);const r=t;return r.from?r.from:It(r)}function HD(t,e){return i=>{let n=+t(i);return e.step!=null&&(n=Math.round(n/e.step)*e.step),e.min!=null&&(n=Math.max(e.min,n)),e.max!=null&&(n=Math.min(e.max,n)),n}}function BD(t){if(t.json&&t.json.origins){const e=t.json.origins,i={"web-document":["web-scene","web-map"]};for(const n in i)if(e[n]){const r=e[n];i[n].forEach(s=>{e[s]=r}),delete e[n]}}}let Is=class extends qM{constructor(e,i,n){super(e,i,n)}};Is.prototype.type="warning";function dC(t){var e;return!!t&&((e=t.prototype)==null?void 0:e.declaredClass)&&t.prototype.declaredClass.indexOf("esri.core.Collection")===0}const ob=G.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function c$(t,e,i){var n,r;t&&(!i&&!e.read||(n=e.read)!=null&&n.reader||((r=e.read)==null?void 0:r.enabled)===!1||WD(t)&&Eu("read.reader",hC(t),e))}function hC(t){var i,n;const e=t.ndimArray??0;if(e>1)return VD(t);if(e===1)return u$(t);if("type"in t&&fC(t.type)){const r=(n=(i=t.type.prototype)==null?void 0:i.itemType)==null?void 0:n.Type,s=u$(typeof r=="function"?{type:r}:{types:r});return(o,a,l)=>{const u=s(o,a,l);return u&&new t.type(u)}}return d_(t)}function d_(t){return"type"in t?GD(t.type):qD(t.types)}function GD(t){return t.prototype.read?(e,i,n)=>{if(e==null)return e;const r=typeof e;if(r!=="object")return void ob.error(`Expected JSON value of type 'object' to deserialize type '${t.prototype.declaredClass}', but got '${r}'`);const s=new t;return s.read(e,n),s}:t.fromJSON}function pC(t,e,i,n){return n!==0&&Array.isArray(e)?e.map(r=>pC(t,r,i,n-1)):t(e,void 0,i)}function VD(t){const e=d_(t),i=pC.bind(null,e),n=t.ndimArray??0;return(r,s,o)=>{if(r==null)return r;r=i(r,o,n);let a=n,l=r;for(;a>0&&Array.isArray(l);)a--,l=l[0];if(l!==void 0)for(let u=0;u<a;u++)r=[r];return r}}function u$(t){const e=d_(t);return(i,n,r)=>{if(i==null)return i;if(Array.isArray(i)){const o=[];for(const a of i){const l=e(a,void 0,r);l!==void 0&&o.push(l)}return o}const s=e(i,void 0,r);return s!==void 0?[s]:void 0}}function fC(t){if(!dC(t))return!1;const e=t.prototype.itemType;return!(!e||!e.Type)&&(typeof e.Type=="function"?h_(e.Type):mC(e.Type))}function WD(t){return"types"in t?mC(t.types):h_(t.type)}function h_(t){return!Array.isArray(t)&&!!t&&t.prototype&&("read"in t.prototype||"fromJSON"in t||fC(t))}function mC(t){for(const e in t.typeMap)if(!h_(t.typeMap[e]))return!1;return!0}function qD(t){let e=null;const i=t.errorContext??"type",n=t.validate;return(r,s,o)=>{if(r==null)return r;const a=typeof r;if(a!=="object")return void ob.error(`Expected JSON value of type 'object' to deserialize, but got '${a}'`);e||(e=ZD(t));const l=t.key;if(typeof l!="string")return;const u=r[l],p=u?e[u]:t.defaultKeyValue?t.typeMap[t.defaultKeyValue]:void 0;if(!p){const m=`Type '${u||"unknown"}' is not supported`;return o!=null&&o.messages&&r&&o.messages.push(new Is(`${i}:unsupported`,m,{definition:r,context:o})),void ob.error(m)}const f=new p;return f.read(r,o),n?n(f):f}}function ZD(t){var i,n;const e={};for(const r in t.typeMap){const s=t.typeMap[r],o=ap(s.prototype);if(typeof t.key=="function")continue;const a=o[t.key];if(!a)continue;(i=a.json)!=null&&i.type&&Array.isArray(a.json.type)&&a.json.type.length===1&&typeof a.json.type[0]=="string"&&(e[a.json.type[0]]=s);const l=(n=a.json)==null?void 0:n.write;if(!(l!=null&&l.writer)){e[r]=s;continue}const u=l.target,p=typeof u=="string"?u:t.key,f={};l.writer(r,f,p),f[p]&&(e[f[p]]=s)}return e}function JD(t){if(t.json||(t.json={}),h$(t.json),p$(t.json),d$(t.json),t.json.origins)for(const e in t.json.origins)h$(t.json.origins[e]),p$(t.json.origins[e]),d$(t.json.origins[e]);return!0}function d$(t){t.name&&(t.read&&typeof t.read=="object"?t.read.source===void 0&&(t.read.source=t.name):t.read={source:t.name},t.write&&typeof t.write=="object"?t.write.target===void 0&&(t.write.target=t.name):t.write={target:t.name})}function h$(t){typeof t.read=="boolean"?t.read={enabled:t.read}:typeof t.read=="function"?t.read={enabled:!0,reader:t.read}:t.read&&typeof t.read=="object"&&t.read.enabled===void 0&&(t.read.enabled=!0)}function p$(t){typeof t.write=="boolean"?t.write={enabled:t.write}:typeof t.write=="function"?t.write={enabled:!0,writer:t.write}:t.write&&typeof t.write=="object"&&t.write.enabled===void 0&&(t.write.enabled=!0)}function f$(t,e){if(!e.write||e.write.writer||e.write.enabled===!1&&!e.write.overridePolicy)return;const i=(t==null?void 0:t.ndimArray)??0;t&&(i===1||"type"in t&&dC(t.type))?e.write.writer=XD:i>1?e.write.writer=QD(i):e.types?Array.isArray(e.types)?e.write.writer=YD(e.types[0]):e.write.writer=KD(e.types):e.write.writer=$h}function KD(t){return(e,i,n,r)=>e?gC(e,t,r)?$h(e,i,n,r):void 0:$h(e,i,n,r)}function gC(t,e,i){for(const n in e.typeMap)if(t instanceof e.typeMap[n])return!0;if(i!=null&&i.messages){const n=e.errorContext??"type",r=`Values of type '${(typeof e.key!="function"?t[e.key]:t.declaredClass)??"Unknown"}' cannot be written`;i&&i.messages&&t&&i.messages.push(new D(`${n}:unsupported`,r,{definition:t,context:i})),G.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(r)}return!1}function YD(t){return(e,i,n,r)=>!e||!Array.isArray(e)?$h(e,i,n,r):$h(e.filter(s=>gC(s,t,r)),i,n,r)}function $h(t,e,i,n){Eu(i,Ym(t,n),e)}function Ym(t,e){return t&&typeof t.write=="function"?t.write({},e):t&&typeof t.toJSON=="function"?t.toJSON():typeof t=="number"?Xm(t):t}function Xm(t){return t===-1/0?-Number.MAX_VALUE:t===1/0?Number.MAX_VALUE:isNaN(t)?null:t}function XD(t,e,i,n){let r;t===null?r=null:t&&typeof t.map=="function"?(r=t.map(s=>Ym(s,n)),typeof r.toArray=="function"&&(r=r.toArray())):r=[Ym(t,n)],Eu(i,r,e)}function yC(t,e,i){return i!==0&&Array.isArray(t)?t.map(n=>yC(n,e,i-1)):Ym(t,e)}function QD(t){return(e,i,n,r)=>{let s;if(e===null)s=null;else{s=yC(e,r,t);let o=t,a=s;for(;o>0&&Array.isArray(a);)o--,a=a[0];if(a!==void 0)for(let l=0;l<o;l++)s=[s]}Eu(n,s,i)}}function e6(t,e){return p_(t,"any",e==null?void 0:e.origin)}function ab(t,e){return p_(t,"read",e==null?void 0:e.origin)}function vC(t,e){return p_(t,"write",e==null?void 0:e.origin)}function p_(t,e,i){let n=t==null?void 0:t.json;if(n!=null&&n.origins&&i){let r;r=i==="link-chart"?n.origins[i]&&(e==="any"||e in n.origins[i])?n.origins[i]:n.origins["web-map"]:n.origins[i],r&&(e==="any"||e in r)&&(n=r)}return n}function t6(t){const e=i6(t);if(t.json.origins)for(const i in t.json.origins){const n=t.json.origins[i],r=n.types?n6(n):e;c$(r,n,!1),n.types&&!n.write&&t.json.write&&t.json.write.enabled&&(n.write={...t.json.write}),f$(r,n)}c$(e,t.json,!0),f$(e,t.json)}function i6(t){return t.json.types?lb(t.json):t.type?bC(t):lb(t)}function n6(t){return t.type?bC(t):lb(t)}function bC(t){if(!t.type)return;let e=0,i=t.type;for(;Array.isArray(i)&&!lC(i);)i=i[0],e++;return{type:i,ndimArray:e}}function lb(t){if(!t.types)return;let e=0,i=t.types;for(;Array.isArray(i);)i=i[0],e++;return{types:i,ndimArray:e}}function r6(t){JD(t)&&(BD(t),t6(t))}const M0=new Set,C0=new Set;function E(t){return e=>{t??(t="esri.core.Accessor"),e.prototype.declaredClass=t,o6(e);const i=[],n=[];let r=e.prototype;for(;r;)r.hasOwnProperty("initialize")&&!M0.has(r.initialize)&&(M0.add(r.initialize),i.push(r.initialize)),r.hasOwnProperty("destroy")&&!C0.has(r.destroy)&&(C0.add(r.destroy),n.push(r.destroy)),r=Object.getPrototypeOf(r);M0.clear(),C0.clear();const s=class extends e{constructor(...a){if(super(...a),this.constructor===s&&typeof this.postscript=="function"){if(i.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let l=i.length-1;l>=0;l--)i[l].call(this)}}),n.length){let l=!1;const u=this[RM];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!l){l=!0,u.call(this);for(let p=0;p<n.length;p++)n[p].call(this)}}})}this.postscript(...a)}}};s.__accessorMetadata__=ap(e.prototype),s.prototype.declaredClass=t;const o=(t||"AccessorSubclass").split(".").slice(-1)[0];return Object.defineProperty(s,"name",{value:o,configurable:!0}),s}}function s6(t,e){return e.get==null?function(){const i=this.__accessor__,n=i.propertiesByName.get(t);if(n===void 0)return;X(n);const r=i.store;return r.has(t)?r.get(t):n.metadata.value}:function(){const i=this.__accessor__,n=i.propertiesByName.get(t);if(n!==void 0)return n.getComputed(i)}}function o6(t){const e=t.prototype,i=ap(e),n={};for(const r of Object.getOwnPropertyNames(i)){const s=i[r];r6(s),n[r]={enumerable:!0,configurable:!0,get:s6(r,s),set(o){const a=this.__accessor__;if(a!==void 0){if(!Object.isFrozen(this)){if(a.initialized&&s.readOnly)throw new TypeError(`[accessor] cannot assign to read-only property '${r}' of ${this.declaredClass}`);if(a.lifecycle===xs.CONSTRUCTED&&s.constructOnly)throw new TypeError(`[accessor] cannot assign to construct-only property '${r}' of ${this.declaredClass}`);a.set(r,o)}}else Object.defineProperty(this,r,{enumerable:!0,configurable:!0,writable:!0,value:o})}}}Object.defineProperties(t.prototype,n)}var wC,_C;function a6(t){var e;if(t==null)return{value:t};if(Array.isArray(t))return{type:[t[0]],value:null};switch(typeof t){case"object":return(e=t.constructor)!=null&&e.__accessorMetadata__||t instanceof Date?{type:t.constructor,value:t}:t;case"boolean":return{type:Boolean,value:t};case"string":return{type:String,value:t};case"number":return{type:Number,value:t};case"function":return{type:t,value:null};default:return}}const Ys=Symbol("Accessor-Handles"),cb=Symbol("Accessor-Initialized");let Q=class SC{static createSubclass(e={}){if(Array.isArray(e))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:i,declaredClass:n,constructor:r}=e;delete e.declaredClass,delete e.properties,delete e.constructor;const s=this;class o extends s{constructor(...l){super(...l),this.inherited=null,r&&r.apply(this,l)}}ap(o.prototype);for(const a in e){const l=e[a];o.prototype[a]=typeof l=="function"?function(...u){const p=this.inherited;let f;this.inherited=function(...m){if(s.prototype[a])return s.prototype[a].apply(this,m)};try{f=l.apply(this,u)}catch(m){throw this.inherited=p,m}return this.inherited=p,f}:e[a]}for(const a in i){const l=a6(i[a]);h(l)(o.prototype,a)}return E(n)(o)}constructor(...e){if(this[wC]=null,this[_C]=!1,this.constructor===SC)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const i=new V4(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:i}),e.length>0&&this.normalizeCtorArgs&&(i.ctorArgs=this.normalizeCtorArgs.apply(this,e))}postscript(e){const i=this.__accessor__,n=i.ctorArgs||e;i.initialize(),n&&(this.set(n),i.ctorArgs=null),i.constructed(),this.initialize(),this[cb]=!0}initialize(){}[RM](){this[Ys]=ze(this[Ys])}destroy(){var e;this.destroyed||(wD(this),this.__accessor__.destroy(),(e=X4())==null||e.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[cb]}get destroyed(){return this.__accessor__&&this.__accessor__.destroyed||!1}commitProperty(e){Pr(this,e)}get(e){return IM(G.getLogger(this),"`Accessor.get` is deprecated in favor of using optional chaining",{version:"4.28",see:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining"}),Pr(this,e)}hasOwnProperty(e){return this.__accessor__?this.__accessor__.has(e):Object.prototype.hasOwnProperty.call(this,e)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(e,i){return Hm(this,e,i),this}watch(e,i,n){return ED(this,e,i,n)}addHandles(e,i){if(this.destroyed){const r=Array.isArray(e)?e:[e];for(const s of r)s.remove();return}let n=this[Ys];n==null&&(n=this[Ys]=new Sy),n.add(e,i)}removeHandles(e){const i=this[Ys];i!=null&&i.remove(e)}removeAllHandles(){const e=this[Ys];e!=null&&e.removeAll()}hasHandles(e){const i=this[Ys];return i!=null&&i.has(e)}_override(e,i){i===void 0?this.__accessor__.clearOverride(e):this.__accessor__.override(e,i)}_clearOverride(e){return this.__accessor__.clearOverride(e)}_overrideIfSome(e,i){i==null?this.__accessor__.clearOverride(e):this.__accessor__.override(e,i)}_isOverridden(e){return this.__accessor__.isOverridden(e)}notifyChange(e){this.__accessor__.notifyChange(e)}_get(e){return this.__accessor__.internalGet(e)}_set(e,i){return this.__accessor__.internalSet(e,i),this}};wC=Ys,_C=cb;let l6=class xC{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(e){const i=new xC;return this._values.forEach((n,r)=>{e&&e.has(r)||i.set(r,z(n.value),n.origin)}),i}get(e,i){i=this._normalizeOrigin(i);const n=this._values.get(e);return i==null||(n==null?void 0:n.origin)===i?n==null?void 0:n.value:void 0}originOf(e){var i;return((i=this._values.get(e))==null?void 0:i.origin)??_e.USER}keys(e){e=this._normalizeOrigin(e);const i=[...this._values.keys()];return e==null?i:i.filter(n=>{var r;return((r=this._values.get(n))==null?void 0:r.origin)===e})}set(e,i,n){if((n=this._normalizeOrigin(n))===_e.DEFAULTS){const r=this._values.get(e);if((r==null?void 0:r.origin)!=null&&r.origin>n)return}this._values.set(e,new c6(i,n))}delete(e,i){var n;(i=this._normalizeOrigin(i))!=null&&((n=this._values.get(e))==null?void 0:n.origin)!==i||this._values.delete(e)}has(e,i){var n;return(i=this._normalizeOrigin(i))!=null?((n=this._values.get(e))==null?void 0:n.origin)===i:this._values.has(e)}forEach(e){this._values.forEach(({value:i},n)=>e(i,n))}_normalizeOrigin(e){if(e!=null)return e===_e.DEFAULTS?e:_e.USER}},c6=class{constructor(e,i){this.value=e,this.origin=i}};function u6(t,e,i){e.keys().forEach(r=>{i.set(r,e.get(r),_e.DEFAULTS)});const n=t.metadatas;Object.keys(n).forEach(r=>{t.internalGet(r)&&i.set(r,t.internalGet(r),_e.DEFAULTS)})}function d6(t,e,i){if(!(t!=null&&t.read)||t.read.enabled===!1||!t.read.source)return!1;const n=t.read.source;if(typeof n=="string"){if(n===e||n.includes(".")&&n.indexOf(e)===0&&Jx(n,i))return!0}else for(const r of n)if(r===e||r.includes(".")&&r.indexOf(e)===0&&Jx(r,i))return!0;return!1}function h6(t){return t&&(!t.read||t.read.enabled!==!1&&!t.read.source)}function p6(t,e,i,n,r){let s=ab(e[i],r);h6(s)&&(t[i]=!0);for(const o of Object.getOwnPropertyNames(e))s=ab(e[o],r),d6(s,i,n)&&(t[o]=!0)}function f6(t,e,i,n){const r=i.metadatas,s=e6(r[e],n),o=s==null?void 0:s.default;if(o===void 0)return;const a=typeof o=="function"?o.call(t,e,n):o;a!==void 0&&i.set(e,a)}const $C={origin:"service"};function m6(t,e,i=$C){if(!e||typeof e!="object")return;const n=Ho(t),r=n.metadatas,s={};for(const o of Object.getOwnPropertyNames(e))p6(s,r,o,e,i);n.setDefaultOrigin(i.origin);for(const o of Object.getOwnPropertyNames(s)){const a=ab(r[o],i).read,l=a==null?void 0:a.source;let u;u=l&&typeof l=="string"?op(e,l):e[o],a!=null&&a.reader&&(u=a.reader.call(t,u,e,i)),u!==void 0&&n.set(o,u)}if(!i||!i.ignoreDefaults){n.setDefaultOrigin("defaults");for(const o of Object.getOwnPropertyNames(r))s[o]||f6(t,o,n,i)}n.setDefaultOrigin("user")}function Tce(t,e,i,n=$C){var s;const r={...n,messages:[]};i(r),(s=r.messages)==null||s.forEach(o=>{o.type!=="warning"||t.loaded?n!=null&&n.messages&&n.messages.push(o):t.loadWarnings.push(o)})}function g6(t,e,i,n,r){var o,a;const s={};return(a=(o=e.write)==null?void 0:o.writer)==null||a.call(t,n,s,i,r),s}function TC(t,e,i,n,r,s){if(!(n!=null&&n.write))return!1;const o=Pr(t,i);if(!r&&n.write.overridePolicy){const a=n.write.overridePolicy.call(t,o,i,s??void 0);a!==void 0&&(r=a)}if(r||(r=n.write),!r||r.enabled===!1||r.layerContainerTypes&&(s!=null&&s.layerContainerType)&&!r.layerContainerTypes.includes(s.layerContainerType))return!1;if((o===null&&!r.allowNull&&!r.writerEnsuresNonNull||o===void 0)&&r.isRequired){const a=new D("web-document-write:property-required",`Missing value for required property '${i}' on '${t.declaredClass}'`,{propertyName:i,target:t});return a&&(s!=null&&s.messages)?s.messages.push(a):a&&!s&&G.getLogger("esri.core.accessorSupport.write").error(a.name,a.message),!1}return!(o===void 0||o===null&&!r.allowNull&&!r.writerEnsuresNonNull||!r.alwaysWriteDefaults&&(!e.store.multipleOriginsSupported||e.store.originOf(i)===_e.DEFAULTS)&&y6(t,i,s,n,o)||!r.ignoreOrigin&&(s!=null&&s.origin)&&e.store.multipleOriginsSupported&&e.store.originOf(i)<UM(s.origin))}function y6(t,e,i,n,r){const s=n.default;if(s===void 0)return!1;if(n.defaultEquals!=null)return n.defaultEquals(r);if(typeof s=="function"){if(Array.isArray(r)){const o=s.call(t,e,i??void 0);return by(o,r)}return!1}return s===r}function Ece(t,e,i,n){const r=Ho(t),s=r.metadatas,o=vC(s[e],n);return!!o&&TC(t,r,e,o,i,n)}function v6(t,e,i){var s,o;if(t&&typeof t.toJSON=="function"&&(!t.toJSON.isDefaultToJSON||!t.write))return Vf(e,t.toJSON(i));const n=Ho(t),r=n.metadatas;for(const a in r){const l=vC(r[a],i);if(!TC(t,n,a,l,void 0,i))continue;const u=Pr(t,a),p=g6(t,l,l.write&&typeof l.write.target=="string"?l.write.target:a,u,i);Object.keys(p).length>0&&(e=Vf(e,p),(o=(s=i==null?void 0:i.resources)==null?void 0:s.pendingOperations)!=null&&o.length&&i.resources.pendingOperations.push(Promise.all(i.resources.pendingOperations).then(()=>Vf(e,p,()=>"replace-arrays"))),i!=null&&i.writtenProperties&&i.writtenProperties.push({target:t,propName:a,oldOrigin:j4(n.store.originOf(a)),newOrigin:i.origin}))}return e}const up=t=>{let e=class extends t{constructor(...i){super(...i);const n=Ho(this),r=n.store,s=new l6;n.store=s,u6(n,r,s)}read(i,n){m6(this,i,n)}write(i,n){return v6(this,i??{},n)}toJSON(i){return this.write({},i)}static fromJSON(i,n){return b6.call(this,i,n)}};return e=d([E("esri.core.JSONSupport")],e),e.prototype.toJSON.isDefaultToJSON=!0,e};function b6(t,e){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");const i=new this;return i.read(t,e),i}function ub(t){return t&&typeof t=="object"&&"toJSON"in t&&typeof t.toJSON=="function"}let te=class extends up(Q){};te=d([E("esri.core.JSONSupport")],te);let Gn=class{constructor(e,i={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=e,this._options=i,this.apiValues=[],this.jsonValues=[],this._apiToJSON=this._invertMap(e),this.apiValues=this._getKeysSorted(this._apiToJSON),this.jsonValues=this._getKeysSorted(this._jsonToAPI),this.read=n=>this.fromJSON(n),this.write=(n,r,s)=>{const o=this.toJSON(n);o!==void 0&&Eu(s,o,r)},this.write.isJSONMapWriter=!0}toJSON(e){if(e==null)return null;if(this._apiToJSON.hasOwnProperty(e)){const i=this._apiToJSON[e];return this._options.useNumericKeys?+i:i}return this._options.ignoreUnknown?void 0:e}fromJSON(e){return e!=null&&this._jsonToAPI.hasOwnProperty(e)?this._jsonToAPI[e]:this._options.ignoreUnknown?void 0:e}_invertMap(e){const i={};for(const n in e)i[e[n]]=n;return i}_getKeysSorted(e){const i=[];for(const n in e)i.push(n);return i.sort(),i}};function Ui(){return function(t,e){return new Gn(t,{ignoreUnknown:!0,...e})}}let f_=class{constructor(e,i,n,r){this.semiMajorAxis=e,this.flattening=i,this.outerAtmosphereRimWidth=n;const s=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*s,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=r||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}};const Ve=new f_(6378137,1/298.257223563,3e5,.006694379990137799),Es=new f_(3396190,1/169.8944472236118,23e4),Bo=new f_(1737400,0,0),w6="modulepreload",_6=function(t,e){return new URL(t,e).href},m$={},V=function(e,i,n){let r=Promise.resolve();if(i&&i.length>0){const s=document.getElementsByTagName("link");r=Promise.all(i.map(o=>{if(o=_6(o,n),o in m$)return;m$[o]=!0;const a=o.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!n)for(let f=s.length-1;f>=0;f--){const m=s[f];if(m.href===o&&(!a||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${l}`))return;const p=document.createElement("link");if(p.rel=a?"stylesheet":w6,a||(p.as="script",p.crossOrigin=""),p.href=o,document.head.appendChild(p),a)return new Promise((f,m)=>{p.addEventListener("load",f),p.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${o}`)))})}))}return r.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})},S6=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,x6={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function g$(t){const e=t==null?void 0:t.match(S6);if(!e)return null;const[,i,n,r]=e;if(!i)return null;let s=null,o=null,a=null;const{devext:l,qaext:u,www:p}=x6;if(n)if(s=i,r)switch(r.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:a}=l);break;case"qa":({customBaseUrl:o,portalHostname:a}=u);break;default:return null}else({customBaseUrl:o,portalHostname:a}=p);else switch(i.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:a}=l);break;case"qaext":({customBaseUrl:o,portalHostname:a}=u);break;case"www":({customBaseUrl:o,portalHostname:a}=p);break;default:return null}return{customBaseUrl:o,isPortal:!1,portalHostname:a,urlKey:s}}function $6(t){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(t)}function T6(t){const e=atob(t),i=new Uint8Array(e.length);for(let n=0;n<e.length;n++)i[n]=e.charCodeAt(n);return i.buffer}function E6(t){const e=new Uint8Array(t);let i="";for(let n=0;n<e.length;n++)i+=String.fromCharCode(e[n]);return btoa(i)}const k6=G.getLogger("esri.core.urlUtils"),Mu=ye.request,y$="esri/config: esriConfig.request.proxyUrl is not set.",EC=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,kC=/^\s*http:/i,M6=/^\s*https:/i,C6=/^\s*file:/i,I6=/:\d+$/,O6=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,A6=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),L6=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$");let qc=class{constructor(e=""){this.uri=e,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let i=this.uri.match(A6);this.scheme=i[2]||(i[1]?"":null),this.authority=i[4]||(i[3]?"":null),this.path=i[5],this.query=i[7]||(i[6]?"":null),this.fragment=i[9]||(i[8]?"":null),this.authority!=null&&(i=this.authority.match(L6),this.user=i[3]||null,this.password=i[4]||null,this.host=i[6]||i[7],this.port=i[9]||null)}toString(){return this.uri}};const Zp={},P6=new qc(ye.applicationUrl);let Jt=P6;const R6=N6();let m_=R6;const g_=()=>Jt,Oce=()=>m_;function N6(){const t=Jt.path,e=t.substring(0,t.lastIndexOf(t.split("/")[t.split("/").length-1]));return`${`${Jt.scheme}://${Jt.host}${Jt.port!=null?`:${Jt.port}`:""}`}${e}`}function Xt(t){if(!t)return null;const e={path:null,query:null},i=new qc(t),n=t.indexOf("?");return i.query===null?e.path=t:(e.path=t.substring(0,n),e.query=y_(i.query)),i.fragment&&(e.hash=i.fragment,i.query===null&&(e.path=e.path.substring(0,e.path.length-(i.fragment.length+1)))),e}function y_(t){const e=t.split("&"),i={};for(const n of e){if(!n)continue;const r=n.indexOf("=");let s,o;r<0?(s=decodeURIComponent(n),o=""):(s=decodeURIComponent(n.slice(0,r)),o=decodeURIComponent(n.slice(r+1)));let a=i[s];typeof a=="string"&&(a=i[s]=[a]),Array.isArray(a)?a.push(o):i[s]=o}return i}function Th(t,e){return t?e&&typeof e=="function"?Object.keys(t).map(i=>encodeURIComponent(i)+"="+encodeURIComponent(e(i,t[i]))).join("&"):Object.keys(t).map(i=>{const n=t[i];if(n==null)return"";const r=encodeURIComponent(i)+"=",s=e==null?void 0:e[i];return s?r+encodeURIComponent(s(n)):Array.isArray(n)?n.map(o=>ub(o)?r+encodeURIComponent(JSON.stringify(o)):r+encodeURIComponent(o)).join("&"):ub(n)?r+encodeURIComponent(JSON.stringify(n)):r+encodeURIComponent(n)}).filter(i=>i).join("&"):""}function D6(t=!1){let e,i=Mu.proxyUrl;if(typeof t=="string"){e=G6(t);const n=Cy(t);n&&(i=n.proxyUrl)}else e=!!t;if(!i)throw k6.warn(y$),new D("urlutils:proxy-not-set",y$);return e&&db()&&(i=x_(i)),Xt(i)}function Ace(t){const e=Cy(t);let i,n;if(e){const r=v_(e.proxyUrl);i=r.path,n=r.query?y_(r.query):null}if(i){const r=Xt(t);t=i+"?"+r.path;const s=Th({...n,...r.query});s&&(t=`${t}?${s}`)}return t}const Bu={path:"",query:""};function v_(t){const e=t.indexOf("?");return e!==-1?(Bu.path=t.slice(0,e),Bu.query=t.slice(e+1)):(Bu.path=t,Bu.query=null),Bu}function MC(t){return t=(t=eg(t=J6(t=v_(t).path),!0)).toLowerCase()}function z6(t){const e={proxyUrl:t.proxyUrl,urlPrefix:MC(t.urlPrefix)},i=Mu.proxyRules,n=e.urlPrefix;let r=i.length;for(let s=0;s<i.length;s++){const o=i[s].urlPrefix;if(n.indexOf(o)===0){if(n.length===o.length)return-1;r=s;break}o.indexOf(n)===0&&(r=s+1)}return i.splice(r,0,e),r}function Cy(t){const e=Mu.proxyRules,i=MC(t);for(let n=0;n<e.length;n++)if(i.indexOf(e[n].urlPrefix)===0)return e[n]}function Lce(t,e){if(!t||!e)return!1;t=Qm(t),e=Qm(e);const i=g$(t),n=g$(e);return i!=null&&n!=null?i.portalHostname===n.portalHostname:i==null&&n==null&&lu(t,e,!0)}function F6(t,e){return t=Qm(t),e=Qm(e),eg(t)===eg(e)}function Qm(t){const e=(t=ks(t)).indexOf("/sharing");return e>0?t.substring(0,e):t.replace(/\/+$/,"")}function CC(t){const e=n=>n==null||n instanceof RegExp&&n.test(t)||typeof n=="string"&&t.startsWith(n),i=Mu.interceptors;if(i){for(const n of i)if(Array.isArray(n.urls)){if(n.urls.some(e))return n}else if(e(n.urls))return n}return null}function lu(t,e,i=!1){if(!t||!e)return!1;const n=pb(t),r=pb(e);return!(!i&&n.scheme!==r.scheme)&&n.host!=null&&r.host!=null&&n.host.toLowerCase()===r.host.toLowerCase()&&n.port===r.port}function b_(t){if(typeof t=="string"){if(!Ri(t))return!0;t=pb(t)}if(lu(t,Jt))return!0;const e=Mu.trustedServers||[];for(let i=0;i<e.length;i++){const n=j6(e[i]);for(let r=0;r<n.length;r++)if(lu(t,n[r]))return!0}return!1}function j6(t){return Zp[t]||(S_(t)||zr(t)?Zp[t]=[new qc(tn(t))]:Zp[t]=[new qc(`http://${t}`),new qc(`https://${t}`)]),Zp[t]}function tn(t,e=m_,i){return zr(t)?i&&i.preserveProtocolRelative?t:Jt.scheme==="http"&&Jt.authority===zn(t).slice(2)?`http:${t}`:`https:${t}`:S_(t)?t:Iy(t[0]==="/"?Z6(e):e,t)}function w_(t,e=m_,i){if(t==null||!Ri(t))return t;const n=ks(t),r=n.toLowerCase(),s=ks(e).toLowerCase().replace(/\/+$/,""),o=i?ks(i).toLowerCase().replace(/\/+$/,""):null;if(o&&s.indexOf(o)!==0)return t;const a=(f,m,g)=>(g=f.indexOf(m,g))===-1?f.length:g;let l=a(r,"/",r.indexOf("//")+2),u=-1;for(;r.slice(0,l+1)===s.slice(0,l)+"/"&&(u=l+1,l!==r.length);)l=a(r,"/",l+1);if(u===-1||o&&u<o.length)return t;t=n.slice(u);const p=s.slice(u-1).replaceAll(/[^/]+/g,"").length;if(p>0)for(let f=0;f<p;f++)t=`../${t}`;else t=`./${t}`;return t}function ks(t){return t=X6(t=Y6(t=K6(t=tn(t=t.trim()))))}function Iy(...t){const e=t.filter(Ro);if(!(e!=null&&e.length))return;const i=[];if(Ri(e[0])){const r=e[0],s=r.indexOf("//");s!==-1&&(i.push(r.slice(0,s+1)),W6(e[0])&&(i[0]+="/"),e[0]=r.slice(s+2))}else e[0][0]==="/"&&i.push("");const n=e.reduce((r,s)=>s?r.concat(s.split("/")):r,[]);for(let r=0;r<n.length;r++){const s=n[r];s===".."&&i.length>0&&i[i.length-1]!==".."?i.pop():(!s&&r===n.length-1||s&&(s!=="."||i.length===0))&&i.push(s)}return i.join("/")}function zn(t,e=!1){if(t==null||__(t)||Bl(t))return null;let i=t.indexOf("://");if(i===-1&&zr(t))i=2;else{if(i===-1)return null;i+=3}const n=t.indexOf("/",i);return n!==-1&&(t=t.slice(0,n)),e&&(t=eg(t,!0)),t}function Ri(t){return zr(t)||S_(t)}function __(t){return t!=null&&t.slice(0,5)==="blob:"}function Bl(t){return t!=null&&t.slice(0,5)==="data:"}function U6(t){const e=Eh(t);return e&&e.isBase64?T6(e.data):null}function Pce(t){return E6(t).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}const H6=/^data:(.*?)(;base64)?,(.*)$/;function Eh(t){const e=t.match(H6);if(!e)return null;const[,i,n,r]=e;return{mediaType:i,isBase64:!!n,data:r}}function IC(t){return t.isBase64?`data:${t.mediaType};base64,${t.data}`:`data:${t.mediaType},${t.data}`}async function Rce(t){return(await fetch(t)).blob()}function Nce(t){const e=U6(t);if(!e)return null;const i=Eh(t);return new Blob([e],{type:i.mediaType})}function Dce(t,e){B6(t,e)}function B6(t,e){if(!t)return!1;const i=document.createElement("a");if(!("download"in i))return!1;const n=URL.createObjectURL(t);return i.download=e,i.href=n,i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n),!0}function zr(t){return t!=null&&t[0]==="/"&&t[1]==="/"}function S_(t){return t!=null&&EC.test(t)}function G6(t){return t!=null&&M6.test(t)||Jt.scheme==="https"&&zr(t)}function V6(t){return t!=null&&kC.test(t)||Jt.scheme==="http"&&zr(t)}function W6(t){return t!=null&&C6.test(t)}function x_(t){return zr(t)?`https:${t}`:t.replace(kC,"https:")}function q6(){return Jt.scheme==="http"}function db(){return Jt.scheme==="https"}function eg(t,e=!1){return zr(t)?t.slice(2):(t=t.replace(EC,""),e&&t.length>1&&t[0]==="/"&&t[1]==="/"&&(t=t.slice(2)),t)}function Z6(t){const e=t.indexOf("//"),i=t.indexOf("/",e+2);return i===-1?t:t.slice(0,i)}function zce(t){let e=0;if(Ri(t)){const n=t.indexOf("//");n!==-1&&(e=n+2)}const i=t.lastIndexOf("/");return i<e?t:t.slice(0,i+1)}function Fce(t,e){if(!t)return"";const i=Xt(t).path.replace(/\/+$/,""),n=i.substring(i.lastIndexOf("/")+1);if(!(e!=null&&e.length))return n;const r=new RegExp(`.(${e.join("|")})$`,"ig");return n.replace(r,"")}function J6(t){return t.endsWith("/")?t:`${t}/`}function OC(t){return t.replace(/\/+$/,"")}function K6(t){if(/^https?:\/\//i.test(t)){const e=v_(t);t=(t=e.path.replaceAll(/\/{2,}/g,"/")).replace("/","//"),e.query&&(t+=`?${e.query}`)}return t}function Y6(t){return t.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}function X6(t){const e=Mu.httpsDomains;if(!V6(t))return t;const i=t.indexOf("/",7);let n;if(n=i===-1?t:t.slice(0,i),n=n.toLowerCase().slice(7),I6.test(n)){if(!n.endsWith(":80"))return t;n=n.slice(0,-3),t=t.replace(":80","")}return q6()&&n===Jt.authority&&!O6.test(t)||(db()&&n===Jt.authority||e&&e.some(r=>n===r||n.endsWith(`.${r}`))||db()&&!Cy(t))&&(t=x_(t)),t}function hb(t,e,i){if(!(e&&i&&t&&Ri(t)))return t;const n=t.indexOf("//"),r=t.indexOf("/",n+2),s=t.indexOf(":",n+2),o=Math.min(r<0?t.length:r,s<0?t.length:s);return t.slice(n+2,o).toLowerCase()!==e.toLowerCase()?t:`${t.slice(0,n+2)}${i}${t.slice(o)}`}function pb(t){return typeof t=="string"?new qc(tn(t)):(t.scheme||(t.scheme=Jt.scheme),t)}function jce(t){return Q6.test(t)}function AC(t,e){const i=Xt(t),n=Object.keys(i.query||{});return n.length>0&&e&&e.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${n.join(", ")}.`),i.path}function LC(t,e,i){const n=Xt(t),r=n.query||{};return r[e]=String(i),`${n.path}?${Th(r)}`}function I0(t,e){if(!e)return t;const i=Xt(t),n=i.query||{};for(const[s,o]of Object.entries(e))o!=null&&(n[s]=o);const r=Th(n);return r?`${i.path}?${r}`:i.path}function Uce(t){if(t==null)return null;const e=t.match(PC);return e?e[2]:null}function v$(t){if(t==null)return null;const e=t.match(PC);return e?{path:e[1],extension:e[2]}:{path:t,extension:null}}async function Hce(t){return typeof t=="string"?Eh(t)??{data:t}:new Promise((e,i)=>{const n=new FileReader;n.readAsDataURL(t),n.onload=()=>e(Eh(n.result)),n.onerror=r=>i(r)})}const PC=/([^.]*)\.([^\/]*)$/,Q6=/(^data:image\/svg|\.svg$)/i,RC="20231115",NC="a6fcf2901ef678ef17a528e11b93ffe09e3ec267";Symbol.dispose??(Symbol.dispose=Symbol("Symbol.dispose")),Symbol.asyncDispose??(Symbol.asyncDispose=Symbol("Symbol.asyncDispose"));const ez="4.28";let Fe,$_=ez;$_="4.28.10";function Bce(t){Fe=t}function Gce(t){const e=Fe==null?void 0:Fe.findCredential(t);return e!=null&&e.token?LC(t,"token",e.token):t}P("host-webworker");const tz=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);function DC(t){const e=zn(t,!0);return!!e&&e.endsWith(".arcgis.com")&&!tz.has(e)&&!t.endsWith("/sharing/rest/generateToken")}function iz(t,e,i=!1,n){return new Promise((r,s)=>{if(Bn(n))return void s(b$());let o=()=>{u(),s(new Error(`Unable to load ${e}`))},a=()=>{const p=t;u(),r(p)},l=()=>{if(!t)return;const p=t;u(),p.src="",s(b$())};const u=()=>{P("esri-image-decode")||(t.removeEventListener("error",o),t.removeEventListener("load",a)),o=null,a=null,t=null,n!=null&&n.removeEventListener("abort",l),l=null,i&&URL.revokeObjectURL(e)};n!=null&&n.addEventListener("abort",l),P("esri-image-decode")?t.decode().then(a,o):(t.addEventListener("error",o),t.addEventListener("load",a))})}function b$(){try{return new DOMException("Aborted","AbortError")}catch{const t=new Error;return t.name="AbortError",t}}const nz="Timeout exceeded";function rz(){return new Error(nz)}function sz(t){ye.request.crossOriginNoCorsDomains||(ye.request.crossOriginNoCorsDomains={});const e=ye.request.crossOriginNoCorsDomains;for(let i of t)i=i.toLowerCase(),/^https?:\/\//.test(i)?e[zn(i)??""]=0:(e[zn("http://"+i)??""]=0,e[zn("https://"+i)??""]=0)}function oz(t){const e=ye.request.crossOriginNoCorsDomains;if(e){let i=zn(t);if(i)return i=i.toLowerCase(),!lu(i,g_())&&e[i]<Date.now()-36e5}return!1}async function az(t){var r;const e=ye.request.crossOriginNoCorsDomains,i=zn(t);e&&i&&(e[i.toLowerCase()]=Date.now());const n=Xt(t);t=n.path,((r=n.query)==null?void 0:r.f)==="json"&&(t+="?f=json");try{await fetch(t,{mode:"no-cors",credentials:"include"})}catch{}}async function Ye(t,e){var u;t instanceof URL&&(t=t.toString()),(e==null?void 0:e.query)instanceof URLSearchParams&&(e.query=y_(e.query.toString().replaceAll("+"," ")));const i=Bl(t),n=__(t);n||i||(t=ks(t));const r={url:t,requestOptions:{...e}};let s=CC(t);if(s){const p=await mz(s,r);if(p!=null)return{data:p,getHeader:T_,httpStatus:200,requestOptions:r.requestOptions,url:r.url};s.after||s.error||(s=null)}if(t=r.url,(e=r.requestOptions).responseType==="image"&&(P("host-webworker")||P("host-node")))throw Rr("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),r);if(e.method==="head"){if(e.body)throw Rr("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),r);if(i||n)throw Rr("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),r)}if(await hz(),tg)return tg.execute(t,e);const o=new AbortController;on(e,()=>o.abort());const a={controller:o,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:s,params:r,redoRequest:!1,useIdentity:An.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},l=await yz(a);return(u=s==null?void 0:s.after)==null||u.call(s,l),l}let tg;const An=ye.request,zC="FormData"in globalThis,lz=new Set([499,498,403,401]),cz=new Set(["COM_0056","COM_0057","SB_0008"]),uz=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],T_=()=>null,ig=Symbol();function dz(t){const e=zn(t);e&&!Ye._corsServers.includes(e)&&Ye._corsServers.push(e)}function w$(t){const e=zn(t);return!e||e.endsWith(".arcgis.com")||Ye._corsServers.includes(e)||b_(e)}function Rr(t,e,i,n){let r="Error";const s={url:i.url,requestOptions:i.requestOptions,getHeader:T_,ssl:!1};if(e instanceof D)return e.details?(e.details=z(e.details),e.details.url=i.url,e.details.requestOptions=i.requestOptions):e.details=s,e;if(e){const o=n&&(u=>n.headers.get(u)),a=n==null?void 0:n.status,l=e.message;l&&(r=l),o&&(s.getHeader=o),s.httpStatus=(e.httpCode!=null?e.httpCode:e.code)||a||0,s.subCode=e.subcode,s.messageCode=e.messageCode,typeof e.details=="string"?s.messages=[e.details]:s.messages=e.details,s.raw=ig in e?e[ig]:e}return di(e)?Be():new D(t,r,s)}async function hz(){P("host-webworker")?tg||(tg=await V(()=>import("./request-9BMo4FFB.js"),__vite__mapDeps([]),import.meta.url)):Ye._abortableFetch||(Ye._abortableFetch=globalThis.fetch.bind(globalThis))}async function fb(){Fe||await V(()=>import("./IdentityManager-s8wE7b02.js"),__vite__mapDeps([]),import.meta.url)}async function pz(t){var a;const e=t.params.url,i=t.params.requestOptions,n=t.controller.signal,r=i.body;let s=null,o=null;if(zC&&"HTMLFormElement"in globalThis&&(r instanceof FormData?s=r:r instanceof HTMLFormElement&&(s=new FormData(r))),typeof r=="string"&&(o=r),t.fetchOptions={cache:i.cacheBust&&!("polyfill"in Ye._abortableFetch)?"no-cache":"default",credentials:"same-origin",headers:i.headers||{},method:i.method==="head"?"HEAD":"GET",mode:"cors",priority:An.priority,redirect:"follow",signal:n},(s||o)&&(t.fetchOptions.body=s||o),i.authMode==="anonymous"&&(t.useIdentity=!1),t.hasToken=!!(/token=/i.test(e)||(a=i.query)!=null&&a.token||s!=null&&s.get("token")),!t.hasToken&&ye.apiKey&&DC(e)&&(i.query||(i.query={}),i.query.token=ye.apiKey,t.hasToken=!0),t.useIdentity&&!t.hasToken&&!t.credentialToken&&!FC(e)&&!Bn(n)){let l;i.authMode==="immediate"?(await fb(),l=await Fe.getCredential(e,{signal:n}),t.credential=l):i.authMode==="no-prompt"?(await fb(),l=await Fe.getCredential(e,{prompt:!1,signal:n}).catch(()=>{}),t.credential=l):Fe&&(l=Fe.findCredential(e)),l&&(t.credentialToken=l.token,t.useSSL=!!l.ssl)}}function FC(t){return uz.some(e=>e.test(t))}async function fz(t){let e=t.params.url;const i=t.params.requestOptions,n=t.fetchOptions??{},r=__(e)||Bl(e),s=i.responseType||"json",o=r?0:i.timeout!=null?i.timeout:An.timeout;let a=!1;if(!r){t.useSSL&&(e=x_(e)),i.cacheBust&&n.cache==="default"&&(e=LC(e,"request.preventCache",Date.now()));let m={...i.query};t.credentialToken&&(m.token=t.credentialToken);let g=Th(m);P("esri-url-encodes-apostrophe")&&(g=g.replaceAll("'","%27"));const y=e.length+1+g.length;let v;a=i.method==="delete"||i.method==="post"||i.method==="put"||!!i.body||y>An.maxUrlLength;const w=i.useProxy||!!Cy(e);if(w){const _=D6(e);v=_.path,!a&&v.length+1+y>An.maxUrlLength&&(a=!0),_.query&&(m={..._.query,...m})}if(n.method==="HEAD"&&(a||w)){if(a)throw y>An.maxUrlLength?Rr("request:invalid-parameters",new Error("URL exceeds maximum length"),t.params):Rr("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),t.params);if(w)throw Rr("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),t.params)}if(a?(n.method=i.method==="delete"?"DELETE":i.method==="put"?"PUT":"POST",i.body?e=I0(e,m):(n.body=Th(m),n.headers||(n.headers={}),n.headers["Content-Type"]="application/x-www-form-urlencoded")):e=I0(e,m),w&&(t.useProxy=!0,e=`${v}?${e}`),m.token&&zC&&n.body instanceof FormData&&!$6(e)&&n.body.set("token",m.token),i.hasOwnProperty("withCredentials"))t.withCredentials=i.withCredentials;else if(!lu(e,g_())){if(b_(e))t.withCredentials=!0;else if(Fe){const _=Fe.findServerInfo(e);_!=null&&_.webTierAuth&&(t.withCredentials=!0)}}t.withCredentials&&(n.credentials="include",oz(e)&&await az(a?I0(e,m):e))}let l,u,p=0,f=!1;o>0&&(p=setTimeout(()=>{f=!0,t.controller.abort()},o));try{if(i.responseType==="native-request-init")u=n,u.url=e;else if(i.responseType!=="image"||n.cache!=="default"||n.method!=="GET"||a||gz(i.headers)||!r&&!t.useProxy&&An.proxyUrl&&!w$(e)){if(l=await Ye._abortableFetch(e,n),t.useProxy||dz(e),i.responseType==="native")u=l;else if(n.method!=="HEAD")if(l.ok){switch(s){case"array-buffer":u=await l.arrayBuffer();break;case"blob":case"image":u=await l.blob();break;default:u=await l.text()}if(p&&(clearTimeout(p),p=0),s==="json"||s==="xml"||s==="document")if(u)switch(s){case"json":u=JSON.parse(u);break;case"xml":u=_$(u,"application/xml");break;case"document":u=_$(u,"text/html")}else u=null;if(u){if(s==="array-buffer"||s==="blob"){const m=l.headers.get("Content-Type");if(m&&/application\/json|text\/plain/i.test(m)&&u[s==="blob"?"size":"byteLength"]<=750)try{const g=await new Response(u).json();g.error&&(u=g)}catch{}}s==="image"&&u instanceof Blob&&(u=await S$(URL.createObjectURL(u),t,!0))}}else{u=await l.text();try{u=JSON.parse(u)}catch{}}}else u=await S$(e,t)}catch(m){if(m.name==="AbortError")throw f?rz():Be("Request canceled");if(!(!l&&m instanceof TypeError&&An.proxyUrl)||i.body||i.method==="delete"||i.method==="head"||i.method==="post"||i.method==="put"||t.useProxy||w$(e))throw m;t.redoRequest=!0,z6({proxyUrl:An.proxyUrl,urlPrefix:zn(e)??""})}finally{p&&clearTimeout(p)}return[l,u]}async function mz(t,e){if(t.responseData!=null)return t.responseData;if(t.headers&&(e.requestOptions.headers={...e.requestOptions.headers,...t.headers}),t.query&&(e.requestOptions.query={...e.requestOptions.query,...t.query}),t.before){let i,n;try{n=await t.before(e)}catch(r){i=Rr("request:interceptor",r,e)}if((n instanceof Error||n instanceof D)&&(i=Rr("request:interceptor",n,e)),i)throw t.error&&t.error(i),i;return n}}function gz(t){if(t){for(const e of Object.getOwnPropertyNames(t))if(t[e])return!0}return!1}function _$(t,e){let i;try{i=new DOMParser().parseFromString(t,e)}catch{}if(!i||i.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return i}async function yz(t){var s,o;let e,i;await pz(t);try{do[e,i]=await fz(t);while(!await vz(t,e,i))}catch(a){const l=Rr("request:server",a,t.params,e);throw l.details.ssl=t.useSSL,(s=t.interceptor)!=null&&s.error&&t.interceptor.error(l),l}const n=t.params.url;if(i&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(n)){if(!t.hasToken&&!t.credentialToken&&((o=i.user)!=null&&o.username)&&!b_(n)){const a=zn(n,!0);a&&An.trustedServers.push(a)}Array.isArray(i.authorizedCrossOriginNoCorsDomains)&&sz(i.authorizedCrossOriginNoCorsDomains)}const r=t.credential;if(r&&Fe){const a=Fe.findServerInfo(r.server);let l=a==null?void 0:a.owningSystemUrl;if(l){l=l.replace(/\/?$/,"/sharing");const u=Fe.findCredential(l,r.userId);u&&Fe._getIdenticalSvcIdx(l,u)===-1&&u.resources.unshift(l)}}return{data:i,getHeader:e?a=>e==null?void 0:e.headers.get(a):T_,httpStatus:(e==null?void 0:e.status)??200,requestOptions:t.params.requestOptions,ssl:t.useSSL,url:t.params.url}}async function vz(t,e,i){var u;if(t.redoRequest)return t.redoRequest=!1,!1;const n=t.params.requestOptions;if(!e||n.responseType==="native"||n.responseType==="native-request-init")return!0;let r,s;if(i&&(i.error?r=i.error:i.status==="error"&&Array.isArray(i.messages)&&(r={...i},r[ig]=i,r.details=i.messages)),!r&&!e.ok)throw r=new Error(`Unable to load ${e.url} status: ${e.status}`),r[ig]=i,r;let o,a=null;r&&(s=Number(r.code),a=r.hasOwnProperty("subcode")?Number(r.subcode):null,o=r.messageCode,o=o==null?void 0:o.toUpperCase());const l=n.authMode;if(s===403&&(a===4||(u=r.message)!=null&&u.toLowerCase().includes("ssl")&&!r.message.toLowerCase().includes("permission"))){if(!t.useSSL)return t.useSSL=!0,!1}else if(!t.hasToken&&t.useIdentity&&(l!=="no-prompt"||s===498)&&s!==void 0&&lz.has(s)&&!FC(t.params.url)&&(s!==403||(!o||!cz.has(o))&&(a==null||a===2&&t.credentialToken))){await fb();try{const p=await Fe.getCredential(t.params.url,{error:Rr("request:server",r,t.params),prompt:l!=="no-prompt",signal:t.controller.signal,token:t.credentialToken});return t.credential=p,t.credentialToken=p.token,t.useSSL=t.useSSL||p.ssl,!1}catch(p){if(l==="no-prompt")return t.credential=void 0,t.credentialToken=void 0,!1;r=p}}if(r)throw r;return!0}function S$(t,e,i=!1){const n=e.controller.signal,r=new Image;return e.withCredentials?r.crossOrigin="use-credentials":r.crossOrigin="anonymous",r.alt="",r.fetchPriority=An.priority,r.src=t,iz(r,t,i,n)}Ye._abortableFetch=null,Ye._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"];const bz=G.getLogger("esri.assets");function ke(t){if(!ye.assetsPath)throw bz.errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new D("assets:path-not-set","config.assetsPath is not set");return Iy(ye.assetsPath,t)}let O0,C=null;function E_(){return!!C}function wz(){return!!P("esri-wasm")}function jC(){return O0||(O0=V(()=>import("./pe-wasm-B-9Gx92a.js"),__vite__mapDeps([]),import.meta.url).then(t=>t.p).then(({default:t})=>t({locateFile:e=>ke(`esri/geometry/support/${e}`)})).then(t=>{HC(t)}),O0)}var mb,Ze,gb;(function(t){function e(s,o,a){C.ensureCache.prepare();const l=Xa(a),u=a===l,p=C.ensureFloat64(l),f=C._pe_geog_to_proj(C.getPointer(s),o,p);return f&&Mo(a,o,p,u),f}function i(s,o,a,l){switch(l){case Ze.PE_TRANSFORM_P_TO_G:return n(s,o,a);case Ze.PE_TRANSFORM_G_TO_P:return e(s,o,a)}return 0}function n(s,o,a){return r(s,o,a,0)}function r(s,o,a,l){C.ensureCache.prepare();const u=Xa(a),p=a===u,f=C.ensureFloat64(u),m=C._pe_proj_to_geog_center(C.getPointer(s),o,f,l);return m&&Mo(a,o,f,p),m}t.geogToProj=e,t.projGeog=i,t.projToGeog=n,t.projToGeogCenter=r})(mb||(mb={})),function(t){function e(){t.PE_BUFFER_MAX=C.PeDefs.prototype.PE_BUFFER_MAX,t.PE_NAME_MAX=C.PeDefs.prototype.PE_NAME_MAX,t.PE_MGRS_MAX=C.PeDefs.prototype.PE_MGRS_MAX,t.PE_USNG_MAX=C.PeDefs.prototype.PE_USNG_MAX,t.PE_DD_MAX=C.PeDefs.prototype.PE_DD_MAX,t.PE_DDM_MAX=C.PeDefs.prototype.PE_DDM_MAX,t.PE_DMS_MAX=C.PeDefs.prototype.PE_DMS_MAX,t.PE_UTM_MAX=C.PeDefs.prototype.PE_UTM_MAX,t.PE_PARM_MAX=C.PeDefs.prototype.PE_PARM_MAX,t.PE_TYPE_NONE=C.PeDefs.prototype.PE_TYPE_NONE,t.PE_TYPE_GEOGCS=C.PeDefs.prototype.PE_TYPE_GEOGCS,t.PE_TYPE_PROJCS=C.PeDefs.prototype.PE_TYPE_PROJCS,t.PE_TYPE_GEOGTRAN=C.PeDefs.prototype.PE_TYPE_GEOGTRAN,t.PE_TYPE_COORDSYS=C.PeDefs.prototype.PE_TYPE_COORDSYS,t.PE_TYPE_UNIT=C.PeDefs.prototype.PE_TYPE_UNIT,t.PE_TYPE_LINUNIT=C.PeDefs.prototype.PE_TYPE_LINUNIT,t.PE_STR_OPTS_NONE=C.PeDefs.prototype.PE_STR_OPTS_NONE,t.PE_STR_AUTH_NONE=C.PeDefs.prototype.PE_STR_AUTH_NONE,t.PE_STR_AUTH_TOP=C.PeDefs.prototype.PE_STR_AUTH_TOP,t.PE_STR_NAME_CANON=C.PeDefs.prototype.PE_STR_NAME_CANON,t.PE_STR_FMT_WKT=C.PeDefs.prototype.PE_STR_FMT_WKT,t.PE_STR_FMT_WKT2=C.PeDefs.prototype.PE_STR_FMT_WKT2,t.PE_PARM_X0=C.PeDefs.prototype.PE_PARM_X0,t.PE_PARM_ND=C.PeDefs.prototype.PE_PARM_ND,t.PE_TRANSFORM_1_TO_2=C.PeDefs.prototype.PE_TRANSFORM_1_TO_2,t.PE_TRANSFORM_2_TO_1=C.PeDefs.prototype.PE_TRANSFORM_2_TO_1,t.PE_TRANSFORM_P_TO_G=C.PeDefs.prototype.PE_TRANSFORM_P_TO_G,t.PE_TRANSFORM_G_TO_P=C.PeDefs.prototype.PE_TRANSFORM_G_TO_P,t.PE_HORIZON_RECT=C.PeDefs.prototype.PE_HORIZON_RECT,t.PE_HORIZON_POLY=C.PeDefs.prototype.PE_HORIZON_POLY,t.PE_HORIZON_LINE=C.PeDefs.prototype.PE_HORIZON_LINE,t.PE_HORIZON_DELTA=C.PeDefs.prototype.PE_HORIZON_DELTA}t.init=e}(Ze||(Ze={})),function(t){const e={},i={},n=g=>{if(g){const y=g.getType();switch(y){case Ze.PE_TYPE_GEOGCS:g=C.castObject(g,C.PeGeogcs);break;case Ze.PE_TYPE_PROJCS:g=C.castObject(g,C.PeProjcs);break;case Ze.PE_TYPE_GEOGTRAN:g=C.castObject(g,C.PeGeogtran);break;default:y&Ze.PE_TYPE_UNIT&&(g=C.castObject(g,C.PeUnit))}}return g};function r(){C.PeFactory.prototype.initialize(null)}function s(g){return o(Ze.PE_TYPE_COORDSYS,g)}function o(g,y){let v=null,w=e[g];if(w||(w={},e[g]=w),w.hasOwnProperty(String(y)))v=w[y];else{const _=C.PeFactory.prototype.factoryByType(g,y);C.compare(_,C.NULL)||(v=_,w[y]=v)}return v=n(v),v}function a(g,y){let v=null,w=i[g];if(w||(w={},i[g]=w),w.hasOwnProperty(y))v=w[y];else{const _=C.PeFactory.prototype.fromString(g,y);C.compare(_,C.NULL)||(v=_,w[y]=v)}return v=n(v),v}function l(g){return o(Ze.PE_TYPE_GEOGCS,g)}function u(g){return o(Ze.PE_TYPE_GEOGTRAN,g)}function p(g){return C.PeFactory.prototype.getCode(g)}function f(g){return o(Ze.PE_TYPE_PROJCS,g)}function m(g){return o(Ze.PE_TYPE_UNIT,g)}t.initialize=r,t.coordsys=s,t.factoryByType=o,t.fromString=a,t.geogcs=l,t.geogtran=u,t.getCode=p,t.projcs=f,t.unit=m}(gb||(gb={}));let UC=null;var ng,yb,vb,bb,rg,wb,sg,og,_b;function HC(t){function e(s,o,a){s[o]=a(s[o])}C=t,Ze.init(),ng.init(),rg.init(),sg.init(),og.init(),UC=class extends C.PeGCSExtent{destroy(){C.destroy(this)}};const i=[C.PeDatum,C.PeGeogcs,C.PeGeogtran,C.PeObject,C.PeParameter,C.PePrimem,C.PeProjcs,C.PeSpheroid,C.PeUnit];for(const s of i)e(s.prototype,"getName",o=>function(){return o.call(this,new Array(Ze.PE_NAME_MAX))});for(const s of[C.PeGeogtran,C.PeProjcs])e(s.prototype,"getParameters",o=>function(){const a=new Array(Ze.PE_PARM_MAX);let l=o.call(this);for(let u=0;u<a.length;u++){const p=C.getValue(l,"*");a[u]=p?C.wrapPointer(p,C.PeParameter):null,l+=Int32Array.BYTES_PER_ELEMENT}return a});e(C.PeHorizon.prototype,"getCoord",s=>function(){const o=this.getSize();if(!o)return null;const a=[];return Mo(a,o,s.call(this)),a}),e(C.PeGTlistExtendedEntry.prototype,"getEntries",s=>{const o=C._pe_getPeGTlistExtendedGTsSize();return function(){let a=null;const l=s.call(this);if(!C.compare(l,C.NULL)){a=[l];const u=this.getSteps();if(u>1){const p=C.getPointer(l);for(let f=1;f<u;f++)a.push(C.wrapPointer(p+o*f,C.PeGTlistExtendedGTs))}}return a}});const n=C._pe_getPeHorizonSize(),r=s=>function(){let o=this._cache;if(o||(o=new Map,this._cache=o),o.has(s))return o.get(s);let a=null;const l=s.call(this);if(!C.compare(l,C.NULL)){a=[l];const u=l.getNump();if(u>1){const p=C.getPointer(l);for(let f=1;f<u;f++)a.push(C.wrapPointer(p+n*f,C.PeHorizon))}}return o.set(s,a),a};e(C.PeProjcs.prototype,"horizonGcsGenerate",r),e(C.PeProjcs.prototype,"horizonPcsGenerate",r),C.PeObject.prototype.toString=function(s=Ze.PE_STR_OPTS_NONE){C.ensureCache.prepare();const o=C.getPointer(this),a=C.ensureInt8(new Array(Ze.PE_BUFFER_MAX));return C.UTF8ToString(C._pe_object_to_string_ext(o,s,a))}}function Kr(t){if(!t)return;const e=C.getClass(t);if(!e)return;const i=C.getCache(e);if(!i)return;const n=C.getPointer(t);n&&delete i[n]}function Jp(t,e){const i=[],n=new Array(e);for(let r=0;r<t;r++)i.push(C.ensureInt8(n));return i}function Xa(t){let e;return Array.isArray(t[0])?(e=[],t.forEach(i=>{e.push(i[0],i[1])})):e=t,e}function Mo(t,e,i,n=!1){if(n)for(let r=0;r<2*e;r++)t[r]=C.getValue(i+r*Float64Array.BYTES_PER_ELEMENT,"double");else{const r=t.length===0;for(let s=0;s<e;s++)r&&(t[s]=new Array(2)),t[s][0]=C.getValue(i,"double"),t[s][1]=C.getValue(i+Float64Array.BYTES_PER_ELEMENT,"double"),i+=2*Float64Array.BYTES_PER_ELEMENT}}(function(t){let e;function i(){t.PE_GTLIST_OPTS_COMMON=C.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,e=C._pe_getPeGTlistExtendedEntrySize()}function n(r,s,o,a,l,u){let p=null;const f=new C.PeInteger(u);try{const m=C.PeGTlistExtended.prototype.getGTlist(r,s,o,a,l,f);if((u=f.val)&&(p=[m],u>1)){const g=C.getPointer(m);for(let y=1;y<u;y++)p.push(C.wrapPointer(g+e*y,C.PeGTlistExtendedEntry))}}finally{C.destroy(f)}return p}t.init=i,t.getGTlist=n})(ng||(ng={})),function(t){function e(i){if(i!=null&&i.length){for(const n of i)Kr(n),n.getEntries().forEach(r=>{Kr(r);const s=r.getGeogtran();Kr(s),s.getParameters().forEach(Kr),[s.getGeogcs1(),s.getGeogcs2()].forEach(o=>{Kr(o);const a=o.getDatum();Kr(a),Kr(a.getSpheroid()),Kr(o.getPrimem()),Kr(o.getUnit())})});C.PeGTlistExtendedEntry.prototype.Delete(i[0])}}t.destroy=e}(yb||(yb={})),function(t){function e(i,n,r,s,o){C.ensureCache.prepare();const a=Xa(r),l=r===a,u=C.ensureFloat64(a);let p=0;s&&(p=C.ensureFloat64(s));const f=C._pe_geog_to_geog(C.getPointer(i),n,u,p,o);return f&&Mo(r,n,u,l),f}t.geogToGeog=e}(vb||(vb={})),function(t){const e=(u,p,f,m,g,y)=>{let v,w;switch(C.ensureCache.prepare(),u){case"dd":v=C._pe_geog_to_dd,w=Ze.PE_DD_MAX;break;case"ddm":v=C._pe_geog_to_ddm,w=Ze.PE_DDM_MAX;break;case"dms":v=C._pe_geog_to_dms,w=Ze.PE_DMS_MAX}let _=0;p&&(_=C.getPointer(p));const $=Xa(m),x=C.ensureFloat64($),T=Jp(f,w),M=v(_,f,x,g,C.ensureInt32(T));if(M)for(let I=0;I<f;I++)y[I]=C.UTF8ToString(T[I]);return M},i=(u,p,f,m,g)=>{let y;switch(C.ensureCache.prepare(),u){case"dd":y=C._pe_dd_to_geog;break;case"ddm":y=C._pe_ddm_to_geog;break;case"dms":y=C._pe_dms_to_geog}let v=0;p&&(v=C.getPointer(p));const w=m.map(T=>C.ensureString(T)),_=C.ensureInt32(w),$=C.ensureFloat64(new Array(2*f)),x=y(v,f,_,$);return x&&Mo(g,f,$),x};function n(u,p,f,m,g){return e("dms",u,p,f,m,g)}function r(u,p,f,m){return i("dms",u,p,f,m)}function s(u,p,f,m,g){return e("ddm",u,p,f,m,g)}function o(u,p,f,m){return i("ddm",u,p,f,m)}function a(u,p,f,m,g){return e("dd",u,p,f,m,g)}function l(u,p,f,m){return i("dd",u,p,f,m)}t.geogToDms=n,t.dmsToGeog=r,t.geogToDdm=s,t.ddmToGeog=o,t.geogToDd=a,t.ddToGeog=l}(bb||(bb={})),function(t){function e(){t.PE_MGRS_STYLE_NEW=C.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,t.PE_MGRS_STYLE_OLD=C.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,t.PE_MGRS_STYLE_AUTO=C.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,t.PE_MGRS_180_ZONE_1_PLUS=C.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,t.PE_MGRS_ADD_SPACES=C.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES}function i(r,s,o,a,l,u,p){C.ensureCache.prepare();let f=0;r&&(f=C.getPointer(r));const m=Xa(o),g=C.ensureFloat64(m),y=Jp(s,Ze.PE_MGRS_MAX),v=C.ensureInt32(y),w=C._pe_geog_to_mgrs_extended(f,s,g,a,l,u,v);if(w)for(let _=0;_<s;_++)p[_]=C.UTF8ToString(y[_]);return w}function n(r,s,o,a,l){C.ensureCache.prepare();let u=0;r&&(u=C.getPointer(r));const p=o.map(y=>C.ensureString(y)),f=C.ensureInt32(p),m=C.ensureFloat64(new Array(2*s)),g=C._pe_mgrs_to_geog_extended(u,s,f,a,m);return g&&Mo(l,s,m),g}t.init=e,t.geogToMgrsExtended=i,t.mgrsToGeogExtended=n}(rg||(rg={})),function(t){function e(n,r,s,o,a,l,u){C.ensureCache.prepare();let p=0;n&&(p=C.getPointer(n));const f=Xa(s),m=C.ensureFloat64(f),g=Jp(r,Ze.PE_MGRS_MAX),y=C.ensureInt32(g),v=C._pe_geog_to_usng(p,r,m,o,a,l,y);if(v)for(let w=0;w<r;w++)u[w]=C.UTF8ToString(g[w]);return v}function i(n,r,s,o){C.ensureCache.prepare();let a=0;n&&(a=C.getPointer(n));const l=s.map(m=>C.ensureString(m)),u=C.ensureInt32(l),p=C.ensureFloat64(new Array(2*r)),f=C._pe_usng_to_geog(a,r,u,p);return f&&Mo(o,r,p),f}t.geogToUsng=e,t.usngToGeog=i}(wb||(wb={})),function(t){function e(){t.PE_UTM_OPTS_NONE=C.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,t.PE_UTM_OPTS_ADD_SPACES=C.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,t.PE_UTM_OPTS_NS=C.PeNotationUtm.prototype.PE_UTM_OPTS_NS}function i(r,s,o,a,l){C.ensureCache.prepare();let u=0;r&&(u=C.getPointer(r));const p=Xa(o),f=C.ensureFloat64(p),m=Jp(s,Ze.PE_UTM_MAX),g=C.ensureInt32(m),y=C._pe_geog_to_utm(u,s,f,a,g);if(y)for(let v=0;v<s;v++)l[v]=C.UTF8ToString(m[v]);return y}function n(r,s,o,a,l){C.ensureCache.prepare();let u=0;r&&(u=C.getPointer(r));const p=o.map(y=>C.ensureString(y)),f=C.ensureInt32(p),m=C.ensureFloat64(new Array(2*s)),g=C._pe_utm_to_geog(u,s,f,a,m);return g&&Mo(l,s,m),g}t.init=e,t.geogToUtm=i,t.utmToGeog=n}(sg||(sg={})),function(t){const e=new Map;function i(){t.PE_PCSINFO_OPTION_NONE=C.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,t.PE_PCSINFO_OPTION_DOMAIN=C.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,t.PE_POLE_OUTSIDE_BOUNDARY=C.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,t.PE_POLE_POINT=C.PePCSInfo.prototype.PE_POLE_POINT}function n(r,s=t.PE_PCSINFO_OPTION_DOMAIN){let o=null,a=null;return e.has(r)&&(a=e.get(r),a[s]&&(o=a[s])),o||(o=C.PePCSInfo.prototype.generate(r,s),a||(a=[],e.set(r,a)),a[s]=o),o}t.init=i,t.generate=n}(og||(og={})),function(t){function e(){return C.PeVersion.prototype.version_string()}t.versionString=e}(_b||(_b={}));const _z=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return mb},get PeDefs(){return Ze},get PeFactory(){return gb},get PeGCSExtent(){return UC},get PeGTTransformations(){return vb},get PeGTlistExtended(){return ng},get PeGTlistExtendedEntry(){return yb},get PeNotationDms(){return bb},get PeNotationMgrs(){return rg},get PeNotationUsng(){return wb},get PeNotationUtm(){return sg},get PePCSInfo(){return og},get PeVersion(){return _b},_init:HC,get _pe(){return C},isLoaded:E_,isSupported:wz,load:jC},Symbol.toStringTag,{value:"Module"}));var nn;(function(t){t[t.CGCS2000=4490]="CGCS2000",t[t.GCSMARS2000=104971]="GCSMARS2000",t[t.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",t[t.GCSMOON2000=104903]="GCSMOON2000"})(nn||(nn={}));let c;const b={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1};for(c=2e3;c<=2045;c++)b[c]=0;for(c=2056;c<=2065;c++)b[c]=0;for(c=2067;c<=2135;c++)b[c]=0;for(c=2137;c<=2154;c++)b[c]=0;for(c=2161;c<=2170;c++)b[c]=0;for(c=2172;c<=2193;c++)b[c]=0;for(c=2195;c<=2198;c++)b[c]=0;for(c=2200;c<=2203;c++)b[c]=0;for(c=2205;c<=2217;c++)b[c]=0;for(c=2222;c<=2224;c++)b[c]=1;for(c=2225;c<=2250;c++)b[c]=2;for(c=2251;c<=2253;c++)b[c]=1;for(c=2257;c<=2264;c++)b[c]=2;for(c=2274;c<=2279;c++)b[c]=2;for(c=2280;c<=2282;c++)b[c]=1;for(c=2283;c<=2289;c++)b[c]=2;for(c=2290;c<=2292;c++)b[c]=0;for(c=2308;c<=2313;c++)b[c]=0;for(c=2315;c<=2491;c++)b[c]=0;for(c=2494;c<=2866;c++)b[c]=0;for(c=2867;c<=2869;c++)b[c]=1;for(c=2870;c<=2888;c++)b[c]=2;for(c=2891;c<=2895;c++)b[c]=2;for(c=2896;c<=2898;c++)b[c]=1;for(c=2902;c<=2908;c++)b[c]=2;for(c=2915;c<=2920;c++)b[c]=2;for(c=2921;c<=2923;c++)b[c]=1;for(c=2924;c<=2930;c++)b[c]=2;for(c=2931;c<=2962;c++)b[c]=0;for(c=2964;c<=2968;c++)b[c]=2;for(c=2969;c<=2973;c++)b[c]=0;for(c=2975;c<=2991;c++)b[c]=0;for(c=2995;c<=3051;c++)b[c]=0;for(c=3054;c<=3079;c++)b[c]=0;for(c=3081;c<=3088;c++)b[c]=0;for(c=3092;c<=3101;c++)b[c]=0;for(c=3106;c<=3138;c++)b[c]=0;for(c=3146;c<=3151;c++)b[c]=0;for(c=3153;c<=3166;c++)b[c]=0;for(c=3168;c<=3172;c++)b[c]=0;for(c=3174;c<=3203;c++)b[c]=0;for(c=3294;c<=3358;c++)b[c]=0;for(c=3367;c<=3403;c++)b[c]=0;for(c=3408;c<=3416;c++)b[c]=0;for(c=3417;c<=3438;c++)b[c]=2;for(c=3441;c<=3446;c++)b[c]=2;for(c=3447;c<=3450;c++)b[c]=0;for(c=3451;c<=3459;c++)b[c]=2;for(c=3460;c<=3478;c++)b[c]=0;for(c=3554;c<=3559;c++)b[c]=0;for(c=3560;c<=3570;c++)b[c]=2;for(c=3571;c<=3581;c++)b[c]=0;for(c=3594;c<=3597;c++)b[c]=0;for(c=3601;c<=3604;c++)b[c]=0;for(c=3637;c<=3639;c++)b[c]=0;for(c=3665;c<=3667;c++)b[c]=0;for(c=3693;c<=3695;c++)b[c]=0;for(c=3701;c<=3727;c++)b[c]=0;for(c=3728;c<=3739;c++)b[c]=2;for(c=3740;c<=3751;c++)b[c]=0;for(c=3753;c<=3760;c++)b[c]=2;for(c=3761;c<=3773;c++)b[c]=0;for(c=3775;c<=3777;c++)b[c]=0;for(c=3779;c<=3781;c++)b[c]=0;for(c=3783;c<=3785;c++)b[c]=0;for(c=3788;c<=3791;c++)b[c]=0;for(c=3797;c<=3802;c++)b[c]=0;for(c=3814;c<=3816;c++)b[c]=0;for(c=3825;c<=3829;c++)b[c]=0;for(c=3832;c<=3841;c++)b[c]=0;for(c=3844;c<=3852;c++)b[c]=0;for(c=3873;c<=3885;c++)b[c]=0;for(c=3890;c<=3893;c++)b[c]=0;for(c=3907;c<=3912;c++)b[c]=0;for(c=3942;c<=3950;c++)b[c]=0;for(c=3968;c<=3970;c++)b[c]=0;for(c=3973;c<=3976;c++)b[c]=0;for(c=3986;c<=3989;c++)b[c]=0;for(c=3994;c<=3997;c++)b[c]=0;for(c=4048;c<=4051;c++)b[c]=0;for(c=4056;c<=4063;c++)b[c]=0;for(c=4093;c<=4096;c++)b[c]=0;for(c=4390;c<=4398;c++)b[c]=0;for(c=4399;c<=4413;c++)b[c]=2;for(c=4418;c<=4433;c++)b[c]=2;for(c=4455;c<=4457;c++)b[c]=2;for(c=4484;c<=4489;c++)b[c]=0;for(c=4491;c<=4554;c++)b[c]=0;for(c=4568;c<=4589;c++)b[c]=0;for(c=4652;c<=4656;c++)b[c]=0;for(c=4766;c<=4800;c++)b[c]=0;for(c=5014;c<=5016;c++)b[c]=0;for(c=5069;c<=5072;c++)b[c]=0;for(c=5105;c<=5130;c++)b[c]=0;for(c=5167;c<=5188;c++)b[c]=0;for(c=5253;c<=5259;c++)b[c]=0;for(c=5269;c<=5275;c++)b[c]=0;for(c=5292;c<=5311;c++)b[c]=0;for(c=5329;c<=5331;c++)b[c]=0;for(c=5343;c<=5349;c++)b[c]=0;for(c=5355;c<=5357;c++)b[c]=0;for(c=5387;c<=5389;c++)b[c]=0;for(c=5459;c<=5463;c++)b[c]=0;for(c=5479;c<=5482;c++)b[c]=0;for(c=5518;c<=5520;c++)b[c]=0;for(c=5530;c<=5539;c++)b[c]=0;for(c=5550;c<=5552;c++)b[c]=0;for(c=5562;c<=5583;c++)b[c]=0;for(c=5623;c<=5625;c++)b[c]=2;for(c=5631;c<=5639;c++)b[c]=0;for(c=5649;c<=5653;c++)b[c]=0;for(c=5663;c<=5680;c++)b[c]=0;for(c=5682;c<=5685;c++)b[c]=0;for(c=5875;c<=5877;c++)b[c]=0;for(c=5896;c<=5899;c++)b[c]=0;for(c=5921;c<=5940;c++)b[c]=0;for(c=6050;c<=6125;c++)b[c]=0;for(c=6244;c<=6275;c++)b[c]=0;for(c=6328;c<=6348;c++)b[c]=0;for(c=6350;c<=6356;c++)b[c]=0;for(c=6366;c<=6372;c++)b[c]=0;for(c=6381;c<=6387;c++)b[c]=0;for(c=6393;c<=6404;c++)b[c]=0;for(c=6480;c<=6483;c++)b[c]=0;for(c=6511;c<=6514;c++)b[c]=0;for(c=6579;c<=6581;c++)b[c]=0;for(c=6619;c<=6624;c++)b[c]=0;for(c=6625;c<=6627;c++)b[c]=2;for(c=6628;c<=6632;c++)b[c]=0;for(c=6634;c<=6637;c++)b[c]=0;for(c=6669;c<=6692;c++)b[c]=0;for(c=6707;c<=6709;c++)b[c]=0;for(c=6720;c<=6723;c++)b[c]=0;for(c=6732;c<=6738;c++)b[c]=0;for(c=6931;c<=6933;c++)b[c]=0;for(c=6956;c<=6959;c++)b[c]=0;for(c=7005;c<=7007;c++)b[c]=0;for(c=7057;c<=7070;c++)b[c]=2;for(c=7074;c<=7082;c++)b[c]=0;for(c=7109;c<=7118;c++)b[c]=0;for(c=7119;c<=7127;c++)b[c]=1;for(c=7374;c<=7376;c++)b[c]=0;for(c=7528;c<=7586;c++)b[c]=0;for(c=7587;c<=7645;c++)b[c]=2;for(c=7692;c<=7696;c++)b[c]=0;for(c=7755;c<=7787;c++)b[c]=0;for(c=7791;c<=7795;c++)b[c]=0;for(c=7799;c<=7801;c++)b[c]=0;for(c=7803;c<=7805;c++)b[c]=0;for(c=7825;c<=7831;c++)b[c]=0;for(c=7845;c<=7859;c++)b[c]=0;for(c=8013;c<=8032;c++)b[c]=0;for(c=8065;c<=8068;c++)b[c]=1;for(c=8518;c<=8529;c++)b[c]=2;for(c=8533;c<=8536;c++)b[c]=2;for(c=8538;c<=8540;c++)b[c]=2;for(c=8677;c<=8679;c++)b[c]=0;for(c=8836;c<=8840;c++)b[c]=0;for(c=8857;c<=8859;c++)b[c]=0;for(c=8908;c<=8910;c++)b[c]=0;for(c=9154;c<=9159;c++)b[c]=0;for(c=9205;c<=9218;c++)b[c]=0;for(c=9271;c<=9273;c++)b[c]=0;for(c=9295;c<=9297;c++)b[c]=0;for(c=9356;c<=9360;c++)b[c]=0;for(c=9404;c<=9407;c++)b[c]=0;for(c=9476;c<=9482;c++)b[c]=0;for(c=9487;c<=9494;c++)b[c]=0;for(c=9697;c<=9699;c++)b[c]=0;for(c=9821;c<=9865;c++)b[c]=0;for(c=10285;c<=10291;c++)b[c]=0;for(c=10314;c<=10317;c++)b[c]=0;for(c=10448;c<=10465;c++)b[c]=0;for(c=11114;c<=11118;c++)b[c]=0;for(c=20004;c<=20032;c++)b[c]=0;for(c=20047;c<=20049;c++)b[c]=0;for(c=20062;c<=20092;c++)b[c]=0;for(c=20135;c<=20138;c++)b[c]=0;for(c=20248;c<=20258;c++)b[c]=0;for(c=20348;c<=20358;c++)b[c]=0;for(c=20436;c<=20440;c++)b[c]=0;for(c=20822;c<=20824;c++)b[c]=0;for(c=20904;c<=20932;c++)b[c]=0;for(c=20934;c<=20936;c++)b[c]=0;for(c=21004;c<=21032;c++)b[c]=0;for(c=21035;c<=21037;c++)b[c]=0;for(c=21095;c<=21097;c++)b[c]=0;for(c=21148;c<=21150;c++)b[c]=0;for(c=21207;c<=21264;c++)b[c]=0;for(c=21307;c<=21364;c++)b[c]=0;for(c=21413;c<=21423;c++)b[c]=0;for(c=21453;c<=21463;c++)b[c]=0;for(c=21473;c<=21483;c++)b[c]=0;for(c=21780;c<=21782;c++)b[c]=0;for(c=21891;c<=21894;c++)b[c]=0;for(c=21896;c<=21899;c++)b[c]=0;for(c=22171;c<=22177;c++)b[c]=0;for(c=22181;c<=22187;c++)b[c]=0;for(c=22191;c<=22197;c++)b[c]=0;for(c=22207;c<=22222;c++)b[c]=0;for(c=22229;c<=22232;c++)b[c]=0;for(c=22234;c<=22236;c++)b[c]=0;for(c=22243;c<=22250;c++)b[c]=0;for(c=22262;c<=22265;c++)b[c]=0;for(c=22307;c<=22322;c++)b[c]=0;for(c=22348;c<=22357;c++)b[c]=0;for(c=22407;c<=22422;c++)b[c]=0;for(c=22462;c<=22465;c++)b[c]=0;for(c=22521;c<=22525;c++)b[c]=0;for(c=22607;c<=22622;c++)b[c]=0;for(c=22641;c<=22646;c++)b[c]=0;for(c=22648;c<=22657;c++)b[c]=0;for(c=22707;c<=22722;c++)b[c]=0;for(c=22762;c<=22765;c++)b[c]=0;for(c=22807;c<=22822;c++)b[c]=0;for(c=22991;c<=22994;c++)b[c]=0;for(c=23028;c<=23038;c++)b[c]=0;for(c=23301;c<=23333;c++)b[c]=2;for(c=23830;c<=23853;c++)b[c]=0;for(c=23866;c<=23872;c++)b[c]=0;for(c=23877;c<=23884;c++)b[c]=0;for(c=23886;c<=23894;c++)b[c]=0;for(c=23946;c<=23948;c++)b[c]=0;for(c=24311;c<=24313;c++)b[c]=0;for(c=24342;c<=24347;c++)b[c]=0;for(c=24370;c<=24374;c++)b[c]=10;for(c=24375;c<=24381;c++)b[c]=0;for(c=24718;c<=24721;c++)b[c]=0;for(c=24817;c<=24821;c++)b[c]=0;for(c=24877;c<=24882;c++)b[c]=0;for(c=24891;c<=24893;c++)b[c]=0;for(c=25391;c<=25395;c++)b[c]=0;for(c=25828;c<=25838;c++)b[c]=0;for(c=26191;c<=26195;c++)b[c]=0;for(c=26391;c<=26393;c++)b[c]=0;for(c=26701;c<=26722;c++)b[c]=0;for(c=26729;c<=26799;c++)b[c]=2;for(c=26801;c<=26803;c++)b[c]=2;for(c=26811;c<=26813;c++)b[c]=2;for(c=26847;c<=26870;c++)b[c]=2;for(c=26891;c<=26899;c++)b[c]=0;for(c=26901;c<=26923;c++)b[c]=0;for(c=26929;c<=26946;c++)b[c]=0;for(c=26948;c<=26998;c++)b[c]=0;for(c=27037;c<=27040;c++)b[c]=0;for(c=27205;c<=27232;c++)b[c]=0;for(c=27258;c<=27260;c++)b[c]=0;for(c=27391;c<=27398;c++)b[c]=0;for(c=27561;c<=27564;c++)b[c]=0;for(c=27571;c<=27574;c++)b[c]=0;for(c=27581;c<=27584;c++)b[c]=0;for(c=27591;c<=27594;c++)b[c]=0;for(c=28191;c<=28193;c++)b[c]=0;for(c=28348;c<=28358;c++)b[c]=0;for(c=28402;c<=28432;c++)b[c]=0;for(c=28462;c<=28492;c++)b[c]=0;for(c=29118;c<=29122;c++)b[c]=0;for(c=29168;c<=29172;c++)b[c]=0;for(c=29177;c<=29185;c++)b[c]=0;for(c=29187;c<=29195;c++)b[c]=0;for(c=29900;c<=29903;c++)b[c]=0;for(c=30161;c<=30179;c++)b[c]=0;for(c=30491;c<=30494;c++)b[c]=0;for(c=30729;c<=30732;c++)b[c]=0;for(c=31251;c<=31259;c++)b[c]=0;for(c=31265;c<=31268;c++)b[c]=0;for(c=31275;c<=31279;c++)b[c]=0;for(c=31281;c<=31297;c++)b[c]=0;for(c=31461;c<=31469;c++)b[c]=0;for(c=31491;c<=31495;c++)b[c]=0;for(c=31917;c<=31922;c++)b[c]=0;for(c=31965;c<=32e3;c++)b[c]=0;for(c=32001;c<=32003;c++)b[c]=2;for(c=32005;c<=32031;c++)b[c]=2;for(c=32033;c<=32060;c++)b[c]=2;for(c=32064;c<=32067;c++)b[c]=2;for(c=32074;c<=32077;c++)b[c]=2;for(c=32081;c<=32086;c++)b[c]=0;for(c=32107;c<=32130;c++)b[c]=0;for(c=32133;c<=32159;c++)b[c]=0;for(c=32164;c<=32167;c++)b[c]=2;for(c=32180;c<=32199;c++)b[c]=0;for(c=32201;c<=32260;c++)b[c]=0;for(c=32301;c<=32360;c++)b[c]=0;for(c=32401;c<=32460;c++)b[c]=0;for(c=32501;c<=32560;c++)b[c]=0;for(c=32601;c<=32662;c++)b[c]=0;for(c=32664;c<=32667;c++)b[c]=2;for(c=32701;c<=32761;c++)b[c]=0;for(c=53001;c<=53004;c++)b[c]=0;for(c=53008;c<=53019;c++)b[c]=0;for(c=53021;c<=53032;c++)b[c]=0;for(c=53034;c<=53037;c++)b[c]=0;for(c=53042;c<=53046;c++)b[c]=0;for(c=53074;c<=53080;c++)b[c]=0;for(c=54001;c<=54004;c++)b[c]=0;for(c=54008;c<=54019;c++)b[c]=0;for(c=54021;c<=54032;c++)b[c]=0;for(c=54034;c<=54037;c++)b[c]=0;for(c=54042;c<=54046;c++)b[c]=0;for(c=54048;c<=54053;c++)b[c]=0;for(c=54074;c<=54080;c++)b[c]=0;for(c=54098;c<=54101;c++)b[c]=0;for(c=102001;c<=102040;c++)b[c]=0;for(c=102042;c<=102063;c++)b[c]=0;for(c=102065;c<=102067;c++)b[c]=0;for(c=102070;c<=102117;c++)b[c]=0;for(c=102122;c<=102216;c++)b[c]=0;for(c=102221;c<=102377;c++)b[c]=0;for(c=102382;c<=102388;c++)b[c]=0;for(c=102389;c<=102398;c++)b[c]=2;for(c=102399;c<=102444;c++)b[c]=0;for(c=102445;c<=102447;c++)b[c]=2;for(c=102448;c<=102458;c++)b[c]=0;for(c=102459;c<=102468;c++)b[c]=2;for(c=102469;c<=102499;c++)b[c]=0;for(c=102500;c<=102519;c++)b[c]=1;for(c=102520;c<=102524;c++)b[c]=0;for(c=102525;c<=102529;c++)b[c]=2;for(c=102530;c<=102588;c++)b[c]=0;for(c=102590;c<=102598;c++)b[c]=0;for(c=102601;c<=102603;c++)b[c]=0;for(c=102605;c<=102628;c++)b[c]=0;for(c=102629;c<=102646;c++)b[c]=2;for(c=102648;c<=102700;c++)b[c]=2;for(c=102701;c<=102703;c++)b[c]=0;for(c=102707;c<=102730;c++)b[c]=2;for(c=102733;c<=102758;c++)b[c]=2;for(c=102767;c<=102900;c++)b[c]=0;for(c=102901;c<=102933;c++)b[c]=2;for(c=102934;c<=102950;c++)b[c]=13;for(c=102951;c<=102955;c++)b[c]=0;for(c=102961;c<=102963;c++)b[c]=0;for(c=102965;c<=102969;c++)b[c]=0;for(c=102971;c<=102973;c++)b[c]=0;for(c=102975;c<=102989;c++)b[c]=0;for(c=102990;c<=102992;c++)b[c]=1;for(c=102997;c<=103002;c++)b[c]=0;for(c=103003;c<=103008;c++)b[c]=2;for(c=103009;c<=103011;c++)b[c]=0;for(c=103012;c<=103014;c++)b[c]=2;for(c=103019;c<=103021;c++)b[c]=0;for(c=103022;c<=103024;c++)b[c]=2;for(c=103029;c<=103031;c++)b[c]=0;for(c=103032;c<=103034;c++)b[c]=2;for(c=103065;c<=103068;c++)b[c]=0;for(c=103074;c<=103076;c++)b[c]=0;for(c=103077;c<=103079;c++)b[c]=1;for(c=103080;c<=103082;c++)b[c]=0;for(c=103083;c<=103085;c++)b[c]=2;for(c=103090;c<=103093;c++)b[c]=0;for(c=103097;c<=103099;c++)b[c]=0;for(c=103100;c<=103102;c++)b[c]=2;for(c=103107;c<=103109;c++)b[c]=0;for(c=103110;c<=103112;c++)b[c]=2;for(c=103113;c<=103116;c++)b[c]=0;for(c=103117;c<=103120;c++)b[c]=2;for(c=103153;c<=103157;c++)b[c]=0;for(c=103158;c<=103162;c++)b[c]=2;for(c=103163;c<=103165;c++)b[c]=0;for(c=103166;c<=103168;c++)b[c]=1;for(c=103169;c<=103171;c++)b[c]=2;for(c=103186;c<=103188;c++)b[c]=0;for(c=103189;c<=103191;c++)b[c]=2;for(c=103192;c<=103195;c++)b[c]=0;for(c=103196;c<=103199;c++)b[c]=2;for(c=103200;c<=103224;c++)b[c]=0;for(c=103225;c<=103227;c++)b[c]=1;for(c=103232;c<=103237;c++)b[c]=0;for(c=103238;c<=103243;c++)b[c]=2;for(c=103244;c<=103246;c++)b[c]=0;for(c=103247;c<=103249;c++)b[c]=2;for(c=103254;c<=103256;c++)b[c]=0;for(c=103257;c<=103259;c++)b[c]=2;for(c=103264;c<=103266;c++)b[c]=0;for(c=103267;c<=103269;c++)b[c]=2;for(c=103300;c<=103375;c++)b[c]=0;for(c=103381;c<=103383;c++)b[c]=0;for(c=103384;c<=103386;c++)b[c]=1;for(c=103387;c<=103389;c++)b[c]=0;for(c=103390;c<=103392;c++)b[c]=2;for(c=103397;c<=103399;c++)b[c]=0;for(c=103400;c<=103471;c++)b[c]=2;for(c=103476;c<=103478;c++)b[c]=0;for(c=103479;c<=103481;c++)b[c]=2;for(c=103486;c<=103488;c++)b[c]=0;for(c=103489;c<=103491;c++)b[c]=2;for(c=103492;c<=103495;c++)b[c]=0;for(c=103496;c<=103499;c++)b[c]=2;for(c=103528;c<=103543;c++)b[c]=0;for(c=103544;c<=103548;c++)b[c]=2;for(c=103549;c<=103551;c++)b[c]=0;for(c=103552;c<=103554;c++)b[c]=1;for(c=103555;c<=103557;c++)b[c]=2;for(c=103558;c<=103560;c++)b[c]=0;for(c=103571;c<=103573;c++)b[c]=0;for(c=103574;c<=103576;c++)b[c]=2;for(c=103577;c<=103580;c++)b[c]=0;for(c=103581;c<=103583;c++)b[c]=2;for(c=103595;c<=103694;c++)b[c]=0;for(c=103696;c<=103699;c++)b[c]=0;for(c=103700;c<=103793;c++)b[c]=2;for(c=103794;c<=103890;c++)b[c]=0;for(c=103891;c<=103896;c++)b[c]=2;for(c=103900;c<=103971;c++)b[c]=2;for(c=103972;c<=103977;c++)b[c]=0;for(c=112e3;c<=112101;c++)b[c]=0;const Sz={102113:!0,102100:!0,3857:!0,3785:!0},xz={4326:!0,3785:!0,3857:!0,102113:!0,102100:!0,104905:!0,104971:!0},x$='PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',Kp=[-20037508342788905e-9,20037508342788905e-9],Yp=[-20037508342787e-6,20037508342787e-6],BC={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:Kp,origin:Yp,dx:1e-5},102100:{wkTemplate:x$,valid:Kp,origin:Yp,dx:1e-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:Kp,origin:Yp,dx:1e-5},3857:{wkTemplate:x$,valid:Kp,origin:Yp,dx:1e-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5}};function it(t,e){if(t===e)return!0;if(t==null||e==null)return!1;if(t.wkid!=null||e.wkid!=null)return t.wkid===e.wkid||El(t)&&El(e)||e.latestWkid!=null&&t.wkid===e.latestWkid||t.latestWkid!=null&&e.wkid===t.latestWkid;const i=t.wkt2??t.wkt,n=e.wkt2??e.wkt;return!(!i||!n)&&i.toUpperCase()===n.toUpperCase()}function Ni(t){return Ct(t)&&t.wkid&&BC[t.wkid]||null}function ag(t){if(!t)return;if(t.wkid)return String(t.wkid);const e=t.wkt||t.wkt2;return JSON.stringify(e?{wkt:e}:{})}function k_(t){if(!Ct(t))return!1;if(t.wkid)return b[t.wkid]==null;const e=t.wkt2||t.wkt;return!!e&&/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(e)}function $z(t){return!(dp(t)||hp(t))}function kh(t){return Ct(t)&&t.wkid===4326}function Vce(t){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(t)}function Wce(t){return Ct(t)&&t.wkid===nn.CGCS2000}function El(t){return Ct(t)&&t.wkid!=null&&Sz[t.wkid]===!0}function Tz(t){return Ct(t)&&t.wkid===32662}function M_(t){return t===nn.GCSMARS2000||t===nn.GCSMARS2000_SPHERE}function dp(t){return Ct(t)&&t.wkid!=null&&M_(t.wkid)}function C_(t){return t===nn.GCSMOON2000}function hp(t){return Ct(t)&&t.wkid!=null&&C_(t.wkid)}function Ez(t){return Ct(t)&&t.wkid!=null&&xz[t.wkid]===!0}function Ct(t){return t!=null&&(t.wkid!=null&&t.wkid>=2e3||t.wkt2!=null||t.wkt!=null)}const kz={wkid:4326,wkt:s_(BC[4326].wkTemplate,{Central_Meridian:"0.0"})},Mz={wkid:102100,latestWkid:3857},Cz={wkid:32662};function I_(t){return{wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${t.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`}}const Iz=I_(Ve),O_=I_(Es),A_=I_(Bo),Oz={wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${Ve.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`};function Az(t){return t!=null&&(dp(t)||it(t,O_))?Es:t!=null&&(hp(t)||it(t,A_))?Bo:Ve}function qce(t){return M_(t)?Es:C_(t)?Bo:Ve}function lg(t){return it(t,Iz)}function Go(t){return lg(t)||it(t,O_)||it(t,A_)}const GC=39.37,Lz=Ve.radius*Math.PI/200,VC=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,yl=b,WC=/UNIT\[([^\]]+)]/i,Pz=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),Rz=Ui()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),lr=t=>t*t,js=t=>t*t*t,Mh={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:lr(.001)},"square-centimeters":{inBaseUnits:lr(.01)},"square-decimeters":{inBaseUnits:lr(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:lr(1e3)},"square-inches":{inBaseUnits:lr(.0254)},"square-feet":{inBaseUnits:lr(.3048)},"square-yards":{inBaseUnits:lr(.9144)},"square-miles":{inBaseUnits:lr(1609.344)},"square-us-feet":{inBaseUnits:lr(1200/3937)},acres:{inBaseUnits:.0015625*lr(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*js(.001)},"cubic-centimeters":{inBaseUnits:1e3*js(.01)},"cubic-decimeters":{inBaseUnits:1e3*js(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*js(1e3)},"cubic-inches":{inBaseUnits:1e3*js(.0254)},"cubic-feet":{inBaseUnits:1e3*js(.3048)},"cubic-yards":{inBaseUnits:1e3*js(.9144)},"cubic-miles":{inBaseUnits:1e3*js(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},Nz=(()=>{const t={};for(const e in Mh)for(const i in Mh[e].units)t[i]=e;return t})();function Dz(t,e,i){return t*Mh[i].units[e].inBaseUnits}function zz(t,e,i){return t/Mh[i].units[e].inBaseUnits}function Sb(t){const e=Nz[t];if(!e)throw new Error("unknown type");return e}function $$(t,e=null){return e=e||Sb(t),Mh[e].baseUnit===t}function Fz(t,e,i){if(e===i)return t;const n=Sb(e);if(n!==Sb(i))throw new Error("incompatible units");const r=$$(e,n)?t:Dz(t,e,n);return $$(i,n)?r:zz(r,i,n)}function Zce(t,e,i){return Fz(t,e,"meters")/(i*Math.PI/180)}function qC(t){return Rz.fromJSON(t.toLowerCase())||null}function T$(t){if(t!=null&&!$z(t))return 1;const e=Jn(t);return e>1e5?1:e}function jz(t){return Jn(t)>=Az(t).metersPerDegree?"meters":JC(t)}function Jn(t,e=Ve.metersPerDegree){return Uz(t,!0)??e}function Uz(t,e=!1){const i=(t==null?void 0:t.wkid)??null,n=(t==null?void 0:t.wkt2)??(t==null?void 0:t.wkt)??null;let r=null;if(i){if(M_(i))return Es.metersPerDegree;if(C_(i))return Bo.metersPerDegree;r=yl.values[yl[i]],!r&&e&&Pz.has(i)&&(r=Lz)}else n&&(YC(n)?r=E$(VC.exec(n),r):KC(n)&&(r=E$(WC.exec(n),r)));return r}function Jce(t){return k_(t)?1:Jn(t)}function E$(t,e){return t!=null&&t[1]?ZC(t[1]):e}function ZC(t){return parseFloat(t.split(",")[1])}function JC(t){const e=(t==null?void 0:t.wkid)??null,i=(t==null?void 0:t.wkt2)??(t==null?void 0:t.wkt)??null;let n=null;if(e)n=yl.units[yl[e]];else if(i){const r=YC(i)?VC:KC(i)?WC:null;if(r){const s=r.exec(i);s!=null&&s[1]&&(n=Bz(s[1]))}}return n!=null?qC(n):null}function KC(t){return/^GEOCCS/i.test(t)}function YC(t){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(t)}const Hz=1e-7;function Bz(t){const e=/[\\"']{1}([^\\"']+)/.exec(t);let i=e==null?void 0:e[1];if(!i||!yl.units.includes(i)){const n=ZC(t);i=null;const r=yl.values;for(let s=0;s<r.length;++s)if(Math.abs(n-r[s])<Hz){i=yl.units[s];break}}return i}const Gz={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},Vz={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},Wz={esriDUDecimalDegrees:"degrees",esriDURadians:"radians"},Kce=Ui()(Gz),Yce=Ui()(Vz),Xce=Ui()(Wz);function Ae(t,e,i){let n,r;return e===void 0?(r=t,n=[void 0]):typeof e!="string"?(r=t,n=[void 0],i=e):(r=e,n=Array.isArray(t)?t:[t]),(s,o)=>{const a=s.constructor.prototype;for(const l of n){const u=uC(s,l,r);u.write&&typeof u.write=="object"||(u.write={}),i&&(u.write.target=i),u.write.writer=a[o]}}}var pr;let Se=pr=class extends te{static fromJSON(t){if(!t)return null;if(t.wkid){if(t.wkid===102100)return pr.WebMercator;if(t.wkid===4326)return pr.WGS84}const e=new pr;return e.read(t),e}constructor(t){super(t),this.latestWkid=null,this.wkid=null,this.wkt=null,this.wkt2=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(t){return t&&typeof t=="object"?t:{[typeof t=="string"?"wkt":"wkid"]:t}}get isWGS84(){return kh(this)}get isWebMercator(){return El(this)}get isGeographic(){return k_(this)}get isWrappable(){return Ez(this)}get metersPerUnit(){return Jn(this)}get unit(){return JC(this)||(this.isGeographic?"degrees":null)}writeWkt(t,e){this.wkid||(e.wkt=t)}clone(){if(this===pr.WGS84)return pr.WGS84;if(this===pr.WebMercator)return pr.WebMercator;const t=new pr;return this.wkid!=null?(t.wkid=this.wkid,this.latestWkid!=null&&(t.latestWkid=this.latestWkid),this.vcsWkid!=null&&(t.vcsWkid=this.vcsWkid),this.latestVcsWkid!=null&&(t.latestVcsWkid=this.latestVcsWkid)):(this.wkt!=null&&(t.wkt=this.wkt),this.wkt2!=null&&(t.wkt2=this.wkt2)),this.imageCoordinateSystem&&(t.imageCoordinateSystem=z(this.imageCoordinateSystem)),t}equals(t){if(t==null)return!1;if(this.imageCoordinateSystem||t.imageCoordinateSystem){if(this.imageCoordinateSystem==null||t.imageCoordinateSystem==null)return!1;const{id:e,referenceServiceName:i}=t.imageCoordinateSystem,{geodataXform:n}=t.imageCoordinateSystem,r=this.imageCoordinateSystem;return e==null||n?JSON.stringify(r)===JSON.stringify(t.imageCoordinateSystem):i?r.id===e&&r.referenceServiceName===i:r.id===e}return it(this,t)}toJSON(t){return this.write(void 0,t)}};Se.GCS_NAD_1927=null,Se.WGS84=null,Se.WebMercator=null,Se.PlateCarree=null,d([h({readOnly:!0})],Se.prototype,"isWGS84",null),d([h({readOnly:!0})],Se.prototype,"isWebMercator",null),d([h({readOnly:!0})],Se.prototype,"isGeographic",null),d([h({readOnly:!0})],Se.prototype,"isWrappable",null),d([h({type:ut,json:{write:!0}})],Se.prototype,"latestWkid",void 0),d([h({readOnly:!0})],Se.prototype,"metersPerUnit",null),d([h({readOnly:!0})],Se.prototype,"unit",null),d([h({type:ut,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkt==null}}}}}}})],Se.prototype,"wkid",void 0),d([h({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkid==null}}}}}}})],Se.prototype,"wkt",void 0),d([Ae("wkt"),Ae("web-scene","wkt")],Se.prototype,"writeWkt",null),d([h({type:String,json:{write:!1}})],Se.prototype,"wkt2",void 0),d([h({type:ut,json:{write:!0}})],Se.prototype,"vcsWkid",void 0),d([h({type:ut,json:{write:!0}})],Se.prototype,"latestVcsWkid",void 0),d([h()],Se.prototype,"imageCoordinateSystem",void 0),Se=pr=d([E("esri.geometry.SpatialReference")],Se),Se.prototype.toJSON.isDefaultToJSON=!0,Se.GCS_NAD_1927=new Se({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'}),Se.WGS84=new Se(kz),Se.WebMercator=new Se(Mz),Se.PlateCarree=new Se(Cz),Object.freeze&&(Object.freeze(Se.GCS_NAD_1927),Object.freeze(Se.WGS84),Object.freeze(Se.WebMercator));const ge=Se,qz=57.29577951308232,Zz=.017453292519943;function k$(t){return t*qz}function M$(t){return t*Zz}function C$(t){return t/Ve.radius}function I$(t){return Math.PI/2-2*Math.atan(Math.exp(-t/Ve.radius))}function xb(t){return t.wkid!=null||t.wkt!=null}const A0=[0,0];function cg(t,e,i,n,r){const s=t,o=r;if(o.spatialReference=i,"x"in s&&"x"in o)[o.x,o.y]=e(s.x,s.y,A0,n);else if("xmin"in s&&"xmin"in o)[o.xmin,o.ymin]=e(s.xmin,s.ymin,A0,n),[o.xmax,o.ymax]=e(s.xmax,s.ymax,A0,n);else if("paths"in s&&"paths"in o||"rings"in s&&"rings"in o){const a="paths"in s?s.paths:s.rings,l=[];let u;for(let p=0;p<a.length;p++){const f=a[p];u=[],l.push(u);for(let m=0;m<f.length;m++)u.push(e(f[m][0],f[m][1],[0,0],n)),f[m].length>2&&u[m].push(f[m][2]),f[m].length>3&&u[m].push(f[m][3])}"paths"in o?o.paths=l:o.rings=l}else if("points"in s&&"points"in o){const a=s.points,l=[];for(let u=0;u<a.length;u++)l[u]=e(a[u][0],a[u][1],[0,0],n),a[u].length>2&&l[u].push(a[u][2]),a[u].length>3&&l[u].push(a[u][3]);o.points=l}return r}function Kf(t,e){const i=t&&(xb(t)?t:t.spatialReference),n=e&&(xb(e)?e:e.spatialReference);return!(t&&"type"in t&&t.type==="mesh"||e&&"type"in e&&e.type==="mesh"||!i||!n)&&(!!it(n,i)||El(n)&&kh(i)||El(i)&&kh(n))}function Oy(t,e){if(t==null)return null;const i=t.spatialReference,n=e&&(xb(e)?e:e.spatialReference);return Kf(i,n)?it(i,n)?z(t):El(n)?cg(t,Dc,ge.WebMercator,!1,z(t)):kh(n)?cg(t,ih,ge.WGS84,!1,z(t)):null:null}function Dc(t,e,i=[0,0]){e>89.99999?e=89.99999:e<-89.99999&&(e=-89.99999);const n=M$(e);return i[0]=M$(t)*Ve.radius,i[1]=Ve.halfSemiMajorAxis*Math.log((1+Math.sin(n))/(1-Math.sin(n))),i}function ih(t,e,i=[0,0],n=!1){const r=k$(t/Ve.radius);return i[0]=n?r:r-360*Math.floor((r+180)/360),i[1]=k$(Math.PI/2-2*Math.atan(Math.exp(-e/Ve.radius))),i}function No(t,e=!1,i=z(t)){return cg(t,Dc,ge.WebMercator,e,i)}function ol(t,e=!1,i=z(t)){return cg(t,ih,ge.WGS84,e,i)}const Vo=Xw({center:{x:0,y:0},scale:0,extent:{}}),Jz=Qw(Vo,t=>ol(t.center)),Kz=Qw(Vo,t=>JSON.stringify(t.extent,null,4)),Yz=Qw(Vo,t=>{const e=ol(t.extent);return JSON.stringify(e,null,4)}),XC=Xw("full-size"),Vr=t=>{let e=class extends t{clone(){var l;const i=Ho(this);PM(i,"unable to clone instance of non-accessor class");const n=i.metadatas,r=i.store,s={},o=new Map;for(const u in n){const p=n[u],f=r==null?void 0:r.originOf(u),m=p.clonable;if(p.readOnly||m===!1||f!==_e.USER&&f!==_e.DEFAULTS&&f!==_e.WEB_MAP&&f!==_e.WEB_SCENE)continue;const g=this[u];let y=null;y=typeof m=="function"?m(g):m==="reference"?g:Wv(g),g!=null&&y==null||(f===_e.DEFAULTS?o.set(u,y):s[u]=y)}const a=new(Object.getPrototypeOf(this)).constructor(s);if(o.size){const u=(l=Ho(a))==null?void 0:l.store;if(u)for(const[p,f]of o)u.set(p,f,_e.DEFAULTS)}return a}};return e=d([E("esri.core.Clonable")],e),e};let O$=class extends Vr(Q){};O$=d([E("esri.core.Clonable")],O$);function dn(){return[0,0,0]}function Xz(t){return[t[0],t[1],t[2]]}function pp(t,e,i){return[t,e,i]}function Qz(t,e=dn()){const i=Math.min(3,t.length);for(let n=0;n<i;++n)e[n]=t[n];return e}function eF(t,e){return new Float64Array(t,e,3)}function QC(){return dn()}function eI(){return pp(1,1,1)}function tI(){return pp(1,0,0)}function iI(){return pp(0,1,0)}function nI(){return pp(0,0,1)}const tF=QC(),iF=eI(),nF=tI(),rF=iI(),sF=nI();Object.freeze(Object.defineProperty({__proto__:null,ONES:iF,UNIT_X:nF,UNIT_Y:rF,UNIT_Z:sF,ZEROS:tF,clone:Xz,create:dn,createView:eF,fromArray:Qz,fromValues:pp,ones:eI,unitX:tI,unitY:iI,unitZ:nI,zeros:QC},Symbol.toStringTag,{value:"Module"}));let L_=1e-6;function hn(){return L_}function oF(t){L_=t}const Ay=Math.random,aF=Math.PI/180,lF=180/Math.PI;function P_(t){return t*aF}function cF(t){return t*lF}function uF(t,e){return Math.abs(t-e)<=L_*Math.max(1,Math.abs(t),Math.abs(e))}Object.freeze(Object.defineProperty({__proto__:null,RANDOM:Ay,equals:uF,getEpsilon:hn,setEpsilon:oF,toDegree:cF,toRadian:P_},Symbol.toStringTag,{value:"Module"}));function R_(t){const e=t[0],i=t[1],n=t[2];return Math.sqrt(e*e+i*i+n*n)}function ug(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function rI(t,e,i,n){return t[0]=e,t[1]=i,t[2]=n,t}function sI(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t}function nh(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t}function oI(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t[2]=e[2]*i[2],t}function aI(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t[2]=e[2]/i[2],t}function dF(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function hF(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function pF(t,e){return t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t}function fF(t,e){return t[0]=Math.sign(e[0]),t[1]=Math.sign(e[1]),t[2]=Math.sign(e[2]),t}function mF(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t[2]=Math.min(e[2],i[2]),t}function gF(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t[2]=Math.max(e[2],i[2]),t}function yF(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function N_(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t}function vF(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t[2]=e[2]+i[2]*n,t}function lI(t,e){const i=e[0]-t[0],n=e[1]-t[1],r=e[2]-t[2];return Math.sqrt(i*i+n*n+r*r)}function cI(t,e){const i=e[0]-t[0],n=e[1]-t[1],r=e[2]-t[2];return i*i+n*n+r*r}function uI(t){const e=t[0],i=t[1],n=t[2];return e*e+i*i+n*n}function bF(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function wF(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function $b(t,e){const i=e[0],n=e[1],r=e[2];let s=i*i+n*n+r*r;return s>0&&(s=1/Math.sqrt(s),t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s),t}function dg(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function _F(t,e,i){const n=e[0],r=e[1],s=e[2],o=i[0],a=i[1],l=i[2];return t[0]=r*l-s*a,t[1]=s*o-n*l,t[2]=n*a-r*o,t}function SF(t,e,i,n){const r=e[0],s=e[1],o=e[2];return t[0]=r+n*(i[0]-r),t[1]=s+n*(i[1]-s),t[2]=o+n*(i[2]-o),t}function xF(t,e,i,n,r,s){const o=s*s,a=o*(2*s-3)+1,l=o*(s-2)+s,u=o*(s-1),p=o*(3-2*s);return t[0]=e[0]*a+i[0]*l+n[0]*u+r[0]*p,t[1]=e[1]*a+i[1]*l+n[1]*u+r[1]*p,t[2]=e[2]*a+i[2]*l+n[2]*u+r[2]*p,t}function $F(t,e,i,n,r,s){const o=1-s,a=o*o,l=s*s,u=a*o,p=3*s*a,f=3*l*o,m=l*s;return t[0]=e[0]*u+i[0]*p+n[0]*f+r[0]*m,t[1]=e[1]*u+i[1]*p+n[1]*f+r[1]*m,t[2]=e[2]*u+i[2]*p+n[2]*f+r[2]*m,t}function TF(t,e){e=e||1;const i=Ay,n=2*i()*Math.PI,r=2*i()-1,s=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*s,t[1]=Math.sin(n)*s,t[2]=r*e,t}function EF(t,e,i){const n=e[0],r=e[1],s=e[2];return t[0]=i[0]*n+i[4]*r+i[8]*s+i[12],t[1]=i[1]*n+i[5]*r+i[9]*s+i[13],t[2]=i[2]*n+i[6]*r+i[10]*s+i[14],t}function kF(t,e,i){const n=e[0],r=e[1],s=e[2];return t[0]=n*i[0]+r*i[3]+s*i[6],t[1]=n*i[1]+r*i[4]+s*i[7],t[2]=n*i[2]+r*i[5]+s*i[8],t}function MF(t,e,i){const n=i[0],r=i[1],s=i[2],o=i[3],a=e[0],l=e[1],u=e[2];let p=r*u-s*l,f=s*a-n*u,m=n*l-r*a,g=r*m-s*f,y=s*p-n*m,v=n*f-r*p;const w=2*o;return p*=w,f*=w,m*=w,g*=2,y*=2,v*=2,t[0]=a+p+g,t[1]=l+f+y,t[2]=u+m+v,t}function CF(t,e,i,n){const r=[],s=[];return r[0]=e[0]-i[0],r[1]=e[1]-i[1],r[2]=e[2]-i[2],s[0]=r[0],s[1]=r[1]*Math.cos(n)-r[2]*Math.sin(n),s[2]=r[1]*Math.sin(n)+r[2]*Math.cos(n),t[0]=s[0]+i[0],t[1]=s[1]+i[1],t[2]=s[2]+i[2],t}function IF(t,e,i,n){const r=[],s=[];return r[0]=e[0]-i[0],r[1]=e[1]-i[1],r[2]=e[2]-i[2],s[0]=r[2]*Math.sin(n)+r[0]*Math.cos(n),s[1]=r[1],s[2]=r[2]*Math.cos(n)-r[0]*Math.sin(n),t[0]=s[0]+i[0],t[1]=s[1]+i[1],t[2]=s[2]+i[2],t}function OF(t,e,i,n){const r=[],s=[];return r[0]=e[0]-i[0],r[1]=e[1]-i[1],r[2]=e[2]-i[2],s[0]=r[0]*Math.cos(n)-r[1]*Math.sin(n),s[1]=r[0]*Math.sin(n)+r[1]*Math.cos(n),s[2]=r[2],t[0]=s[0]+i[0],t[1]=s[1]+i[1],t[2]=s[2]+i[2],t}function AF(t,e){ug(Xp,t),ug(Qp,e),$b(Xp,Xp),$b(Qp,Qp);const i=dg(Xp,Qp);return i>1?0:i<-1?Math.PI:Math.acos(i)}const Xp=dn(),Qp=dn();function LF(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function PF(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function RF(t,e){if(t===e)return!0;const i=t[0],n=t[1],r=t[2],s=e[0],o=e[1],a=e[2],l=hn();return Math.abs(i-s)<=l*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(n-o)<=l*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-a)<=l*Math.max(1,Math.abs(r),Math.abs(a))}function NF(t,e,i){const n=i[0]-e[0],r=i[1]-e[1],s=i[2]-e[2];let o=n*n+r*r+s*s;return o>0?(o=1/Math.sqrt(o),t[0]=n*o,t[1]=r*o,t[2]=s*o,t):(t[0]=0,t[1]=0,t[2]=0,t)}const DF=nh,zF=oI,FF=aI,jF=lI,UF=cI,HF=R_,BF=uI;Object.freeze(Object.defineProperty({__proto__:null,abs:pF,add:sI,angle:AF,bezier:$F,ceil:dF,copy:ug,cross:_F,direction:NF,dist:jF,distance:lI,div:FF,divide:aI,dot:dg,equals:RF,exactEquals:PF,floor:hF,hermite:xF,inverse:wF,len:HF,length:R_,lerp:SF,max:gF,min:mF,mul:zF,multiply:oI,negate:bF,normalize:$b,random:TF,rotateX:CF,rotateY:IF,rotateZ:OF,round:yF,scale:N_,scaleAndAdd:vF,set:rI,sign:fF,sqrDist:UF,sqrLen:BF,squaredDistance:cI,squaredLength:uI,str:LF,sub:DF,subtract:nh,transformMat3:kF,transformMat4:EF,transformQuat:MF},Symbol.toStringTag,{value:"Module"}));function GF(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function VF(t,e,i,n,r){return t[0]=e,t[1]=i,t[2]=n,t[3]=r,t}function WF(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t}function dI(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t}function hI(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t[2]=e[2]*i[2],t[3]=e[3]*i[3],t}function pI(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t[2]=e[2]/i[2],t[3]=e[3]/i[3],t}function qF(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t}function ZF(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t}function JF(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t[2]=Math.min(e[2],i[2]),t[3]=Math.min(e[3],i[3]),t}function KF(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t[2]=Math.max(e[2],i[2]),t[3]=Math.max(e[3],i[3]),t}function YF(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t}function XF(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t}function QF(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t[2]=e[2]+i[2]*n,t[3]=e[3]+i[3]*n,t}function fI(t,e){const i=e[0]-t[0],n=e[1]-t[1],r=e[2]-t[2],s=e[3]-t[3];return Math.sqrt(i*i+n*n+r*r+s*s)}function mI(t,e){const i=e[0]-t[0],n=e[1]-t[1],r=e[2]-t[2],s=e[3]-t[3];return i*i+n*n+r*r+s*s}function gI(t){const e=t[0],i=t[1],n=t[2],r=t[3];return Math.sqrt(e*e+i*i+n*n+r*r)}function yI(t){const e=t[0],i=t[1],n=t[2],r=t[3];return e*e+i*i+n*n+r*r}function e8(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}function t8(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}function i8(t,e){const i=e[0],n=e[1],r=e[2],s=e[3];let o=i*i+n*n+r*r+s*s;return o>0&&(o=1/Math.sqrt(o),t[0]=i*o,t[1]=n*o,t[2]=r*o,t[3]=s*o),t}function n8(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function r8(t,e,i,n){const r=e[0],s=e[1],o=e[2],a=e[3];return t[0]=r+n*(i[0]-r),t[1]=s+n*(i[1]-s),t[2]=o+n*(i[2]-o),t[3]=a+n*(i[3]-a),t}function s8(t,e){const i=Ay;let n,r,s,o,a,l;e=e||1;do n=2*i()-1,r=2*i()-1,a=n*n+r*r;while(a>=1);do s=2*i()-1,o=2*i()-1,l=s*s+o*o;while(l>=1);const u=Math.sqrt((1-a)/l);return t[0]=e*n,t[1]=e*r,t[2]=e*s*u,t[3]=e*o*u,t}function o8(t,e,i){const n=e[0],r=e[1],s=e[2],o=e[3];return t[0]=i[0]*n+i[4]*r+i[8]*s+i[12]*o,t[1]=i[1]*n+i[5]*r+i[9]*s+i[13]*o,t[2]=i[2]*n+i[6]*r+i[10]*s+i[14]*o,t[3]=i[3]*n+i[7]*r+i[11]*s+i[15]*o,t}function a8(t,e,i){const n=e[0],r=e[1],s=e[2],o=i[0],a=i[1],l=i[2],u=i[3],p=u*n+a*s-l*r,f=u*r+l*n-o*s,m=u*s+o*r-a*n,g=-o*n-a*r-l*s;return t[0]=p*u+g*-o+f*-l-m*-a,t[1]=f*u+g*-a+m*-o-p*-l,t[2]=m*u+g*-l+p*-a-f*-o,t[3]=e[3],t}function l8(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function c8(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function u8(t,e){const i=t[0],n=t[1],r=t[2],s=t[3],o=e[0],a=e[1],l=e[2],u=e[3],p=hn();return Math.abs(i-o)<=p*Math.max(1,Math.abs(i),Math.abs(o))&&Math.abs(n-a)<=p*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-l)<=p*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(s-u)<=p*Math.max(1,Math.abs(s),Math.abs(u))}const d8=dI,h8=hI,p8=pI,f8=fI,m8=mI,g8=gI,y8=yI;Object.freeze(Object.defineProperty({__proto__:null,add:WF,ceil:qF,copy:GF,dist:f8,distance:fI,div:p8,divide:pI,dot:n8,equals:u8,exactEquals:c8,floor:ZF,inverse:t8,len:g8,length:gI,lerp:r8,max:KF,min:JF,mul:h8,multiply:hI,negate:e8,normalize:i8,random:s8,round:YF,scale:XF,scaleAndAdd:QF,set:VF,sqrDist:m8,sqrLen:y8,squaredDistance:mI,squaredLength:yI,str:l8,sub:d8,subtract:dI,transformMat4:o8,transformQuat:a8},Symbol.toStringTag,{value:"Module"}));const A$=new Float32Array(1);function eue(t){--t;for(let e=1;e<32;e<<=1)t|=t>>e;return t+1}function Vn(t,e,i){return Math.min(Math.max(t,e),i)}function tue(t){return(t&t-1)==0}function iue(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,++t}function v8(t,e,i){return t+(e-t)*i}function nue(t,e,i,n,r){return v8(n,r,(t-e)/(i-e))}function hd(t){return t*Math.PI/180}function vI(t){return 180*t/Math.PI}function rue(t){return Math.acos(Vn(t,-1,1))}function bI(t){return Math.asin(Vn(t,-1,1))}function Do(t,e,i=1e-6){return t===e?!0:!Number.isFinite(t)||!Number.isFinite(e)?!1:(t>e?t-e:e-t)<=i}const hg=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function b8(t){return hg.setFloat64(0,t),hg.getBigInt64(0)}function w8(t){return hg.setBigInt64(0,t),hg.getFloat64(0)}const L0=BigInt("1000000");_8(1);function _8(t){const e=b8(t=Math.abs(t)),i=w8(e<=L0?L0:e-L0);return Math.abs(t-i)}function S8(t,e,i=1e-6){if(t===e)return!0;if(!Number.isFinite(t)||!Number.isFinite(e))return!1;const n=Math.abs(t-e),r=Math.abs(t),s=Math.abs(e);if(t===0||e===0||r<1e-12&&s<1e-12){if(n>.01*i)return!1}else if(n/(r+s)>i)return!1;return!0}function x8(t){return wI(Math.max(-Tb,Math.min(t,Tb)))}function wI(t){return A$[0]=t,A$[0]}function sue(t,e){const i=R_(t),n=bI(t[2]/i),r=Math.atan2(t[1]/i,t[0]/i);return rI(e,i,n,r),e}function oue(t){const e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[3]*t[3]+t[4]*t[4]+t[5]*t[5],n=t[6]*t[6]+t[7]*t[7]+t[8]*t[8];return!(Do(e,1)&&Do(i,1)&&Do(n,1))}const Tb=wI(34028234663852886e22);let D_=class{constructor(e,i){this.min=e,this.max=i,this.range=i-e}ndiff(e,i=0){return Math.ceil((e-i)/this.range)*this.range+i}_normalize(e,i,n,r=0,s=!1){return(n-=r)<e?n+=this.ndiff(e-n):n>i&&(n-=this.ndiff(n-i)),s&&n===i&&(n=e),n+r}normalize(e,i=0,n=!1){return this._normalize(this.min,this.max,e,i,n)}clamp(e,i=0){return Vn(e-i,this.min,this.max)+i}monotonic(e,i,n){return e<i?i:i+this.ndiff(e-i,n)}minimalMonotonic(e,i,n){return this._normalize(e,e+this.range,i,n)}center(e,i,n){return i=this.monotonic(e,i,n),this.normalize((e+i)/2,n)}diff(e,i,n){return this.monotonic(e,i,n)-e}shortestSignedDiff(e,i){e=this.normalize(e);const n=(i=this.normalize(i))-e,r=i<e?this.minimalMonotonic(e,i)-e:i-this.minimalMonotonic(i,e);return Math.abs(n)<Math.abs(r)?n:r}contains(e,i,n){return i=this.minimalMonotonic(e,i),(n=this.minimalMonotonic(e,n))>e&&n<i}};function z_(t){for(const e in t){const i=t[e];i instanceof Function&&(t[e]=i.bind(t))}return t}z_(new D_(0,2*Math.PI));z_(new D_(-Math.PI,Math.PI));const $8=z_(new D_(0,360)),T8=Object.prototype.toString;function E8(t){const e="__accessorMetadata__"in t?It(t):t;return function(...i){if(i.push(e),typeof i[2]=="number")throw new Error("Using @cast has parameter decorator is not supported since 4.16");return k8.apply(this,i)}}function k8(t,e,i,n){xy(t,e).cast=n}function M8(t){return(e,i)=>{xy(e,t).cast=e[i]}}function ei(...t){if(t.length!==3||typeof t[1]!="string")return t.length===1&&T8.call(t[0])==="[object Function]"?E8(t[0]):t.length===1&&typeof t[0]=="string"?M8(t[0]):void 0}function Re(t,e,i){let n,r;return e===void 0||Array.isArray(e)?(r=t,i=e,n=[void 0]):(r=e,n=Array.isArray(t)?t:[t]),(s,o)=>{const a=s.constructor.prototype;n.forEach(l=>{const u=uC(s,l,r);u.read&&typeof u.read=="object"||(u.read={}),u.read.reader=a[o],i&&(u.read.source=(u.read.source||[]).concat(i))})}}let fr=class extends te{constructor(...e){super(...e),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=ge.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(e,i){if(e instanceof ge)return e;if(e!=null){const n=new ge;return n.read(e,i),n}return e}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(e){return this.cache[e]}setCacheValue(e,i){this.cache[e]=i}};d([h()],fr.prototype,"type",void 0),d([h({readOnly:!0})],fr.prototype,"cache",null),d([h({readOnly:!0})],fr.prototype,"extent",null),d([h({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],fr.prototype,"hasM",void 0),d([h({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],fr.prototype,"hasZ",void 0),d([h({type:ge,json:{write:!0},value:ge.WGS84})],fr.prototype,"spatialReference",void 0),d([Re("spatialReference")],fr.prototype,"readSpatialReference",null),fr=d([E("esri.geometry.Geometry")],fr);const Qo=fr;function C8(t,e){const i=t.x-e.x,n=t.y-e.y,r=t.hasZ&&e.hasZ?t.z-e.z:0;return Math.sqrt(i*i+n*n+r*r)}var Yf;const Gu=[0,0];function L$(t){return t&&(t.declaredClass==="esri.geometry.SpatialReference"||t.wkid!=null)}let ii=Yf=class extends Qo{static copy(t,e){e._set("x",t._get("x")),e._set("y",t._get("y")),e._set("z",t._get("z")),e._set("m",t._get("m"));const i=t._get("spatialReference");e._set("spatialReference",Object.isFrozen(i)?i:i.clone())}constructor(...t){super(...t),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(t,e,i,n,r){let s;if(Array.isArray(t))s=t,r=e,t=s[0],e=s[1],i=s[2],n=s[3];else if(t&&typeof t=="object"){if(s=t,t=s.x!=null?s.x:s.longitude,e=s.y!=null?s.y:s.latitude,i=s.z,n=s.m,(r=s.spatialReference)&&r.declaredClass!=="esri.geometry.SpatialReference"&&(r=new ge(r)),s.longitude!=null||s.latitude!=null){if(s.longitude==null)G.getLogger(this).warn(".longitude=","Latitude was defined without longitude");else if(s.latitude==null)G.getLogger(this).warn(".latitude=","Longitude was defined without latitude");else if(!s.declaredClass&&r&&r.isWebMercator){const a=Dc(s.longitude,s.latitude,Gu);t=a[0],e=a[1]}}}else L$(i)?(r=i,i=null):L$(n)&&(r=n,n=null);const o={x:t,y:e};return o.x==null&&o.y!=null?G.getLogger(this).warn(".y=","Y coordinate was defined without an X coordinate"):o.y==null&&o.x!=null&&G.getLogger(this).warn(".x=","X coordinate was defined without a Y coordinate"),r!=null&&(o.spatialReference=r),i!=null&&(o.z=i),n!=null&&(o.m=n),o}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return this.m!==void 0}set hasM(t){t!==(this._get("m")!==void 0)&&(this._set("m",t?0:void 0),this._set("hasM",t))}get hasZ(){return this.z!==void 0}set hasZ(t){t!==(this._get("z")!==void 0)&&(this._set("z",t?0:void 0),this._set("hasZ",t))}get latitude(){const{spatialReference:t,x:e,y:i}=this;if(t){if(t.isWebMercator)return ih(e,i,Gu)[1];if(t.isGeographic)return i}return null}set latitude(t){const{spatialReference:e,x:i}=this;t!=null&&e&&(e.isWebMercator?this._set("y",Dc(i,t,Gu)[1]):e.isGeographic&&this._set("y",t),this._set("latitude",t))}get longitude(){const{x:t,y:e,spatialReference:i}=this;if(i){if(i.isWebMercator)return ih(t,e,Gu)[0];if(i.isGeographic)return t}return null}set longitude(t){const{y:e,spatialReference:i}=this;t!=null&&i&&(i.isWebMercator?this._set("x",Dc(t,e,Gu)[0]):i.isGeographic&&this._set("x",t),this._set("longitude",t))}writeX(t,e,i){e[i]=isNaN(t)?"NaN":t}readX(t){return typeof t=="string"?NaN:t}clone(){const t=new Yf;return t.x=this.x,t.y=this.y,t.z=this.z,t.m=this.m,t.spatialReference=this.spatialReference,t}copy(t){return Yf.copy(t,this),this}equals(t){if(t==null)return!1;const{x:e,y:i,z:n,m:r,spatialReference:s}=this,{z:o,m:a}=t;let{x:l,y:u,spatialReference:p}=t;if(!s.equals(p))if(s.isWebMercator&&p.isWGS84)[l,u]=Dc(l,u),p=s;else{if(!s.isWGS84||!p.isWebMercator)return!1;[l,u]=ih(l,u),p=s}return e===l&&i===u&&n===o&&r===a&&s.wkid===p.wkid}offset(t,e,i){return this.x+=t,this.y+=e,i!=null&&(this.z=(this.z??0)+i),this}normalize(){if(!this.spatialReference)return this;const t=Ni(this.spatialReference);if(!t)return this;let e=this.x;const[i,n]=t.valid,r=2*n;let s;return e>n?(s=Math.ceil(Math.abs(e-n)/r),e-=s*r):e<i&&(s=Math.ceil(Math.abs(e-i)/r),e+=s*r),this._set("x",e),this}distance(t){return C8(this,t)}toArray(){const t=this.hasZ,e=this.hasM;return t&&e?[this.x,this.y,this.z,this.m]:t?[this.x,this.y,this.z]:e?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(t){return this.write({},t)}};d([h({readOnly:!0})],ii.prototype,"cache",null),d([h({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],ii.prototype,"hasM",null),d([h({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],ii.prototype,"hasZ",null),d([h({type:Number})],ii.prototype,"latitude",null),d([h({type:Number})],ii.prototype,"longitude",null),d([h({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),ei(t=>isNaN(t)?t:Pn(t))],ii.prototype,"x",void 0),d([Ae("x")],ii.prototype,"writeX",null),d([Re("x")],ii.prototype,"readX",null),d([h({type:Number,json:{write:!0}})],ii.prototype,"y",void 0),d([h({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],ii.prototype,"z",void 0),d([h({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],ii.prototype,"m",void 0),ii=Yf=d([E("esri.geometry.Point")],ii),ii.prototype.toJSON.isDefaultToJSON=!0;const ne=ii;let os=class extends Vr(te){constructor(...e){super(...e),this.position=new ne([0,0,0]),this.heading=0,this.tilt=0,this.fov=55}normalizeCtorArgs(e,i,n,r){if(e&&typeof e=="object"&&("x"in e||Array.isArray(e))){const s={position:e};return i!=null&&(s.heading=i),n!=null&&(s.tilt=n),r!=null&&(s.fov=r),s}return e}writePosition(e,i,n,r){const s=e.clone();s.x=Pn(e.x||0),s.y=Pn(e.y||0),s.z=e.hasZ?Pn(e.z||0):e.z,i[n]=s.write({},r)}readPosition(e,i){const n=new ne;return n.read(e,i),n.x=Pn(n.x||0),n.y=Pn(n.y||0),n.z=n.hasZ?Pn(n.z||0):n.z,n}equals(e){return e!=null&&this.tilt===e.tilt&&this.heading===e.heading&&this.fov===e.fov&&this.position.equals(e.position)}};d([h({type:ne,json:{write:{isRequired:!0}}})],os.prototype,"position",void 0),d([Ae("position")],os.prototype,"writePosition",null),d([Re("position")],os.prototype,"readPosition",null),d([h({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),ei(t=>$8.normalize(Pn(t)))],os.prototype,"heading",void 0),d([h({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),ei(t=>Vn(Pn(t),-180,180))],os.prototype,"tilt",void 0),d([h({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],os.prototype,"fov",void 0),os=d([E("esri.Camera")],os);const I8=os,P0=[0,0];function Ly(t,e){return e!=null&&ai(t,e.x,e.y,e.z)}function uue(t,e){if(!e.points||e.points.length)return!1;for(const i of e.points)if(!cu(t,i))return!1;return!0}function O8(t,e){const{xmin:i,ymin:n,zmin:r,xmax:s,ymax:o,zmax:a}=e;return t.hasZ&&e.hasZ?ai(t,i,n,r)&&ai(t,i,o,r)&&ai(t,s,o,r)&&ai(t,s,n,r)&&ai(t,i,n,a)&&ai(t,i,o,a)&&ai(t,s,o,a)&&ai(t,s,n,a):ai(t,i,n)&&ai(t,i,o)&&ai(t,s,o)&&ai(t,s,n)}function cu(t,e){return ai(t,e[0],e[1])}function A8(t,e){return ai(t,e[0],e[1],e[2])}function ai(t,e,i,n){return e>=t.xmin&&e<=t.xmax&&i>=t.ymin&&i<=t.ymax&&(n==null||!t.hasZ||n>=t.zmin&&n<=t.zmax)}function _I(t,e){return P0[1]=e.y,P0[0]=e.x,L8(t,P0)}function L8(t,e){return SI(t.rings,e)}function SI(t,e){if(!t)return!1;if(P8(t))return P$(!1,t,e);let i=!1;for(let n=0,r=t.length;n<r;n++)i=P$(i,t[n],e);return i}function P8(t){return!Array.isArray(t[0][0])}function P$(t,e,i){const[n,r]=i;let s=t,o=0;for(let a=0,l=e.length;a<l;a++){o++,o===l&&(o=0);const[u,p]=e[a],[f,m]=e[o];(p<r&&m>=r||m<r&&p>=r)&&u+(r-p)/(m-p)*(f-u)<n&&(s=!s)}return s}function R8(t,e){return Ly(t,e)}function N8(t,e){const i=t.hasZ&&e.hasZ;let n,r,s;if(t.xmin<=e.xmin){if(n=e.xmin,t.xmax<n)return!1}else if(n=t.xmin,e.xmax<n)return!1;if(t.ymin<=e.ymin){if(r=e.ymin,t.ymax<r)return!1}else if(r=t.ymin,e.ymax<r)return!1;if(i&&e.hasZ){if(t.zmin<=e.zmin){if(s=e.zmin,t.zmax<s)return!1}else if(s=t.zmin,e.zmax<s)return!1}return!0}function D8(t,e){const{points:i,hasZ:n}=e,r=n?A8:cu;for(const s of i)if(r(t,s))return!0;return!1}const kl=[0,0],Ml=[0,0],Cl=[0,0],Il=[0,0],z8=[kl,Ml,Cl,Il],xI=[[Cl,kl],[kl,Ml],[Ml,Il],[Il,Cl]];function F8(t,e){return j8(t,e.rings)}function j8(t,e){kl[0]=t.xmin,kl[1]=t.ymax,Ml[0]=t.xmax,Ml[1]=t.ymax,Cl[0]=t.xmin,Cl[1]=t.ymin,Il[0]=t.xmax,Il[1]=t.ymin;for(const i of z8)if(SI(e,i))return!0;for(const i of e){if(!i.length)continue;let n=i[0];if(cu(t,n))return!0;for(let r=1;r<i.length;r++){const s=i[r];if(cu(t,s)||$I(n,s,xI))return!0;n=s}}return!1}function U8(t,e){kl[0]=t.xmin,kl[1]=t.ymax,Ml[0]=t.xmax,Ml[1]=t.ymax,Cl[0]=t.xmin,Cl[1]=t.ymin,Il[0]=t.xmax,Il[1]=t.ymin;const i=e.paths;for(const n of i){if(!i.length)continue;let r=n[0];if(cu(t,r))return!0;for(let s=1;s<n.length;s++){const o=n[s];if(cu(t,o)||$I(r,o,xI))return!0;r=o}}return!1}const $t=[0,0];function H8(t){for(let e=0;e<t.length;e++){const i=t[e];for(let r=0;r<i.length-1;r++){const s=i[r],o=i[r+1];for(let a=e+1;a<t.length;a++)for(let l=0;l<t[a].length-1;l++){const u=t[a][l],p=t[a][l+1];if(Eb(s,o,u,p,$t)&&!($t[0]===s[0]&&$t[1]===s[1]||$t[0]===u[0]&&$t[1]===u[1]||$t[0]===o[0]&&$t[1]===o[1]||$t[0]===p[0]&&$t[1]===p[1]))return!0}}const n=i.length;if(!(n<=4))for(let r=0;r<n-3;r++){let s=n-1;r===0&&(s=n-2);const o=i[r],a=i[r+1];for(let l=r+2;l<s;l++){const u=i[l],p=i[l+1];if(Eb(o,a,u,p,$t)&&!($t[0]===o[0]&&$t[1]===o[1]||$t[0]===u[0]&&$t[1]===u[1]||$t[0]===a[0]&&$t[1]===a[1]||$t[0]===p[0]&&$t[1]===p[1]))return!0}}}return!1}function $I(t,e,i){for(let n=0;n<i.length;n++)if(Eb(t,e,i[n][0],i[n][1]))return!0;return!1}function Eb(t,e,i,n,r){const[s,o]=t,[a,l]=e,[u,p]=i,[f,m]=n,g=f-u,y=s-u,v=a-s,w=m-p,_=o-p,$=l-o,x=w*v-g*$;if(x===0)return!1;const T=(g*_-w*y)/x,M=(v*_-$*y)/x;return T>=0&&T<=1&&M>=0&&M<=1&&(r&&(r[0]=s+T*(a-s),r[1]=o+T*(l-o)),!0)}function B8(t){switch(t){case"esriGeometryEnvelope":case"extent":return N8;case"esriGeometryMultipoint":case"multipoint":return D8;case"esriGeometryPoint":case"point":return R8;case"esriGeometryPolygon":case"polygon":return F8;case"esriGeometryPolyline":case"polyline":return U8}}var Wi;function G8(t){return t&&(t.declaredClass==="esri.geometry.SpatialReference"||t.wkid!=null)}function Us(t,e,i){return e==null?i:i==null?e:t(e,i)}let bt=Wi=class extends Qo{constructor(...t){super(...t),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(t,e,i,n,r){return G8(t)?{spatialReference:t,xmin:0,ymin:0,xmax:0,ymax:0}:typeof t=="object"?(t.spatialReference=t.spatialReference==null?ge.WGS84:t.spatialReference,t):{xmin:t,ymin:e,xmax:i,ymax:n,spatialReference:r??ge.WGS84}}static fromBounds(t,e){return new Wi({xmin:t[0],ymin:t[1],xmax:t[2],ymax:t[3],spatialReference:e})}static fromPoint(t){return new Wi({xmin:t.x,ymin:t.y,zmin:t.z,xmax:t.x,ymax:t.y,zmax:t.z,spatialReference:t.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const t=new ne({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(t.z=.5*(this.zmin+this.zmax)),this.hasM&&(t.m=.5*(this.mmin+this.mmax)),t}get extent(){return this.clone()}get hasM(){return this.mmin!=null&&this.mmax!=null}get hasZ(){return this.zmin!=null&&this.zmax!=null}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(t){const e=this.center;return t.z!=null&&this.hasZ?this.offset(t.x-e.x,t.y-e.y,t.z-e.z):this.offset(t.x-e.x,t.y-e.y)}clone(){const t=new Wi;return t.xmin=this.xmin,t.ymin=this.ymin,t.xmax=this.xmax,t.ymax=this.ymax,t.spatialReference=this.spatialReference,this.zmin!=null&&(t.zmin=this.zmin,t.zmax=this.zmax),this.mmin!=null&&(t.mmin=this.mmin,t.mmax=this.mmax),t}contains(t){if(!t)return!1;const e=this.spatialReference,i=t.spatialReference;return e&&i&&!e.equals(i)&&Kf(e,i)&&(t=e.isWebMercator?No(t):ol(t,!0)),t.type==="point"?Ly(this,t):t.type==="extent"&&O8(this,t)}equals(t){if(this===t)return!0;if(t==null)return!1;const e=this.spatialReference,i=t.spatialReference;return e&&i&&!e.equals(i)&&Kf(e,i)&&(t=e.isWebMercator?No(t):ol(t,!0)),this.xmin===t.xmin&&this.ymin===t.ymin&&this.zmin===t.zmin&&this.mmin===t.mmin&&this.xmax===t.xmax&&this.ymax===t.ymax&&this.zmax===t.zmax&&this.mmax===t.mmax}expand(t){const e=.5*(1-t),i=this.width*e,n=this.height*e;if(this.xmin+=i,this.ymin+=n,this.xmax-=i,this.ymax-=n,this.hasZ){const r=(this.zmax-this.zmin)*e;this.zmin+=r,this.zmax-=r}if(this.hasM){const r=(this.mmax-this.mmin)*e;this.mmin+=r,this.mmax-=r}return this}intersects(t){if(t==null)return!1;t.type==="mesh"&&(t=t.extent);const e=this.spatialReference,i=t.spatialReference;return e&&i&&!it(e,i)&&Kf(e,i)&&(t=e.isWebMercator?No(t):ol(t,!0)),B8(t.type)(this,t)}normalize(){const t=this._normalize(!1,!0);return Array.isArray(t)?t:[t]}offset(t,e,i){return this.xmin+=t,this.ymin+=e,this.xmax+=t,this.ymax+=e,i!=null&&(this.zmin+=i,this.zmax+=i),this}shiftCentralMeridian(){return this._normalize(!0)}union(t){return this===t||(this.xmin=Math.min(this.xmin,t.xmin),this.ymin=Math.min(this.ymin,t.ymin),this.xmax=Math.max(this.xmax,t.xmax),this.ymax=Math.max(this.ymax,t.ymax),(this.hasZ||t.hasZ)&&(this.zmin=Us(Math.min,this.zmin,t.zmin),this.zmax=Us(Math.max,this.zmax,t.zmax)),(this.hasM||t.hasM)&&(this.mmin=Us(Math.min,this.mmin,t.mmin),this.mmax=Us(Math.max,this.mmax,t.mmax))),this}intersection(t){return this===t?this:t!=null&&this.intersects(t)?(this.xmin=Math.max(this.xmin,t.xmin),this.ymin=Math.max(this.ymin,t.ymin),this.xmax=Math.min(this.xmax,t.xmax),this.ymax=Math.min(this.ymax,t.ymax),(this.hasZ||t.hasZ)&&(this.zmin=Us(Math.max,this.zmin,t.zmin),this.zmax=Us(Math.min,this.zmax,t.zmax)),(this.hasM||t.hasM)&&(this.mmin=Us(Math.max,this.mmin,t.mmin),this.mmax=Us(Math.min,this.mmax,t.mmax)),this):null}toJSON(t){return this.write({},t)}_shiftCM(t=Ni(this.spatialReference)){if(!t||!this.spatialReference)return this;const e=this.spatialReference,i=this._getCM(t);if(i){const n=e.isWebMercator?ol(i):i;this.xmin-=i.x,this.xmax-=i.x,e.isWebMercator||(n.x=this._normalizeX(n.x,t).x),this.spatialReference=new ge(s_((e.isWGS84?t.altTemplate:null)??t.wkTemplate,{Central_Meridian:n.x}))}return this}_getCM(t){let e=null;const[i,n]=t.valid,r=this.xmin,s=this.xmax;return r>=i&&r<=n&&s>=i&&s<=n||(e=this.center),e}_normalize(t,e,i){const n=this.spatialReference;if(!n)return this;const r=i??Ni(n);if(r==null)return this;const s=this._getParts(r).map(l=>l.extent);if(s.length<2)return s[0]||this;if(s.length>2)return t?this._shiftCM(r):this.set({xmin:r.valid[0],xmax:r.valid[1]});if(t)return this._shiftCM(r);if(e)return s;let o=!0,a=!0;return s.forEach(l=>{l.hasZ||(o=!1),l.hasM||(a=!1)}),{rings:s.map(l=>{const u=[[l.xmin,l.ymin],[l.xmin,l.ymax],[l.xmax,l.ymax],[l.xmax,l.ymin],[l.xmin,l.ymin]];if(o){const p=(l.zmax-l.zmin)/2;for(let f=0;f<u.length;f++)u[f].push(p)}if(a){const p=(l.mmax-l.mmin)/2;for(let f=0;f<u.length;f++)u[f].push(p)}return u}),hasZ:o,hasM:a,spatialReference:n}}_getParts(t){let e=this.cache._parts;if(!e){e=[];const{ymin:r,ymax:s,spatialReference:o}=this,a=this.width,l=this.xmin,u=this.xmax;let p;t=t||Ni(o);const[f,m]=t.valid;p=this._normalizeX(this.xmin,t);const g=p.x,y=p.frameId;p=this._normalizeX(this.xmax,t);const v=p.x,w=p.frameId,_=g===v&&a>0;if(a>2*m){const $=new Wi(l<u?g:v,r,m,s,o),x=new Wi(f,r,l<u?v:g,s,o),T=new Wi(0,r,m,s,o),M=new Wi(f,r,0,s,o),I=[],L=[];$.contains(T)&&I.push(y),$.contains(M)&&L.push(y),x.contains(T)&&I.push(w),x.contains(M)&&L.push(w);for(let N=y+1;N<w;N++)I.push(N),L.push(N);e.push({extent:$,frameIds:[y]},{extent:x,frameIds:[w]},{extent:T,frameIds:I},{extent:M,frameIds:L})}else g>v||_?e.push({extent:new Wi(g,r,m,s,o),frameIds:[y]},{extent:new Wi(f,r,v,s,o),frameIds:[w]}):e.push({extent:new Wi(g,r,v,s,o),frameIds:[y]});this.cache._parts=e}const i=this.hasZ,n=this.hasM;if(i||n){const r={};i&&(r.zmin=this.zmin,r.zmax=this.zmax),n&&(r.mmin=this.mmin,r.mmax=this.mmax);for(let s=0;s<e.length;s++)e[s].extent.set(r)}return e}_normalizeX(t,e){const[i,n]=e.valid,r=2*n;let s,o=0;return t>n?(s=Math.ceil(Math.abs(t-n)/r),t-=s*r,o=s):t<i&&(s=Math.ceil(Math.abs(t-i)/r),t+=s*r,o=-s),{x:t,frameId:o}}};d([h({readOnly:!0})],bt.prototype,"cache",null),d([h({readOnly:!0})],bt.prototype,"center",null),d([h({readOnly:!0})],bt.prototype,"extent",null),d([h({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],bt.prototype,"hasM",null),d([h({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],bt.prototype,"hasZ",null),d([h({readOnly:!0})],bt.prototype,"height",null),d([h({readOnly:!0})],bt.prototype,"width",null),d([h({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],bt.prototype,"xmin",void 0),d([h({type:Number,json:{write:!0}})],bt.prototype,"ymin",void 0),d([h({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],bt.prototype,"mmin",void 0),d([h({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],bt.prototype,"zmin",void 0),d([h({type:Number,json:{write:!0}})],bt.prototype,"xmax",void 0),d([h({type:Number,json:{write:!0}})],bt.prototype,"ymax",void 0),d([h({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],bt.prototype,"mmax",void 0),d([h({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],bt.prototype,"zmax",void 0),bt=Wi=d([E("esri.geometry.Extent")],bt),bt.prototype.toJSON.isDefaultToJSON=!0;const Le=bt;function uu(t,e,i=!1){let{hasM:n,hasZ:r}=t;Array.isArray(e)?e.length!==4||n||r?e.length===3&&i&&!n?(r=!0,n=!1):e.length===3&&n&&r&&(n=!1,r=!1):(n=!0,r=!0):(r=!r&&e.hasZ&&(!n||e.hasM),n=!n&&e.hasM&&(!r||e.hasZ)),t.hasZ=r,t.hasM=n}var kb;function R$(t){return(e,i)=>e==null?i:i==null?e:t(e,i)}function V8(t){return t&&(t.declaredClass==="esri.geometry.SpatialReference"||t.wkid!=null)}let Xs=kb=class extends Qo{constructor(...t){super(...t),this.points=[],this.type="multipoint"}normalizeCtorArgs(t,e){var r;if(!t&&!e)return{};const i={};Array.isArray(t)?(i.points=t,i.spatialReference=e):V8(t)?i.spatialReference=t:(t.points&&(i.points=t.points),t.spatialReference&&(i.spatialReference=t.spatialReference),t.hasZ&&(i.hasZ=t.hasZ),t.hasM&&(i.hasM=t.hasM));const n=(r=i.points)==null?void 0:r[0];return n&&(i.hasZ===void 0&&i.hasM===void 0?(i.hasZ=n.length>2,i.hasM=!1):i.hasZ===void 0?i.hasZ=n.length>3:i.hasM===void 0&&(i.hasM=n.length>3)),i}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const t=this.points;if(!t.length)return null;const e=new Le,i=this.hasZ,n=this.hasM,r=i?3:2,s=t[0],o=R$(Math.min),a=R$(Math.max);let l,u,p,f,[m,g]=s,[y,v]=s;for(let w=0,_=t.length;w<_;w++){const $=t[w],[x,T]=$;if(m=o(m,x),g=o(g,T),y=a(y,x),v=a(v,T),i&&$.length>2){const M=$[2];l=o(l,M),p=a(p,M)}if(n&&$.length>r){const M=$[r];u=o(u,M),f=a(f,M)}}return e.xmin=m,e.ymin=g,e.xmax=y,e.ymax=v,e.spatialReference=this.spatialReference,i?(e.zmin=l,e.zmax=p):(e.zmin=void 0,e.zmax=void 0),n?(e.mmin=u,e.mmax=f):(e.mmin=void 0,e.mmax=void 0),e}writePoints(t,e){e.points=z(this.points)}addPoint(t){return uu(this,t),Array.isArray(t)?this.points.push(t):this.points.push(t.toArray()),this.notifyChange("points"),this}clone(){const t={points:z(this.points),spatialReference:this.spatialReference};return this.hasZ&&(t.hasZ=!0),this.hasM&&(t.hasM=!0),new kb(t)}getPoint(t){if(!this._validateInputs(t))return null;const e=this.points[t],i={x:e[0],y:e[1],spatialReference:this.spatialReference};let n=2;return this.hasZ&&(i.z=e[2],n=3),this.hasM&&(i.m=e[n]),new ne(i)}removePoint(t){if(!this._validateInputs(t))return null;const e=new ne(this.points.splice(t,1)[0],this.spatialReference);return this.notifyChange("points"),e}setPoint(t,e){return this._validateInputs(t)?(uu(this,e),Array.isArray(e)||(e=e.toArray()),this.points[t]=e,this.notifyChange("points"),this):this}toJSON(t){return this.write({},t)}_validateInputs(t){return t!=null&&t>=0&&t<this.points.length}};d([h({readOnly:!0})],Xs.prototype,"cache",null),d([h()],Xs.prototype,"extent",null),d([h({type:[[Number]],json:{write:{isRequired:!0}}})],Xs.prototype,"points",void 0),d([Ae("points")],Xs.prototype,"writePoints",null),Xs=kb=d([E("esri.geometry.Multipoint")],Xs),Xs.prototype.toJSON.isDefaultToJSON=!0;const Py=Xs;function due(t){const e=[];for(t.reset();t.nextPath();){const i=[];for(;t.nextPoint();)i.push([t.x,t.y]);e.push(i)}return t.reset(),e}function W8(t){const e=[];for(;t.nextPoint();)e.push([t.x,t.y]);return t.seekPathStart(),e}var pg;(function(t){t[t.X=0]="X",t[t.Y=1]="Y",t[t.Z=2]="Z"})(pg||(pg={}));function TI(t,e){const i=e[0]-t[0],n=e[1]-t[1];if(t.length>2&&e.length>2){const r=t[2]-e[2];return Math.sqrt(i*i+n*n+r*r)}return Math.sqrt(i*i+n*n)}function q8(t,e,i){const n=t[0]+i*(e[0]-t[0]),r=t[1]+i*(e[1]-t[1]);return t.length>2&&e.length>2?[n,r,t[2]+i*(e[2]-t[2])]:[n,r]}function Z8(t,e,i,n){return J8(t,e,i[n],i[n+1])}function J8(t,e,i,n){const[r,s]=e,[o,a]=i,[l,u]=n,p=l-o,f=u-a,m=p*p+f*f,g=(r-o)*p+(s-a)*f,y=Math.min(1,Math.max(0,g/m));return t[0]=o+p*y,t[1]=a+f*y,t}function EI(t,e){return q8(t,e,.5)}function kI(t,e=pg.X,i=pg.Y){let n=0;const r=t.length;let s=t[0];for(let o=0;o<r-1;o++){const a=t[o+1];n+=(a[e]-s[e])*(a[i]+s[i]),s=a}return n>=0}function K8(t){const e=t.length;return e>2&&by(t[0],t[e-1])}function hue(t){if("rings"in t&&(Y8(t),t.rings.length>0&&!kI(t.rings[0])))for(const e of t.rings)e.reverse()}function Y8(t){if("rings"in t)for(const e of t.rings)K8(e)||e.push(e[0].slice())}function pue(t){return t?t.hasZ?[t.xmax-t.xmin/2,t.ymax-t.ymin/2,t.zmax-t.zmin/2]:[t.xmax-t.xmin/2,t.ymax-t.ymin/2]:null}function X8(t){return t?Q8(t.rings,t.hasZ??!1):null}function Q8(t,e){if(!(t!=null&&t.length))return null;const i=[],n=[],r=e?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let s=0,o=t.length;s<o;s++){const a=MI(t[s],e,r);a&&n.push(a)}if(n.sort((s,o)=>{let a=s[2]-o[2];return a===0&&e&&(a=s[4]-o[4]),a}),n.length&&(i[0]=n[0][0],i[1]=n[0][1],e&&(i[2]=n[0][3]),(i[0]<r[0]||i[0]>r[1]||i[1]<r[2]||i[1]>r[3]||e&&(i[2]<r[4]||i[2]>r[5]))&&(i.length=0)),!i.length){const s=t[0]&&t[0].length?e9(t[0],e):null;if(!s)return null;i[0]=s[0],i[1]=s[1],e&&s.length>2&&(i[2]=s[2])}return i}function MI(t,e,i){let n=0,r=0,s=0,o=0,a=0;const l=t.length?t[0][0]:0,u=t.length?t[0][1]:0,p=t.length&&e?t[0][2]:0;for(let m=0;m<t.length;m++){const g=t[m],y=t[(m+1)%t.length],[v,w,_]=g,$=v-l,x=w-u,[T,M,I]=y,L=T-l,N=M-u,B=$*N-L*x;if(o+=B,n+=($+L)*B,r+=(x+N)*B,e&&g.length>2&&y.length>2){const F=_-p,U=I-p,O=$*U-L*F;s+=(F+U)*O,a+=O}v<i[0]&&(i[0]=v),v>i[1]&&(i[1]=v),w<i[2]&&(i[2]=w),w>i[3]&&(i[3]=w),e&&(_<i[4]&&(i[4]=_),_>i[5]&&(i[5]=_))}if(o>0&&(o*=-1),a>0&&(a*=-1),!o)return null;o*=.5,a*=.5;const f=[n/(6*o)+l,r/(6*o)+u,o];return e&&(i[4]===i[5]||a===0?(f[3]=(i[4]+i[5])/2,f[4]=0):(f[3]=s/(6*a)+p,f[4]=a)),f}function fue(t,e){let i=0,n=0,r=0;t.nextPoint();const s=t.pathSize?t.x:0,o=t.pathSize?t.y:0;for(let a=0;a<t.pathSize;a++){t.seekInPath(a);const l=[t.x,t.y];t.seekInPath((a+1)%t.pathSize);const u=[t.x,t.y],[p,f]=l,m=p-s,g=f-o,[y,v]=u,w=y-s,_=v-o,$=m*_-w*g;r+=$,i+=(m+w)*$,n+=(g+_)*$,p<e[0]&&(e[0]=p),p>e[1]&&(e[1]=p),f<e[2]&&(e[2]=f),f>e[3]&&(e[3]=f)}return r>0&&(r*=-1),r?(r*=.5,[i/(6*r)+s,n/(6*r)+o,r]):null}function e9(t,e){const i=e?[0,0,0]:[0,0],n=e?[0,0,0]:[0,0];let r=0,s=0,o=0,a=0;for(let l=0,u=t.length;l<u-1;l++){const p=t[l],f=t[l+1];if(p&&f){i[0]=p[0],i[1]=p[1],n[0]=f[0],n[1]=f[1],e&&p.length>2&&f.length>2&&(i[2]=p[2],n[2]=f[2]);const m=TI(i,n);if(m){r+=m;const g=EI(p,f);s+=m*g[0],o+=m*g[1],e&&g.length>2&&(a+=m*g[2])}}}return r>0?e?[s/r,o/r,a/r]:[s/r,o/r]:t.length?t[0]:null}function t9(t){const{hasZ:e,totalSize:i}=t;if(i===0)return null;const n=[],r=[],s=e?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(t.reset();t.nextPath();){const o=MI(W8(t),t.hasZ,s);o&&r.push(o)}if(r.sort((o,a)=>{let l=o[2]-a[2];return l===0&&e&&(l=o[4]-a[4]),l}),r.length&&(n[0]=r[0][0],n[1]=r[0][1],e&&(n[2]=r[0][3]),(n[0]<s[0]||n[0]>s[1]||n[1]<s[2]||n[1]>s[3]||e&&(n[2]<s[4]||n[2]>s[5]))&&(n.length=0)),!n.length){t.reset(),t.nextPath();const o=t.pathSize?i9(t):null;if(!o)return null;n[0]=o[0],n[1]=o[1],e&&o.length>2&&(n[2]=o[2])}return n}function i9(t){const{hasZ:e}=t,i=e?[0,0,0]:[0,0],n=e?[0,0,0]:[0,0];let r=0,s=0,o=0,a=0;if(t.nextPoint()){let l=t.x,u=t.y,p=t.z;for(;t.nextPoint();){const f=t.x,m=t.y,g=t.z;i[0]=l,i[1]=u,n[0]=f,n[1]=m,e&&(i[2]=p,n[2]=g);const y=TI(i,n);if(y){r+=y;const v=EI(i,n);s+=y*v[0],o+=y*v[1],e&&v.length>2&&(a+=y*v[2])}l=f,u=m,p=g}}return r>0?e?[s/r,o/r,a/r]:[s/r,o/r]:t.pathSize?(t.seekPathStart(),t.nextPoint(),[t.x,t.y]):null}const n9=1e-6;function mue(t){let e=0;for(t.reset();t.nextPath();)e+=t.getCurrentRingArea();if(e<n9){const r=t9(t);return r?[r[0],r[1]]:null}const i=[0,0];if(t.reset(),!t.nextPath()||!t.nextPoint())return null;const n=[t.x,t.y];for(t.reset();t.nextPath();)s9(i,n,t);return i[0]*=1/e,i[1]*=1/e,i[0]+=n[0],i[1]+=n[1],i}const r9=1/3;function s9(t,e,i){if(!t||!i||i.pathSize<3)return null;i.nextPoint();const n=i.x,r=i.y;i.nextPoint();let s,o=i.x-n,a=i.y-r,l=0,u=0;for(;i.nextPoint();)l=i.x-n,u=i.y-r,s=.5*r9*(l*a-u*o),t[0]+=s*(o+l),t[1]+=s*(a+u),o=l,a=u;const p=i.getCurrentRingArea(),f=[n,r];return f[0]-=e[0],f[1]-=e[1],f[0]*=p,f[1]*=p,t[0]+=f[0],t[1]+=f[1],t}function $i(t=p9){return[t[0],t[1],t[2],t[3]]}function gue(t){return[t[0],t[1],t[2],t[3]]}function CI(t,e){return t!==e&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]),t}function yue(t,e,i,n,r=$i()){return r[0]=t,r[1]=e,r[2]=i,r[3]=n,r}function o9(t,e=$i()){return e[0]=t.xmin,e[1]=t.ymin,e[2]=t.xmax,e[3]=t.ymax,e}function vue(t,e){return new Le({xmin:t[0],ymin:t[1],xmax:t[2],ymax:t[3],spatialReference:e})}function bue(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function wue(t,e,i){if(e!=null)if("length"in e)Mb(e)?(i[0]=Math.min(t[0],e[0]),i[1]=Math.min(t[1],e[1]),i[2]=Math.max(t[2],e[2]),i[3]=Math.max(t[3],e[3])):e.length!==2&&e.length!==3||(i[0]=Math.min(t[0],e[0]),i[1]=Math.min(t[1],e[1]),i[2]=Math.max(t[2],e[0]),i[3]=Math.max(t[3],e[1]));else switch(e.type){case"extent":i[0]=Math.min(t[0],e.xmin),i[1]=Math.min(t[1],e.ymin),i[2]=Math.max(t[2],e.xmax),i[3]=Math.max(t[3],e.ymax);break;case"point":i[0]=Math.min(t[0],e.x),i[1]=Math.min(t[1],e.y),i[2]=Math.max(t[2],e.x),i[3]=Math.max(t[3],e.y)}else CI(i,t)}function a9(t){return t==null||t[0]>=t[2]?0:t[2]-t[0]}function l9(t){return t==null||t[1]>=t[3]?0:t[3]-t[1]}function _ue(t){return a9(t)*l9(t)}function c9(t,e){return u9(t,e[0],e[1])}function u9(t,e,i){return e>=t[0]&&i>=t[1]&&e<=t[2]&&i<=t[3]}function d9(t,e,i){return e[0]>=t[0]-i&&e[1]>=t[1]-i&&e[0]<=t[2]+i&&e[1]<=t[3]+i}function Sue(t,e){return Math.max(e[0],t[0])<=Math.min(e[2],t[2])&&Math.max(e[1],t[1])<=Math.min(e[3],t[3])}function h9(t,e){return e[0]>=t[0]&&e[2]<=t[2]&&e[1]>=t[1]&&e[3]<=t[3]}function xue(t){return t?CI(t,N$):$i(N$)}function Mb(t){return t!=null&&t.length===4}function $ue(t,e){return Mb(t)&&Mb(e)?t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]:t===e}const N$=[1/0,1/0,-1/0,-1/0],p9=[0,0,0,0];function II(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function OI(t){return t.points!==void 0}function AI(t){return t.x!==void 0&&t.y!==void 0}function LI(t){return t.paths!==void 0}function PI(t){return t.rings!==void 0}function RI(t){function e(i,n){return i==null?n:n==null?i:t(i,n)}return e}const Ao=RI(Math.min),Lo=RI(Math.max);function Tue(t,e){return LI(e)?du(t,e.paths,!1,!1):PI(e)?du(t,e.rings,!1,!1):OI(e)?F_(t,e.points,!1,!1,!1,!1):II(e)?NI(t,e):(AI(e)&&(t[0]=e.x,t[1]=e.y,t[2]=e.x,t[3]=e.y),t)}function Eue(t){let e,i,n,r;for(t.reset(),e=n=1/0,i=r=-1/0;t.nextPath();){const s=f9(t);e=Math.min(s[0],e),n=Math.min(s[1],n),i=Math.max(s[2],i),r=Math.max(s[3],r)}return $i([e,n,i,r])}function f9(t){let e,i,n,r;for(e=n=1/0,i=r=-1/0;t.nextPoint();)e=Math.min(t.x,e),n=Math.min(t.y,n),i=Math.max(t.x,i),r=Math.max(t.y,r);return $i([e,n,i,r])}function kue(t,e){return LI(e)?du(t,e.paths,!0,!1):PI(e)?du(t,e.rings,!0,!1):OI(e)?F_(t,e.points,!0,!1,!0,!1):II(e)?NI(t,e,!0,!1,!0,!1):(AI(e)&&(t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.x,t[4]=e.y,t[5]=e.z),t)}function du(t,e,i,n){const r=i?3:2;if(!e.length||!e[0].length)return null;let s,o,a,l,[u,p]=e[0][0],[f,m]=e[0][0];for(let g=0;g<e.length;g++){const y=e[g];for(let v=0;v<y.length;v++){const w=y[v],[_,$]=w;if(u=Ao(u,_),p=Ao(p,$),f=Lo(f,_),m=Lo(m,$),i&&w.length>2){const x=w[2];s=Ao(s,x),o=Lo(o,x)}if(n&&w.length>r){const x=w[r];a=Ao(s,x),l=Lo(o,x)}}}return i?n?(t[0]=u,t[1]=p,t[2]=s,t[3]=a,t[4]=f,t[5]=m,t[6]=o,t[7]=l,t.length=8,t):(t[0]=u,t[1]=p,t[2]=s,t[3]=f,t[4]=m,t[5]=o,t.length=6,t):n?(t[0]=u,t[1]=p,t[2]=a,t[3]=f,t[4]=m,t[5]=l,t.length=6,t):(t[0]=u,t[1]=p,t[2]=f,t[3]=m,t.length=4,t)}function NI(t,e,i,n,r,s){const o=e.xmin,a=e.xmax,l=e.ymin,u=e.ymax;let p=e.zmin,f=e.zmax,m=e.mmin,g=e.mmax;return r?(p=p||0,f=f||0,s?(m=m||0,g=g||0,t[0]=o,t[1]=l,t[2]=p,t[3]=m,t[4]=a,t[5]=u,t[6]=f,t[7]=g,t):(t[0]=o,t[1]=l,t[2]=p,t[3]=a,t[4]=u,t[5]=f,t)):s?(m=m||0,g=g||0,t[0]=o,t[1]=l,t[2]=m,t[3]=a,t[4]=u,t[5]=g,t):(t[0]=o,t[1]=l,t[2]=a,t[3]=u,t)}function F_(t,e,i,n,r,s){const o=i?3:2,a=n&&s,l=i&&r;if(!e.length||!e[0].length)return null;let u,p,f,m,[g,y]=e[0],[v,w]=e[0];for(let _=0;_<e.length;_++){const $=e[_],[x,T]=$;if(g=Ao(g,x),y=Ao(y,T),v=Lo(v,x),w=Lo(w,T),l&&$.length>2){const M=$[2];u=Ao(u,M),p=Lo(p,M)}if(a&&$.length>o){const M=$[o];f=Ao(u,M),m=Lo(p,M)}}return r?(u=u||0,p=p||0,s?(f=f||0,m=m||0,t[0]=g,t[1]=y,t[2]=u,t[3]=f,t[4]=v,t[5]=w,t[6]=p,t[7]=m,t):(t[0]=g,t[1]=y,t[2]=u,t[3]=v,t[4]=w,t[5]=p,t)):s?(f=f||0,m=m||0,t[0]=g,t[1]=y,t[2]=f,t[3]=v,t[4]=w,t[5]=m,t):(t[0]=g,t[1]=y,t[2]=v,t[3]=w,t)}function m9(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function g9(t){return t.points!==void 0}function y9(t){return t.x!==void 0&&t.y!==void 0}function v9(t){return t.paths!==void 0}function b9(t){return t.rings!==void 0}const j_=[];function DI(t,e,i,n){return{xmin:t,ymin:e,xmax:i,ymax:n}}function zI(t,e,i,n,r,s){return{xmin:t,ymin:e,zmin:i,xmax:n,ymax:r,zmax:s}}function FI(t,e,i,n,r,s){return{xmin:t,ymin:e,mmin:i,xmax:n,ymax:r,mmax:s}}function jI(t,e,i,n,r,s,o,a){return{xmin:t,ymin:e,zmin:i,mmin:n,xmax:r,ymax:s,zmax:o,mmax:a}}function U_(t,e=!1,i=!1){return e?i?jI(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]):zI(t[0],t[1],t[2],t[3],t[4],t[5]):i?FI(t[0],t[1],t[2],t[3],t[4],t[5]):DI(t[0],t[1],t[2],t[3])}function Mue(t){return t?m9(t)?t:y9(t)?_9(t):b9(t)?UI(t):v9(t)?HI(t):g9(t)?w9(t):null:null}function w9(t){const{hasZ:e,hasM:i,points:n}=t;return U_(F_(j_,n,e??!1,i??!1),e,i)}function _9(t){const{x:e,y:i,z:n,m:r}=t,s=r!=null;return n!=null?s?jI(e,i,n,r,e,i,n,r):zI(e,i,n,e,i,n):s?FI(e,i,r,e,i,r):DI(e,i,e,i)}function UI(t){const{hasZ:e,hasM:i,rings:n}=t,r=du(j_,n,e??!1,i??!1);return r?U_(r,e,i):null}function HI(t){const{hasZ:e,hasM:i,paths:n}=t,r=du(j_,n,e??!1,i??!1);return r?U_(r,e,i):null}var Xf;function D$(t){return!Array.isArray(t[0])}let mr=Xf=class extends Qo{static fromExtent(t){const e=t.clone().normalize(),i=t.spatialReference;let n=!1,r=!1;for(const o of e)o.hasZ&&(n=!0),o.hasM&&(r=!0);const s={rings:e.map(o=>{const a=[[o.xmin,o.ymin],[o.xmin,o.ymax],[o.xmax,o.ymax],[o.xmax,o.ymin],[o.xmin,o.ymin]];if(n&&o.hasZ){const l=o.zmin+.5*(o.zmax-o.zmin);for(let u=0;u<a.length;u++)a[u].push(l)}if(r&&o.hasM){const l=o.mmin+.5*(o.mmax-o.mmin);for(let u=0;u<a.length;u++)a[u].push(l)}return a}),spatialReference:i};return n&&(s.hasZ=!0),r&&(s.hasM=!0),new Xf(s)}constructor(...t){super(...t),this.rings=[],this.type="polygon"}normalizeCtorArgs(t,e){var o,a;let i,n,r=null,s=null;return t&&!Array.isArray(t)?(r=t.rings??null,e||(t.spatialReference?e=t.spatialReference:t.rings||(e=t)),i=t.hasZ,n=t.hasM):r=t,r=r||[],e=e||ge.WGS84,r.length&&((o=r[0])==null?void 0:o[0])!=null&&typeof r[0][0]=="number"&&(r=[r]),s=(a=r[0])==null?void 0:a[0],s&&(i===void 0&&n===void 0?(i=s.length>2,n=s.length>3):i===void 0?i=n?s.length>3:s.length>2:n===void 0&&(n=i?s.length>3:s.length>2)),{rings:r,spatialReference:e,hasZ:i,hasM:n}}get cache(){return this.commitProperty("rings"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get centroid(){const t=X8(this);if(!t||isNaN(t[0])||isNaN(t[1])||this.hasZ&&isNaN(t[2]))return null;const e=new ne;return e.x=t[0],e.y=t[1],e.spatialReference=this.spatialReference,this.hasZ&&(e.z=t[2]),e}get extent(){const{spatialReference:t}=this,e=UI(this);if(!e)return null;const i=new Le(e);return i.spatialReference=t,i}get isSelfIntersecting(){return H8(this.rings)}writeRings(t,e){e.rings=z(this.rings)}addRing(t){if(!t)return;const e=this.rings,i=e.length;if(D$(t)){const n=[];for(let r=0,s=t.length;r<s;r++)n[r]=t[r].toArray();e[i]=n}else e[i]=t.concat();return this.notifyChange("rings"),this}clone(){const t=new Xf;return t.spatialReference=this.spatialReference,t.rings=z(this.rings),t.hasZ=this.hasZ,t.hasM=this.hasM,t}equals(t){if(this===t)return!0;if(t==null)return!1;const e=this.spatialReference,i=t.spatialReference;if(e!=null!=(i!=null)||e!=null&&i!=null&&!e.equals(i)||this.rings.length!==t.rings.length)return!1;const n=([r,s,o,a],[l,u,p,f])=>r===l&&s===u&&(o==null&&p==null||o===p)&&(a==null&&f==null||a===f);for(let r=0;r<this.rings.length;r++){const s=this.rings[r],o=t.rings[r];if(!by(s,o,n))return!1}return!0}contains(t){if(!t)return!1;const e=Oy(t,this.spatialReference);return _I(this,e??t)}isClockwise(t){let e;return e=D$(t)?t.map(i=>this.hasZ?this.hasM?[i.x,i.y,i.z,i.m]:[i.x,i.y,i.z]:[i.x,i.y]):t,kI(e)}getPoint(t,e){if(!this._validateInputs(t,e))return null;const i=this.rings[t][e],n=this.hasZ,r=this.hasM;return n&&!r?new ne(i[0],i[1],i[2],void 0,this.spatialReference):r&&!n?new ne(i[0],i[1],void 0,i[2],this.spatialReference):n&&r?new ne(i[0],i[1],i[2],i[3],this.spatialReference):new ne(i[0],i[1],this.spatialReference)}insertPoint(t,e,i){return this._validateInputs(t,e,!0)?(uu(this,i),Array.isArray(i)||(i=i.toArray()),this.rings[t].splice(e,0,i),this.notifyChange("rings"),this):this}removePoint(t,e){if(!this._validateInputs(t,e))return null;const i=new ne(this.rings[t].splice(e,1)[0],this.spatialReference);return this.notifyChange("rings"),i}removeRing(t){if(!this._validateInputs(t,null))return null;const e=this.rings.splice(t,1)[0],i=this.spatialReference,n=e.map(r=>new ne(r,i));return this.notifyChange("rings"),n}setPoint(t,e,i){return this._validateInputs(t,e)?(uu(this,i),Array.isArray(i)||(i=i.toArray()),this.rings[t][e]=i,this.notifyChange("rings"),this):this}_validateInputs(t,e,i=!1){if(t==null||t<0||t>=this.rings.length)return!1;if(e!=null){const n=this.rings[t];if(i&&(e<0||e>n.length)||!i&&(e<0||e>=n.length))return!1}return!0}toJSON(t){return this.write({},t)}};d([h({readOnly:!0})],mr.prototype,"cache",null),d([h({readOnly:!0})],mr.prototype,"centroid",null),d([h({readOnly:!0})],mr.prototype,"extent",null),d([h({readOnly:!0})],mr.prototype,"isSelfIntersecting",null),d([h({type:[[[Number]]],json:{write:{isRequired:!0}}})],mr.prototype,"rings",void 0),d([Ae("rings")],mr.prototype,"writeRings",null),mr=Xf=d([E("esri.geometry.Polygon")],mr),mr.prototype.toJSON.isDefaultToJSON=!0;const Fr=mr;var Cb;function S9(t){return!Array.isArray(t[0])}let Qs=Cb=class extends Qo{constructor(...t){super(...t),this.paths=[],this.type="polyline"}normalizeCtorArgs(t,e){var o,a;let i,n,r=null,s=null;return t&&!Array.isArray(t)?(r=t.paths??null,e||(t.spatialReference?e=t.spatialReference:t.paths||(e=t)),i=t.hasZ,n=t.hasM):r=t,r=r||[],e=e||ge.WGS84,r.length&&((o=r[0])==null?void 0:o[0])!=null&&typeof r[0][0]=="number"&&(r=[r]),s=(a=r[0])==null?void 0:a[0],s&&(i===void 0&&n===void 0?(i=s.length>2,n=!1):i===void 0?i=!n&&s.length>3:n===void 0&&(n=!i&&s.length>3)),{paths:r,spatialReference:e,hasZ:i,hasM:n}}get cache(){return this.commitProperty("paths"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const{spatialReference:t}=this,e=HI(this);if(!e)return null;const i=new Le(e);return i.spatialReference=t,i}writePaths(t,e){e.paths=z(this.paths)}addPath(t){if(!t)return;const e=this.paths,i=e.length;if(S9(t)){const n=[];for(let r=0,s=t.length;r<s;r++)n[r]=t[r].toArray();e[i]=n}else e[i]=t.concat();return this.notifyChange("paths"),this}clone(){const t=new Cb;return t.spatialReference=this.spatialReference,t.paths=z(this.paths),t.hasZ=this.hasZ,t.hasM=this.hasM,t}getPoint(t,e){if(!this._validateInputs(t,e))return null;const i=this.paths[t][e],n=this.hasZ,r=this.hasM;return n&&!r?new ne(i[0],i[1],i[2],void 0,this.spatialReference):r&&!n?new ne(i[0],i[1],void 0,i[2],this.spatialReference):n&&r?new ne(i[0],i[1],i[2],i[3],this.spatialReference):new ne(i[0],i[1],this.spatialReference)}insertPoint(t,e,i){return this._validateInputs(t,e,!0)?(uu(this,i),Array.isArray(i)||(i=i.toArray()),this.paths[t].splice(e,0,i),this.notifyChange("paths"),this):this}removePath(t){if(!this._validateInputs(t,null))return null;const e=this.paths.splice(t,1)[0],i=this.spatialReference,n=e.map(r=>new ne(r,i));return this.notifyChange("paths"),n}removePoint(t,e){if(!this._validateInputs(t,e))return null;const i=new ne(this.paths[t].splice(e,1)[0],this.spatialReference);return this.notifyChange("paths"),i}setPoint(t,e,i){return this._validateInputs(t,e)?(uu(this,i),Array.isArray(i)||(i=i.toArray()),this.paths[t][e]=i,this.notifyChange("paths"),this):this}_validateInputs(t,e,i=!1){if(t==null||t<0||t>=this.paths.length)return!1;if(e!=null){const n=this.paths[t];if(i&&(e<0||e>n.length)||!i&&(e<0||e>=n.length))return!1}return!0}toJSON(t){return this.write({},t)}};d([h({readOnly:!0})],Qs.prototype,"cache",null),d([h({readOnly:!0})],Qs.prototype,"extent",null),d([h({type:[[[Number]]],json:{write:{isRequired:!0}}})],Qs.prototype,"paths",void 0),d([Ae("paths")],Qs.prototype,"writePaths",null),Qs=Cb=d([E("esri.geometry.Polyline")],Qs),Qs.prototype.toJSON.isDefaultToJSON=!0;const Nn=Qs,Cue=Ui()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),Iue=Ui()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"});function BI(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function GI(t){return t.points!==void 0}function VI(t){return t.x!==void 0&&t.y!==void 0}function WI(t){return t.paths!==void 0}function H_(t){return t.rings!==void 0}function Ch(t){return t==null?null:t instanceof Qo?t:VI(t)?ne.fromJSON(t):WI(t)?Nn.fromJSON(t):H_(t)?Fr.fromJSON(t):GI(t)?Py.fromJSON(t):BI(t)?Le.fromJSON(t):null}function fp(t){return t?VI(t)?"esriGeometryPoint":WI(t)?"esriGeometryPolyline":H_(t)?"esriGeometryPolygon":BI(t)?"esriGeometryEnvelope":GI(t)?"esriGeometryMultipoint":null:null}const x9={esriGeometryPoint:ne,esriGeometryPolyline:Nn,esriGeometryPolygon:Fr,esriGeometryEnvelope:Le,esriGeometryMultipoint:Py};function $9(t){return t&&x9[t]||null}const B_={base:Qo,key:"type",typeMap:{extent:Le,multipoint:Py,point:ne,polyline:Nn,polygon:Fr}};Tl(B_);var Ib;let eo=Ib=class extends te{constructor(t){super(t),this.rotation=0,this.scale=0,this.targetGeometry=null,this.camera=null}castRotation(t){return(t%=360)<0&&(t+=360),t}clone(){return new Ib({rotation:this.rotation,scale:this.scale,targetGeometry:this.targetGeometry!=null?this.targetGeometry.clone():null,camera:this.camera!=null?this.camera.clone():null})}};function R0(){return{enabled:!this.camera}}d([h({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:R0}}}}})],eo.prototype,"rotation",void 0),d([ei("rotation")],eo.prototype,"castRotation",null),d([h({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:R0}}}}})],eo.prototype,"scale",void 0),d([h({types:B_,json:{read:Ch,write:!0,origins:{"web-scene":{read:Ch,write:{overridePolicy:R0}}}}})],eo.prototype,"targetGeometry",void 0),d([h({type:I8,json:{write:!0}})],eo.prototype,"camera",void 0),eo=Ib=d([E("esri.Viewpoint")],eo);const Nr=eo;let Qf=class qI{constructor(){this._emitter=new qI.EventEmitter(this)}emit(e,i){return this._emitter.emit(e,i)}on(e,i){return this._emitter.on(e,i)}once(e,i){return this._emitter.once(e,i)}hasEventListener(e){return this._emitter.hasEventListener(e)}};(function(t){class e{constructor(r=null){this._target=r,this._listenersMap=null}clear(){var r;(r=this._listenersMap)==null||r.clear(),this._listenersMap=null}destroy(){this.clear()}emit(r,s){var u;let o=(u=this._listenersMap)==null?void 0:u.get(r);if(!o)return!1;const a=this._target||this;let l=!1;for(const p of o.slice()){const f="deref"in p?p.deref():p;f?f==null||f.call(a,s):l=!0}return l&&(o=o.filter(p=>!("deref"in p)||p.deref()!=null),this._listenersMap.set(r,o)),o.length>0}on(r,s){if(Array.isArray(r)){const a=r.map(l=>this.on(l,s));return sp(a)}if(r.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap??(this._listenersMap=new Map);const o=this._listenersMap.get(r)||[];return o.push(s),this._listenersMap.set(r,o),je(()=>{var u;const a=(u=this._listenersMap)==null?void 0:u.get(r),l=(a==null?void 0:a.indexOf(s))??-1;l>=0&&a.splice(l,1)})}once(r,s){const o=this.on(r,a=>{o.remove();const l="deref"in s?s.deref():s;l==null||l.call(null,a)});return o}hasEventListener(r){var o;const s=(o=this._listenersMap)==null?void 0:o.get(r);return s!=null&&s.length>0}}t.EventEmitter=e,t.EventedMixin=n=>{let r=class extends n{constructor(){super(...arguments),this._emitter=new e}destroy(){this._emitter.clear()}emit(s,o){return this._emitter.emit(s,o)}on(s,o){return this._emitter.on(s,o)}once(s,o){return this._emitter.once(s,o)}hasEventListener(s){return this._emitter.hasEventListener(s)}};return r=d([E("esri.core.Evented")],r),r};let i=class extends Q{constructor(){super(...arguments),this._emitter=new Qf.EventEmitter(this)}destroy(){this._emitter.clear()}emit(n,r){return this._emitter.emit(n,r)}on(n,r){return this._emitter.on(n,r)}once(n,r){return this._emitter.once(n,r)}hasEventListener(n){return this._emitter.hasEventListener(n)}};i=d([E("esri.core.Evented")],i),t.EventedAccessor=i})(Qf||(Qf={}));const ea=Qf;var $e;(function(t){t[t.ADD=1]="ADD",t[t.REMOVE=2]="REMOVE",t[t.MOVE=4]="MOVE"})($e||($e={}));function ZI(t){return(e,i)=>{e[i]=t}}let mp=class extends jM{notify(){const e=this._observers;if(e&&e.length>0){const i=e.slice();for(const n of i)n.onInvalidated(),n.onCommitted()}}};var bs;let T9=class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(e){this.defaultPrevented=!1,this.item=e}},E9=class{constructor(e,i,n,r,s){this.target=e,this.added=i,this.removed=n,this.start=r,this.deleteCount=s}};const Gi=new Hl(T9,void 0,t=>{t.item=null,t.target=null,t.defaultPrevented=!1,t.cancellable=!1});function N0(t){return t?t instanceof Qa?t.toArray():t.length?Array.prototype.slice.apply(t):[]:[]}function D0(t){if(t!=null&&t.length)return t[0]}function k9(t,e,i,n){const r=Math.min(t.length-i,e.length-n);let s=0;for(;s<r&&t[i+s]===e[n+s];)s++;return s}function JI(t,e,i,n){e&&e.forEach((r,s,o)=>{t.push(r),JI(t,i.call(n,r,s,o),i,n)})}const Hs=new Set,Bs=new Set,Gs=new Set,z0=new Map;let M9=0,Qa=bs=class extends ea.EventedAccessor{static isCollection(t){return t!=null&&t instanceof bs}constructor(t){super(t),this._chgListeners=[],this._notifications=null,this._timer=null,this._observable=new mp,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:M9++})}normalizeCtorArgs(t){return t?Array.isArray(t)||t instanceof bs?{items:t}:t:{}}destroy(){this._removeAllRaw()}*[Symbol.iterator](){yield*this.items}get items(){return X(this._observable),this._items}set items(t){this._emitBeforeChanges($e.ADD)||(this._splice(0,this.length,N0(t)),this._emitAfterChanges($e.ADD))}hasEventListener(t){return t==="change"?this._chgListeners.length>0:this._emitter.hasEventListener(t)}on(t,e){if(t==="change"){const i=this._chgListeners,n={removed:!1,callback:e};return i.push(n),this._notifications&&this._notifications.push({listeners:i.slice(),items:this._items.slice(),changes:[]}),je(()=>{n.removed=!0,i.splice(i.indexOf(n),1)})}return this._emitter.on(t,e)}once(t,e){const i="deref"in e?()=>e.deref():()=>e,n=this.on(t,r=>{var s;(s=i())==null||s.call(null,r),n.remove()});return n}add(t,e){if(X(this._observable),this._emitBeforeChanges($e.ADD))return this;const i=this.getNextIndex(e??null);return this._splice(i,0,[t]),this._emitAfterChanges($e.ADD),this}addMany(t,e=this._items.length){if(X(this._observable),!(t!=null&&t.length))return this;if(this._emitBeforeChanges($e.ADD))return this;const i=this.getNextIndex(e);return this._splice(i,0,N0(t)),this._emitAfterChanges($e.ADD),this}at(t){if(X(this._observable),(t=Math.trunc(t)||0)<0&&(t+=this.length),!(t<0||t>=this.length))return this._items[t]}removeAll(){if(X(this._observable),!this.length||this._emitBeforeChanges($e.REMOVE))return[];const t=this._removeAllRaw();return this._emitAfterChanges($e.REMOVE),t}_removeAllRaw(){return this.length===0?[]:this._splice(0,this.length)||[]}clone(){return X(this._observable),this._createNewInstance({items:this._items.map(z)})}concat(...t){X(this._observable);const e=t.map(N0);return this._createNewInstance({items:this._items.concat(...e)})}drain(t,e){if(X(this._observable),!this.length||this._emitBeforeChanges($e.REMOVE))return;const i=this._splice(0,this.length),n=i.length;for(let r=0;r<n;r++)t.call(e,i[r],r,i);this._emitAfterChanges($e.REMOVE)}every(t,e){return X(this._observable),this._items.every(t,e)}filter(t,e){let i;return X(this._observable),i=arguments.length===2?this._items.filter(t,e):this._items.filter(t),this._createNewInstance({items:i})}find(t,e){return X(this._observable),this._items.find(t,e)}findIndex(t,e){return X(this._observable),this._items.findIndex(t,e)}flatten(t,e){X(this._observable);const i=[];return JI(i,this,t,e),new bs(i)}forEach(t,e){return X(this._observable),this._items.forEach(t,e)}getItemAt(t){return X(this._observable),this._items[t]}getNextIndex(t){X(this._observable);const e=this.length;return(t=t??e)<0?t=0:t>e&&(t=e),t}includes(t,e=0){return X(this._observable),this._items.includes(t,e)}indexOf(t,e=0){return X(this._observable),this._items.indexOf(t,e)}join(t=","){return X(this._observable),this._items.join(t)}lastIndexOf(t,e=this.length-1){return X(this._observable),this._items.lastIndexOf(t,e)}map(t,e){X(this._observable);const i=this._items.map(t,e);return new bs({items:i})}reorder(t,e=this.length-1){X(this._observable);const i=this.indexOf(t);if(i!==-1){if(e<0?e=0:e>=this.length&&(e=this.length-1),i!==e){if(this._emitBeforeChanges($e.MOVE))return t;this._splice(i,1),this._splice(e,0,[t]),this._emitAfterChanges($e.MOVE)}return t}}pop(){if(X(this._observable),!this.length||this._emitBeforeChanges($e.REMOVE))return;const t=D0(this._splice(this.length-1,1));return this._emitAfterChanges($e.REMOVE),t}push(...t){return X(this._observable),this._emitBeforeChanges($e.ADD)||(this._splice(this.length,0,t),this._emitAfterChanges($e.ADD)),this.length}reduce(t,e){X(this._observable);const i=this._items;return arguments.length===2?i.reduce(t,e):i.reduce(t)}reduceRight(t,e){X(this._observable);const i=this._items;return arguments.length===2?i.reduceRight(t,e):i.reduceRight(t)}remove(t){return X(this._observable),this.removeAt(this.indexOf(t))}removeAt(t){if(X(this._observable),t<0||t>=this.length||this._emitBeforeChanges($e.REMOVE))return;const e=D0(this._splice(t,1));return this._emitAfterChanges($e.REMOVE),e}removeMany(t){if(X(this._observable),!(t!=null&&t.length)||this._emitBeforeChanges($e.REMOVE))return[];const e=t instanceof bs?t.toArray():t,i=this._items,n=[],r=e.length;for(let s=0;s<r;s++){const o=e[s],a=i.indexOf(o);if(a>-1){const l=1+k9(e,i,s+1,a+1),u=this._splice(a,l);u&&u.length>0&&n.push.apply(n,u),s+=l-1}}return this._emitAfterChanges($e.REMOVE),n}reverse(){if(X(this._observable),this._emitBeforeChanges($e.MOVE))return this;const t=this._splice(0,this.length);return t&&(t.reverse(),this._splice(0,0,t)),this._emitAfterChanges($e.MOVE),this}shift(){if(X(this._observable),!this.length||this._emitBeforeChanges($e.REMOVE))return;const t=D0(this._splice(0,1));return this._emitAfterChanges($e.REMOVE),t}slice(t=0,e=this.length){return X(this._observable),this._createNewInstance({items:this._items.slice(t,e)})}some(t,e){return X(this._observable),this._items.some(t,e)}sort(t){if(X(this._observable),!this.length||this._emitBeforeChanges($e.MOVE))return this;const e=this._splice(0,this.length);return arguments.length?e.sort(t):e.sort(),this._splice(0,0,e),this._emitAfterChanges($e.MOVE),this}splice(t,e,...i){X(this._observable);const n=(e?$e.REMOVE:0)|(i.length?$e.ADD:0);if(this._emitBeforeChanges(n))return[];const r=this._splice(t,e,i)||[];return this._emitAfterChanges(n),r}toArray(){return X(this._observable),this._items.slice()}toJSON(){return X(this._observable),this.toArray()}toLocaleString(){return X(this._observable),this._items.toLocaleString()}toString(){return X(this._observable),this._items.toString()}unshift(...t){return X(this._observable),!t.length||this._emitBeforeChanges($e.ADD)||(this._splice(0,0,t),this._emitAfterChanges($e.ADD)),this.length}_createNewInstance(t){return new this.constructor(t)}_splice(t,e,i){const n=this._items,r=this.itemType;let s,o;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=cp(()=>this._dispatchChange())),t<0&&(t+=this.length),e){if(o=n.splice(t,e),this.hasEventListener("before-remove")){const a=Gi.acquire();a.target=this,a.cancellable=!0;for(let l=0,u=o.length;l<u;l++)s=o[l],a.reset(s),this.emit("before-remove",a),a.defaultPrevented&&(o.splice(l,1),n.splice(t,0,s),t+=1,l-=1,u-=1);Gi.release(a)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const a=Gi.acquire();a.target=this,a.cancellable=!1;const l=o.length;for(let u=0;u<l;u++)a.reset(o[u]),this.emit("after-remove",a);Gi.release(a)}}if(i!=null&&i.length){if(r){const p=[];for(const f of i){const m=r.ensureType(f);m==null&&f!=null||p.push(m)}i=p}const a=this.hasEventListener("before-add"),l=this.hasEventListener("after-add"),u=t===this.length;if(a||l){const p=Gi.acquire();p.target=this,p.cancellable=!0;const f=Gi.acquire();f.target=this,f.cancellable=!1;for(const m of i)a?(p.reset(m),this.emit("before-add",p),p.defaultPrevented||(u?n.push(m):n.splice(t++,0,m),this._set("length",n.length),l&&(f.reset(m),this.emit("after-add",f)))):(u?n.push(m):n.splice(t++,0,m),this._set("length",n.length),f.reset(m),this.emit("after-add",f));Gi.release(f),Gi.release(p)}else{if(u)for(const p of i)n.push(p);else n.splice(t,0,...i);this._set("length",n.length)}}if((i!=null&&i.length||o!=null&&o.length)&&this._notifyChangeEvent(i,o),this.hasEventListener("after-splice")){const a=new E9(this,i,o,t,e);this.emit("after-splice",a)}return o}_emitBeforeChanges(t){let e=!1;if(this.hasEventListener("before-changes")){const i=Gi.acquire();i.target=this,i.cancellable=!0,i.type=t,this.emit("before-changes",i),e=i.defaultPrevented,Gi.release(i)}return e}_emitAfterChanges(t){if(this.hasEventListener("after-changes")){const e=Gi.acquire();e.target=this,e.cancellable=!1,e.type=t,this.emit("after-changes",e),Gi.release(e)}this._observable.notify()}_notifyChangeEvent(t,e){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:t,removed:e})}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),!this._notifications)return;const t=this._notifications;this._notifications=null;for(const e of t){const i=e.changes;Hs.clear(),Bs.clear(),Gs.clear();for(const{added:l,removed:u}of i){if(l)if(Gs.size===0&&Bs.size===0)for(const p of l)Hs.add(p);else for(const p of l)Bs.has(p)?(Gs.add(p),Bs.delete(p)):Gs.has(p)||Hs.add(p);if(u)if(Gs.size===0&&Hs.size===0)for(const p of u)Bs.add(p);else for(const p of u)Hs.has(p)?Hs.delete(p):(Gs.delete(p),Bs.add(p))}const n=ci.acquire();Hs.forEach(l=>{n.push(l)});const r=ci.acquire();Bs.forEach(l=>{r.push(l)});const s=this._items,o=e.items,a=ci.acquire();if(Gs.forEach(l=>{o.indexOf(l)!==s.indexOf(l)&&a.push(l)}),e.listeners&&(n.length||r.length||a.length)){const l={target:this,added:n,removed:r,moved:a},u=e.listeners.length;for(let p=0;p<u;p++){const f=e.listeners[p];f.removed||f.callback.call(this,l)}}ci.release(n),ci.release(r),ci.release(a)}Hs.clear(),Bs.clear(),Gs.clear()}};Qa.ofType=t=>{if(!t)return bs;if(z0.has(t))return z0.get(t);let e=null;if(typeof t=="function")e=t.prototype.declaredClass;else if(t.base)e=t.base.prototype.declaredClass;else for(const n in t.typeMap){const r=t.typeMap[n].prototype.declaredClass;e?e+=` | ${r}`:e=r}let i=class extends bs{};return d([ZI({Type:t,ensureType:typeof t=="function"?It(t):Tl(t)})],i.prototype,"itemType",void 0),i=d([E(`esri.core.Collection<${e}>`)],i),z0.set(t,i),i},d([h()],Qa.prototype,"length",void 0),d([h()],Qa.prototype,"items",null),Qa=bs=d([E("esri.core.Collection")],Qa);const ee=Qa;function Pue(t,e,i){return Oo(t.map((n,r)=>e.apply(i,[n,r])))}async function C9(t,e,i){return(await Oo(t.map((n,r)=>e.apply(i,[n,r])))).map(n=>n.value)}function G_(t){return{ok:!0,value:t}}function V_(t){return{ok:!1,error:t}}function I9(t){return t!=null&&t.ok===!0?t.value:null}function O9(t){return t!=null&&t.ok===!1?t.error:null}async function KI(t){if(t==null)return{ok:!1,error:new Error("no promise provided")};try{return G_(await t)}catch(e){return V_(e)}}async function Rue(t){try{return G_(await t)}catch(e){return YM(e),V_(e)}}function W_(t,e){return new to(t,e)}let to=class extends Q{get value(){return I9(this._result)}get error(){return O9(this._result)}get finished(){return this._result!=null}constructor(e,i){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=Uo(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:n}=this._abortController;this.promise=e(n),this.promise.then(r=>{this._result=G_(r),this._cleanup()},r=>{this._result=V_(r),this._cleanup()}),this._abortHandle=on(i,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=Ke(this._abortHandle),this._abortController=null}};d([h()],to.prototype,"value",null),d([h()],to.prototype,"error",null),d([h()],to.prototype,"finished",null),d([h()],to.prototype,"promise",void 0),d([h()],to.prototype,"_result",void 0),to=d([E("esri.core.asyncUtils.ReactiveTask")],to);let dc=class extends ee{constructor(e){super(e),this.getCollections=null}initialize(){this.addHandles(vD(()=>this._refresh()))}destroy(){this.getCollections=null}_refresh(){const e=this.getCollections!=null?this.getCollections():null;if(e==null)return void this.removeAll();let i=0;for(const n of e)n!=null&&(i=this._processCollection(i,n));this.splice(i,this.length)}_createNewInstance(e){return new ee(e)}_processCollection(e,i){if(!i)return e;const n=this.itemFilterFunction??(r=>!!r);for(const r of i)if(r){if(n(r)){const s=this.indexOf(r,e);s>=0?s!==e&&this.reorder(r,e):this.add(r,e),++e}if(this.getChildrenFunction){const s=this.getChildrenFunction(r);if(Array.isArray(s))for(const o of s)e=this._processCollection(e,o);else e=this._processCollection(e,s)}}return e}};d([h()],dc.prototype,"getCollections",void 0),d([h()],dc.prototype,"getChildrenFunction",void 0),d([h()],dc.prototype,"itemFilterFunction",void 0),dc=d([E("esri.core.CollectionFlattener")],dc);const Ih=dc;function K(t,e,i={}){return q_(t,e,i,YI)}function cn(t,e,i={}){return q_(t,e,i,XI)}function q_(t,e,i={},n){let r=null;const s=i.once?(o,a)=>{n(o)&&(Ke(r),e(o,a))}:(o,a)=>{n(o)&&e(o,a)};if(r=CD(t,s,i.sync,i.equals),i.initial){const o=t();s(o,o)}return r}function Os(t,e,i,n={}){let r=null,s=null,o=null;function a(){var p;r&&s&&(s.remove(),(p=n.onListenerRemove)==null||p.call(n,r),r=null,s=null)}function l(p){n.once&&n.once&&Ke(o),i(p)}const u=K(t,(p,f)=>{var m;a(),$y(p)&&(r=p,s=lp(p,e,l),(m=n.onListenerAdd)==null||m.call(n,p))},{sync:n.sync,initial:!0});return o=je(()=>{u.remove(),a()}),o}function Ol(t,e){return A9(t,XI,e)}function A9(t,e,i){if(Bn(i))return Promise.reject(Be());const n=t();if(e!=null&&e(n))return Promise.resolve(n);let r=null;function s(){r=Ke(r)}return new Promise((o,a)=>{r=sp([on(i,()=>{s(),a(Be())}),q_(t,l=>{s(),o(l)},{sync:!1,once:!0},e??YI)])})}function YI(t){return!0}function XI(t){return!!t}function L9(t,e,i={}){let n=!1;const r=K(t,(s,o)=>{n||e(s,o)},i);return{remove(){r.remove()},pause(){n=!0},resume(){n=!1}}}const Cu={sync:!0},yt={initial:!0},ws={sync:!0,initial:!0};let fg=class{constructor(e=i=>i.values().next().value){this._peeker=e,this._observable=new mp,this._items=new Set}get length(){return X(this._observable),this._items.size}clear(){this.length!==0&&(this._items.clear(),this._observable.notify())}last(){if(this.length===0)return;let e;for(e of this._items);return e}peek(){if(this.length!==0)return this._peeker(this._items)}push(e){this.contains(e)||(this._items.add(e),this._observable.notify())}contains(e){return X(this._observable),this._items.has(e)}pop(){if(this.length===0)return;const e=this.peek();return this._items.delete(e),this._observable.notify(),e}popLast(){if(this.length===0)return;const e=this.last();return this._items.delete(e),this._observable.notify(),e}remove(e){this.contains(e)&&(this._items.delete(e),this._observable.notify())}filter(e){const i=this.length;return this._items.forEach(n=>{e(n)||this._items.delete(n)}),i!==this._items.size&&this._observable.notify(),this}*[Symbol.iterator](){X(this._observable),yield*this._items}};const QI=new FinalizationRegistry(t=>{t.close()});function P9(t,e){QI.register(t,e,e)}function R9(t){QI.unregister(t)}const N9={statsWorker:()=>V(()=>import("./statsWorker-M297iQIA.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url),geometryEngineWorker:()=>V(()=>import("./geometryEngineWorker-nRC_riBP.js"),__vite__mapDeps([6,7,8,9]),import.meta.url),CSVSourceWorker:()=>V(()=>import("./CSVSourceWorker-ExeMitRU.js"),__vite__mapDeps([10,11,9,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,2,1,3,4,5,27,28,29,30]),import.meta.url),EdgeProcessingWorker:()=>V(()=>import("./EdgeProcessingWorker-8mmQGWAN.js"),__vite__mapDeps([31,32,33,34,35,36,37,38,39,40]),import.meta.url),ElevationSamplerWorker:()=>V(()=>import("./ElevationSamplerWorker-a7dLTNdV.js"),__vite__mapDeps([41,17,42,43,44,45,46,47,48,49,50,33]),import.meta.url),FeatureServiceSnappingSourceWorker:()=>V(()=>import("./FeatureServiceSnappingSourceWorker-fvU6HiFZ.js"),__vite__mapDeps([51,13,14,12,15,16,17,18,19,9,20,21,22,23,24,25,26,2,1,3,4,5,27,52,53,54,55,56,57,58,59,60]),import.meta.url),GeoJSONSourceWorker:()=>V(()=>import("./GeoJSONSourceWorker-3jKcgcFh.js"),__vite__mapDeps([61,14,12,15,13,16,17,18,19,9,20,21,22,23,24,25,26,2,1,3,4,5,27,62,11,29,30,63]),import.meta.url),LercWorker:()=>V(()=>import("./LercWorker-WF4SW6sm.js"),__vite__mapDeps([]),import.meta.url),MemorySourceWorker:()=>V(()=>import("./MemorySourceWorker-eNiHXQsF.js"),__vite__mapDeps([64,14,12,15,65,13,16,17,18,19,9,20,21,22,23,24,25,26,2,1,3,4,5,27,29,30,63,11]),import.meta.url),PBFDecoderWorker:()=>V(()=>import("./PBFDecoderWorker-FCx-dABc.js"),__vite__mapDeps([66,53,25,14,12,15,56,57]),import.meta.url),Pipeline:()=>V(()=>import("./Pipeline-aM9Np6A-.js"),__vite__mapDeps([67,14,12,15,20,21,22,23,24,25,18,19,9,26,2,1,3,4,5,27,68,69,70,71,72,73,74,39,40,75,76,62,11,29,30,58,56,57,59,52,53,77,78]),import.meta.url),PointCloudWorker:()=>V(()=>import("./PointCloudWorker-4eRr26D3.js"),__vite__mapDeps([79,48,43,49,80,81,82,83,84,38]),import.meta.url),RasterWorker:()=>V(()=>import("./RasterWorker-Q35JUHM9.js"),__vite__mapDeps([85,86,87,88,89,90,91]),import.meta.url),SceneLayerSnappingSourceWorker:()=>V(()=>import("./SceneLayerSnappingSourceWorker-jgIjZdxX.js"),__vite__mapDeps([92,93,94,60,43,44,49,95,35,36,37,32,33,34,38,39,40]),import.meta.url),SceneLayerWorker:()=>V(()=>import("./SceneLayerWorker-joo05Lyd.js"),__vite__mapDeps([96,46,47,50,94,60,43,44,49]),import.meta.url),WFSSourceWorker:()=>V(()=>import("./WFSSourceWorker-KNT3Eh1P.js"),__vite__mapDeps([97,14,12,15,13,16,17,18,19,9,20,21,22,23,24,25,26,2,1,3,4,5,27,62,11,63,98,99,53]),import.meta.url),WorkerTileHandler:()=>V(()=>import("./WorkerTileHandler-VmHBrDAs.js"),__vite__mapDeps([100,101,102,103,104,105,74,57,106,75,107,39,40,88,108,109]),import.meta.url)};var kt;(function(t){t[t.HANDSHAKE=0]="HANDSHAKE",t[t.OPEN=1]="OPEN",t[t.OPENED=2]="OPENED",t[t.RESPONSE=3]="RESPONSE",t[t.INVOKE=4]="INVOKE",t[t.ABORT=5]="ABORT",t[t.CLOSE=6]="CLOSE",t[t.OPEN_PORT=7]="OPEN_PORT",t[t.ON=8]="ON"})(kt||(kt={}));let D9=0;function e3(){return D9++}function z9(t){return t&&typeof t=="object"&&("result"in t||"transferList"in t)}function Oh(t){return t?typeof t=="string"?JSON.stringify({name:"message",message:t}):t.toJSON?JSON.stringify(t):JSON.stringify({name:t.name,message:t.message,details:t.details||{stack:t.stack}}):null}function Z_(t,e,i,n){if(e.type===kt.OPEN_PORT)return void t.postMessage(e,[e.port]);if(e.type!==kt.INVOKE&&e.type!==kt.RESPONSE)return void t.postMessage(e);let r;if(z9(i)?(r=z$(i.transferList),e.data=i.result):(r=z$(n),e.data=i),r){if(P("ff")){for(const s of r)if("byteLength"in s&&s.byteLength>267386880){const o="Worker call with large ArrayBuffer would crash Firefox";switch(e.type){case kt.INVOKE:throw o;case kt.RESPONSE:return void Z_(t,{type:kt.RESPONSE,jobId:e.jobId,error:Oh(o)})}}}t.postMessage(e,r)}else t.postMessage(e)}function Ah(t){if(!t)return null;const e=t.data;return e?typeof e=="string"?JSON.parse(e):e:null}function z$(t){if(!(t!=null&&t.length))return null;if(P("esri-workers-arraybuffer-transfer"))return t;const e=t.filter(i=>!F9(i));return e.length?e:null}function F9(t){var e;return t instanceof ArrayBuffer||((e=t==null?void 0:t.constructor)==null?void 0:e.name)==="ArrayBuffer"}const{CLOSE:F$,ABORT:j$,INVOKE:U$,RESPONSE:Vu,OPEN_PORT:H$,ON:j9}=kt,U9=2;let H9=class{constructor(e){this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._invoke=e,this._timer=null,this._process=this._process.bind(this)}push(e){e.type===kt.ABORT?this._cancelledJobIds.add(e.jobId):(this._invokeMessages.push(e),this._timer===null&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const e of this._invokeMessages)this._cancelledJobIds.has(e.jobId)||this._invoke(e);this._cancelledJobIds.clear(),this._invokeMessages.length=0}},Wo=class hc{static connect(e){const i=new MessageChannel;let n;n=typeof e=="function"?new e:"default"in e&&typeof e.default=="function"?new e.default:e;const r=new hc(i.port1,{channel:i,client:n});return typeof n=="object"&&"remoteClient"in n&&(n.remoteClient=r),hc.clients.set(r,n),i.port2}static loadWorker(e){const i=N9[e];return i?i():Promise.resolve(null)}constructor(e,i,n){this._port=e,this._jobQueue=n,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new H9(r=>this._onInvokeMessage(r)),this._client=i.client,this._onMessage=this._onMessage.bind(this),this._channel=i.channel,this._schedule=i.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}close(){this._post({type:F$}),this._close()}isBusy(){return this._outJobs.size>0}invoke(e,i,n){const r=n==null?void 0:n.signal,s=n==null?void 0:n.transferList;if(!this._port)return Promise.reject(new D("worker:port-closed",`Cannot call invoke('${e}'), port is closed`,{methodName:e,data:i}));const o=e3();return new Promise((a,l)=>{if(Bn(r))return this._processWork(),void l(Be());const u=on(r,()=>{const f=this._outJobs.get(o);f&&(this._outJobs.delete(o),this._processWork(),Ke(f.abortHandle),this._post({type:j$,jobId:o}),l(Be()))}),p={resolve:a,reject:l,abortHandle:u,debugInfo:e};this._outJobs.set(o,p),this._post({type:U$,jobId:o,methodName:e,abortable:r!=null},i,s)})}on(e,i){const n=new MessageChannel;function r(s){i(s.data)}return this._port.postMessage({type:kt.ON,eventType:e,port:n.port2},[n.port2]),n.port1.addEventListener("message",r),n.port1.start(),je(()=>{n.port1.postMessage({type:kt.CLOSE}),n.port1.close(),n.port1.removeEventListener("message",r)})}jobAdded(){this._processWork()}openPort(){const e=new MessageChannel;return this._post({type:H$,port:e.port2}),e.port1}_processWork(){var o;if(this._outJobs.size>=U9)return;const e=(o=this._jobQueue)==null?void 0:o.pop();if(!e)return;const{methodName:i,data:n,invokeOptions:r,resolver:s}=e;this.invoke(i,n,r).then(a=>s.resolve(a)).catch(a=>s.reject(a))}_close(){this._channel&&(this._channel=void 0),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach(e=>{Ke(e.abortHandle),e.reject(Be(`Worker closing, aborting job calling '${e.debugInfo}'`))}),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=null,this._client=null,this._schedule=null}_onMessage(e){this._schedule!=null?this._schedule(()=>this._processMessage(e)):this._processMessage(e)}_processMessage(e){const i=Ah(e);if(i)switch(i.type){case Vu:this._onResponseMessage(i);break;case U$:this._invokeQueue.push(i);break;case j$:this._onAbortMessage(i);break;case F$:this._onCloseMessage();break;case H$:this._onOpenPortMessage(i);break;case j9:this._onOnMessage(i)}}_onAbortMessage(e){const i=this._inJobs,n=e.jobId,r=i.get(n);this._invokeQueue.push(e),r&&(r.controller&&r.controller.abort(),i.delete(n))}_onCloseMessage(){const e=this._client;this._close(),e&&"destroy"in e&&hc.clients.get(this)===e&&e.destroy(),hc.clients.delete(this),e!=null&&e.remoteClient&&(e.remoteClient=null)}_onInvokeMessage(e){const{methodName:i,jobId:n,data:r,abortable:s}=e,o=s?new AbortController:null,a=this._inJobs;let l,u=this._client,p=u[i];try{if(!p&&i&&i.includes(".")){const f=i.split(".");for(let m=0;m<f.length-1;m++)u=u[f[m]],p=u[f[m+1]]}if(typeof p!="function")throw new TypeError(`${i} is not a function`);l=p.call(u,r,{client:this,signal:o?o.signal:null})}catch(f){return void this._post({type:Vu,jobId:n,error:Oh(f)})}Ns(l)?(a.set(n,{controller:o,promise:l}),l.then(f=>{a.has(n)&&(a.delete(n),this._post({type:Vu,jobId:n},f))},f=>{a.has(n)&&(a.delete(n),di(f)||this._post({type:Vu,jobId:n,error:Oh(f||{message:`Error encountered at method ${i}`})}))})):this._post({type:Vu,jobId:n},l)}_onOpenPortMessage(e){new hc(e.port,{client:this._client})}_onOnMessage(e){const{port:i}=e,n=this._client.on(e.eventType,s=>{i.postMessage(s)}),r=lp(e.port,"message",s=>{const o=Ah(s);(o==null?void 0:o.type)===kt.CLOSE&&(r.remove(),n.remove(),i.close())})}_onResponseMessage(e){const{jobId:i,error:n,data:r}=e,s=this._outJobs;if(!s.has(i))return;const o=s.get(i);s.delete(i),this._processWork(),Ke(o.abortHandle),n?o.reject(D.fromJSON(JSON.parse(n))):o.resolve(r)}_post(e,i,n){return Z_(this._port,e,i,n)}};Wo.kernelInfo={buildDate:RC,fullVersion:$_,revision:NC},Wo.clients=new Map;let B9=class{constructor(){this._inUseClients=new Array,this._clients=new Array,this._clientPromises=new Array,this._ongoingJobsQueue=new fg}destroy(){this.close()}get closed(){var e;return!((e=this._clients)!=null&&e.length)}open(e,i){return new Promise((n,r)=>{let s=!0;const o=a=>{Ge(i.signal),s&&(s=!1,a())};this._clients.length=e.length,this._clientPromises.length=e.length,this._inUseClients.length=e.length;for(let a=0;a<e.length;++a){const l=e[a];Ns(l)?this._clientPromises[a]=l.then(u=>(this._clients[a]=new Wo(u,i,this._ongoingJobsQueue),o(n),this._clients[a]),()=>(o(r),null)):(this._clients[a]=new Wo(l,i,this._ongoingJobsQueue),this._clientPromises[a]=Promise.resolve(this._clients[a]),o(n))}})}broadcast(e,i,n){const r=new Array(this._clientPromises.length);for(let s=0;s<this._clientPromises.length;++s){const o=this._clientPromises[s];r[s]=o.then(a=>a==null?void 0:a.invoke(e,i,n))}return r}close(){let e;for(;e=this._ongoingJobsQueue.pop();)e.resolver.reject(Be(`Worker closing, aborting job calling '${e.methodName}'`));for(const i of this._clientPromises)i.then(n=>n==null?void 0:n.close());this._clients.length=0,this._clientPromises.length=0,this._inUseClients.length=0,R9(this)}invoke(e,i,n){let r;Array.isArray(n)?(G.getLogger("esri.core.workers.Connection").warn("invoke()","The transferList parameter is deprecated, use the options object instead"),r={transferList:n}):r=n;const s=ln();this._ongoingJobsQueue.push({methodName:e,data:i,invokeOptions:r,resolver:s});for(let o=0;o<this._clientPromises.length;o++){const a=this._clients[o];a?a.jobAdded():this._clientPromises[o].then(l=>l==null?void 0:l.jobAdded())}return s.promise}on(e,i){return Promise.all(this._clientPromises).then(()=>sp(this._clients.map(n=>n.on(e,i))))}openPorts(){return new Promise(e=>{const i=new Array(this._clientPromises.length);let n=i.length;for(let r=0;r<this._clientPromises.length;++r)this._clientPromises[r].then(s=>{s&&(i[r]=s.openPort()),--n==0&&e(i)})})}get test(){return{numClients:this._clients.length}}};const G9={async request(t,e){var o,a;const i=t.options,n=i.responseType;i.signal=e==null?void 0:e.signal,i.responseType=n==="native"||n==="native-request-init"?"native-request-init":n&&["blob","json","text"].includes(n)&&((o=CC(t.url))!=null&&o.after)?n:"array-buffer";const r=await Ye(t.url,i),s={data:r.data,httpStatus:r.httpStatus,ssl:r.ssl};switch((a=r.requestOptions)==null?void 0:a.responseType){case"native-request-init":return delete s.data.signal,s;case"blob":s.data=await s.data.arrayBuffer();break;case"json":s.data=new TextEncoder().encode(JSON.stringify(s.data)).buffer;break;case"text":s.data=new TextEncoder().encode(s.data).buffer}return{result:s,transferList:[s.data]}}};let rh;var oM,aM;const V9=((oM=globalThis.esriConfig)==null?void 0:oM.locale)??((aM=globalThis.dojoConfig)==null?void 0:aM.locale);function t3(){var t;return V9??((t=globalThis.navigator)==null?void 0:t.language)??"en"}function Di(){return rh===void 0&&(rh=t3()),rh}function W9(t=Di()){const e=/^([a-zA-Z]{2,3})(?:[_\-]\w+)*$/.exec(t);return e==null?void 0:e[1].toLowerCase()}const sh=[];function Ry(t){return sh.push(t),je(()=>sh.splice(sh.indexOf(t),1))}const Ob=[];function J_(t){return Ob.push(t),je(()=>sh.splice(Ob.indexOf(t),1))}function q9(){const t=t3();rh!==t&&(rh=t,[...Ob].forEach(e=>{e.call(null,t)}),[...sh].forEach(e=>{e.call(null,t)}))}var lM;(lM=globalThis.addEventListener)==null||lM.call(globalThis,"languagechange",q9);const B$=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time","Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time","Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Almaty"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time","Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time","Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time","Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time","America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time","Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time","Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)","America/Mazatlan"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time","Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time","Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)","America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time","Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time","Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time","Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time","Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]);class Gl extends Error{}class Z9 extends Gl{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class J9 extends Gl{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class K9 extends Gl{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class zc extends Gl{}class i3 extends Gl{constructor(e){super(`Invalid unit ${e}`)}}class xi extends Gl{}class Vs extends Gl{constructor(){super("Zone is an abstract class")}}const q="numeric",Wn="short",zi="long",mg={year:q,month:q,day:q},n3={year:q,month:Wn,day:q},Y9={year:q,month:Wn,day:q,weekday:Wn},r3={year:q,month:zi,day:q},s3={year:q,month:zi,day:q,weekday:zi},o3={hour:q,minute:q},a3={hour:q,minute:q,second:q},l3={hour:q,minute:q,second:q,timeZoneName:Wn},c3={hour:q,minute:q,second:q,timeZoneName:zi},u3={hour:q,minute:q,hourCycle:"h23"},d3={hour:q,minute:q,second:q,hourCycle:"h23"},h3={hour:q,minute:q,second:q,hourCycle:"h23",timeZoneName:Wn},p3={hour:q,minute:q,second:q,hourCycle:"h23",timeZoneName:zi},f3={year:q,month:q,day:q,hour:q,minute:q},m3={year:q,month:q,day:q,hour:q,minute:q,second:q},g3={year:q,month:Wn,day:q,hour:q,minute:q},y3={year:q,month:Wn,day:q,hour:q,minute:q,second:q},X9={year:q,month:Wn,day:q,weekday:Wn,hour:q,minute:q},v3={year:q,month:zi,day:q,hour:q,minute:q,timeZoneName:Wn},b3={year:q,month:zi,day:q,hour:q,minute:q,second:q,timeZoneName:Wn},w3={year:q,month:zi,day:q,weekday:zi,hour:q,minute:q,timeZoneName:zi},_3={year:q,month:zi,day:q,weekday:zi,hour:q,minute:q,second:q,timeZoneName:zi};class gp{get type(){throw new Vs}get name(){throw new Vs}get ianaName(){return this.name}get isUniversal(){throw new Vs}offsetName(e,i){throw new Vs}formatOffset(e,i){throw new Vs}offset(e){throw new Vs}equals(e){throw new Vs}get isValid(){throw new Vs}}let F0=null;class Ny extends gp{static get instance(){return F0===null&&(F0=new Ny),F0}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:i,locale:n}){return I3(e,i,n)}formatOffset(e,i){return oh(this.offset(e),i)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let em={};function Q9(t){return em[t]||(em[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),em[t]}const e7={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function t7(t,e){const i=t.format(e).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(i),[,r,s,o,a,l,u,p]=n;return[o,r,s,a,l,u,p]}function i7(t,e){const i=t.formatToParts(e),n=[];for(let r=0;r<i.length;r++){const{type:s,value:o}=i[r],a=e7[s];s==="era"?n[a]=o:de(a)||(n[a]=parseInt(o,10))}return n}let ef={};class qn extends gp{static create(e){return ef[e]||(ef[e]=new qn(e)),ef[e]}static resetCache(){ef={},em={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=qn.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:i,locale:n}){return I3(e,i,n,this.name)}formatOffset(e,i){return oh(this.offset(e),i)}offset(e){const i=new Date(e);if(isNaN(i))return NaN;const n=Q9(this.name);let[r,s,o,a,l,u,p]=n.formatToParts?i7(n,i):t7(n,i);a==="BC"&&(r=-Math.abs(r)+1);const m=zy({year:r,month:s,day:o,hour:l===24?0:l,minute:u,second:p,millisecond:0});let g=+i;const y=g%1e3;return g-=y>=0?y:1e3+y,(m-g)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let G$={};function n7(t,e={}){const i=JSON.stringify([t,e]);let n=G$[i];return n||(n=new Intl.ListFormat(t,e),G$[i]=n),n}let Ab={};function Lb(t,e={}){const i=JSON.stringify([t,e]);let n=Ab[i];return n||(n=new Intl.DateTimeFormat(t,e),Ab[i]=n),n}let Pb={};function r7(t,e={}){const i=JSON.stringify([t,e]);let n=Pb[i];return n||(n=new Intl.NumberFormat(t,e),Pb[i]=n),n}let Rb={};function s7(t,e={}){const{base:i,...n}=e,r=JSON.stringify([t,n]);let s=Rb[r];return s||(s=new Intl.RelativeTimeFormat(t,e),Rb[r]=s),s}let pd=null;function o7(){return pd||(pd=new Intl.DateTimeFormat().resolvedOptions().locale,pd)}let V$={};function a7(t){let e=V$[t];if(!e){const i=new Intl.Locale(t);e="getWeekInfo"in i?i.getWeekInfo():i.weekInfo,V$[t]=e}return e}function l7(t){const e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));const i=t.indexOf("-u-");if(i===-1)return[t];{let n,r;try{n=Lb(t).resolvedOptions(),r=t}catch{const l=t.substring(0,i);n=Lb(l).resolvedOptions(),r=l}const{numberingSystem:s,calendar:o}=n;return[r,s,o]}}function c7(t,e,i){return(i||e)&&(t.includes("-u-")||(t+="-u"),i&&(t+=`-ca-${i}`),e&&(t+=`-nu-${e}`)),t}function u7(t){const e=[];for(let i=1;i<=12;i++){const n=ce.utc(2009,i,1);e.push(t(n))}return e}function d7(t){const e=[];for(let i=1;i<=7;i++){const n=ce.utc(2016,11,13+i);e.push(t(n))}return e}function tf(t,e,i,n){const r=t.listingMode();return r==="error"?null:r==="en"?i(e):n(e)}function h7(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}class p7{constructor(e,i,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;const{padTo:r,floor:s,...o}=n;if(!i||Object.keys(o).length>0){const a={useGrouping:!1,...n};n.padTo>0&&(a.minimumIntegerDigits=n.padTo),this.inf=r7(e,a)}}format(e){if(this.inf){const i=this.floor?Math.floor(e):e;return this.inf.format(i)}else{const i=this.floor?Math.floor(e):Q_(e,3);return ft(i,this.padTo)}}}class f7{constructor(e,i,n){this.opts=n,this.originalZone=void 0;let r;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const o=-1*(e.offset/60),a=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;e.offset!==0&&qn.create(a).valid?(r=a,this.dt=e):(r="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,r=e.zone.name):(r="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const s={...this.opts};s.timeZone=s.timeZone||r,this.dtf=Lb(i,s)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(i=>{if(i.type==="timeZoneName"){const n=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...i,value:n}}else return i}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class m7{constructor(e,i,n){this.opts={style:"long",...n},!i&&M3()&&(this.rtf=s7(e,n))}format(e,i){return this.rtf?this.rtf.format(e,i):R7(i,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,i){return this.rtf?this.rtf.formatToParts(e,i):[]}}const g7={firstDay:1,minimalDays:4,weekend:[6,7]};class Pe{static fromOpts(e){return Pe.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,i,n,r,s=!1){const o=e||ct.defaultLocale,a=o||(s?"en-US":o7()),l=i||ct.defaultNumberingSystem,u=n||ct.defaultOutputCalendar,p=Nb(r)||ct.defaultWeekSettings;return new Pe(a,l,u,p,o)}static resetCache(){pd=null,Ab={},Pb={},Rb={}}static fromObject({locale:e,numberingSystem:i,outputCalendar:n,weekSettings:r}={}){return Pe.create(e,i,n,r)}constructor(e,i,n,r,s){const[o,a,l]=l7(e);this.locale=o,this.numberingSystem=i||a||null,this.outputCalendar=n||l||null,this.weekSettings=r,this.intl=c7(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=h7(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),i=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&i?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:Pe.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,Nb(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,i=!1){return tf(this,e,L3,()=>{const n=i?{month:e,day:"numeric"}:{month:e},r=i?"format":"standalone";return this.monthsCache[r][e]||(this.monthsCache[r][e]=u7(s=>this.extract(s,n,"month"))),this.monthsCache[r][e]})}weekdays(e,i=!1){return tf(this,e,N3,()=>{const n=i?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},r=i?"format":"standalone";return this.weekdaysCache[r][e]||(this.weekdaysCache[r][e]=d7(s=>this.extract(s,n,"weekday"))),this.weekdaysCache[r][e]})}meridiems(){return tf(this,void 0,()=>D3,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[ce.utc(2016,11,13,9),ce.utc(2016,11,13,19)].map(i=>this.extract(i,e,"dayperiod"))}return this.meridiemCache})}eras(e){return tf(this,e,z3,()=>{const i={era:e};return this.eraCache[e]||(this.eraCache[e]=[ce.utc(-40,1,1),ce.utc(2017,1,1)].map(n=>this.extract(n,i,"era"))),this.eraCache[e]})}extract(e,i,n){const r=this.dtFormatter(e,i),s=r.formatToParts(),o=s.find(a=>a.type.toLowerCase()===n);return o?o.value:null}numberFormatter(e={}){return new p7(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,i={}){return new f7(e,this.intl,i)}relFormatter(e={}){return new m7(this.intl,this.isEnglish(),e)}listFormatter(e={}){return n7(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:C3()?a7(this.locale):g7}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}}let j0=null;class Yt extends gp{static get utcInstance(){return j0===null&&(j0=new Yt(0)),j0}static instance(e){return e===0?Yt.utcInstance:new Yt(e)}static parseSpecifier(e){if(e){const i=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(i)return new Yt(Fy(i[1],i[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${oh(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${oh(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,i){return oh(this.fixed,i)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class y7 extends gp{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Co(t,e){if(de(t)||t===null)return e;if(t instanceof gp)return t;if(w7(t)){const i=t.toLowerCase();return i==="default"?e:i==="local"||i==="system"?Ny.instance:i==="utc"||i==="gmt"?Yt.utcInstance:Yt.parseSpecifier(i)||qn.create(t)}else return vl(t)?Yt.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new y7(t)}let W$=()=>Date.now(),q$="system",Z$=null,J$=null,K$=null,Y$=60,X$,Q$=null;class ct{static get now(){return W$}static set now(e){W$=e}static set defaultZone(e){q$=e}static get defaultZone(){return Co(q$,Ny.instance)}static get defaultLocale(){return Z$}static set defaultLocale(e){Z$=e}static get defaultNumberingSystem(){return J$}static set defaultNumberingSystem(e){J$=e}static get defaultOutputCalendar(){return K$}static set defaultOutputCalendar(e){K$=e}static get defaultWeekSettings(){return Q$}static set defaultWeekSettings(e){Q$=Nb(e)}static get twoDigitCutoffYear(){return Y$}static set twoDigitCutoffYear(e){Y$=e%100}static get throwOnInvalid(){return X$}static set throwOnInvalid(e){X$=e}static resetCaches(){Pe.resetCache(),qn.resetCache()}}class Dn{constructor(e,i){this.reason=e,this.explanation=i}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const S3=[0,31,59,90,120,151,181,212,243,273,304,334],x3=[0,31,60,91,121,152,182,213,244,274,305,335];function rn(t,e){return new Dn("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function K_(t,e,i){const n=new Date(Date.UTC(t,e-1,i));t<100&&t>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);const r=n.getUTCDay();return r===0?7:r}function $3(t,e,i){return i+(yp(t)?x3:S3)[e-1]}function T3(t,e){const i=yp(t)?x3:S3,n=i.findIndex(s=>s<e),r=e-i[n];return{month:n+1,day:r}}function Y_(t,e){return(t-e+7)%7+1}function gg(t,e=4,i=1){const{year:n,month:r,day:s}=t,o=$3(n,r,s),a=Y_(K_(n,r,s),i);let l=Math.floor((o-a+14-e)/7),u;return l<1?(u=n-1,l=Lh(u,e,i)):l>Lh(n,e,i)?(u=n+1,l=1):u=n,{weekYear:u,weekNumber:l,weekday:a,...jy(t)}}function e2(t,e=4,i=1){const{weekYear:n,weekNumber:r,weekday:s}=t,o=Y_(K_(n,1,e),i),a=Zc(n);let l=r*7+s-o-7+e,u;l<1?(u=n-1,l+=Zc(u)):l>a?(u=n+1,l-=Zc(n)):u=n;const{month:p,day:f}=T3(u,l);return{year:u,month:p,day:f,...jy(t)}}function U0(t){const{year:e,month:i,day:n}=t,r=$3(e,i,n);return{year:e,ordinal:r,...jy(t)}}function t2(t){const{year:e,ordinal:i}=t,{month:n,day:r}=T3(e,i);return{year:e,month:n,day:r,...jy(t)}}function i2(t,e){if(!de(t.localWeekday)||!de(t.localWeekNumber)||!de(t.localWeekYear)){if(!de(t.weekday)||!de(t.weekNumber)||!de(t.weekYear))throw new zc("Cannot mix locale-based week fields with ISO-based week fields");return de(t.localWeekday)||(t.weekday=t.localWeekday),de(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),de(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function v7(t,e=4,i=1){const n=Dy(t.weekYear),r=sn(t.weekNumber,1,Lh(t.weekYear,e,i)),s=sn(t.weekday,1,7);return n?r?s?!1:rn("weekday",t.weekday):rn("week",t.weekNumber):rn("weekYear",t.weekYear)}function b7(t){const e=Dy(t.year),i=sn(t.ordinal,1,Zc(t.year));return e?i?!1:rn("ordinal",t.ordinal):rn("year",t.year)}function E3(t){const e=Dy(t.year),i=sn(t.month,1,12),n=sn(t.day,1,yg(t.year,t.month));return e?i?n?!1:rn("day",t.day):rn("month",t.month):rn("year",t.year)}function k3(t){const{hour:e,minute:i,second:n,millisecond:r}=t,s=sn(e,0,23)||e===24&&i===0&&n===0&&r===0,o=sn(i,0,59),a=sn(n,0,59),l=sn(r,0,999);return s?o?a?l?!1:rn("millisecond",r):rn("second",n):rn("minute",i):rn("hour",e)}function de(t){return typeof t>"u"}function vl(t){return typeof t=="number"}function Dy(t){return typeof t=="number"&&t%1===0}function w7(t){return typeof t=="string"}function _7(t){return Object.prototype.toString.call(t)==="[object Date]"}function M3(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function C3(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function S7(t){return Array.isArray(t)?t:[t]}function n2(t,e,i){if(t.length!==0)return t.reduce((n,r)=>{const s=[e(r),r];return n&&i(n[0],s[0])===n[0]?n:s},null)[1]}function x7(t,e){return e.reduce((i,n)=>(i[n]=t[n],i),{})}function hu(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Nb(t){if(t==null)return null;if(typeof t!="object")throw new xi("Week settings must be an object");if(!sn(t.firstDay,1,7)||!sn(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(e=>!sn(e,1,7)))throw new xi("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function sn(t,e,i){return Dy(t)&&t>=e&&t<=i}function $7(t,e){return t-e*Math.floor(t/e)}function ft(t,e=2){const i=t<0;let n;return i?n="-"+(""+-t).padStart(e,"0"):n=(""+t).padStart(e,"0"),n}function So(t){if(!(de(t)||t===null||t===""))return parseInt(t,10)}function pa(t){if(!(de(t)||t===null||t===""))return parseFloat(t)}function X_(t){if(!(de(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function Q_(t,e,i=!1){const n=10**e;return(i?Math.trunc:Math.round)(t*n)/n}function yp(t){return t%4===0&&(t%100!==0||t%400===0)}function Zc(t){return yp(t)?366:365}function yg(t,e){const i=$7(e-1,12)+1,n=t+(e-i)/12;return i===2?yp(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][i-1]}function zy(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function r2(t,e,i){return-Y_(K_(t,1,e),i)+e-1}function Lh(t,e=4,i=1){const n=r2(t,e,i),r=r2(t+1,e,i);return(Zc(t)-n+r)/7}function Db(t){return t>99?t:t>ct.twoDigitCutoffYear?1900+t:2e3+t}function I3(t,e,i,n=null){const r=new Date(t),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(s.timeZone=n);const o={timeZoneName:e,...s},a=new Intl.DateTimeFormat(i,o).formatToParts(r).find(l=>l.type.toLowerCase()==="timezonename");return a?a.value:null}function Fy(t,e){let i=parseInt(t,10);Number.isNaN(i)&&(i=0);const n=parseInt(e,10)||0,r=i<0||Object.is(i,-0)?-n:n;return i*60+r}function O3(t){const e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new xi(`Invalid unit value ${t}`);return e}function vg(t,e){const i={};for(const n in t)if(hu(t,n)){const r=t[n];if(r==null)continue;i[e(n)]=O3(r)}return i}function oh(t,e){const i=Math.trunc(Math.abs(t/60)),n=Math.trunc(Math.abs(t%60)),r=t>=0?"+":"-";switch(e){case"short":return`${r}${ft(i,2)}:${ft(n,2)}`;case"narrow":return`${r}${i}${n>0?`:${n}`:""}`;case"techie":return`${r}${ft(i,2)}${ft(n,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function jy(t){return x7(t,["hour","minute","second","millisecond"])}const T7=["January","February","March","April","May","June","July","August","September","October","November","December"],A3=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],E7=["J","F","M","A","M","J","J","A","S","O","N","D"];function L3(t){switch(t){case"narrow":return[...E7];case"short":return[...A3];case"long":return[...T7];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const P3=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],R3=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],k7=["M","T","W","T","F","S","S"];function N3(t){switch(t){case"narrow":return[...k7];case"short":return[...R3];case"long":return[...P3];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const D3=["AM","PM"],M7=["Before Christ","Anno Domini"],C7=["BC","AD"],I7=["B","A"];function z3(t){switch(t){case"narrow":return[...I7];case"short":return[...C7];case"long":return[...M7];default:return null}}function O7(t){return D3[t.hour<12?0:1]}function A7(t,e){return N3(e)[t.weekday-1]}function L7(t,e){return L3(e)[t.month-1]}function P7(t,e){return z3(e)[t.year<0?0:1]}function R7(t,e,i="always",n=!1){const r={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(t)===-1;if(i==="auto"&&s){const f=t==="days";switch(e){case 1:return f?"tomorrow":`next ${r[t][0]}`;case-1:return f?"yesterday":`last ${r[t][0]}`;case 0:return f?"today":`this ${r[t][0]}`}}const o=Object.is(e,-0)||e<0,a=Math.abs(e),l=a===1,u=r[t],p=n?l?u[1]:u[2]||u[1]:l?r[t][0]:t;return o?`${a} ${p} ago`:`in ${a} ${p}`}function s2(t,e){let i="";for(const n of t)n.literal?i+=n.val:i+=e(n.val);return i}const N7={D:mg,DD:n3,DDD:r3,DDDD:s3,t:o3,tt:a3,ttt:l3,tttt:c3,T:u3,TT:d3,TTT:h3,TTTT:p3,f:f3,ff:g3,fff:v3,ffff:w3,F:m3,FF:y3,FFF:b3,FFFF:_3};class Kt{static create(e,i={}){return new Kt(e,i)}static parseFormat(e){let i=null,n="",r=!1;const s=[];for(let o=0;o<e.length;o++){const a=e.charAt(o);a==="'"?(n.length>0&&s.push({literal:r||/^\s+$/.test(n),val:n}),i=null,n="",r=!r):r||a===i?n+=a:(n.length>0&&s.push({literal:/^\s+$/.test(n),val:n}),n=a,i=a)}return n.length>0&&s.push({literal:r||/^\s+$/.test(n),val:n}),s}static macroTokenToFormatOpts(e){return N7[e]}constructor(e,i){this.opts=i,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,i){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...i}).format()}dtFormatter(e,i={}){return this.loc.dtFormatter(e,{...this.opts,...i})}formatDateTime(e,i){return this.dtFormatter(e,i).format()}formatDateTimeParts(e,i){return this.dtFormatter(e,i).formatToParts()}formatInterval(e,i){return this.dtFormatter(e.start,i).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,i){return this.dtFormatter(e,i).resolvedOptions()}num(e,i=0){if(this.opts.forceSimple)return ft(e,i);const n={...this.opts};return i>0&&(n.padTo=i),this.loc.numberFormatter(n).format(e)}formatDateTimeFromString(e,i){const n=this.loc.listingMode()==="en",r=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(g,y)=>this.loc.extract(e,g,y),o=g=>e.isOffsetFixed&&e.offset===0&&g.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,g.format):"",a=()=>n?O7(e):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(g,y)=>n?L7(e,g):s(y?{month:g}:{month:g,day:"numeric"},"month"),u=(g,y)=>n?A7(e,g):s(y?{weekday:g}:{weekday:g,month:"long",day:"numeric"},"weekday"),p=g=>{const y=Kt.macroTokenToFormatOpts(g);return y?this.formatWithSystemDefault(e,y):g},f=g=>n?P7(e,g):s({era:g},"era"),m=g=>{switch(g){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return a();case"d":return r?s({day:"numeric"},"day"):this.num(e.day);case"dd":return r?s({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return u("short",!0);case"cccc":return u("long",!0);case"ccccc":return u("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return u("short",!1);case"EEEE":return u("long",!1);case"EEEEE":return u("narrow",!1);case"L":return r?s({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return r?s({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return r?s({month:"numeric"},"month"):this.num(e.month);case"MM":return r?s({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return r?s({year:"numeric"},"year"):this.num(e.year);case"yy":return r?s({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return r?s({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return r?s({year:"numeric"},"year"):this.num(e.year,6);case"G":return f("short");case"GG":return f("long");case"GGGGG":return f("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return p(g)}};return s2(Kt.parseFormat(i),m)}formatDurationFromString(e,i){const n=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},r=l=>u=>{const p=n(u);return p?this.num(l.get(p),u.length):u},s=Kt.parseFormat(i),o=s.reduce((l,{literal:u,val:p})=>u?l:l.concat(p),[]),a=e.shiftTo(...o.map(n).filter(l=>l));return s2(s,r(a))}}const F3=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Iu(...t){const e=t.reduce((i,n)=>i+n.source,"");return RegExp(`^${e}$`)}function Ou(...t){return e=>t.reduce(([i,n,r],s)=>{const[o,a,l]=s(e,r);return[{...i,...o},a||n,l]},[{},null,1]).slice(0,2)}function Au(t,...e){if(t==null)return[null,null];for(const[i,n]of e){const r=i.exec(t);if(r)return n(r)}return[null,null]}function j3(...t){return(e,i)=>{const n={};let r;for(r=0;r<t.length;r++)n[t[r]]=So(e[i+r]);return[n,null,i+r]}}const U3=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,D7=`(?:${U3.source}?(?:\\[(${F3.source})\\])?)?`,eS=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,H3=RegExp(`${eS.source}${D7}`),tS=RegExp(`(?:T${H3.source})?`),z7=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,F7=/(\d{4})-?W(\d\d)(?:-?(\d))?/,j7=/(\d{4})-?(\d{3})/,U7=j3("weekYear","weekNumber","weekDay"),H7=j3("year","ordinal"),B7=/(\d{4})-(\d\d)-(\d\d)/,B3=RegExp(`${eS.source} ?(?:${U3.source}|(${F3.source}))?`),G7=RegExp(`(?: ${B3.source})?`);function Jc(t,e,i){const n=t[e];return de(n)?i:So(n)}function V7(t,e){return[{year:Jc(t,e),month:Jc(t,e+1,1),day:Jc(t,e+2,1)},null,e+3]}function Lu(t,e){return[{hours:Jc(t,e,0),minutes:Jc(t,e+1,0),seconds:Jc(t,e+2,0),milliseconds:X_(t[e+3])},null,e+4]}function vp(t,e){const i=!t[e]&&!t[e+1],n=Fy(t[e+1],t[e+2]),r=i?null:Yt.instance(n);return[{},r,e+3]}function bp(t,e){const i=t[e]?qn.create(t[e]):null;return[{},i,e+1]}const W7=RegExp(`^T?${eS.source}$`),q7=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Z7(t){const[e,i,n,r,s,o,a,l,u]=t,p=e[0]==="-",f=l&&l[0]==="-",m=(g,y=!1)=>g!==void 0&&(y||g&&p)?-g:g;return[{years:m(pa(i)),months:m(pa(n)),weeks:m(pa(r)),days:m(pa(s)),hours:m(pa(o)),minutes:m(pa(a)),seconds:m(pa(l),l==="-0"),milliseconds:m(X_(u),f)}]}const J7={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function iS(t,e,i,n,r,s,o){const a={year:e.length===2?Db(So(e)):So(e),month:A3.indexOf(i)+1,day:So(n),hour:So(r),minute:So(s)};return o&&(a.second=So(o)),t&&(a.weekday=t.length>3?P3.indexOf(t)+1:R3.indexOf(t)+1),a}const K7=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Y7(t){const[,e,i,n,r,s,o,a,l,u,p,f]=t,m=iS(e,r,n,i,s,o,a);let g;return l?g=J7[l]:u?g=0:g=Fy(p,f),[m,new Yt(g)]}function X7(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const Q7=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,ej=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,tj=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function o2(t){const[,e,i,n,r,s,o,a]=t;return[iS(e,r,n,i,s,o,a),Yt.utcInstance]}function ij(t){const[,e,i,n,r,s,o,a]=t;return[iS(e,a,i,n,r,s,o),Yt.utcInstance]}const nj=Iu(z7,tS),rj=Iu(F7,tS),sj=Iu(j7,tS),oj=Iu(H3),G3=Ou(V7,Lu,vp,bp),aj=Ou(U7,Lu,vp,bp),lj=Ou(H7,Lu,vp,bp),cj=Ou(Lu,vp,bp);function uj(t){return Au(t,[nj,G3],[rj,aj],[sj,lj],[oj,cj])}function dj(t){return Au(X7(t),[K7,Y7])}function hj(t){return Au(t,[Q7,o2],[ej,o2],[tj,ij])}function pj(t){return Au(t,[q7,Z7])}const fj=Ou(Lu);function mj(t){return Au(t,[W7,fj])}const gj=Iu(B7,G7),yj=Iu(B3),vj=Ou(Lu,vp,bp);function bj(t){return Au(t,[gj,G3],[yj,vj])}const a2="Invalid Duration",V3={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},wj={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...V3},Vi=146097/400,Ql=146097/4800,_j={years:{quarters:4,months:12,weeks:Vi/7,days:Vi,hours:Vi*24,minutes:Vi*24*60,seconds:Vi*24*60*60,milliseconds:Vi*24*60*60*1e3},quarters:{months:3,weeks:Vi/28,days:Vi/4,hours:Vi*24/4,minutes:Vi*24*60/4,seconds:Vi*24*60*60/4,milliseconds:Vi*24*60*60*1e3/4},months:{weeks:Ql/7,days:Ql,hours:Ql*24,minutes:Ql*24*60,seconds:Ql*24*60*60,milliseconds:Ql*24*60*60*1e3},...V3},al=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Sj=al.slice(0).reverse();function Ws(t,e,i=!1){const n={values:i?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new xe(n)}function W3(t,e){let i=e.milliseconds??0;for(const n of Sj.slice(1))e[n]&&(i+=e[n]*t[n].milliseconds);return i}function l2(t,e){const i=W3(t,e)<0?-1:1;al.reduceRight((n,r)=>{if(de(e[r]))return n;if(n){const s=e[n]*i,o=t[r][n],a=Math.floor(s/o);e[r]+=a*i,e[n]-=a*o*i}return r},null),al.reduce((n,r)=>{if(de(e[r]))return n;if(n){const s=e[n]%1;e[n]-=s,e[r]+=s*t[n][r]}return r},null)}function xj(t){const e={};for(const[i,n]of Object.entries(t))n!==0&&(e[i]=n);return e}class xe{constructor(e){const i=e.conversionAccuracy==="longterm"||!1;let n=i?_j:wj;e.matrix&&(n=e.matrix),this.values=e.values,this.loc=e.loc||Pe.create(),this.conversionAccuracy=i?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(e,i){return xe.fromObject({milliseconds:e},i)}static fromObject(e,i={}){if(e==null||typeof e!="object")throw new xi(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new xe({values:vg(e,xe.normalizeUnit),loc:Pe.fromObject(i),conversionAccuracy:i.conversionAccuracy,matrix:i.matrix})}static fromDurationLike(e){if(vl(e))return xe.fromMillis(e);if(xe.isDuration(e))return e;if(typeof e=="object")return xe.fromObject(e);throw new xi(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,i){const[n]=pj(e);return n?xe.fromObject(n,i):xe.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,i){const[n]=mj(e);return n?xe.fromObject(n,i):xe.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,i=null){if(!e)throw new xi("need to specify a reason the Duration is invalid");const n=e instanceof Dn?e:new Dn(e,i);if(ct.throwOnInvalid)throw new K9(n);return new xe({invalid:n})}static normalizeUnit(e){const i={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!i)throw new i3(e);return i}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,i={}){const n={...i,floor:i.round!==!1&&i.floor!==!1};return this.isValid?Kt.create(this.loc,n).formatDurationFromString(this,e):a2}toHuman(e={}){if(!this.isValid)return a2;const i=al.map(n=>{const r=this.values[n];return de(r)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:n.slice(0,-1)}).format(r)}).filter(n=>n);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(i)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=Q_(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const i=this.toMillis();return i<0||i>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},ce.fromMillis(i,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?W3(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const i=xe.fromDurationLike(e),n={};for(const r of al)(hu(i.values,r)||hu(this.values,r))&&(n[r]=i.get(r)+this.get(r));return Ws(this,{values:n},!0)}minus(e){if(!this.isValid)return this;const i=xe.fromDurationLike(e);return this.plus(i.negate())}mapUnits(e){if(!this.isValid)return this;const i={};for(const n of Object.keys(this.values))i[n]=O3(e(this.values[n],n));return Ws(this,{values:i},!0)}get(e){return this[xe.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const i={...this.values,...vg(e,xe.normalizeUnit)};return Ws(this,{values:i})}reconfigure({locale:e,numberingSystem:i,conversionAccuracy:n,matrix:r}={}){const o={loc:this.loc.clone({locale:e,numberingSystem:i}),matrix:r,conversionAccuracy:n};return Ws(this,o)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return l2(this.matrix,e),Ws(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=xj(this.normalize().shiftToAll().toObject());return Ws(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(o=>xe.normalizeUnit(o));const i={},n={},r=this.toObject();let s;for(const o of al)if(e.indexOf(o)>=0){s=o;let a=0;for(const u in n)a+=this.matrix[u][o]*n[u],n[u]=0;vl(r[o])&&(a+=r[o]);const l=Math.trunc(a);i[o]=l,n[o]=(a*1e3-l*1e3)/1e3}else vl(r[o])&&(n[o]=r[o]);for(const o in n)n[o]!==0&&(i[s]+=o===s?n[o]:n[o]/this.matrix[s][o]);return l2(this.matrix,i),Ws(this,{values:i},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const i of Object.keys(this.values))e[i]=this.values[i]===0?0:-this.values[i];return Ws(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function i(n,r){return n===void 0||n===0?r===void 0||r===0:n===r}for(const n of al)if(!i(this.values[n],e.values[n]))return!1;return!0}}const ec="Invalid Interval";function $j(t,e){return!t||!t.isValid?st.invalid("missing or invalid start"):!e||!e.isValid?st.invalid("missing or invalid end"):e<t?st.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class st{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,i=null){if(!e)throw new xi("need to specify a reason the Interval is invalid");const n=e instanceof Dn?e:new Dn(e,i);if(ct.throwOnInvalid)throw new J9(n);return new st({invalid:n})}static fromDateTimes(e,i){const n=qu(e),r=qu(i),s=$j(n,r);return s??new st({start:n,end:r})}static after(e,i){const n=xe.fromDurationLike(i),r=qu(e);return st.fromDateTimes(r,r.plus(n))}static before(e,i){const n=xe.fromDurationLike(i),r=qu(e);return st.fromDateTimes(r.minus(n),r)}static fromISO(e,i){const[n,r]=(e||"").split("/",2);if(n&&r){let s,o;try{s=ce.fromISO(n,i),o=s.isValid}catch{o=!1}let a,l;try{a=ce.fromISO(r,i),l=a.isValid}catch{l=!1}if(o&&l)return st.fromDateTimes(s,a);if(o){const u=xe.fromISO(r,i);if(u.isValid)return st.after(s,u)}else if(l){const u=xe.fromISO(n,i);if(u.isValid)return st.before(a,u)}}return st.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",i){if(!this.isValid)return NaN;const n=this.start.startOf(e,i);let r;return i!=null&&i.useLocaleWeeks?r=this.end.reconfigure({locale:n.locale}):r=this.end,r=r.startOf(e,i),Math.floor(r.diff(n,e).get(e))+(r.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:i}={}){return this.isValid?st.fromDateTimes(e||this.s,i||this.e):this}splitAt(...e){if(!this.isValid)return[];const i=e.map(qu).filter(o=>this.contains(o)).sort((o,a)=>o.toMillis()-a.toMillis()),n=[];let{s:r}=this,s=0;for(;r<this.e;){const o=i[s]||this.e,a=+o>+this.e?this.e:o;n.push(st.fromDateTimes(r,a)),r=a,s+=1}return n}splitBy(e){const i=xe.fromDurationLike(e);if(!this.isValid||!i.isValid||i.as("milliseconds")===0)return[];let{s:n}=this,r=1,s;const o=[];for(;n<this.e;){const a=this.start.plus(i.mapUnits(l=>l*r));s=+a>+this.e?this.e:a,o.push(st.fromDateTimes(n,s)),n=s,r+=1}return o}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const i=this.s>e.s?this.s:e.s,n=this.e<e.e?this.e:e.e;return i>=n?null:st.fromDateTimes(i,n)}union(e){if(!this.isValid)return this;const i=this.s<e.s?this.s:e.s,n=this.e>e.e?this.e:e.e;return st.fromDateTimes(i,n)}static merge(e){const[i,n]=e.sort((r,s)=>r.s-s.s).reduce(([r,s],o)=>s?s.overlaps(o)||s.abutsStart(o)?[r,s.union(o)]:[r.concat([s]),o]:[r,o],[[],null]);return n&&i.push(n),i}static xor(e){let i=null,n=0;const r=[],s=e.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),o=Array.prototype.concat(...s),a=o.sort((l,u)=>l.time-u.time);for(const l of a)n+=l.type==="s"?1:-1,n===1?i=l.time:(i&&+i!=+l.time&&r.push(st.fromDateTimes(i,l.time)),i=null);return st.merge(r)}difference(...e){return st.xor([this].concat(e)).map(i=>this.intersection(i)).filter(i=>i&&!i.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} â€“ ${this.e.toISO()})`:ec}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=mg,i={}){return this.isValid?Kt.create(this.s.loc.clone(i),e).formatInterval(this):ec}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:ec}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:ec}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:ec}toFormat(e,{separator:i=" â€“ "}={}){return this.isValid?`${this.s.toFormat(e)}${i}${this.e.toFormat(e)}`:ec}toDuration(e,i){return this.isValid?this.e.diff(this.s,e,i):xe.invalid(this.invalidReason)}mapEndpoints(e){return st.fromDateTimes(e(this.s),e(this.e))}}class nf{static hasDST(e=ct.defaultZone){const i=ce.now().setZone(e).set({month:12});return!e.isUniversal&&i.offset!==i.set({month:6}).offset}static isValidIANAZone(e){return qn.isValidZone(e)}static normalizeZone(e){return Co(e,ct.defaultZone)}static getStartOfWeek({locale:e=null,locObj:i=null}={}){return(i||Pe.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:i=null}={}){return(i||Pe.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:i=null}={}){return(i||Pe.create(e)).getWeekendDays().slice()}static months(e="long",{locale:i=null,numberingSystem:n=null,locObj:r=null,outputCalendar:s="gregory"}={}){return(r||Pe.create(i,n,s)).months(e)}static monthsFormat(e="long",{locale:i=null,numberingSystem:n=null,locObj:r=null,outputCalendar:s="gregory"}={}){return(r||Pe.create(i,n,s)).months(e,!0)}static weekdays(e="long",{locale:i=null,numberingSystem:n=null,locObj:r=null}={}){return(r||Pe.create(i,n,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:i=null,numberingSystem:n=null,locObj:r=null}={}){return(r||Pe.create(i,n,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Pe.create(e).meridiems()}static eras(e="short",{locale:i=null}={}){return Pe.create(i,null,"gregory").eras(e)}static features(){return{relative:M3(),localeWeek:C3()}}}function c2(t,e){const i=r=>r.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=i(e)-i(t);return Math.floor(xe.fromMillis(n).as("days"))}function Tj(t,e,i){const n=[["years",(l,u)=>u.year-l.year],["quarters",(l,u)=>u.quarter-l.quarter+(u.year-l.year)*4],["months",(l,u)=>u.month-l.month+(u.year-l.year)*12],["weeks",(l,u)=>{const p=c2(l,u);return(p-p%7)/7}],["days",c2]],r={},s=t;let o,a;for(const[l,u]of n)i.indexOf(l)>=0&&(o=l,r[l]=u(t,e),a=s.plus(r),a>e?(r[l]--,t=s.plus(r),t>e&&(a=t,r[l]--,t=s.plus(r))):t=a);return[t,r,a,o]}function Ej(t,e,i,n){let[r,s,o,a]=Tj(t,e,i);const l=e-r,u=i.filter(f=>["hours","minutes","seconds","milliseconds"].indexOf(f)>=0);u.length===0&&(o<e&&(o=r.plus({[a]:1})),o!==r&&(s[a]=(s[a]||0)+l/(o-r)));const p=xe.fromObject(s,n);return u.length>0?xe.fromMillis(l,n).shiftTo(...u).plus(p):p}const nS={arab:"[Ù -Ù©]",arabext:"[Û°-Û¹]",bali:"[á­-á­™]",beng:"[à§¦-à§¯]",deva:"[à¥¦-à¥¯]",fullwide:"[ï¼-ï¼™]",gujr:"[à«¦-à«¯]",hanidec:"[ã€‡|ä¸€|äºŒ|ä¸‰|å››|äº”|å…­|ä¸ƒ|å…«|ä¹]",khmr:"[áŸ -áŸ©]",knda:"[à³¦-à³¯]",laoo:"[à»-à»™]",limb:"[á¥†-á¥]",mlym:"[àµ¦-àµ¯]",mong:"[á -á ™]",mymr:"[á€-á‰]",orya:"[à­¦-à­¯]",tamldec:"[à¯¦-à¯¯]",telu:"[à±¦-à±¯]",thai:"[à¹-à¹™]",tibt:"[à¼ -à¼©]",latn:"\\d"},u2={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},kj=nS.hanidec.replace(/[\[|\]]/g,"").split("");function Mj(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let i=0;i<t.length;i++){const n=t.charCodeAt(i);if(t[i].search(nS.hanidec)!==-1)e+=kj.indexOf(t[i]);else for(const r in u2){const[s,o]=u2[r];n>=s&&n<=o&&(e+=n-s)}}return parseInt(e,10)}else return e}function gn({numberingSystem:t},e=""){return new RegExp(`${nS[t||"latn"]}${e}`)}const Cj="missing Intl.DateTimeFormat.formatToParts support";function Ee(t,e=i=>i){return{regex:t,deser:([i])=>e(Mj(i))}}const Ij="Â ",q3=`[ ${Ij}]`,Z3=new RegExp(q3,"g");function Oj(t){return t.replace(/\./g,"\\.?").replace(Z3,q3)}function d2(t){return t.replace(/\./g,"").replace(Z3," ").toLowerCase()}function yn(t,e){return t===null?null:{regex:RegExp(t.map(Oj).join("|")),deser:([i])=>t.findIndex(n=>d2(i)===d2(n))+e}}function h2(t,e){return{regex:t,deser:([,i,n])=>Fy(i,n),groups:e}}function rf(t){return{regex:t,deser:([e])=>e}}function Aj(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Lj(t,e){const i=gn(e),n=gn(e,"{2}"),r=gn(e,"{3}"),s=gn(e,"{4}"),o=gn(e,"{6}"),a=gn(e,"{1,2}"),l=gn(e,"{1,3}"),u=gn(e,"{1,6}"),p=gn(e,"{1,9}"),f=gn(e,"{2,4}"),m=gn(e,"{4,6}"),g=w=>({regex:RegExp(Aj(w.val)),deser:([_])=>_,literal:!0}),v=(w=>{if(t.literal)return g(w);switch(w.val){case"G":return yn(e.eras("short"),0);case"GG":return yn(e.eras("long"),0);case"y":return Ee(u);case"yy":return Ee(f,Db);case"yyyy":return Ee(s);case"yyyyy":return Ee(m);case"yyyyyy":return Ee(o);case"M":return Ee(a);case"MM":return Ee(n);case"MMM":return yn(e.months("short",!0),1);case"MMMM":return yn(e.months("long",!0),1);case"L":return Ee(a);case"LL":return Ee(n);case"LLL":return yn(e.months("short",!1),1);case"LLLL":return yn(e.months("long",!1),1);case"d":return Ee(a);case"dd":return Ee(n);case"o":return Ee(l);case"ooo":return Ee(r);case"HH":return Ee(n);case"H":return Ee(a);case"hh":return Ee(n);case"h":return Ee(a);case"mm":return Ee(n);case"m":return Ee(a);case"q":return Ee(a);case"qq":return Ee(n);case"s":return Ee(a);case"ss":return Ee(n);case"S":return Ee(l);case"SSS":return Ee(r);case"u":return rf(p);case"uu":return rf(a);case"uuu":return Ee(i);case"a":return yn(e.meridiems(),0);case"kkkk":return Ee(s);case"kk":return Ee(f,Db);case"W":return Ee(a);case"WW":return Ee(n);case"E":case"c":return Ee(i);case"EEE":return yn(e.weekdays("short",!1),1);case"EEEE":return yn(e.weekdays("long",!1),1);case"ccc":return yn(e.weekdays("short",!0),1);case"cccc":return yn(e.weekdays("long",!0),1);case"Z":case"ZZ":return h2(new RegExp(`([+-]${a.source})(?::(${n.source}))?`),2);case"ZZZ":return h2(new RegExp(`([+-]${a.source})(${n.source})?`),2);case"z":return rf(/[a-z_+-/]{1,256}?/i);case" ":return rf(/[^\S\n\r]/);default:return g(w)}})(t)||{invalidReason:Cj};return v.token=t,v}const Pj={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function Rj(t,e,i){const{type:n,value:r}=t;if(n==="literal"){const l=/^\s+$/.test(r);return{literal:!l,val:l?" ":r}}const s=e[n];let o=n;n==="hour"&&(e.hour12!=null?o=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?o="hour12":o="hour24":o=i.hour12?"hour12":"hour24");let a=Pj[o];if(typeof a=="object"&&(a=a[s]),a)return{literal:!1,val:a}}function Nj(t){return[`^${t.map(i=>i.regex).reduce((i,n)=>`${i}(${n.source})`,"")}$`,t]}function Dj(t,e,i){const n=t.match(e);if(n){const r={};let s=1;for(const o in i)if(hu(i,o)){const a=i[o],l=a.groups?a.groups+1:1;!a.literal&&a.token&&(r[a.token.val[0]]=a.deser(n.slice(s,s+l))),s+=l}return[n,r]}else return[n,{}]}function zj(t){const e=s=>{switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let i=null,n;return de(t.z)||(i=qn.create(t.z)),de(t.Z)||(i||(i=new Yt(t.Z)),n=t.Z),de(t.q)||(t.M=(t.q-1)*3+1),de(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),de(t.u)||(t.S=X_(t.u)),[Object.keys(t).reduce((s,o)=>{const a=e(o);return a&&(s[a]=t[o]),s},{}),i,n]}let H0=null;function Fj(){return H0||(H0=ce.fromMillis(1555555555555)),H0}function jj(t,e){if(t.literal)return t;const i=Kt.macroTokenToFormatOpts(t.val),n=Y3(i,e);return n==null||n.includes(void 0)?t:n}function J3(t,e){return Array.prototype.concat(...t.map(i=>jj(i,e)))}function K3(t,e,i){const n=J3(Kt.parseFormat(i),t),r=n.map(o=>Lj(o,t)),s=r.find(o=>o.invalidReason);if(s)return{input:e,tokens:n,invalidReason:s.invalidReason};{const[o,a]=Nj(r),l=RegExp(o,"i"),[u,p]=Dj(e,l,a),[f,m,g]=p?zj(p):[null,null,void 0];if(hu(p,"a")&&hu(p,"H"))throw new zc("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:n,regex:l,rawMatches:u,matches:p,result:f,zone:m,specificOffset:g}}}function Uj(t,e,i){const{result:n,zone:r,specificOffset:s,invalidReason:o}=K3(t,e,i);return[n,r,s,o]}function Y3(t,e){if(!t)return null;const n=Kt.create(e,t).dtFormatter(Fj()),r=n.formatToParts(),s=n.resolvedOptions();return r.map(o=>Rj(o,t,s))}const B0="Invalid DateTime",p2=864e13;function sf(t){return new Dn("unsupported zone",`the zone "${t.name}" is not supported`)}function G0(t){return t.weekData===null&&(t.weekData=gg(t.c)),t.weekData}function V0(t){return t.localWeekData===null&&(t.localWeekData=gg(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function fa(t,e){const i={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new ce({...i,...e,old:i})}function X3(t,e,i){let n=t-e*60*1e3;const r=i.offset(n);if(e===r)return[n,e];n-=(r-e)*60*1e3;const s=i.offset(n);return r===s?[n,r]:[t-Math.min(r,s)*60*1e3,Math.max(r,s)]}function of(t,e){t+=e*60*1e3;const i=new Date(t);return{year:i.getUTCFullYear(),month:i.getUTCMonth()+1,day:i.getUTCDate(),hour:i.getUTCHours(),minute:i.getUTCMinutes(),second:i.getUTCSeconds(),millisecond:i.getUTCMilliseconds()}}function tm(t,e,i){return X3(zy(t),e,i)}function f2(t,e){const i=t.o,n=t.c.year+Math.trunc(e.years),r=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,s={...t.c,year:n,month:r,day:Math.min(t.c.day,yg(n,r))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},o=xe.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),a=zy(s);let[l,u]=X3(a,i,t.zone);return o!==0&&(l+=o,u=t.zone.offset(l)),{ts:l,o:u}}function Wu(t,e,i,n,r,s){const{setZone:o,zone:a}=i;if(t&&Object.keys(t).length!==0||e){const l=e||a,u=ce.fromObject(t,{...i,zone:l,specificOffset:s});return o?u:u.setZone(a)}else return ce.invalid(new Dn("unparsable",`the input "${r}" can't be parsed as ${n}`))}function af(t,e,i=!0){return t.isValid?Kt.create(Pe.create("en-US"),{allowZ:i,forceSimple:!0}).formatDateTimeFromString(t,e):null}function W0(t,e){const i=t.c.year>9999||t.c.year<0;let n="";return i&&t.c.year>=0&&(n+="+"),n+=ft(t.c.year,i?6:4),e?(n+="-",n+=ft(t.c.month),n+="-",n+=ft(t.c.day)):(n+=ft(t.c.month),n+=ft(t.c.day)),n}function m2(t,e,i,n,r,s){let o=ft(t.c.hour);return e?(o+=":",o+=ft(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!i)&&(o+=":")):o+=ft(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!i)&&(o+=ft(t.c.second),(t.c.millisecond!==0||!n)&&(o+=".",o+=ft(t.c.millisecond,3))),r&&(t.isOffsetFixed&&t.offset===0&&!s?o+="Z":t.o<0?(o+="-",o+=ft(Math.trunc(-t.o/60)),o+=":",o+=ft(Math.trunc(-t.o%60))):(o+="+",o+=ft(Math.trunc(t.o/60)),o+=":",o+=ft(Math.trunc(t.o%60)))),s&&(o+="["+t.zone.ianaName+"]"),o}const Q3={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Hj={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Bj={ordinal:1,hour:0,minute:0,second:0,millisecond:0},eO=["year","month","day","hour","minute","second","millisecond"],Gj=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Vj=["year","ordinal","hour","minute","second","millisecond"];function Wj(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new i3(t);return e}function g2(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return Wj(t)}}function y2(t,e){const i=Co(e.zone,ct.defaultZone),n=Pe.fromObject(e),r=ct.now();let s,o;if(de(t.year))s=r;else{for(const u of eO)de(t[u])&&(t[u]=Q3[u]);const a=E3(t)||k3(t);if(a)return ce.invalid(a);const l=i.offset(r);[s,o]=tm(t,l,i)}return new ce({ts:s,zone:i,loc:n,o})}function v2(t,e,i){const n=de(i.round)?!0:i.round,r=(o,a)=>(o=Q_(o,n||i.calendary?0:2,!0),e.loc.clone(i).relFormatter(i).format(o,a)),s=o=>i.calendary?e.hasSame(t,o)?0:e.startOf(o).diff(t.startOf(o),o).get(o):e.diff(t,o).get(o);if(i.unit)return r(s(i.unit),i.unit);for(const o of i.units){const a=s(o);if(Math.abs(a)>=1)return r(a,o)}return r(t>e?-0:0,i.units[i.units.length-1])}function b2(t){let e={},i;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],i=Array.from(t).slice(0,t.length-1)):i=Array.from(t),[e,i]}class ce{constructor(e){const i=e.zone||ct.defaultZone;let n=e.invalid||(Number.isNaN(e.ts)?new Dn("invalid input"):null)||(i.isValid?null:sf(i));this.ts=de(e.ts)?ct.now():e.ts;let r=null,s=null;if(!n)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(i))[r,s]=[e.old.c,e.old.o];else{const a=i.offset(this.ts);r=of(this.ts,a),n=Number.isNaN(r.year)?new Dn("invalid input"):null,r=n?null:r,s=n?null:a}this._zone=i,this.loc=e.loc||Pe.create(),this.invalid=n,this.weekData=null,this.localWeekData=null,this.c=r,this.o=s,this.isLuxonDateTime=!0}static now(){return new ce({})}static local(){const[e,i]=b2(arguments),[n,r,s,o,a,l,u]=i;return y2({year:n,month:r,day:s,hour:o,minute:a,second:l,millisecond:u},e)}static utc(){const[e,i]=b2(arguments),[n,r,s,o,a,l,u]=i;return e.zone=Yt.utcInstance,y2({year:n,month:r,day:s,hour:o,minute:a,second:l,millisecond:u},e)}static fromJSDate(e,i={}){const n=_7(e)?e.valueOf():NaN;if(Number.isNaN(n))return ce.invalid("invalid input");const r=Co(i.zone,ct.defaultZone);return r.isValid?new ce({ts:n,zone:r,loc:Pe.fromObject(i)}):ce.invalid(sf(r))}static fromMillis(e,i={}){if(vl(e))return e<-p2||e>p2?ce.invalid("Timestamp out of range"):new ce({ts:e,zone:Co(i.zone,ct.defaultZone),loc:Pe.fromObject(i)});throw new xi(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,i={}){if(vl(e))return new ce({ts:e*1e3,zone:Co(i.zone,ct.defaultZone),loc:Pe.fromObject(i)});throw new xi("fromSeconds requires a numerical input")}static fromObject(e,i={}){e=e||{};const n=Co(i.zone,ct.defaultZone);if(!n.isValid)return ce.invalid(sf(n));const r=Pe.fromObject(i),s=vg(e,g2),{minDaysInFirstWeek:o,startOfWeek:a}=i2(s,r),l=ct.now(),u=de(i.specificOffset)?n.offset(l):i.specificOffset,p=!de(s.ordinal),f=!de(s.year),m=!de(s.month)||!de(s.day),g=f||m,y=s.weekYear||s.weekNumber;if((g||p)&&y)throw new zc("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(m&&p)throw new zc("Can't mix ordinal dates with month/day");const v=y||s.weekday&&!g;let w,_,$=of(l,u);v?(w=Gj,_=Hj,$=gg($,o,a)):p?(w=Vj,_=Bj,$=U0($)):(w=eO,_=Q3);let x=!1;for(const F of w){const U=s[F];de(U)?x?s[F]=_[F]:s[F]=$[F]:x=!0}const T=v?v7(s,o,a):p?b7(s):E3(s),M=T||k3(s);if(M)return ce.invalid(M);const I=v?e2(s,o,a):p?t2(s):s,[L,N]=tm(I,u,n),B=new ce({ts:L,zone:n,o:N,loc:r});return s.weekday&&g&&e.weekday!==B.weekday?ce.invalid("mismatched weekday",`you can't specify both a weekday of ${s.weekday} and a date of ${B.toISO()}`):B}static fromISO(e,i={}){const[n,r]=uj(e);return Wu(n,r,i,"ISO 8601",e)}static fromRFC2822(e,i={}){const[n,r]=dj(e);return Wu(n,r,i,"RFC 2822",e)}static fromHTTP(e,i={}){const[n,r]=hj(e);return Wu(n,r,i,"HTTP",i)}static fromFormat(e,i,n={}){if(de(e)||de(i))throw new xi("fromFormat requires an input string and a format");const{locale:r=null,numberingSystem:s=null}=n,o=Pe.fromOpts({locale:r,numberingSystem:s,defaultToEN:!0}),[a,l,u,p]=Uj(o,e,i);return p?ce.invalid(p):Wu(a,l,n,`format ${i}`,e,u)}static fromString(e,i,n={}){return ce.fromFormat(e,i,n)}static fromSQL(e,i={}){const[n,r]=bj(e);return Wu(n,r,i,"SQL",e)}static invalid(e,i=null){if(!e)throw new xi("need to specify a reason the DateTime is invalid");const n=e instanceof Dn?e:new Dn(e,i);if(ct.throwOnInvalid)throw new Z9(n);return new ce({invalid:n})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,i={}){const n=Y3(e,Pe.fromObject(i));return n?n.map(r=>r?r.val:null).join(""):null}static expandFormat(e,i={}){return J3(Kt.parseFormat(e),Pe.fromObject(i)).map(r=>r.val).join("")}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?G0(this).weekYear:NaN}get weekNumber(){return this.isValid?G0(this).weekNumber:NaN}get weekday(){return this.isValid?G0(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?V0(this).weekday:NaN}get localWeekNumber(){return this.isValid?V0(this).weekNumber:NaN}get localWeekYear(){return this.isValid?V0(this).weekYear:NaN}get ordinal(){return this.isValid?U0(this.c).ordinal:NaN}get monthShort(){return this.isValid?nf.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?nf.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?nf.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?nf.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,i=6e4,n=zy(this.c),r=this.zone.offset(n-e),s=this.zone.offset(n+e),o=this.zone.offset(n-r*i),a=this.zone.offset(n-s*i);if(o===a)return[this];const l=n-o*i,u=n-a*i,p=of(l,o),f=of(u,a);return p.hour===f.hour&&p.minute===f.minute&&p.second===f.second&&p.millisecond===f.millisecond?[fa(this,{ts:l}),fa(this,{ts:u})]:[this]}get isInLeapYear(){return yp(this.year)}get daysInMonth(){return yg(this.year,this.month)}get daysInYear(){return this.isValid?Zc(this.year):NaN}get weeksInWeekYear(){return this.isValid?Lh(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Lh(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:i,numberingSystem:n,calendar:r}=Kt.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:i,numberingSystem:n,outputCalendar:r}}toUTC(e=0,i={}){return this.setZone(Yt.instance(e),i)}toLocal(){return this.setZone(ct.defaultZone)}setZone(e,{keepLocalTime:i=!1,keepCalendarTime:n=!1}={}){if(e=Co(e,ct.defaultZone),e.equals(this.zone))return this;if(e.isValid){let r=this.ts;if(i||n){const s=e.offset(this.ts),o=this.toObject();[r]=tm(o,s,e)}return fa(this,{ts:r,zone:e})}else return ce.invalid(sf(e))}reconfigure({locale:e,numberingSystem:i,outputCalendar:n}={}){const r=this.loc.clone({locale:e,numberingSystem:i,outputCalendar:n});return fa(this,{loc:r})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const i=vg(e,g2),{minDaysInFirstWeek:n,startOfWeek:r}=i2(i,this.loc),s=!de(i.weekYear)||!de(i.weekNumber)||!de(i.weekday),o=!de(i.ordinal),a=!de(i.year),l=!de(i.month)||!de(i.day),u=a||l,p=i.weekYear||i.weekNumber;if((u||o)&&p)throw new zc("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&o)throw new zc("Can't mix ordinal dates with month/day");let f;s?f=e2({...gg(this.c,n,r),...i},n,r):de(i.ordinal)?(f={...this.toObject(),...i},de(i.day)&&(f.day=Math.min(yg(f.year,f.month),f.day))):f=t2({...U0(this.c),...i});const[m,g]=tm(f,this.o,this.zone);return fa(this,{ts:m,o:g})}plus(e){if(!this.isValid)return this;const i=xe.fromDurationLike(e);return fa(this,f2(this,i))}minus(e){if(!this.isValid)return this;const i=xe.fromDurationLike(e).negate();return fa(this,f2(this,i))}startOf(e,{useLocaleWeeks:i=!1}={}){if(!this.isValid)return this;const n={},r=xe.normalizeUnit(e);switch(r){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0;break}if(r==="weeks")if(i){const s=this.loc.getStartOfWeek(),{weekday:o}=this;o<s&&(n.weekNumber=this.weekNumber-1),n.weekday=s}else n.weekday=1;if(r==="quarters"){const s=Math.ceil(this.month/3);n.month=(s-1)*3+1}return this.set(n)}endOf(e,i){return this.isValid?this.plus({[e]:1}).startOf(e,i).minus(1):this}toFormat(e,i={}){return this.isValid?Kt.create(this.loc.redefaultToEN(i)).formatDateTimeFromString(this,e):B0}toLocaleString(e=mg,i={}){return this.isValid?Kt.create(this.loc.clone(i),e).formatDateTime(this):B0}toLocaleParts(e={}){return this.isValid?Kt.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:i=!1,suppressMilliseconds:n=!1,includeOffset:r=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;const o=e==="extended";let a=W0(this,o);return a+="T",a+=m2(this,o,i,n,r,s),a}toISODate({format:e="extended"}={}){return this.isValid?W0(this,e==="extended"):null}toISOWeekDate(){return af(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:i=!1,includeOffset:n=!0,includePrefix:r=!1,extendedZone:s=!1,format:o="extended"}={}){return this.isValid?(r?"T":"")+m2(this,o==="extended",i,e,n,s):null}toRFC2822(){return af(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return af(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?W0(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:i=!1,includeOffsetSpace:n=!0}={}){let r="HH:mm:ss.SSS";return(i||e)&&(n&&(r+=" "),i?r+="z":e&&(r+="ZZ")),af(this,r,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():B0}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const i={...this.c};return e.includeConfig&&(i.outputCalendar=this.outputCalendar,i.numberingSystem=this.loc.numberingSystem,i.locale=this.loc.locale),i}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,i="milliseconds",n={}){if(!this.isValid||!e.isValid)return xe.invalid("created by diffing an invalid DateTime");const r={locale:this.locale,numberingSystem:this.numberingSystem,...n},s=S7(i).map(xe.normalizeUnit),o=e.valueOf()>this.valueOf(),a=o?this:e,l=o?e:this,u=Ej(a,l,s,r);return o?u.negate():u}diffNow(e="milliseconds",i={}){return this.diff(ce.now(),e,i)}until(e){return this.isValid?st.fromDateTimes(this,e):this}hasSame(e,i,n){if(!this.isValid)return!1;const r=e.valueOf(),s=this.setZone(e.zone,{keepLocalTime:!0});return s.startOf(i,n)<=r&&r<=s.endOf(i,n)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const i=e.base||ce.fromObject({},{zone:this.zone}),n=e.padding?this<i?-e.padding:e.padding:0;let r=["years","months","days","hours","minutes","seconds"],s=e.unit;return Array.isArray(e.unit)&&(r=e.unit,s=void 0),v2(i,this.plus(n),{...e,numeric:"always",units:r,unit:s})}toRelativeCalendar(e={}){return this.isValid?v2(e.base||ce.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(ce.isDateTime))throw new xi("min requires all arguments be DateTimes");return n2(e,i=>i.valueOf(),Math.min)}static max(...e){if(!e.every(ce.isDateTime))throw new xi("max requires all arguments be DateTimes");return n2(e,i=>i.valueOf(),Math.max)}static fromFormatExplain(e,i,n={}){const{locale:r=null,numberingSystem:s=null}=n,o=Pe.fromOpts({locale:r,numberingSystem:s,defaultToEN:!0});return K3(o,e,i)}static fromStringExplain(e,i,n={}){return ce.fromFormatExplain(e,i,n)}static get DATE_SHORT(){return mg}static get DATE_MED(){return n3}static get DATE_MED_WITH_WEEKDAY(){return Y9}static get DATE_FULL(){return r3}static get DATE_HUGE(){return s3}static get TIME_SIMPLE(){return o3}static get TIME_WITH_SECONDS(){return a3}static get TIME_WITH_SHORT_OFFSET(){return l3}static get TIME_WITH_LONG_OFFSET(){return c3}static get TIME_24_SIMPLE(){return u3}static get TIME_24_WITH_SECONDS(){return d3}static get TIME_24_WITH_SHORT_OFFSET(){return h3}static get TIME_24_WITH_LONG_OFFSET(){return p3}static get DATETIME_SHORT(){return f3}static get DATETIME_SHORT_WITH_SECONDS(){return m3}static get DATETIME_MED(){return g3}static get DATETIME_MED_WITH_SECONDS(){return y3}static get DATETIME_MED_WITH_WEEKDAY(){return X9}static get DATETIME_FULL(){return v3}static get DATETIME_FULL_WITH_SECONDS(){return b3}static get DATETIME_HUGE(){return w3}static get DATETIME_HUGE_WITH_SECONDS(){return _3}}function qu(t){if(ce.isDateTime(t))return t;if(t&&t.valueOf&&vl(t.valueOf()))return ce.fromJSDate(t);if(t&&typeof t=="object")return ce.fromObject(t);throw new xi(`Unknown datetime argument: ${t}, of type ${typeof t}`)}const jr="system",rS="unknown",Ph="UTC",qj=Intl.DateTimeFormat().resolvedOptions().timeZone,Zj="shortOffset";function Jj(t){return"timeZoneIANA"in t}function Kj(t){return t.startsWith("UTC")}function Uue(t,e=!1){return{json:{read:{source:t,reader:(i,n)=>n[t]?Yj(n[t]):null},write:!!e&&{allowNull:!0,writer(i,n){n[t]=i?Xj(i):null}}}}}function Yj(t,e=jr){return t?Jj(t)?t.timeZoneIANA:Qj(t,e):e}function Xj(t){return{timeZoneIANA:t}}function Qj(t,e=jr){if(!t||!B$.has(t.timeZone))return e;const i=B$.get(t.timeZone);return Kj(t.timeZone)||t.respectsDaylightSaving?i:eU(i)}function eU(t){const e=ce.local().setZone(t),i=Math.min(e.set({month:1,day:1}).offset,e.set({month:5}).offset);return i===0?"Etc/UTC":`Etc/GMT${Yt.instance(-i).formatOffset(0,"narrow")}`}function Hue(t,e,i,n,r){if(e&&r==="date")return{timeZone:Ph,timeZoneName:void 0};const s=n.timeStyle||n.hour,o=i===rS;return{timeZone:o?r==="timestamp-offset"?void 0:t??Ph:i,timeZoneName:o&&s?Zj:void 0}}const tU={year:void 0,month:void 0,day:void 0,weekday:void 0},iU={hour:void 0,minute:void 0,second:void 0},tO={timeZone:Ph},cr={year:"numeric",month:"numeric",day:"numeric"},Zu={year:"numeric",month:"long",day:"numeric"},Ju={year:"numeric",month:"short",day:"numeric"},Ku={year:"numeric",month:"long",weekday:"long",day:"numeric"},xo={hour:"numeric",minute:"numeric"},Ea={...xo,second:"numeric"},iO={hourCycle:"h23"},Yu={...xo,...iO},Xu={...Ea,...iO},nO={"short-date":cr,"short-date-short-time":{...cr,...xo},"short-date-short-time-24":{...cr,...Yu},"short-date-long-time":{...cr,...Ea},"short-date-long-time-24":{...cr,...Xu},"short-date-le":cr,"short-date-le-short-time":{...cr,...xo},"short-date-le-short-time-24":{...cr,...Yu},"short-date-le-long-time":{...cr,...Ea},"short-date-le-long-time-24":{...cr,...Xu},"long-month-day-year":Zu,"long-month-day-year-short-time":{...Zu,...xo},"long-month-day-year-short-time-24":{...Zu,...Yu},"long-month-day-year-long-time":{...Zu,...Ea},"long-month-day-year-long-time-24":{...Zu,...Xu},"day-short-month-year":Ju,"day-short-month-year-short-time":{...Ju,...xo},"day-short-month-year-short-time-24":{...Ju,...Yu},"day-short-month-year-long-time":{...Ju,...Ea},"day-short-month-year-long-time-24":{...Ju,...Xu},"long-date":Ku,"long-date-short-time":{...Ku,...xo},"long-date-short-time-24":{...Ku,...Yu},"long-date-long-time":{...Ku,...Ea},"long-date-long-time-24":{...Ku,...Xu},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":xo,"long-time":Ea},nU=Ui()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),rO={ar:"ar-u-nu-latn-ca-gregory"};let zb=new WeakMap;const Uy=nO["short-date-short-time"];function rU(t){let e=zb.get(t);if(!e){const i=Di(),n=rO[i]||i,r=sS(t.timeZone??jr),s={...t,timeZone:r};e=new Intl.DateTimeFormat(n,s),zb.set(t,e)}return e}function Bue(t){return nO[t]}function qo(t,e=Uy){return rU(e).format(t)}function Gue(t,e=Uy){return qo(new Date(t),{...e,...tO,...iU})}function Vue(t,e=Uy){return qo(new Date(`1970-01-01T${t}Z`),{...e,...tO,...tU})}function Wue(t,e=Uy){if(e.timeZone)return qo(new Date(t),e);const i=ce.fromISO(t,{setZone:!0}),n=Di(),r=rO[n]??n,s=i.offset===0?Ph:e.timeZone,o={...e,timeZone:s};return i.toLocaleString(o,{locale:r})}function sS(t){switch(t){case jr:return qj;case rS:return Ph;default:return t}}J_(()=>{zb=new WeakMap});const sU={ar:"ar-u-nu-latn"};let im=new WeakMap,sO={};function oU(t){const e=t||sO;if(!im.has(e)){const i=Di(),n=sU[Di()]||i;im.set(e,new Intl.NumberFormat(n,t))}return im.get(e)}function que(t={}){const e={};return t.digitSeparator!=null&&(e.useGrouping=t.digitSeparator),t.places!=null&&(e.minimumFractionDigits=e.maximumFractionDigits=t.places),e}function bg(t,e){return Object.is(t,-0)&&(t=0),oU(e).format(t)}J_(()=>{im=new WeakMap,sO={}});const oO=G.getLogger("esri.intl.substitute");function aO(t,e,i={}){const{format:n={}}=i;return s_(t,r=>aU(r,e,n))}function aU(t,e,i){let n,r;const s=t.indexOf(":");if(s===-1?n=t.trim():(n=t.slice(0,s).trim(),r=t.slice(s+1).trim()),!n)return"";const o=rp(n,e);if(o==null)return"";const a=(r?i==null?void 0:i[r]:null)??(i==null?void 0:i[n]);return a?lU(o,a):r?cU(o,r):oS(o)}function lU(t,e){switch(e.type){case"date":return qo(t,e.intlOptions);case"number":return bg(t,e.intlOptions);default:return oO.warn("missing format descriptor for key {key}"),oS(t)}}function cU(t,e){switch(e.toLowerCase()){case"dateformat":return qo(t);case"numberformat":return bg(t);default:return oO.warn(`inline format is unsupported since 4.12: ${e}`),/^(dateformat|datestring)/i.test(e)?qo(t):/^numberformat/i.test(e)?bg(t):oS(t)}}function oS(t){switch(typeof t){case"string":return t;case"number":return bg(t);case"boolean":return""+t;default:return t instanceof Date?qo(t):""}}const w2=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,uU={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function _2(t){return t in uU}const fd=[],Kc=new Map;function S2(t){for(const e of Kc.keys())lO(t.pattern,e)&&Kc.delete(e)}function dU(t){return fd.includes(t)||(S2(t),fd.unshift(t)),je(()=>{const e=fd.indexOf(t);e>-1&&(fd.splice(e,1),S2(t))})}async function Hy(t){const e=Di();Kc.has(t)||Kc.set(t,pU(t,e));const i=Kc.get(t);return i&&await fU.add(i),i}function hU(t){if(!w2.test(t))return null;const e=w2.exec(t);if(e===null)return null;const[,i,n]=e,r=i+(n?"-"+n.toUpperCase():"");return _2(r)?r:_2(i)?i:null}async function pU(t,e){const i=[];for(const n of fd)if(lO(n.pattern,t))try{return await n.fetchMessageBundle(t,e)}catch(r){i.push(r)}throw i.length?new D("intl:message-bundle-error",`Errors occurred while loading "${t}"`,{errors:i}):new D("intl:no-message-bundle-loader",`No loader found for message bundle "${t}"`)}function lO(t,e){return typeof t=="string"?e.startsWith(t):t.test(e)}J_(()=>{Kc.clear()});const fU=new class{constructor(){this._numLoading=0,this._dfd=null}async waitForAll(){this._dfd&&await this._dfd.promise}add(t){return this._increase(),t.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=ln())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&this._numLoading===0&&(this._dfd.resolve(),this._dfd=null)}};async function mU(t,e,i,n){const r=e.exec(i);if(!r)throw new D("esri-intl:invalid-bundle",`Bundle id "${i}" is not compatible with the pattern "${e}"`);const s=r[1]?`${r[1]}/`:"",o=r[2],a=hU(n),l=`${s}${o}.json`,u=a?`${s}${o}_${a}.json`:l;let p;try{p=await x2(t(u))}catch(f){if(u===l)throw new D("intl:unknown-bundle",`Bundle "${i}" cannot be loaded`,{error:f});try{p=await x2(t(l))}catch(m){throw new D("intl:unknown-bundle",`Bundle "${i}" cannot be loaded`,{error:m})}}return p}async function x2(t){if($2.fetchBundleAsset!=null)return $2.fetchBundleAsset(t);const e=await Ye(t,{responseType:"text"});return JSON.parse(e.data)}let gU=class{constructor({base:e="",pattern:i,location:n=new URL(window.location.href)}){let r;r=typeof n=="string"?s=>new URL(s,new URL(n,window.location.href)).href:n instanceof URL?s=>new URL(s,n).href:n,this.pattern=typeof i=="string"?new RegExp(`^${i}`):i,this.getAssetUrl=r,e=e?e.endsWith("/")?e:e+"/":"",this.matcher=new RegExp(`^${e}(?:(.*)/)?(.*)$`)}fetchMessageBundle(e,i){return mU(this.getAssetUrl,this.matcher,e,i)}};function yU(t){return new gU(t)}const $2={};dU(yU({pattern:"esri/",location:ke}));const vU={};function bU(t){var i;const e={async:t.async,isDebug:t.isDebug,locale:t.locale,baseUrl:t.baseUrl,has:{...t.has},map:{...t.map},packages:((i=t.packages)==null?void 0:i.concat())||[],paths:{...t.paths}};return t.hasOwnProperty("async")||(e.async=!0),t.hasOwnProperty("isDebug")||(e.isDebug=!1),t.baseUrl||(e.baseUrl=vU.baseUrl),e}let wU=class{constructor(){const e=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(i=>{this[i]=(...n)=>e[i](...n)})}},nm=class{constructor(){this._dispatcher=new wU,this._workerPostMessage({type:kt.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(e){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=e,e&&this.addEventListener("message",e)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(e){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=e,e&&this.addEventListener("messageerror",e)}get onerror(){return this._onerrorHandler}set onerror(e){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=e,e&&this.addEventListener("error",e)}postMessage(e){Bm(()=>{this._workerMessageHandler(new MessageEvent("message",{data:e}))})}dispatchEvent(e){return this._dispatcher.dispatchEvent(e)}addEventListener(e,i,n){this._dispatcher.addEventListener(e,i,n)}removeEventListener(e,i,n){this._dispatcher.removeEventListener(e,i,n)}_workerPostMessage(e){Bm(()=>{this.dispatchEvent(new MessageEvent("message",{data:e}))})}async _workerMessageHandler(e){const i=Ah(e);if(i&&i.type===kt.OPEN){const{modulePath:n,jobId:r}=i;let s=await Wo.loadWorker(n);s||(s=await V(()=>import(n),__vite__mapDeps([]),import.meta.url));const o=Wo.connect(s);this._workerPostMessage({type:kt.OPENED,jobId:r,data:o})}}};const Fb=G.getLogger("esri.core.workers.workerFactory"),{HANDSHAKE:_U}=kt,SU='let globalId=0;const outgoing=new Map,configuration=JSON.parse("{CONFIGURATION}");self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;return new Promise(((r,s)=>{if(t){if(t.aborted)return s(createAbortError());t.addEventListener("abort",(()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:ABORT,jobId:n}),s(createAbortError()))}))}outgoing.set(n,{resolve:r,reject:s}),self.postMessage({type:INVOKE,jobId:n,methodName:e,abortable:null!=t,data:o})}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,fullVersion:r}=configuration.kernelInfo,{revision:t,fullVersion:n,version:s}=e.kernelInfo;esriConfig.assetsPath!==esriConfig.defaultAssetsPath&&o!==t&&console.warn(`Version mismatch detected between ArcGIS Maps SDK for JavaScript modules and assets. For more information visit https://bit.ly/3QnsuSo.\\nModules version: ${r}\\nAssets version: ${n??s}\\nAssets path: ${esriConfig.assetsPath}`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case OPEN:let n;function t(e){const o=n.connect(e);self.postMessage({type:OPENED,jobId:r,data:o},[o])}"function"==typeof define&&define.amd?require([workerPath],(e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):"System"in self&&"function"==typeof System.import?System.import(workerPath).then((e=>(n=e.default,checkWorkerRevision(n),n.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),n=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(t));break;case RESPONSE:if(outgoing.has(r)){const s=outgoing.get(r);outgoing.delete(r),o.error?s.reject(JSON.parse(o.error)):s.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});';let lf,cf;const T2="Failed to create Worker. Fallback to execute module in main thread";async function xU(){if(!P("esri-workers"))return E2(new nm);if(!lf&&!cf)try{const e=SU.split('"{CONFIGURATION}"').join(`'${$U()}'`);lf=URL.createObjectURL(new Blob([e],{type:"text/javascript"}))}catch(e){cf=e||{}}let t;if(lf)try{t=new Worker(lf,{name:"esri-worker-"+TU++})}catch{Fb.warn(T2,cf),t=new nm}else Fb.warn(T2,cf),t=new nm;return E2(t)}async function E2(t){return new Promise(e=>{function i(r){const s=Ah(r);s&&s.type===_U&&(t.removeEventListener("message",i),t.removeEventListener("error",n),e(t))}function n(r){r.preventDefault(),t.removeEventListener("message",i),t.removeEventListener("error",n),Fb.warn("Failed to create Worker. Fallback to execute module in main thread",r),(t=new nm).addEventListener("message",i),t.addEventListener("error",n)}t.addEventListener("message",i),t.addEventListener("error",n)})}function $U(){let t;if(ye.default!=null){const r={...ye};delete r.default,t=JSON.parse(JSON.stringify(r))}else t=JSON.parse(JSON.stringify(ye));t.assetsPath=tn(t.assetsPath),t.defaultAssetsPath=t.defaultAssetsPath?tn(t.defaultAssetsPath):void 0,t.request.interceptors=[],t.log.interceptors=[],t.locale=Di(),t.has={"esri-csp-restrictions":P("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":P("esri-2d-update-debug"),"esri-2d-log-updating":P("esri-2d-log-updating"),"featurelayer-pbf":P("featurelayer-pbf"),"featurelayer-simplify-thresholds":P("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":P("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":P("featurelayer-simplify-mobile-factor"),"esri-atomics":P("esri-atomics"),"esri-shared-array-buffer":P("esri-shared-array-buffer"),"esri-tiles-debug":P("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":P("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":P("feature-polyline-generalization-factor"),"host-webworker":1},t.workers.loaderUrl&&(t.workers.loaderUrl=tn(t.workers.loaderUrl)),t.workers.workerPath?t.workers.workerPath=tn(t.workers.workerPath):t.workers.workerPath=tn(ke("esri/core/workers/RemoteClient.js")),t.workers.useDynamicImport=!1;const e=ye.workers.loaderConfig,i=bU({baseUrl:e==null?void 0:e.baseUrl,locale:Di(),has:{"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1,...e==null?void 0:e.has},map:{...e==null?void 0:e.map},paths:{...e==null?void 0:e.paths},packages:(e==null?void 0:e.packages)||[]});return JSON.stringify({esriConfig:t,loaderConfig:i,kernelInfo:{buildDate:RC,fullVersion:$_,revision:NC}})}let TU=0;const{ABORT:k2,INVOKE:EU,OPEN:kU,OPENED:MU,RESPONSE:Qu}=kt;let CU=class cO{static async create(e){const i=await xU();return new cO(i,e)}constructor(e,i){this._outJobs=new Map,this._inJobs=new Map,this.worker=e,this.id=i,e.addEventListener("message",this._onMessage.bind(this)),e.addEventListener("error",n=>{n.preventDefault(),G.getLogger("esri.core.workers.WorkerOwner").error(n)})}terminate(){this.worker.terminate()}async open(e,i={}){const{signal:n}=i,r=e3();return new Promise((s,o)=>{const a={resolve:s,reject:o,abortHandle:a_(n,()=>{this._outJobs.delete(r),this._post({type:k2,jobId:r})})};this._outJobs.set(r,a),this._post({type:kU,jobId:r,modulePath:e})})}_onMessage(e){const i=Ah(e);if(i)switch(i.type){case MU:this._onOpenedMessage(i);break;case Qu:this._onResponseMessage(i);break;case k2:this._onAbortMessage(i);break;case EU:this._onInvokeMessage(i)}}_onAbortMessage(e){const i=this._inJobs,n=e.jobId,r=i.get(n);r&&(r.controller&&r.controller.abort(),i.delete(n))}_onInvokeMessage(e){const{methodName:i,jobId:n,data:r,abortable:s}=e,o=s?new AbortController:null,a=this._inJobs,l=G9[i];let u;try{if(typeof l!="function")throw new TypeError(`${i} is not a function`);u=l.call(null,r,{signal:o?o.signal:null})}catch(p){return void this._post({type:Qu,jobId:n,error:Oh(p)})}Ns(u)?(a.set(n,{controller:o,promise:u}),u.then(p=>{a.has(n)&&(a.delete(n),this._post({type:Qu,jobId:n},p))},p=>{a.has(n)&&(a.delete(n),p||(p={message:"Error encountered at method"+i}),di(p)||this._post({type:Qu,jobId:n,error:Oh(p||{message:`Error encountered at method ${i}`})}))})):this._post({type:Qu,jobId:n},u)}_onOpenedMessage(e){const{jobId:i,data:n}=e,r=this._outJobs.get(i);r&&(this._outJobs.delete(i),Ke(r.abortHandle),r.resolve(n))}_onResponseMessage(e){const{jobId:i,error:n,data:r}=e,s=this._outJobs.get(i);s&&(this._outJobs.delete(i),Ke(s.abortHandle),n?s.reject(D.fromJSON(JSON.parse(n))):s.resolve(r))}_post(e,i,n){return Z_(this.worker,e,i,n)}};const M2=P("host-browser")?Math.min(navigator.hardwareConcurrency-1,P("workers-pool-size")):0;let ll=P("esri-mobile")?Math.min(M2,3):M2;ll||(ll=P("safari")&&P("mac")?7:2);let C2=0;const rm=[];function IU(){uO()}async function uf(t,e){const i=new B9,{registryTarget:n,...r}=e;return await i.open(t,r),n&&P9(n,i),i}async function Yue(t,e={}){if(typeof t!="string")throw new D("workers:undefined-module","modulePath is missing");let i=e.strategy||"distributed";if(P("host-webworker")&&!P("esri-workers")&&(i="local"),i==="local"){let n=await Wo.loadWorker(t);n||(n=await V(()=>import(t),__vite__mapDeps([]),import.meta.url)),Ge(e.signal);const r=e.client||n;return uf([Wo.connect(n)],{...e,client:r})}if(await uO(),Ge(e.signal),i==="dedicated"){const n=C2++%ll;return uf([await rm[n].open(t,e)],e)}if(e.maxNumWorkers&&e.maxNumWorkers>0){const n=Math.min(e.maxNumWorkers,ll);if(n<ll){const r=new Array(n);for(let s=0;s<n;++s){const o=C2++%ll;r[s]=rm[o].open(t,e)}return uf(r,e)}}return uf(rm.map(n=>n.open(t,e)),e)}let df=null;async function uO(){if(df)return df;new AbortController;const t=[];for(let e=0;e<ll;e++){const i=CU.create(e).then(n=>(rm[e]=n,n));t.push(i)}return df=Promise.all(t),df}const qs=Ve.radius,vn=Ve.eccentricitySquared,OU={a1:qs*vn,a2:qs*vn*qs*vn,a3:qs*vn*vn/2,a4:qs*vn*qs*vn*2.5,a5:qs*vn+qs*vn*vn/2,a6:1-vn};1/294.9786982,1/298.257222101,Ve.radius,Ve.flattening,Bo.radius,Bo.flattening,1/192.0430107526882,Es.radius,Es.flattening,1/10.2079945799458,1/43.61604095563141,Es.radius;var k;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",t[t.WGS84=2]="WGS84",t[t.WEB_MERCATOR=3]="WEB_MERCATOR",t[t.WGS84_ECEF=4]="WGS84_ECEF",t[t.CGCS2000=5]="CGCS2000",t[t.WGS84_COMPARABLE_LON_LAT=6]="WGS84_COMPARABLE_LON_LAT",t[t.SPHERICAL_MARS_PCPF=7]="SPHERICAL_MARS_PCPF",t[t.GCSMARS2000=8]="GCSMARS2000",t[t.SPHERICAL_MOON_PCPF=9]="SPHERICAL_MOON_PCPF",t[t.GCSMOON2000=10]="GCSMOON2000",t[t.LON_LAT=11]="LON_LAT",t[t.PLATE_CARREE=12]="PLATE_CARREE"})(k||(k={}));const dO={[k.WGS84]:{[k.CGCS2000]:null,[k.GCSMARS2000]:null,[k.GCSMOON2000]:null,[k.LON_LAT]:Oe,[k.WGS84_COMPARABLE_LON_LAT]:Oe,[k.SPHERICAL_ECEF]:dl,[k.SPHERICAL_MARS_PCPF]:null,[k.SPHERICAL_MOON_PCPF]:null,[k.UNKNOWN]:null,[k.WEB_MERCATOR]:Rh,[k.PLATE_CARREE]:cl,[k.WGS84]:Oe,[k.WGS84_ECEF]:pl},[k.CGCS2000]:{[k.CGCS2000]:Oe,[k.GCSMARS2000]:null,[k.GCSMOON2000]:null,[k.LON_LAT]:Oe,[k.WGS84_COMPARABLE_LON_LAT]:Oe,[k.SPHERICAL_ECEF]:dl,[k.SPHERICAL_MARS_PCPF]:null,[k.SPHERICAL_MOON_PCPF]:null,[k.UNKNOWN]:null,[k.WEB_MERCATOR]:null,[k.PLATE_CARREE]:cl,[k.WGS84]:null,[k.WGS84_ECEF]:pl},[k.GCSMARS2000]:{[k.CGCS2000]:null,[k.GCSMARS2000]:Oe,[k.GCSMOON2000]:null,[k.LON_LAT]:Oe,[k.WGS84_COMPARABLE_LON_LAT]:null,[k.SPHERICAL_ECEF]:null,[k.SPHERICAL_MARS_PCPF]:L2,[k.SPHERICAL_MOON_PCPF]:null,[k.UNKNOWN]:null,[k.WEB_MERCATOR]:null,[k.PLATE_CARREE]:null,[k.WGS84]:null,[k.WGS84_ECEF]:null},[k.GCSMOON2000]:{[k.CGCS2000]:null,[k.GCSMARS2000]:null,[k.GCSMOON2000]:Oe,[k.LON_LAT]:Oe,[k.WGS84_COMPARABLE_LON_LAT]:null,[k.SPHERICAL_ECEF]:null,[k.SPHERICAL_MARS_PCPF]:null,[k.SPHERICAL_MOON_PCPF]:A2,[k.UNKNOWN]:null,[k.WEB_MERCATOR]:null,[k.PLATE_CARREE]:null,[k.WGS84]:null,[k.WGS84_ECEF]:null},[k.WEB_MERCATOR]:{[k.CGCS2000]:null,[k.GCSMARS2000]:null,[k.GCSMOON2000]:null,[k.LON_LAT]:Yc,[k.WGS84_COMPARABLE_LON_LAT]:Yc,[k.SPHERICAL_ECEF]:LU,[k.SPHERICAL_MARS_PCPF]:null,[k.SPHERICAL_MOON_PCPF]:null,[k.UNKNOWN]:null,[k.WEB_MERCATOR]:Oe,[k.PLATE_CARREE]:NU,[k.WGS84]:Yc,[k.WGS84_ECEF]:PU},[k.WGS84_ECEF]:{[k.CGCS2000]:fl,[k.GCSMARS2000]:null,[k.GCSMOON2000]:null,[k.LON_LAT]:fl,[k.WGS84_COMPARABLE_LON_LAT]:fl,[k.SPHERICAL_ECEF]:VU,[k.SPHERICAL_MARS_PCPF]:null,[k.SPHERICAL_MOON_PCPF]:null,[k.UNKNOWN]:null,[k.WEB_MERCATOR]:WU,[k.PLATE_CARREE]:DU,[k.WGS84]:fl,[k.WGS84_ECEF]:Oe},[k.SPHERICAL_ECEF]:{[k.CGCS2000]:hl,[k.GCSMARS2000]:null,[k.GCSMOON2000]:null,[k.LON_LAT]:hl,[k.WGS84_COMPARABLE_LON_LAT]:hl,[k.SPHERICAL_ECEF]:Oe,[k.SPHERICAL_MARS_PCPF]:null,[k.SPHERICAL_MOON_PCPF]:null,[k.UNKNOWN]:null,[k.WEB_MERCATOR]:HU,[k.PLATE_CARREE]:zU,[k.WGS84]:hl,[k.WGS84_ECEF]:BU},[k.SPHERICAL_MARS_PCPF]:{[k.CGCS2000]:null,[k.GCSMARS2000]:R2,[k.GCSMOON2000]:null,[k.LON_LAT]:R2,[k.WGS84_COMPARABLE_LON_LAT]:null,[k.SPHERICAL_ECEF]:null,[k.SPHERICAL_MARS_PCPF]:Oe,[k.SPHERICAL_MOON_PCPF]:null,[k.UNKNOWN]:null,[k.WEB_MERCATOR]:null,[k.PLATE_CARREE]:null,[k.WGS84]:null,[k.WGS84_ECEF]:null},[k.SPHERICAL_MOON_PCPF]:{[k.CGCS2000]:null,[k.GCSMARS2000]:null,[k.GCSMOON2000]:P2,[k.LON_LAT]:P2,[k.WGS84_COMPARABLE_LON_LAT]:null,[k.SPHERICAL_ECEF]:null,[k.SPHERICAL_MARS_PCPF]:null,[k.SPHERICAL_MOON_PCPF]:Oe,[k.UNKNOWN]:null,[k.WEB_MERCATOR]:null,[k.PLATE_CARREE]:null,[k.WGS84]:null,[k.WGS84_ECEF]:null},[k.UNKNOWN]:{[k.CGCS2000]:null,[k.GCSMARS2000]:null,[k.GCSMOON2000]:null,[k.LON_LAT]:null,[k.WGS84_COMPARABLE_LON_LAT]:null,[k.SPHERICAL_ECEF]:null,[k.SPHERICAL_MARS_PCPF]:null,[k.SPHERICAL_MOON_PCPF]:null,[k.UNKNOWN]:Oe,[k.WEB_MERCATOR]:null,[k.PLATE_CARREE]:null,[k.WGS84]:null,[k.WGS84_ECEF]:null},[k.LON_LAT]:{[k.CGCS2000]:Oe,[k.GCSMARS2000]:Oe,[k.GCSMOON2000]:Oe,[k.LON_LAT]:Oe,[k.WGS84_COMPARABLE_LON_LAT]:Oe,[k.SPHERICAL_ECEF]:dl,[k.SPHERICAL_MARS_PCPF]:L2,[k.SPHERICAL_MOON_PCPF]:A2,[k.UNKNOWN]:null,[k.WEB_MERCATOR]:Rh,[k.PLATE_CARREE]:cl,[k.WGS84]:Oe,[k.WGS84_ECEF]:pl},[k.WGS84_COMPARABLE_LON_LAT]:{[k.CGCS2000]:null,[k.GCSMARS2000]:null,[k.GCSMOON2000]:null,[k.LON_LAT]:Oe,[k.WGS84_COMPARABLE_LON_LAT]:Oe,[k.SPHERICAL_ECEF]:dl,[k.SPHERICAL_MARS_PCPF]:null,[k.SPHERICAL_MOON_PCPF]:null,[k.UNKNOWN]:null,[k.WEB_MERCATOR]:null,[k.PLATE_CARREE]:cl,[k.WGS84]:Oe,[k.WGS84_ECEF]:pl},[k.PLATE_CARREE]:{[k.CGCS2000]:ul,[k.GCSMARS2000]:null,[k.GCSMOON2000]:null,[k.LON_LAT]:ul,[k.WGS84_COMPARABLE_LON_LAT]:ul,[k.SPHERICAL_ECEF]:FU,[k.SPHERICAL_MARS_PCPF]:null,[k.SPHERICAL_MOON_PCPF]:null,[k.UNKNOWN]:null,[k.WEB_MERCATOR]:jU,[k.PLATE_CARREE]:Oe,[k.WGS84]:ul,[k.WGS84_ECEF]:UU}};function AU(t){const e=jb(t,ZU);return dO[e][k.WGS84_COMPARABLE_LON_LAT]}function hO(t,e,i=pO()){return t==null||e==null?null:qU(t,e,i).projector}function jb(t,e){return t?e.spatialReference===t?e.spatialReferenceId:(e.spatialReference=t,"metersPerUnit"in e&&(e.metersPerUnit=Jn(t,1)),lg(t)?e.spatialReferenceId=k.SPHERICAL_ECEF:kh(t)?e.spatialReferenceId=k.WGS84:El(t)?e.spatialReferenceId=k.WEB_MERCATOR:Tz(t)?e.spatialReferenceId=k.PLATE_CARREE:t.wkt===Oz.wkt?e.spatialReferenceId=k.WGS84_ECEF:t.wkid===nn.CGCS2000?e.spatialReferenceId=k.CGCS2000:t.wkt===O_.wkt?e.spatialReferenceId=k.SPHERICAL_MARS_PCPF:t.wkt===A_.wkt?e.spatialReferenceId=k.SPHERICAL_MOON_PCPF:dp(t)?e.spatialReferenceId=k.GCSMARS2000:hp(t)?e.spatialReferenceId=k.GCSMOON2000:e.spatialReferenceId=k.UNKNOWN):k.UNKNOWN}function Oe(t,e,i,n){t!==i&&(i[n++]=t[e++],i[n++]=t[e++],i[n]=t[e])}function Yc(t,e,i,n){i[n++]=fu*(t[e++]/Ve.radius),i[n++]=fu*(Math.PI/2-2*Math.atan(Math.exp(-t[e++]/Ve.radius))),i[n]=t[e]}function LU(t,e,i,n){Yc(t,e,i,n),dl(i,n,i,n)}function PU(t,e,i,n){Yc(t,e,i,n),pl(i,n,i,n)}function RU(t,e,i,n,r){const s=.4999999*Math.PI,o=Vn(pu*t[e+1],-s,s),a=Math.sin(o);i[n++]=pu*t[e]*r.radius,i[n++]=r.halfSemiMajorAxis*Math.log((1+a)/(1-a)),i[n]=t[e+2]}function Rh(t,e,i,n){RU(t,e,i,n,Ve)}const I2=Ve.radius*Math.PI/180,O2=180/(Ve.radius*Math.PI);function cl(t,e,i,n){i[n]=t[e]*I2,i[n+1]=t[e+1]*I2,i[n+2]=t[e+2]}function ul(t,e,i,n){i[n]=t[e]*O2,i[n+1]=t[e+1]*O2,i[n+2]=t[e+2]}function NU(t,e,i,n){Yc(t,e,i,n),cl(i,n,i,n)}function DU(t,e,i,n){fl(t,e,i,n),cl(i,n,i,n)}function zU(t,e,i,n){hl(t,e,i,n),cl(i,n,i,n)}function FU(t,e,i,n){ul(t,e,i,n),dl(i,n,i,n)}function jU(t,e,i,n){ul(t,e,i,n),Rh(i,n,i,n)}function UU(t,e,i,n){ul(t,e,i,n),pl(i,n,i,n)}function aS(t,e,i,n,r){const s=r+t[e+2],o=pu*t[e+1],a=pu*t[e],l=Math.cos(o);i[n++]=Math.cos(a)*l*s,i[n++]=Math.sin(a)*l*s,i[n]=Math.sin(o)*s}function A2(t,e,i,n){aS(t,e,i,n,Bo.radius)}function L2(t,e,i,n){aS(t,e,i,n,Es.radius)}function dl(t,e,i,n){aS(t,e,i,n,Ve.radius)}function lS(t,e,i,n,r){const s=t[e],o=t[e+1],a=t[e+2],l=Math.sqrt(s*s+o*o+a*a),u=bI(a/(l===0?1:l)),p=Math.atan2(o,s);i[n++]=fu*p,i[n++]=fu*u,i[n]=l-r}function P2(t,e,i,n){lS(t,e,i,n,Bo.radius)}function R2(t,e,i,n){lS(t,e,i,n,Es.radius)}function hl(t,e,i,n){lS(t,e,i,n,Ve.radius)}function HU(t,e,i,n){hl(t,e,i,n),Rh(i,n,i,n)}function BU(t,e,i,n){hl(t,e,i,n),pl(i,n,i,n)}function GU(t,e,i,n,r){const s=pu*t[e],o=pu*t[e+1],a=t[e+2],l=Math.sin(o),u=Math.cos(o),p=r.radius/Math.sqrt(1-r.eccentricitySquared*l*l);i[n++]=(p+a)*u*Math.cos(s),i[n++]=(p+a)*u*Math.sin(s),i[n++]=(p*(1-r.eccentricitySquared)+a)*l}function pl(t,e,i,n){GU(t,e,i,n,Ve)}function fl(t,e,i,n){const r=OU,s=t[e],o=t[e+1],a=t[e+2];let l,u,p,f,m,g,y,v,w,_,$,x,T,M,I,L,N,B,F,U,O;l=Math.abs(a),u=s*s+o*o,p=Math.sqrt(u),f=u+a*a,m=Math.sqrt(f),U=Math.atan2(o,s),g=a*a/f,y=u/f,M=r.a2/m,I=r.a3-r.a4/m,y>.3?(v=l/m*(1+y*(r.a1+M+g*I)/m),F=Math.asin(v),_=v*v,w=Math.sqrt(1-_)):(w=p/m*(1-g*(r.a5-M-y*I)/m),F=Math.acos(w),_=1-w*w,v=Math.sqrt(_)),$=1-Ve.eccentricitySquared*_,x=Ve.radius/Math.sqrt($),T=r.a6*x,M=p-x*w,I=l-T*v,N=w*M+v*I,L=w*I-v*M,B=L/(T/$+N),F+=B,O=N+L*B/2,a<0&&(F=-F),i[n++]=fu*U,i[n++]=fu*F,i[n]=O}function VU(t,e,i,n){fl(t,e,i,n),dl(i,n,i,n)}function WU(t,e,i,n){fl(t,e,i,n),Rh(i,n,i,n)}function qU(t,e,i){if(t==null||e==null||i.source.spatialReference===t&&i.dest.spatialReference===e)return i;const n=jb(t,i.source),r=jb(e,i.dest);return n===k.UNKNOWN&&r===k.UNKNOWN?it(t,e)?i.projector=Oe:i.projector=null:i.projector=dO[n][r],i}function pO(){return{source:{spatialReference:null,spatialReferenceId:k.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:k.UNKNOWN,metersPerUnit:1},projector:Oe}}const ZU={spatialReference:null,spatialReferenceId:k.UNKNOWN},Xue={spatialReference:null,spatialReferenceId:k.UNKNOWN},fO=pO(),pu=hd(1),fu=vI(1);function wp(t,e,i,n,r,s,o=1){const a=hO(e,r,fO);if(a==null)return!1;if(a===Oe){if(t===n&&i===s)return!0;const u=i+3*o;for(let p=i,f=s;p<u;p++,f++)n[f]=t[p];return!0}const l=i+3*o;for(let u=i,p=s;u<l;u+=3,p+=3)a(t,u,n,p);return!0}const Que=Object.freeze(Object.defineProperty({__proto__:null,projectBuffer:wp},Symbol.toStringTag,{value:"Module"}));function N2(t,e,i,n,r,s){return hf[0]=t,hf[1]=e,hf[2]=i,wp(hf,n,0,r,s,0,1)}const hf=dn();let pf=0,q0=class Ub{static fromGE(e){const i=new Ub;return i._wkt=e.wkt,i._wkid=e.wkid,i._isInverse=e.isInverse,i}constructor(e){this.uid=pf++,e?(this._wkt=e.wkt!=null?e.wkt:null,this._wkid=e.wkid!=null?e.wkid:-1,this._isInverse=e.isInverse!=null&&e.isInverse===!0):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}get wkt(){return this._wkt}set wkt(e){this._wkt=e,this.uid=pf++}get wkid(){return this._wkid}set wkid(e){this._wkid=e,this.uid=pf++}get isInverse(){return this._isInverse}set isInverse(e){this._isInverse=e,this.uid=pf++}getInverse(){const e=new Ub;return e._wkt=this.wkt,e._wkid=this._wkid,e._isInverse=!this.isInverse,e}},wg=class md{static cacheKey(e,i){var n,r,s,o,a,l;return[((n=e.wkid)==null?void 0:n.toString())??"-1",((r=e.wkt)==null?void 0:r.toString())??"",((s=e.wkt2)==null?void 0:s.toString())??"",((o=i.wkid)==null?void 0:o.toString())??"-1",((a=i.wkt)==null?void 0:a.toString())??"",((l=i.wkt2)==null?void 0:l.toString())??""].join()}static fromGE(e){const i=new md;let n="";for(const r of e.steps){const s=q0.fromGE(r);i.steps.push(s),n+=s.uid.toString()+","}return i._cachedProjection={},i._gtlistentry=null,i._chain=n,i}constructor(e){if(this.steps=[],this._cachedProjection={},this._chain="",this._gtlistentry=null,e==null?void 0:e.steps)for(const i of e.steps)i instanceof q0?this.steps.push(i):this.steps.push(new q0({wkid:i.wkid,wkt:i.wkt,isInverse:i.isInverse}))}getInverse(){const e=new md;e.steps=[];for(let i=this.steps.length-1;i>=0;i--){const n=this.steps[i];e.steps.push(n.getInverse())}return e}getGTListEntry(){let e="";for(const i of this.steps)e+=i.uid.toString()+",";return e!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=e),this._gtlistentry}assignCachedGe(e,i,n){this._cachedProjection[md.cacheKey(e,i)]=n}getCachedGeTransformation(e,i){let n="";for(const s of this.steps)n+=s.uid.toString()+",";n!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=n);const r=this._cachedProjection[md.cacheKey(e,i)];return r===void 0?null:r}};function JU(t,e,i){if(e==null||i==null||i.vcsWkid||it(e,i)||Go(e)||Go(i))return null;const n=T$(e)/T$(i);if(n===1)return null;switch(t){case"point":case"esriGeometryPoint":return r=>KU(r,n);case"polyline":case"esriGeometryPolyline":return r=>XU(r,n);case"polygon":case"esriGeometryPolygon":return r=>YU(r,n);case"multipoint":case"esriGeometryMultipoint":return r=>QU(r,n);case"extent":case"esriGeometryEnvelope":return r=>eH(r,n);default:return null}}function KU(t,e){(t==null?void 0:t.z)!=null&&(t.z*=e)}function YU(t,e){if(t)for(const i of t.rings)for(const n of i)n.length>2&&(n[2]*=e)}function XU(t,e){if(t)for(const i of t.paths)for(const n of i)n.length>2&&(n[2]*=e)}function QU(t,e){if(t)for(const i of t.points)i.length>2&&(i[2]*=e)}function eH(t,e){t&&t.zmin!=null&&t.zmax!=null&&(t.zmin*=e,t.zmax*=e)}let Fn=null,Zo=null,ah=null,sm={};const cS=new mp;function ta(){return!!Fn&&E_()}function mO(){return!!ta()||(X(cS),As(),!1)}function As(t){return ah==null&&(ah=Promise.all([jC(),V(()=>import("./geometryEngineBase-erHxuJMu.js"),__vite__mapDeps([]),import.meta.url).then(e=>e.g),V(()=>import("./hydrated-ywGIW7fx.js"),__vite__mapDeps([]),import.meta.url)])),ah.then(([,e,{hydratedAdapter:i}])=>{Ge(t),Zo=i,Fn=e.default,Fn._enableProjection(_z),cS.notify()})}function Vl(t,e,i=null,n=null){return Array.isArray(t)?t.length===0?[]:Hb(Zo,t,t[0].spatialReference,e,i,n):Hb(Zo,[t],t.spatialReference,e,i,n)[0]}function Hb(t,e,i,n,r=null,s=null){if(i==null||n==null)return e;if(Ur(i,n,r))return e.map(o=>om(o,i,n));if(r==null&&lg(i))return e.map(o=>om(o,i,ge.WGS84)).map(o=>Nh(o,n));if(r==null&&lg(n))return e.map(o=>Nh(o,ge.WGS84)).map(o=>om(o,ge.WGS84,n));if(r==null){const o=wg.cacheKey(i,n);sm[o]!==void 0?r=sm[o]:((r=yO(i,n,void 0))==null&&(r=new wg),sm[o]=r)}if(Fn==null||t==null)throw new By;return s!=null?Fn._project(t,e,i,n,r,s):Fn._project(t,e,i,n,r)}function tH(t,e){const i=gO([t],e);return i.pending!=null?{pending:i.pending,geometry:null}:i.geometries!=null?{pending:null,geometry:i.geometries[0]}:{pending:null,geometry:null}}function gO(t,e){if(!ta()){for(const i of t)if(i!=null&&!it(i.spatialReference,e)&&Ct(i.spatialReference)&&Ct(e)&&!Ur(i.spatialReference,e))return X(cS),{pending:As(),geometries:null}}return{pending:null,geometries:t.map(i=>i==null?null:it(i.spatialReference,e)?i:Ct(i.spatialReference)&&Ct(e)?Nh(i,e):null)}}function yO(t,e,i=null){if(t==null||e==null)return null;if(Fn==null||Zo==null)throw new By;const n=Fn._getTransformation(Zo,t,e,i,i==null?void 0:i.spatialReference);return n!==null?wg.fromGE(n):null}function iH(t,e,i=null){if(Fn==null||Zo==null)throw new By;const n=Fn._getTransformationBySuitability(Zo,t,e,i,i==null?void 0:i.spatialReference);if(n!==null){const r=[];for(const s of n)r.push(wg.fromGE(s));return r}return[]}let By=class extends D{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}};function nH(){Fn=null,Zo=null,ah=null,sm={}}const rH={get loadPromise(){return ah}};function Nh(t,e){try{const i=Vl(t,e);if(i==null)return null;"xmin"in t&&"xmin"in i&&(i.zmin=t.zmin,i.zmax=t.zmax);const n=JU(i.type,t.spatialReference,e);return n!=null&&n(i),i}catch(i){if(!(i instanceof By))throw i;return null}}async function sH(t,e,i){const n=t.spatialReference;return n!=null&&e!=null&&await vO(n,e,null,i),Nh(t,e)}function Ur(t,e,i){return!i&&(!!it(t,e)||Ct(t)&&Ct(e)&&!!hO(t,e,fO))}async function vO(t,e,i,n){if(ta())return r$(n);if(Array.isArray(t)){for(const{source:r,dest:s,geographicTransformation:o}of t)if(!Ur(r,s,o))return As(n)}else if(!Ur(t,e,i))return As(n);return r$(n)}function om(t,e,i){return t?"x"in t?bO(t,e,new ne,i,0):"xmin"in t?xO(t,e,new Le,i,0):"rings"in t?SO(t,e,new Fr,i,0):"paths"in t?_O(t,e,new Nn,i,0):"points"in t?wO(t,e,new Py,i,0):null:null}function oH(t,e,i=e.spatialReference,n=0){return i!=null&&t.spatialReference!=null&&bO(t,t.spatialReference,e,i,n)!=null}function bO(t,e,i,n,r){Zt[0]=t.x,Zt[1]=t.y;const s=t.z;return Zt[2]=s!==void 0?s:r,wp(Zt,e,0,Zt,n,0,1)?(i.x=Zt[0],i.y=Zt[1],i.spatialReference=n,s!==void 0||Go(n)?(i.z=Zt[2],i.hasZ=!0):(i.z=void 0,i.hasZ=!1),t.m===void 0?(i.m=void 0,i.hasM=!1):(i.m=t.m,i.hasM=!0),i):null}function aH(t,e,i=e.spatialReference,n=0){return t.spatialReference!=null&&i!=null&&wO(t,t.spatialReference,e,i,n)!=null}function wO(t,e,i,n,r){const{points:s,hasZ:o,hasM:a}=t,l=[],u=s.length,p=[];for(const m of s)p.push(m[0],m[1],o?m[2]:r);if(!wp(p,e,0,p,n,0,u))return null;const f=o||Go(n);for(let m=0;m<u;++m){const g=3*m,y=p[g],v=p[g+1];f&&a?l.push([y,v,p[g+2],s[m][3]]):f?l.push([y,v,p[g+2]]):a?l.push([y,v,s[m][2]]):l.push([y,v])}return i.points=l,i.spatialReference=n,i.hasZ=o,i.hasM=a,i}function lH(t,e,i=e.spatialReference,n=0){return t.spatialReference!=null&&i!=null&&_O(t,t.spatialReference,e,i,n)!=null}function _O(t,e,i,n,r){const{paths:s,hasZ:o,hasM:a}=t,l=[];if(!$O(s,o??!1,a??!1,e,l,n,r))return null;const u=o||Go(n);return i.paths=l,i.spatialReference=n,i.hasZ=u,i.hasM=a,i}function cH(t,e,i=e.spatialReference,n=0){return t.spatialReference!=null&&i!=null&&SO(t,t.spatialReference,e,i,n)!=null}function SO(t,e,i,n,r){const{rings:s,hasZ:o,hasM:a}=t,l=[];if(!$O(s,o??!1,a??!1,e,l,n,r))return null;const u=o||Go(n);return i.rings=l,i.spatialReference=n,i.hasZ=u,i.hasM=a,i}function uH(t,e,i=e.spatialReference,n=0){return t.spatialReference!=null&&i!=null&&xO(t,t.spatialReference,e,i,n)!=null}function xO(t,e,i,n,r){const{xmin:s,ymin:o,xmax:a,ymax:l,hasZ:u,hasM:p}=t,f=u?t.zmin:r;if(!N2(s,o,f,e,Zt,n))return null;const m=u||Go(n);i.xmin=Zt[0],i.ymin=Zt[1],m&&(i.zmin=Zt[2]);const g=u?t.zmax:r;return N2(a,l,g,e,Zt,n)?(i.xmax=Zt[0],i.ymax=Zt[1],m&&(i.zmax=Zt[2]),p&&(i.mmin=t.mmin,i.mmax=t.mmax),i.spatialReference=n,i):null}function $O(t,e,i,n,r,s,o=0){const a=new Array;for(const p of t)for(const f of p)a.push(f[0],f[1],e?f[2]:o);if(!wp(a,n,0,a,s,0,a.length/3))return!1;let l=0;r.length=0;const u=e||Go(s);for(const p of t){const f=new Array;for(const m of p)u&&i?f.push([a[l++],a[l++],a[l++],m[3]]):u?f.push([a[l++],a[l++],a[l++]]):i?(f.push([a[l++],a[l++],m[2]]),l++):(f.push([a[l++],a[l++]]),l++);r.push(f)}return!0}function Gy(t){return t!=null&&AU(t)!=null}const Zt=dn(),tde=Object.freeze(Object.defineProperty({__proto__:null,canProjectToWGS84ComparableLonLat:Gy,canProjectWithoutEngine:Ur,getTransformation:yO,getTransformations:iH,initializeProjection:vO,isLoaded:ta,isLoadedOrLoad:mO,load:As,project:Vl,projectExtent:uH,projectMany:Hb,projectMultipoint:aH,projectOrLoad:tH,projectOrLoadMany:gO,projectPoint:oH,projectPolygon:cH,projectPolyline:lH,projectWithZConversion:sH,projectWithoutEngine:om,test:rH,tryProjectWithZConversion:Nh,unload:nH},Symbol.toStringTag,{value:"Module"}));var Bb;let gr=Bb=class extends te{constructor(t){super(t),this.cols=null,this.level=0,this.levelValue=null,this.origin=null,this.resolution=0,this.rows=null,this.scale=0}clone(){return new Bb({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})}};d([h({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],gr.prototype,"cols",void 0),d([h({type:ut,json:{write:!0}})],gr.prototype,"level",void 0),d([h({type:String,json:{write:!0}})],gr.prototype,"levelValue",void 0),d([h({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],gr.prototype,"origin",void 0),d([h({type:Number,json:{write:!0}})],gr.prototype,"resolution",void 0),d([h({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],gr.prototype,"rows",void 0),d([h({type:Number,json:{write:!0}})],gr.prototype,"scale",void 0),gr=Bb=d([E("esri.layers.support.LOD")],gr);const en=gr;let dH=class{constructor(e,i,n,r,s=void 0){this.id=e,this.level=i,this.row=n,this.col=r,this.extent=s}};var io;const D2=new Gn({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});let Lt=io=class extends te{static create(t={}){const{resolutionFactor:e=1,scales:i,size:n=256,spatialReference:r=ge.WebMercator,numLODs:s=24}=t;if(!Ct(r)){const f=[];if(i)for(let m=0;m<i.length;m++){const g=i[m];f.push(new en({level:m,scale:g,resolution:g}))}else{let m=5e-4;for(let g=s-1;g>=0;g--)f.unshift(new en({level:g,scale:m,resolution:m})),m*=2}return new io({dpi:96,lods:f,origin:new ne(0,0,r),size:[n,n],spatialReference:r})}const o=Ni(r),a=t.origin?new ne({x:t.origin.x,y:t.origin.y,spatialReference:r}):new ne(o?{x:o.origin[0],y:o.origin[1],spatialReference:r}:{x:0,y:0,spatialReference:r}),l=96,u=1/(Jn(r)*39.37*l),p=[];if(i)for(let f=0;f<i.length;f++){const m=i[f],g=m*u;p.push(new en({level:f,scale:m,resolution:g}))}else{let f=k_(r)?512/n*5916575275917094e-7:256/n*591657527591555e-6;const m=Math.ceil(s/e);p.push(new en({level:0,scale:f,resolution:f*u}));for(let g=1;g<m;g++){const y=f/2**e,v=y*u;p.push(new en({level:g,scale:y,resolution:v})),f=y}}return new io({dpi:l,lods:p,origin:a,size:[n,n],spatialReference:r})}constructor(t){super(t),this.dpi=96,this.format=null,this.origin=null,this.size=null,this.spatialReference=null}get isWrappable(){const{spatialReference:t,origin:e}=this;if(t&&e){const i=Ni(t);return t.isWrappable&&!!i&&Math.abs(i.origin[0]-e.x)<=i.dx}return!1}readOrigin(t,e){return ne.fromJSON({spatialReference:e.spatialReference,...t})}set lods(t){let e=0,i=0;const n=[],r=this._levelToLOD={};t&&(e=-1/0,i=1/0,t.forEach(s=>{n.push(s.scale),e=s.scale>e?s.scale:e,i=s.scale<i?s.scale:i,r[s.level]=s})),this._set("scales",n),this._set("lods",t),this._initializeUpsampleLevels()}readSize(t,e){return[e.cols,e.rows]}writeSize(t,e){e.cols=t[0],e.rows=t[1]}zoomToScale(t){const e=this.scales;if(t<=0)return e[0];if(t>=e.length-1)return e[e.length-1];const i=Math.floor(t),n=i+1;return e[i]/(e[i]/e[n])**(t-i)}scaleToZoom(t){const e=this.scales,i=e.length-1;let n=0;for(;n<i;n++){const r=e[n],s=e[n+1];if(r<=t)return n;if(s===t)return n+1;if(r>t&&s<t)return n+Math.log(r/t)/Math.log(r/s)}return n}snapScale(t,e=.95){const i=this.scaleToZoom(t);return i%Math.floor(i)>=e?this.zoomToScale(Math.ceil(i)):this.zoomToScale(Math.floor(i))}tileAt(t,e,i,n){const r=this.lodAt(t);if(!r)return null;let s,o;if(typeof e=="number")s=e,o=i;else if(it(e.spatialReference,this.spatialReference))s=e.x,o=e.y,n=i;else{const u=Oy(e,this.spatialReference);if(u==null)return null;s=u.x,o=u.y,n=i}const a=r.resolution*this.size[0],l=r.resolution*this.size[1];return n||(n=new dH(null,0,0,0,$i())),n.level=t,n.row=Math.floor((this.origin.y-o)/l+.001),n.col=Math.floor((s-this.origin.x)/a+.001),this.updateTileInfo(n),n}updateTileInfo(t,e=io.ExtrapolateOptions.NONE){let i=this.lodAt(t.level);if(!i&&e===io.ExtrapolateOptions.POWER_OF_TWO){const o=this.lods[this.lods.length-1];o.level<t.level&&(i=o)}if(!i)return;const n=t.level-i.level,r=i.resolution*this.size[0]/2**n,s=i.resolution*this.size[1]/2**n;t.id=`${t.level}/${t.row}/${t.col}`,t.extent||(t.extent=$i()),t.extent[0]=this.origin.x+t.col*r,t.extent[1]=this.origin.y-(t.row+1)*s,t.extent[2]=t.extent[0]+r,t.extent[3]=t.extent[1]+s}upsampleTile(t){const e=this._upsampleLevels[t.level];return!(!e||e.parentLevel===-1)&&(t.level=e.parentLevel,t.row=Math.floor(t.row/e.factor+.001),t.col=Math.floor(t.col/e.factor+.001),this.updateTileInfo(t),!0)}getTileBounds(t,e){const i=this.lodAt(e.level);if(i==null)return null;const{resolution:n}=i,r=n*this.size[0],s=n*this.size[1];return t[0]=this.origin.x+e.col*r,t[1]=this.origin.y-(e.row+1)*s,t[2]=t[0]+r,t[3]=t[1]+s,t}lodAt(t){var e;return((e=this._levelToLOD)==null?void 0:e[t])??null}clone(){return io.fromJSON(this.write({}))}getOrCreateCompatible(t,e){if(this.size[0]===256&&this.size[1]===256)return t===256?this:null;const i=[],n=this.lods.length;for(let r=0;r<n;r++){const s=this.lods[r],o=s.resolution*e;i.push(new en({level:s.level,scale:s.scale,resolution:o}))}return new io({size:[t,t],dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin,spatialReference:this.spatialReference,lods:i})}_initializeUpsampleLevels(){const t=this.lods;this._upsampleLevels=[];let e=null;for(let i=0;i<t.length;i++){const n=t[i];this._upsampleLevels[n.level]={parentLevel:e?e.level:-1,factor:e?e.resolution/n.resolution:0},e=n}}};d([h({type:Number,json:{write:!0}})],Lt.prototype,"compressionQuality",void 0),d([h({type:Number,json:{write:!0}})],Lt.prototype,"dpi",void 0),d([h({type:String,json:{read:D2.read,write:D2.write,origins:{"web-scene":{read:!1,write:!1}}}})],Lt.prototype,"format",void 0),d([h({readOnly:!0})],Lt.prototype,"isWrappable",null),d([h({type:ne,json:{write:!0}})],Lt.prototype,"origin",void 0),d([Re("origin")],Lt.prototype,"readOrigin",null),d([h({type:[en],value:null,json:{write:!0}})],Lt.prototype,"lods",null),d([h({readOnly:!0})],Lt.prototype,"scales",void 0),d([h({cast:t=>Array.isArray(t)?t:typeof t=="number"?[t,t]:[256,256]})],Lt.prototype,"size",void 0),d([Re("size",["rows","cols"])],Lt.prototype,"readSize",null),d([Ae("size",{cols:{type:ut},rows:{type:ut}})],Lt.prototype,"writeSize",null),d([h({type:ge,json:{write:!0}})],Lt.prototype,"spatialReference",void 0),Lt=io=d([E("esri.layers.support.TileInfo")],Lt),function(t){var e;(e=t.ExtrapolateOptions||(t.ExtrapolateOptions={}))[e.NONE=0]="NONE",e[e.POWER_OF_TWO=1]="POWER_OF_TWO"}(Lt||(Lt={}));const lh=Lt,am={widthBreakpoint:{getValue(t){const e=t.viewSize[0],i=t.breakpoints,n=this.values;return e<=i.xsmall?n.xsmall:e<=i.small?n.small:e<=i.medium?n.medium:e<=i.large?n.large:n.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-width-xsmall esri-view-width-less-than-small esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",small:"esri-view-width-small esri-view-width-greater-than-xsmall esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",medium:"esri-view-width-medium esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-less-than-large esri-view-width-less-than-xlarge",large:"esri-view-width-large esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-less-than-xlarge",xlarge:"esri-view-width-xlarge esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-greater-than-large"}},heightBreakpoint:{getValue(t){const e=t.viewSize[1],i=t.breakpoints,n=this.values;return e<=i.xsmall?n.xsmall:e<=i.small?n.small:e<=i.medium?n.medium:e<=i.large?n.large:n.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-height-xsmall esri-view-height-less-than-small esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",small:"esri-view-height-small esri-view-height-greater-than-xsmall esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",medium:"esri-view-height-medium esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-less-than-large esri-view-height-less-than-xlarge",large:"esri-view-height-large esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-less-than-xlarge",xlarge:"esri-view-height-xlarge esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-greater-than-large"}},orientation:{getValue(t){const e=t.viewSize,i=e[0],n=e[1],r=this.values;return n>=i?r.portrait:r.landscape},values:{portrait:"portrait",landscape:"landscape"},valueToClassName:{portrait:"esri-view-orientation-portrait",landscape:"esri-view-orientation-landscape"}}},Z0={xsmall:544,small:768,medium:992,large:1200};function hH(t){const e=t;return e&&e.xsmall<e.small&&e.small<e.medium&&e.medium<e.large}function J0(t,e){return e?am[t].valueToClassName[e].split(" "):[]}const pH=t=>{let e=class extends t{constructor(...i){super(...i),this.orientation=null,this.widthBreakpoint=null,this.heightBreakpoint=null,this.breakpoints=Z0}initialize(){this.addHandles(K(()=>[this.breakpoints,this.size],()=>this._updateClassNames(),yt))}destroy(){this.destroyed||this._removeActiveClassNames()}set breakpoints(i){if(i===this._get("breakpoints"))return;const n=hH(i);if(!n){const r=JSON.stringify(Z0,null,2);console.warn("provided breakpoints are not valid, using defaults:"+r)}i=n?i:Z0,this._set("breakpoints",{...i})}_updateClassNames(){if(!this.container)return;const i=ci.acquire(),n=ci.acquire();let r,s=!1;for(r in am){const o=this[r],a=am[r].getValue({viewSize:this.size,breakpoints:this.breakpoints});o!==a&&(s=!0,this[r]=a,J0(r,o).forEach(l=>n.push(l)),J0(r,a).forEach(l=>i.push(l)))}s&&(this._applyClassNameChanges(i,n),ci.release(i),ci.release(n))}_applyClassNameChanges(i,n){const r=this.container;r&&(n.forEach(s=>r.classList.remove(s)),i.forEach(s=>r.classList.add(s)))}_removeActiveClassNames(){const i=this.container;if(!i)return;let n;for(n in am)J0(n,this[n]).forEach(r=>i.classList.remove(r))}};return d([h()],e.prototype,"breakpoints",null),d([h()],e.prototype,"orientation",void 0),d([h()],e.prototype,"widthBreakpoint",void 0),d([h()],e.prototype,"heightBreakpoint",void 0),e=d([E("esri.views.BreakpointsOwner")],e),e};function uS(t){return typeof t=="string"?document.getElementById(t):t??null}function TO(t){for(;t.hasChildNodes();)t.removeChild(t.firstChild)}function z2(t,e){const i=e.parentNode;i&&i.insertBefore(t,e)}function F2(t,e){for(;;){const i=t.firstChild;if(!i)break;e.appendChild(i)}}let bl=class extends Q{constructor(){super(...arguments),this.updating=!1,this._handleId=0,this._scheduleHandleId=0,this._pendingPromises=new Set}destroy(){this.removeAll()}add(e,i,n={}){return this._installWatch(e,i,n,K)}addWhen(e,i,n={}){return this._installWatch(e,i,n,cn)}addOnCollectionChange(e,i,{initial:n=!1,final:r=!1}={}){const s=++this._handleId;return this.addHandles([Os(e,"after-changes",this._createSyncUpdatingCallback(),Cu),Os(e,"change",i,{onListenerAdd:n?o=>i({added:o.toArray(),removed:[]}):void 0,onListenerRemove:r?o=>i({added:[],removed:o.toArray()}):void 0})],s),je(()=>this.removeHandles(s))}addPromise(e){if(e==null)return e;const i=++this._handleId;this.addHandles(je(()=>{this._pendingPromises.delete(e)&&(this._pendingPromises.size!==0||this.hasHandles(ff)||this._set("updating",!1))}),i),this._pendingPromises.add(e),this._set("updating",!0);const n=()=>this.removeHandles(i);return e.then(n,n),e}removeAll(){this._pendingPromises.clear(),this.removeAllHandles(),this._set("updating",!1)}_installWatch(e,i,n={},r){const s=++this._handleId;n.sync||this._installSyncUpdatingWatch(e,s);const o=r(e,i,n);return this.addHandles(o,s),je(()=>this.removeHandles(s))}_installSyncUpdatingWatch(e,i){const n=this._createSyncUpdatingCallback(),r=K(e,n,{sync:!0,equals:()=>!1});return this.addHandles(r,i),r}_createSyncUpdatingCallback(){return()=>{this.removeHandles(ff),++this._scheduleHandleId;const e=this._scheduleHandleId;this._get("updating")||this._set("updating",!0),this.addHandles(cp(()=>{e===this._scheduleHandleId&&(this._set("updating",this._pendingPromises.size>0),this.removeHandles(ff))}),ff)}}};d([h({readOnly:!0})],bl.prototype,"updating",void 0),bl=d([E("esri.core.support.UpdatingHandles")],bl);const ff=-42;/*!
 * @esri/arcgis-html-sanitizer - v3.0.1 - Tue Nov 15 2022 09:46:54 GMT-0800 (Pacific Standard Time)
 * Copyright (c) 2022 - Environmental Systems Research Institute, Inc.
 * Apache-2.0
 * 
 * js-xss
 * Copyright (c) 2012-2018 Zongmin Lei(é›·å®—æ°‘) <leizongmin@gmail.com>
 * http://ucdok.com
 * MIT License, see https://github.com/leizongmin/js-xss/blob/master/LICENSE for details
 */var fH=function(t){if(typeof t!="object"||t===null||Object.prototype.toString.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},el={exports:{}},nt={},Dh={exports:{}},Wl={};function EO(){var t={};return t["align-content"]=!1,t["align-items"]=!1,t["align-self"]=!1,t["alignment-adjust"]=!1,t["alignment-baseline"]=!1,t.all=!1,t["anchor-point"]=!1,t.animation=!1,t["animation-delay"]=!1,t["animation-direction"]=!1,t["animation-duration"]=!1,t["animation-fill-mode"]=!1,t["animation-iteration-count"]=!1,t["animation-name"]=!1,t["animation-play-state"]=!1,t["animation-timing-function"]=!1,t.azimuth=!1,t["backface-visibility"]=!1,t.background=!0,t["background-attachment"]=!0,t["background-clip"]=!0,t["background-color"]=!0,t["background-image"]=!0,t["background-origin"]=!0,t["background-position"]=!0,t["background-repeat"]=!0,t["background-size"]=!0,t["baseline-shift"]=!1,t.binding=!1,t.bleed=!1,t["bookmark-label"]=!1,t["bookmark-level"]=!1,t["bookmark-state"]=!1,t.border=!0,t["border-bottom"]=!0,t["border-bottom-color"]=!0,t["border-bottom-left-radius"]=!0,t["border-bottom-right-radius"]=!0,t["border-bottom-style"]=!0,t["border-bottom-width"]=!0,t["border-collapse"]=!0,t["border-color"]=!0,t["border-image"]=!0,t["border-image-outset"]=!0,t["border-image-repeat"]=!0,t["border-image-slice"]=!0,t["border-image-source"]=!0,t["border-image-width"]=!0,t["border-left"]=!0,t["border-left-color"]=!0,t["border-left-style"]=!0,t["border-left-width"]=!0,t["border-radius"]=!0,t["border-right"]=!0,t["border-right-color"]=!0,t["border-right-style"]=!0,t["border-right-width"]=!0,t["border-spacing"]=!0,t["border-style"]=!0,t["border-top"]=!0,t["border-top-color"]=!0,t["border-top-left-radius"]=!0,t["border-top-right-radius"]=!0,t["border-top-style"]=!0,t["border-top-width"]=!0,t["border-width"]=!0,t.bottom=!1,t["box-decoration-break"]=!0,t["box-shadow"]=!0,t["box-sizing"]=!0,t["box-snap"]=!0,t["box-suppress"]=!0,t["break-after"]=!0,t["break-before"]=!0,t["break-inside"]=!0,t["caption-side"]=!1,t.chains=!1,t.clear=!0,t.clip=!1,t["clip-path"]=!1,t["clip-rule"]=!1,t.color=!0,t["color-interpolation-filters"]=!0,t["column-count"]=!1,t["column-fill"]=!1,t["column-gap"]=!1,t["column-rule"]=!1,t["column-rule-color"]=!1,t["column-rule-style"]=!1,t["column-rule-width"]=!1,t["column-span"]=!1,t["column-width"]=!1,t.columns=!1,t.contain=!1,t.content=!1,t["counter-increment"]=!1,t["counter-reset"]=!1,t["counter-set"]=!1,t.crop=!1,t.cue=!1,t["cue-after"]=!1,t["cue-before"]=!1,t.cursor=!1,t.direction=!1,t.display=!0,t["display-inside"]=!0,t["display-list"]=!0,t["display-outside"]=!0,t["dominant-baseline"]=!1,t.elevation=!1,t["empty-cells"]=!1,t.filter=!1,t.flex=!1,t["flex-basis"]=!1,t["flex-direction"]=!1,t["flex-flow"]=!1,t["flex-grow"]=!1,t["flex-shrink"]=!1,t["flex-wrap"]=!1,t.float=!1,t["float-offset"]=!1,t["flood-color"]=!1,t["flood-opacity"]=!1,t["flow-from"]=!1,t["flow-into"]=!1,t.font=!0,t["font-family"]=!0,t["font-feature-settings"]=!0,t["font-kerning"]=!0,t["font-language-override"]=!0,t["font-size"]=!0,t["font-size-adjust"]=!0,t["font-stretch"]=!0,t["font-style"]=!0,t["font-synthesis"]=!0,t["font-variant"]=!0,t["font-variant-alternates"]=!0,t["font-variant-caps"]=!0,t["font-variant-east-asian"]=!0,t["font-variant-ligatures"]=!0,t["font-variant-numeric"]=!0,t["font-variant-position"]=!0,t["font-weight"]=!0,t.grid=!1,t["grid-area"]=!1,t["grid-auto-columns"]=!1,t["grid-auto-flow"]=!1,t["grid-auto-rows"]=!1,t["grid-column"]=!1,t["grid-column-end"]=!1,t["grid-column-start"]=!1,t["grid-row"]=!1,t["grid-row-end"]=!1,t["grid-row-start"]=!1,t["grid-template"]=!1,t["grid-template-areas"]=!1,t["grid-template-columns"]=!1,t["grid-template-rows"]=!1,t["hanging-punctuation"]=!1,t.height=!0,t.hyphens=!1,t.icon=!1,t["image-orientation"]=!1,t["image-resolution"]=!1,t["ime-mode"]=!1,t["initial-letters"]=!1,t["inline-box-align"]=!1,t["justify-content"]=!1,t["justify-items"]=!1,t["justify-self"]=!1,t.left=!1,t["letter-spacing"]=!0,t["lighting-color"]=!0,t["line-box-contain"]=!1,t["line-break"]=!1,t["line-grid"]=!1,t["line-height"]=!1,t["line-snap"]=!1,t["line-stacking"]=!1,t["line-stacking-ruby"]=!1,t["line-stacking-shift"]=!1,t["line-stacking-strategy"]=!1,t["list-style"]=!0,t["list-style-image"]=!0,t["list-style-position"]=!0,t["list-style-type"]=!0,t.margin=!0,t["margin-bottom"]=!0,t["margin-left"]=!0,t["margin-right"]=!0,t["margin-top"]=!0,t["marker-offset"]=!1,t["marker-side"]=!1,t.marks=!1,t.mask=!1,t["mask-box"]=!1,t["mask-box-outset"]=!1,t["mask-box-repeat"]=!1,t["mask-box-slice"]=!1,t["mask-box-source"]=!1,t["mask-box-width"]=!1,t["mask-clip"]=!1,t["mask-image"]=!1,t["mask-origin"]=!1,t["mask-position"]=!1,t["mask-repeat"]=!1,t["mask-size"]=!1,t["mask-source-type"]=!1,t["mask-type"]=!1,t["max-height"]=!0,t["max-lines"]=!1,t["max-width"]=!0,t["min-height"]=!0,t["min-width"]=!0,t["move-to"]=!1,t["nav-down"]=!1,t["nav-index"]=!1,t["nav-left"]=!1,t["nav-right"]=!1,t["nav-up"]=!1,t["object-fit"]=!1,t["object-position"]=!1,t.opacity=!1,t.order=!1,t.orphans=!1,t.outline=!1,t["outline-color"]=!1,t["outline-offset"]=!1,t["outline-style"]=!1,t["outline-width"]=!1,t.overflow=!1,t["overflow-wrap"]=!1,t["overflow-x"]=!1,t["overflow-y"]=!1,t.padding=!0,t["padding-bottom"]=!0,t["padding-left"]=!0,t["padding-right"]=!0,t["padding-top"]=!0,t.page=!1,t["page-break-after"]=!1,t["page-break-before"]=!1,t["page-break-inside"]=!1,t["page-policy"]=!1,t.pause=!1,t["pause-after"]=!1,t["pause-before"]=!1,t.perspective=!1,t["perspective-origin"]=!1,t.pitch=!1,t["pitch-range"]=!1,t["play-during"]=!1,t.position=!1,t["presentation-level"]=!1,t.quotes=!1,t["region-fragment"]=!1,t.resize=!1,t.rest=!1,t["rest-after"]=!1,t["rest-before"]=!1,t.richness=!1,t.right=!1,t.rotation=!1,t["rotation-point"]=!1,t["ruby-align"]=!1,t["ruby-merge"]=!1,t["ruby-position"]=!1,t["shape-image-threshold"]=!1,t["shape-outside"]=!1,t["shape-margin"]=!1,t.size=!1,t.speak=!1,t["speak-as"]=!1,t["speak-header"]=!1,t["speak-numeral"]=!1,t["speak-punctuation"]=!1,t["speech-rate"]=!1,t.stress=!1,t["string-set"]=!1,t["tab-size"]=!1,t["table-layout"]=!1,t["text-align"]=!0,t["text-align-last"]=!0,t["text-combine-upright"]=!0,t["text-decoration"]=!0,t["text-decoration-color"]=!0,t["text-decoration-line"]=!0,t["text-decoration-skip"]=!0,t["text-decoration-style"]=!0,t["text-emphasis"]=!0,t["text-emphasis-color"]=!0,t["text-emphasis-position"]=!0,t["text-emphasis-style"]=!0,t["text-height"]=!0,t["text-indent"]=!0,t["text-justify"]=!0,t["text-orientation"]=!0,t["text-overflow"]=!0,t["text-shadow"]=!0,t["text-space-collapse"]=!0,t["text-transform"]=!0,t["text-underline-position"]=!0,t["text-wrap"]=!0,t.top=!1,t.transform=!1,t["transform-origin"]=!1,t["transform-style"]=!1,t.transition=!1,t["transition-delay"]=!1,t["transition-duration"]=!1,t["transition-property"]=!1,t["transition-timing-function"]=!1,t["unicode-bidi"]=!1,t["vertical-align"]=!1,t.visibility=!1,t["voice-balance"]=!1,t["voice-duration"]=!1,t["voice-family"]=!1,t["voice-pitch"]=!1,t["voice-range"]=!1,t["voice-rate"]=!1,t["voice-stress"]=!1,t["voice-volume"]=!1,t.volume=!1,t["white-space"]=!1,t.widows=!1,t.width=!0,t["will-change"]=!1,t["word-break"]=!0,t["word-spacing"]=!0,t["word-wrap"]=!0,t["wrap-flow"]=!1,t["wrap-through"]=!1,t["writing-mode"]=!1,t["z-index"]=!1,t}function mH(t,e,i){}function gH(t,e,i){}var yH=/javascript\s*\:/img;function vH(t,e){return yH.test(e)?"":e}Wl.whiteList=EO();Wl.getDefaultWhiteList=EO;Wl.onAttr=mH;Wl.onIgnoreAttr=gH;Wl.safeAttrValue=vH;var bH={indexOf:function(t,e){var i,n;if(Array.prototype.indexOf)return t.indexOf(e);for(i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},forEach:function(t,e,i){var n,r;if(Array.prototype.forEach)return t.forEach(e,i);for(n=0,r=t.length;n<r;n++)e.call(i,t[n],n,t)},trim:function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(t){return String.prototype.trimRight?t.trimRight():t.replace(/(\s*$)/g,"")}},ed=bH;function wH(t,e){t=ed.trimRight(t),t[t.length-1]!==";"&&(t+=";");var i=t.length,n=!1,r=0,s=0,o="";function a(){if(!n){var p=ed.trim(t.slice(r,s)),f=p.indexOf(":");if(f!==-1){var m=ed.trim(p.slice(0,f)),g=ed.trim(p.slice(f+1));if(m){var y=e(r,o.length,m,g,p);y&&(o+=y+"; ")}}}r=s+1}for(;s<i;s++){var l=t[s];if(l==="/"&&t[s+1]==="*"){var u=t.indexOf("*/",s+2);if(u===-1)break;s=u+1,r=s+1,n=!1}else l==="("?n=!0:l===")"?n=!1:l===";"?n||a():l===`
`&&a()}return ed.trim(o)}var _H=wH,mf=Wl,SH=_H;function j2(t){return t==null}function xH(t){var e={};for(var i in t)e[i]=t[i];return e}function kO(t){t=xH(t||{}),t.whiteList=t.whiteList||mf.whiteList,t.onAttr=t.onAttr||mf.onAttr,t.onIgnoreAttr=t.onIgnoreAttr||mf.onIgnoreAttr,t.safeAttrValue=t.safeAttrValue||mf.safeAttrValue,this.options=t}kO.prototype.process=function(t){if(t=t||"",t=t.toString(),!t)return"";var e=this,i=e.options,n=i.whiteList,r=i.onAttr,s=i.onIgnoreAttr,o=i.safeAttrValue,a=SH(t,function(l,u,p,f,m){var g=n[p],y=!1;if(g===!0?y=g:typeof g=="function"?y=g(f):g instanceof RegExp&&(y=g.test(f)),y!==!0&&(y=!1),f=o(p,f),!!f){var v={position:u,sourcePosition:l,source:m,isWhite:y};if(y){var w=r(p,f,v);return j2(w)?p+":"+f:w}else{var w=s(p,f,v);if(!j2(w))return w}}});return a};var $H=kO;(function(t,e){var i=Wl,n=$H;function r(o,a){var l=new n(a);return l.process(o)}e=t.exports=r,e.FilterCSS=n;for(var s in i)e[s]=i[s]})(Dh,Dh.exports);var dS={indexOf:function(t,e){var i,n;if(Array.prototype.indexOf)return t.indexOf(e);for(i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},forEach:function(t,e,i){var n,r;if(Array.prototype.forEach)return t.forEach(e,i);for(n=0,r=t.length;n<r;n++)e.call(i,t[n],n,t)},trim:function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(t){var e=/\s|\n|\t/,i=e.exec(t);return i?i.index:-1}},TH=Dh.exports.FilterCSS,EH=Dh.exports.getDefaultWhiteList,_g=dS;function MO(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var CO=new TH;function kH(t,e,i){}function MH(t,e,i){}function CH(t,e,i){}function IH(t,e,i){}function IO(t){return t.replace(AH,"&lt;").replace(LH,"&gt;")}function OH(t,e,i,n){if(i=NO(i),e==="href"||e==="src"){if(i=_g.trim(i),i==="#")return"#";if(!(i.substr(0,7)==="http://"||i.substr(0,8)==="https://"||i.substr(0,7)==="mailto:"||i.substr(0,4)==="tel:"||i.substr(0,11)==="data:image/"||i.substr(0,6)==="ftp://"||i.substr(0,2)==="./"||i.substr(0,3)==="../"||i[0]==="#"||i[0]==="/"))return""}else if(e==="background"){if(gf.lastIndex=0,gf.test(i))return""}else if(e==="style"){if(U2.lastIndex=0,U2.test(i)||(H2.lastIndex=0,H2.test(i)&&(gf.lastIndex=0,gf.test(i))))return"";n!==!1&&(n=n||CO,i=n.process(i))}return i=DO(i),i}var AH=/</g,LH=/>/g,PH=/"/g,RH=/&quot;/g,NH=/&#([a-zA-Z0-9]*);?/gim,DH=/&colon;?/gim,zH=/&newline;?/gim,gf=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,U2=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,H2=/u\s*r\s*l\s*\(.*/gi;function OO(t){return t.replace(PH,"&quot;")}function AO(t){return t.replace(RH,'"')}function LO(t){return t.replace(NH,function(i,n){return n[0]==="x"||n[0]==="X"?String.fromCharCode(parseInt(n.substr(1),16)):String.fromCharCode(parseInt(n,10))})}function PO(t){return t.replace(DH,":").replace(zH," ")}function RO(t){for(var e="",i=0,n=t.length;i<n;i++)e+=t.charCodeAt(i)<32?" ":t.charAt(i);return _g.trim(e)}function NO(t){return t=AO(t),t=LO(t),t=PO(t),t=RO(t),t}function DO(t){return t=OO(t),t=IO(t),t}function FH(){return""}function jH(t,e){typeof e!="function"&&(e=function(){});var i=!Array.isArray(t);function n(o){return i?!0:_g.indexOf(t,o)!==-1}var r=[],s=!1;return{onIgnoreTag:function(o,a,l){if(n(o))if(l.isClosing){var u="[/removed]",p=l.position+u.length;return r.push([s!==!1?s:l.position,p]),s=!1,u}else return s||(s=l.position),"[removed]";else return e(o,a,l)},remove:function(o){var a="",l=0;return _g.forEach(r,function(u){a+=o.slice(l,u[0]),l=u[1]}),a+=o.slice(l),a}}}function UH(t){for(var e="",i=0;i<t.length;){var n=t.indexOf("<!--",i);if(n===-1){e+=t.slice(i);break}e+=t.slice(i,n);var r=t.indexOf("-->",n);if(r===-1)break;i=r+3}return e}function HH(t){var e=t.split("");return e=e.filter(function(i){var n=i.charCodeAt(0);return n===127?!1:n<=31?n===10||n===13:!0}),e.join("")}nt.whiteList=MO();nt.getDefaultWhiteList=MO;nt.onTag=kH;nt.onIgnoreTag=MH;nt.onTagAttr=CH;nt.onIgnoreTagAttr=IH;nt.safeAttrValue=OH;nt.escapeHtml=IO;nt.escapeQuote=OO;nt.unescapeQuote=AO;nt.escapeHtmlEntities=LO;nt.escapeDangerHtml5Entities=PO;nt.clearNonPrintableCharacter=RO;nt.friendlyAttrValue=NO;nt.escapeAttrValue=DO;nt.onIgnoreTagStripAll=FH;nt.StripTagBody=jH;nt.stripCommentTag=UH;nt.stripBlankChar=HH;nt.cssFilter=CO;nt.getDefaultCSSWhiteList=EH;var Vy={},$o=dS;function BH(t){var e=$o.spaceIndex(t),i;return e===-1?i=t.slice(1,-1):i=t.slice(1,e+1),i=$o.trim(i).toLowerCase(),i.slice(0,1)==="/"&&(i=i.slice(1)),i.slice(-1)==="/"&&(i=i.slice(0,-1)),i}function GH(t){return t.slice(0,2)==="</"}function VH(t,e,i){var n="",r=0,s=!1,o=!1,a=0,l=t.length,u="",p="";e:for(a=0;a<l;a++){var f=t.charAt(a);if(s===!1){if(f==="<"){s=a;continue}}else if(o===!1){if(f==="<"){n+=i(t.slice(r,a)),s=a,r=a;continue}if(f===">"){n+=i(t.slice(r,s)),p=t.slice(s,a+1),u=BH(p),n+=e(s,n.length,u,p,GH(p)),r=a+1,s=!1;continue}if(f==='"'||f==="'")for(var m=1,g=t.charAt(a-m);g.trim()===""||g==="=";){if(g==="="){o=f;continue e}g=t.charAt(a-++m)}}else if(f===o){o=!1;continue}}return r<t.length&&(n+=i(t.substr(r))),n}var WH=/[^a-zA-Z0-9\\_:.-]/gim;function qH(t,e){var i=0,n=0,r=[],s=!1,o=t.length;function a(m,g){if(m=$o.trim(m),m=m.replace(WH,"").toLowerCase(),!(m.length<1)){var y=e(m,g||"");y&&r.push(y)}}for(var l=0;l<o;l++){var u=t.charAt(l),p,f;if(s===!1&&u==="="){s=t.slice(i,l),i=l+1,n=t.charAt(i)==='"'||t.charAt(i)==="'"?i:JH(t,l+1);continue}if(s!==!1&&l===n){if(f=t.indexOf(u,l+1),f===-1)break;p=$o.trim(t.slice(n+1,f)),a(s,p),s=!1,l=f,i=l+1;continue}if(/\s|\n|\t/.test(u))if(t=t.replace(/\s|\n|\t/g," "),s===!1)if(f=ZH(t,l),f===-1){p=$o.trim(t.slice(i,l)),a(p),s=!1,i=l+1;continue}else{l=f-1;continue}else if(f=KH(t,l-1),f===-1){p=$o.trim(t.slice(i,l)),p=B2(p),a(s,p),s=!1,i=l+1;continue}else continue}return i<t.length&&(s===!1?a(t.slice(i)):a(s,B2($o.trim(t.slice(i))))),$o.trim(r.join(" "))}function ZH(t,e){for(;e<t.length;e++){var i=t[e];if(i!==" ")return i==="="?e:-1}}function JH(t,e){for(;e<t.length;e++){var i=t[e];if(i!==" ")return i==="'"||i==='"'?e:-1}}function KH(t,e){for(;e>0;e--){var i=t[e];if(i!==" ")return i==="="?e:-1}}function YH(t){return t[0]==='"'&&t[t.length-1]==='"'||t[0]==="'"&&t[t.length-1]==="'"}function B2(t){return YH(t)?t.substr(1,t.length-2):t}Vy.parseTag=VH;Vy.parseAttr=qH;var XH=Dh.exports.FilterCSS,On=nt,zO=Vy,QH=zO.parseTag,eB=zO.parseAttr,lm=dS;function yf(t){return t==null}function tB(t){var e=lm.spaceIndex(t);if(e===-1)return{html:"",closing:t[t.length-2]==="/"};t=lm.trim(t.slice(e+1,-1));var i=t[t.length-1]==="/";return i&&(t=lm.trim(t.slice(0,-1))),{html:t,closing:i}}function iB(t){var e={};for(var i in t)e[i]=t[i];return e}function nB(t){var e={};for(var i in t)Array.isArray(t[i])?e[i.toLowerCase()]=t[i].map(function(n){return n.toLowerCase()}):e[i.toLowerCase()]=t[i];return e}function FO(t){t=iB(t||{}),t.stripIgnoreTag&&(t.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),t.onIgnoreTag=On.onIgnoreTagStripAll),t.whiteList||t.allowList?t.whiteList=nB(t.whiteList||t.allowList):t.whiteList=On.whiteList,t.onTag=t.onTag||On.onTag,t.onTagAttr=t.onTagAttr||On.onTagAttr,t.onIgnoreTag=t.onIgnoreTag||On.onIgnoreTag,t.onIgnoreTagAttr=t.onIgnoreTagAttr||On.onIgnoreTagAttr,t.safeAttrValue=t.safeAttrValue||On.safeAttrValue,t.escapeHtml=t.escapeHtml||On.escapeHtml,this.options=t,t.css===!1?this.cssFilter=!1:(t.css=t.css||{},this.cssFilter=new XH(t.css))}FO.prototype.process=function(t){if(t=t||"",t=t.toString(),!t)return"";var e=this,i=e.options,n=i.whiteList,r=i.onTag,s=i.onIgnoreTag,o=i.onTagAttr,a=i.onIgnoreTagAttr,l=i.safeAttrValue,u=i.escapeHtml,p=e.cssFilter;i.stripBlankChar&&(t=On.stripBlankChar(t)),i.allowCommentTag||(t=On.stripCommentTag(t));var f=!1;i.stripIgnoreTagBody&&(f=On.StripTagBody(i.stripIgnoreTagBody,s),s=f.onIgnoreTag);var m=QH(t,function(g,y,v,w,_){var $={sourcePosition:g,position:y,isClosing:_,isWhite:Object.prototype.hasOwnProperty.call(n,v)},x=r(v,w,$);if(!yf(x))return x;if($.isWhite){if($.isClosing)return"</"+v+">";var T=tB(w),M=n[v],I=eB(T.html,function(L,N){var B=lm.indexOf(M,L)!==-1,F=o(v,L,N,B);return yf(F)?B?(N=l(v,L,N,p),N?L+'="'+N+'"':L):(F=a(v,L,N,B),yf(F)?void 0:F):F});return w="<"+v,I&&(w+=" "+I),T.closing&&(w+=" /"),w+=">",w}else return x=s(v,w,$),yf(x)?u(w):x},u);return f&&(m=f.remove(m)),m};var rB=FO;(function(t,e){var i=nt,n=Vy,r=rB;function s(a,l){var u=new r(l);return u.process(a)}e=t.exports=s,e.filterXSS=s,e.FilterXSS=r,function(){for(var a in i)e[a]=i[a];for(var l in n)e[l]=n[l]}();function o(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}o()&&(self.filterXSS=t.exports)})(el,el.exports);var sB=function(){function t(e,i){var n=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],audio:["autoplay","controls","loop","muted","preload"],b:[],br:[],dd:["style"],div:["align","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],hr:[],i:[],img:["alt","border","height","src","style","width"],li:[],ol:[],p:["style"],source:["media","src","type"],span:["style"],strong:[],sub:["style"],sup:["style"],table:["border","cellpadding","cellspacing","height","style","width"],tbody:[],tr:["align","height","style","valign"],td:["align","colspan","height","nowrap","rowspan","style","valign","width"],th:["align","colspan","height","nowrap","rowspan","style","valign","width"],u:[],ul:[],video:["autoplay","controls","height","loop","muted","poster","preload","width"]},this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","arcgis-quickcapture","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(s,o,a,l){return s==="a"&&o==="href"||(s==="img"||s==="source")&&o==="src"?n.sanitizeUrl(a):el.exports.safeAttrValue(s,o,a,l)}},this._entityMap={"&":"&#x38;","<":"&#x3C;",">":"&#x3E;",'"':"&#x22;","'":"&#x27;","/":"&#x2F;"};var r;e&&!i?r=e:e&&i?(r=Object.create(this.arcgisFilterOptions),Object.keys(e).forEach(function(s){s==="whiteList"?r.whiteList=n._extendObjectOfArrays([n.arcgisWhiteList,e.whiteList||{}]):r[s]=e[s]})):(r=Object.create(this.arcgisFilterOptions),r.whiteList=this.arcgisWhiteList),this.xssFilterOptions=r,this._xssFilter=new el.exports.FilterXSS(r)}return t.prototype.sanitize=function(e,i){switch(i===void 0&&(i={}),typeof e){case"number":return isNaN(e)||!isFinite(e)?null:e;case"boolean":return e;case"string":return this._xssFilter.process(e);case"object":return this._iterateOverObject(e,i);default:return i.allowUndefined&&typeof e>"u"?void 0:null}},t.prototype.sanitizeUrl=function(e,i){var n=(i??{}).isProtocolRequired,r=n===void 0?!0:n,s=this._trim(e.substring(0,e.indexOf(":"))),o=e==="/",a=/^#/.test(e),l=s&&this.allowedProtocols.indexOf(s.toLowerCase())>-1;return o||a||l?el.exports.escapeAttrValue(e):!s&&!r?el.exports.escapeAttrValue("https://".concat(e)):""},t.prototype.sanitizeHTMLAttribute=function(e,i,n,r){return typeof this.xssFilterOptions.safeAttrValue=="function"?this.xssFilterOptions.safeAttrValue(e,i,n,r):el.exports.safeAttrValue(e,i,n,r)},t.prototype.validate=function(e,i){i===void 0&&(i={});var n=this.sanitize(e,i);return{isValid:e===n,sanitized:n}},t.prototype.encodeHTML=function(e){var i=this;return String(e).replace(/[&<>"'\/]/g,function(n){return i._entityMap[n]})},t.prototype.encodeAttrValue=function(e){var i=/^[a-zA-Z0-9]$/;return String(e).replace(/[\x00-\xFF]/g,function(n,r){return i.test(n)?n:"&#x".concat(Number(e.charCodeAt(r)).toString(16),";")})},t.prototype._extendObjectOfArrays=function(e){var i={};return e.forEach(function(n){Object.keys(n).forEach(function(r){Array.isArray(n[r])&&Array.isArray(i[r])?i[r]=i[r].concat(n[r]):i[r]=n[r]})}),i},t.prototype._iterateOverObject=function(e,i){var n=this;i===void 0&&(i={});try{var r=!1,s=void 0;if(Array.isArray(e))s=e.reduce(function(a,l){var u=n.validate(l,i);return u.isValid?a.concat([l]):(r=!0,a.concat([u.sanitized]))},[]);else if(fH(e)){var o=Object.keys(e);s=o.reduce(function(a,l){var u=e[l],p=n.validate(u,i);return p.isValid?a[l]=u:(r=!0,a[l]=p.sanitized),a},{})}else return i.allowUndefined&&typeof e>"u"?void 0:null;return r?s:e}catch{return null}},t.prototype._trim=function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},t}();const Wy=new Map;function jO(){Wy.clear()}function oB(t){return Wy.get(t)}function aB(t,e){Wy.set(t,e)}function K0(t){Wy.delete(t)}const lB=G.getLogger("esri.widgets.support.widgetUtils");function UO(t){const e=ci.acquire();for(let n=0;n<arguments.length;n++){const r=arguments[n],s=typeof r;if(s==="string")e.push(r);else if(Array.isArray(r))e.push.apply(e,r);else if(s==="object")for(const o in r)r[o]&&e.push(o)}const i=e.join(" ");return ci.release(e),i}const cB=(()=>{const t=new Map,e=new ResizeObserver(n=>{var r;jO();for(const s of n)(r=t.get(s.target))==null||r(s)}),i=(n,r,s)=>(t.has(n)&&lB.error("Already observing element",n),t.set(n,r),e.observe(n,s),je(()=>{e.unobserve(n),t.delete(n)}));return(n,r,s)=>{let o=null;return sp([K(()=>typeof n=="function"?n():n,a=>{o==null||o.remove(),a&&(o=i(a,r,s))},ws),je(()=>o==null?void 0:o.remove())])}})();function uB(t){const e=t==null?void 0:t.closest("[dir]");return e!==null&&e instanceof HTMLElement&&e.dir==="rtl"||document.dir==="rtl"}function rde(t){const e="data-node-ref";this[t.getAttribute(e)]=null}function vf(t){const e="data-node-ref";this[t.getAttribute(e)]=t}const dB=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"],hB=dB.reduce((t,e)=>(t[e]=[],t),{}),pB=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","d","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],HO=new sB({whiteList:hB,onTagAttr:(t,e,i)=>{const n=`${e}="${i}"`;if(pB.includes(e))return n},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);function fB(t,e){const i=t.getBoundingClientRect(),n=e.getBoundingClientRect(),r=i.top+i.height,s=n.top+n.height,o=i.top,a=n.top;(r>s||o<a)&&t.scrollIntoView({block:"end"})}function BO(t){return t==="Enter"||t===" "}const GO="http://www.w3.org/",qy=`${GO}2000/svg`,VO=`${GO}1999/xlink`;let G2=[],hS=(t,e)=>{let i={};return Object.keys(t).forEach(n=>{i[n]=t[n]}),e&&Object.keys(e).forEach(n=>{i[n]=e[n]}),i},pS=(t,e)=>t.vnodeSelector===e.vnodeSelector&&(t.properties&&e.properties?t.properties.key===e.properties.key&&t.properties.bind===e.properties.bind:!t.properties&&!e.properties),WO=t=>{if(typeof t!="string")throw new Error("Style values must be strings")},mB=(t,e,i)=>{if(e.vnodeSelector!==""){for(let n=i;n<t.length;n++)if(pS(t[n],e))return n}return-1},Y0=(t,e,i,n)=>{let r=t[e];if(r.vnodeSelector==="")return;let s=r.properties;if(!(s&&(s.key===void 0?s.bind:s.key))){for(let o=0;o<t.length;o++)if(o!==e){let a=t[o];if(pS(a,r))throw new Error(`${i.vnodeSelector} had a ${r.vnodeSelector} child ${n==="added"?n:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`)}}},gB=t=>{if(t.properties){let e=t.properties.enterAnimation;e&&e(t.domNode,t.properties)}},Gb=[],Vb=!1,qO=t=>{(t.children||[]).forEach(qO),t.properties&&t.properties.afterRemoved&&t.properties.afterRemoved.apply(t.properties.bind||t.properties,[t.domNode])},V2=()=>{Vb=!1,Gb.forEach(qO),Gb.length=0},W2=t=>{Gb.push(t),Vb||(Vb=!0,typeof window<"u"&&"requestIdleCallback"in window?window.requestIdleCallback(V2,{timeout:16}):setTimeout(V2,16))},q2=t=>{let e=t.domNode;if(t.properties){let i=t.properties.exitAnimation;if(i)return e.style.pointerEvents="none",void i(e,()=>{e.parentNode&&(e.parentNode.removeChild(e),W2(t))},t.properties)}e.parentNode&&(e.parentNode.removeChild(e),W2(t))},yB=(t,e,i)=>{if(!e)return;let n=i.eventHandlerInterceptor,r=Object.keys(e),s=r.length;for(let o=0;o<s;o++){let a=r[o],l=e[a];if(a==="className")throw new Error('Property "className" is not supported, use "class".');if(a==="class")qb(t,l,!0);else if(a==="classes"){let u=Object.keys(l),p=u.length;for(let f=0;f<p;f++){let m=u[f];l[m]&&t.classList.add(m)}}else if(a==="styles"){let u=Object.keys(l),p=u.length;for(let f=0;f<p;f++){let m=u[f],g=l[m];g&&(WO(g),i.styleApplyer(t,m,g))}}else if(a!=="key"&&l!=null){let u=typeof l;u==="function"?(a.lastIndexOf("on",0)===0&&(n&&(l=n(a,l,t,e)),a==="oninput"&&function(){let p=l;l=function(f){p.apply(this,[f]),f.target["oninput-value"]=f.target.value}}()),t[a]=l):i.namespace===qy?a==="href"?t.setAttributeNS(VO,a,l):t.setAttribute(a,l):u==="string"&&a!=="value"?a==="innerHTML"?t[a]=HO.sanitize(l):Wb(t)&&a in t?t[a]=l:t.setAttribute(a,l):t[a]=l}}};function Wb(t){if(!(t instanceof Element&&t.tagName.includes("-")))return!1;const e=window.customElements.get(t.tagName.toLowerCase());return!!e&&t instanceof e}let Sg,vB=(t,e,i)=>{if(e)for(let n of e)Fc(n,t,void 0,i)},ZO=(t,e,i)=>{vB(t,e.children,i),e.text&&(t.textContent=e.text),yB(t,e.properties,i),e.properties&&e.properties.afterCreate&&e.properties.afterCreate.apply(e.properties.bind||e.properties,[t,i,e.vnodeSelector,e.properties,e.children])},Fc=(t,e,i,n)=>{let r,s=0,o=t.vnodeSelector,a=e.ownerDocument;if(o==="")r=t.domNode=a.createTextNode(t.text),i!==void 0?e.insertBefore(r,i):e.appendChild(r);else{for(let l=0;l<=o.length;++l){let u=o.charAt(l);if(l===o.length||u==="."||u==="#"){let p=o.charAt(s-1),f=o.slice(s,l);p==="."?r.classList.add(f):p==="#"?r.id=f:(f==="svg"&&(n=hS(n,{namespace:qy})),n.namespace!==void 0?r=t.domNode=a.createElementNS(n.namespace,f):(r=t.domNode=t.domNode||a.createElement(f),f==="input"&&t.properties&&t.properties.type!==void 0&&r.setAttribute("type",t.properties.type)),i!==void 0?e.insertBefore(r,i):r.parentNode!==e&&e.appendChild(r)),s=l+1}}ZO(r,t,n)}},qb=(t,e,i)=>{e&&e.split(" ").forEach(n=>{n&&t.classList.toggle(n,i)})},bB=(t,e,i,n)=>{if(!i)return;let r=!1,s=Object.keys(i),o=s.length;for(let a=0;a<o;a++){let l=s[a],u=i[l],p=e[l];if(l==="class")p!==u&&(qb(t,p,!1),qb(t,u,!0));else if(l==="classes"){let f=t.classList,m=Object.keys(u),g=m.length;for(let y=0;y<g;y++){let v=m[y],w=!!u[v];w!==!!p[v]&&(r=!0,w?f.add(v):f.remove(v))}}else if(l==="styles"){let f=Object.keys(u),m=f.length;for(let g=0;g<m;g++){let y=f[g],v=u[y];v!==p[y]&&(r=!0,v?(WO(v),n.styleApplyer(t,y,v)):n.styleApplyer(t,y,""))}}else if(u||typeof p!="string"||(u=""),l!=="value"||Wb(t)){if(u!==p){let f=typeof u;f==="function"&&n.eventHandlerInterceptor||(n.namespace===qy?l==="href"?t.setAttributeNS(VO,l,u):t.setAttribute(l,u):f==="string"?l==="innerHTML"?t[l]=HO.sanitize(u):l==="role"&&u===""?t.removeAttribute(l):Wb(t)&&l in t?t[l]=u:t.setAttribute(l,u):t[l]!==u&&(t[l]=u),r=!0)}}else{let f=t[l];f!==u&&(t["oninput-value"]?f===t["oninput-value"]:u!==p)&&(t[l]=u,t["oninput-value"]=void 0),u!==p&&(r=!0)}}return r},wB=(t,e,i,n,r)=>{if(i===n)return!1;n=n||G2;let s,o=(i=i||G2).length,a=n.length,l=0,u=0,p=!1;for(;u<a;){let f=l<o?i[l]:void 0,m=n[u];if(f!==void 0&&pS(f,m))p=Sg(f,m,r)||p,l++;else{let g=mB(i,m,l+1);if(g>=0){for(s=l;s<g;s++)q2(i[s]),Y0(i,s,t,"removed");p=Sg(i[g],m,r)||p,l=g+1}else Fc(m,e,l<o?i[l].domNode:void 0,r),gB(m),Y0(n,u,t,"added")}u++}if(o>l)for(s=l;s<o;s++)q2(i[s]),Y0(i,s,t,"removed");return p};Sg=(t,e,i)=>{let n=t.domNode,r=!1;if(t===e)return!1;let s=!1;if(e.vnodeSelector===""){if(e.text!==t.text){let o=n.ownerDocument.createTextNode(e.text);return n.parentNode.replaceChild(o,n),e.domNode=o,r=!0,r}e.domNode=n}else e.vnodeSelector.lastIndexOf("svg",0)===0&&(i=hS(i,{namespace:qy})),t.text!==e.text&&(s=!0,e.text===void 0?n.removeChild(n.firstChild):n.textContent=e.text),e.domNode=n,s=wB(e,n,t.children,e.children,i)||s,s=bB(n,t.properties,e.properties,i)||s,e.properties&&e.properties.afterUpdate&&e.properties.afterUpdate.apply(e.properties.bind||e.properties,[n,i,e.vnodeSelector,e.properties,e.children]);return s&&e.properties&&e.properties.updateAnimation&&e.properties.updateAnimation(n,e.properties,t.properties),r};let td=(t,e)=>({getLastRender:()=>t,update:i=>{if(t.vnodeSelector!==i.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let n=t;t=i,Sg(n,i,e)},domNode:t.domNode});const _B={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(t,e,i)=>{e.charAt(0)==="-"?t.style.setProperty(e,i):t.style[e]=i}};let pc=t=>hS(_B,t),Po={create:(t,e)=>(e=pc(e),Fc(t,document.createElement("div"),void 0,e),td(t,e)),append:(t,e,i)=>(i=pc(i),Fc(e,t,void 0,i),td(e,i)),insertBefore:(t,e,i)=>(i=pc(i),Fc(e,t.parentNode,t,i),td(e,i)),merge:(t,e,i)=>(i=pc(i),e.domNode=t,ZO(t,e,i),td(e,i)),replace:(t,e,i)=>(i=pc(i),Fc(e,t.parentNode,t,i),t.parentNode.removeChild(t),td(e,i))},JO,SB=(t,e)=>{let i=[];for(;t&&t!==e;)i.push(t),t=t.parentNode;return i};JO=Array.prototype.find?(t,e)=>t.find(e):(t,e)=>t.filter(e)[0];let xB=(t,e)=>{let i=t;return e.forEach(n=>{i=i&&i.children?JO(i.children,r=>r.domNode===n):void 0}),i},$B=(t,e,i)=>{let n=function(r){i("domEvent",r);let s=e(),o=SB(r.currentTarget,s.domNode);o.reverse();let a,l=xB(s.getLastRender(),o);return t.scheduleRender(),l&&(a=l.properties[`on${r.type}`].apply(l.properties.bind||this,arguments)),i("domEventProcessed",r),a};return(r,s,o,a)=>n},Z2=t=>{let e,i,n=pc(t),r=n.performanceLogger,s=!0,o=!1,a=[],l=[],u=(f,m,g)=>{let y,v=()=>y;n.eventHandlerInterceptor=$B(e,v,r),y=f(m,g(),n),a.push(y),l.push(g)},p=()=>{if(i=void 0,s){s=!1,r("renderStart",void 0);for(let f=0;f<a.length;f++){let m=l[f]();r("rendered",void 0),a[f].update(m),r("patched",void 0)}r("renderDone",void 0),s=!0}};return e={renderNow:p,scheduleRender:()=>{i||o||(i=requestAnimationFrame(p))},stop:()=>{i&&(cancelAnimationFrame(i),i=void 0),o=!0},resume:()=>{o=!1,s=!0,e.scheduleRender()},append:(f,m)=>{u(Po.append,f,m)},insertBefore:(f,m)=>{u(Po.insertBefore,f,m)},merge:(f,m)=>{u(Po.merge,f,m)},replace:(f,m)=>{u(Po.replace,f,m)},detach:f=>{for(let m=0;m<l.length;m++)if(l[m]===f)return l.splice(m,1),a.splice(m,1)[0];throw new Error("renderFunction was not found")}},e},no=class extends Q{constructor(){super(...arguments),this.items=new ee,this._watchUpdatingTracking=new bl,this._callbacks=new Map,this._projector=Z2(),this._hiddenProjector=Z2()}get needsRender(){return this.items.length>0}get updating(){var e;return((e=this._watchUpdatingTracking)==null?void 0:e.updating)??!1}initialize(){const e=document.createElement("div");e.className="esri-overlay-surface",this._set("surface",e),this._hiddenSurface=document.createElement("div"),this._hiddenSurface.setAttribute("style","visibility: hidden;"),e.appendChild(this._hiddenSurface),this._watchUpdatingTracking.addOnCollectionChange(()=>this.items,i=>{for(const n of i.added){const r=()=>n.render();this._callbacks.set(n,r),this._projector.append(this.surface,r)}for(const n of i.removed){const r=this._projector.detach(this._callbacks.get(n));this.surface.removeChild(r.domNode),this._callbacks.delete(n)}})}addItem(e){this.items.add(e)}removeItem(e){this.items.remove(e)}destroy(){this.items.removeAll(),this._callbacks.forEach(e=>this._projector.detach(e)),this._callbacks=null,this._projector=null,this._watchUpdatingTracking.destroy()}render(){this._projector.renderNow()}computeBoundingRect(e){const i=this._hiddenSurface,n=this._hiddenProjector;let r;const s=()=>(r=e.render(),r);n.append(i,s),n.renderNow();const o={left:0,top:0,right:0,bottom:0};if(r!=null&&r.domNode){const a=r.domNode.getBoundingClientRect();o.left=a.left,o.top=a.top,o.right=a.right,o.bottom=a.bottom}for(n.detach(s);i.firstChild;)i.removeChild(i.firstChild);return o}overlaps(e,i){const n=this.computeBoundingRect(e),r=this.computeBoundingRect(i);return Math.max(n.left,r.left)<=Math.min(n.right,r.right)&&Math.max(n.top,r.top)<=Math.min(n.bottom,r.bottom)}get hasVisibleItems(){return this.items.some(e=>e.visible)}async prepare(){await document.fonts.load(this._fontString()).catch(()=>{})}renderCanvas(e,i){const n=!!(i!=null&&i.disableDecorations);if(!this.items.some(s=>s.visible&&!(n&&s.isDecoration)))return;const r=e.getContext("2d");r.save(),r.font=this._fontString(),this.items.forEach(s=>{n&&s.isDecoration||(r.save(),s.renderCanvas(r),r.restore())}),r.restore()}_fontString(){return`10px ${getComputedStyle(this.surface).fontFamily}`}};d([h({readOnly:!0})],no.prototype,"surface",void 0),d([h({readOnly:!0})],no.prototype,"items",void 0),d([h({readOnly:!0})],no.prototype,"needsRender",null),d([h({readOnly:!0})],no.prototype,"_watchUpdatingTracking",void 0),d([h({readOnly:!0})],no.prototype,"updating",null),no=d([E("esri.views.overlay.ViewOverlay")],no);const J2=no,X0=[0,0];function TB(t){const e=(t.ownerDocument||window.document).defaultView,i=t.getBoundingClientRect();return X0[0]=i.left+((e==null?void 0:e.pageXOffset)??0),X0[1]=i.top+((e==null?void 0:e.pageYOffset)??0),X0}function K2(t){t&&(TO(t),t.parentNode&&t.parentNode.removeChild(t))}function EB(t){const e=document.createElement("div");return t.appendChild(e),e}const id=16,bf=750,kB=512,MB=2,CB=t=>{let e=class extends t{constructor(...i){super(...i),this._freqInfo={freq:id,time:bf},this._overlayRenderTaskHandle=null,this.height=0,this.messagesCommon=null,this.overlay=null,this.position=null,this.resizing=!1,this.root=null,this.surface=null,this.suspended=!0,this.ui=null,this.userContent=null,this.width=0,this.widthBreakpoint=null,this.addHandles([K(()=>this.cursor,n=>{const{surface:r}=this;r&&r.setAttribute("data-cursor",n)}),K(()=>this.navigating,n=>{const{surface:r}=this;r&&r.setAttribute("data-navigating",n.toString())})])}initialize(){const i=P("mac"),n=async()=>{i&&(await Ol(()=>this.ready),this.messagesCommon=await Hy("esri/t9n/common").catch(()=>{}))};n(),this.addHandles([K(()=>this.ui,(r,s)=>this._handleUIChange(r,s),yt),this.on("focus",()=>this.notifyChange("focused")),this.on("blur",()=>this.notifyChange("focused")),Ry(n)])}destroy(){this.destroyed||(this.ui=ze(this.ui),this.container=null)}get container(){return this._get("container")??null}set container(i){const n=this._get("container"),r=uS(i);if(r||typeof i!="string"||G.getLogger(this).error("#container",`element with id '${i}' not found`),n===r)return;if(this._stopMeasuring(),n&&(n.classList.remove("esri-view"),this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null),this.overlay&&(this.overlay.destroy(),this._set("overlay",null)),this.root&&(K2(this.root),this._set("root",null)),this.userContent&&(F2(this.userContent,n),K2(this.userContent),this._set("userContent",null))),!r)return this._set("width",0),this._set("height",0),this._set("position",null),this._set("suspended",!0),this._set("surface",null),void this._set("container",null);r.classList.add("esri-view");const s=document.createElement("div");s.className="esri-view-user-storage",F2(r,s),r.appendChild(s),this._set("userContent",s);const o=document.createElement("div");o.className="esri-view-root",r.insertBefore(o,r.firstChild),this._set("root",o);const a=document.createElement("div");a.className="esri-view-surface",a.setAttribute("role","application"),a.tabIndex=0,o.appendChild(a),this._set("surface",a);const l=new J2;o.appendChild(l.surface),this._set("overlay",l),this.addHandles(K(()=>l.needsRender,u=>{u&&!this._overlayRenderTaskHandle?this._overlayRenderTaskHandle=au({render:()=>{var p;return(p=this.overlay)==null?void 0:p.render()}}):this._overlayRenderTaskHandle=Ke(this._overlayRenderTaskHandle)})),this.forceDOMReadyCycle(),this._set("container",r),this._startMeasuring()}get focused(){const i=document.activeElement===this.surface;return document.hasFocus()&&i}get size(){return[this.width,this.height]}blur(){var i;(i=this.surface)==null||i.blur()}focus(){var i;(i=this.surface)==null||i.focus()}pageToContainer(i,n,r){const s=this.position;return i-=s?s[0]:0,n-=s?s[1]:0,r?(r[0]=i,r[1]=n):r=[i,n],r}containerToPage(i,n,r){const s=this.position;return i+=s?s[0]:0,n+=s?s[1]:0,r?(r[0]=i,r[1]=n):r=[i,n],r}_handleUIChange(i,n){this.removeHandles("ui"),n&&n!==i&&n.destroy(),i&&(i.view=this,this.addHandles(K(()=>this.root,r=>{i.container=r?EB(r):null},yt),"ui")),this._set("ui",i)}_stopMeasuring(){this.removeHandles("measuring"),this._get("resizing")&&this._set("resizing",!1)}_startMeasuring(){const i=this._freqInfo;i.freq=id,i.time=bf,this.addHandles([lp(window,"resize",()=>{i.freq=id,i.time=bf}),au({prepare:n=>{const r=this._measure(),s=this._freqInfo;if(s.time+=n.deltaTime,r&&(s.freq=id,this._get("resizing")||this._set("resizing",!0)),s.time<s.freq)return;s.time=0;const o=this._position();s.freq=o||r?id:Math.min(bf,s.freq*MB),!r&&s.freq>=kB&&this._get("resizing")&&this._set("resizing",!1)}})],"measuring"),this._measure(),this._position()}_measure(){const i=this.container,n=i?i.clientWidth:0,r=i?i.clientHeight:0;if(n===0||r===0)return this.suspended||this._set("suspended",!0),!1;const s=this.width,o=this.height;return n===s&&r===o?(this.suspended&&this._set("suspended",!1),!1):(this._set("width",n),this._set("height",r),this.suspended&&this._set("suspended",!1),this.emit("resize",{oldWidth:s,oldHeight:o,width:n,height:r}),!0)}_position(){const i=this.container,n=this.position,r=i&&TB(i);return!!r&&(!n||r[0]!==n[0]||r[1]!==n[1])&&(this._set("position",[r[0],r[1]]),!0)}forceDOMReadyCycle(){}};return d([h()],e.prototype,"container",null),d([h({readOnly:!0})],e.prototype,"focused",null),d([h({readOnly:!0})],e.prototype,"height",void 0),d([h()],e.prototype,"messagesCommon",void 0),d([h({type:J2})],e.prototype,"overlay",void 0),d([h({readOnly:!0})],e.prototype,"position",void 0),d([h({readOnly:!0})],e.prototype,"resizing",void 0),d([h({readOnly:!0})],e.prototype,"root",void 0),d([h({value:null,readOnly:!0})],e.prototype,"size",null),d([h({readOnly:!0})],e.prototype,"surface",void 0),d([h({readOnly:!0})],e.prototype,"suspended",void 0),d([h()],e.prototype,"ui",void 0),d([h({readOnly:!0})],e.prototype,"userContent",void 0),d([h({readOnly:!0})],e.prototype,"width",void 0),d([h()],e.prototype,"widthBreakpoint",void 0),e=d([E("esri.views.DOMContainer")],e),e};let IB=class{constructor(e,i){this._owner=i,this._properties={},this._afterDispatchHandle=null;for(const n in e){const r=e[n],s=new JM(r,void 0,void 0,2,2);this._properties[n]={pool:s,acquired:[]}}this._afterDispatchHandle=xD(()=>this._release())}destroy(){this._afterDispatchHandle&&(this._afterDispatchHandle.remove(),this._afterDispatchHandle=null);for(const e in this._properties){const i=this._properties[e];for(const n of i.acquired)a$(n)||i.pool.release(n);i.pool.destroy(),i.pool=null,i.acquired=null}this._properties=null,this._owner=null}get(e){const i=this._owner._get(e),n=this._properties[e];let r=n.pool.acquire();for(n.acquired.push(r);r===i;)n.acquired.push(r),r=n.pool.acquire();return r}_release(){for(const e in this._properties){const i=this._properties[e];let n=0;for(const r of i.acquired)a$(r)?i.acquired[n++]=r:i.pool.release(r);i.acquired.length=n}}};const OB=P("mac")?"Meta":"Ctrl",Zy={8:"Backspace",9:"Tab",13:"Enter",27:"Escape",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete"};for(let t=48;t<58;t++)Zy[t]=String.fromCharCode(t);for(let t=1;t<25;t++)Zy[111+t]=`F${t}`;for(let t=65;t<91;t++)Zy[t]=[String.fromCharCode(t+32),String.fromCharCode(t)];function AB(t){if(t.key!==void 0)return Zf(t);const e=Zy[t.keyCode];return Array.isArray(e)?t.shiftKey?e[1]:e[0]:e}function LB(t){switch(t){case"Ctrl":case"Alt":case"Shift":case"Meta":case"Primary":return!0}return!1}let PB=class{constructor(e,i=[]){this.eventType=e,this.keyModifiers=i}matches(e){if(e.type!==this.eventType)return!1;if(this.keyModifiers.length===0)return!0;const i=e.modifiers;for(const n of this.keyModifiers)if(!i.has(n))return!1;return!0}};const Y2=G.getLogger("esri.views.input.InputHandler");let xt=class{constructor(e){this._manager=null,this._incoming={},this._outgoing={},this._incomingEventMatches=null,this._incomingEventTypes=null,this._outgoingEventTypes=null,this._hasSideEffects=e}get incomingEventMatches(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const e in this._incoming){const i=this._incoming[e];for(const n of i)this._incomingEventMatches.push(n.match)}}return this._incomingEventMatches}get incomingEventTypes(){return this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map(e=>e.eventType)),this._incomingEventTypes}get outgoingEventTypes(){return this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing)),this._outgoingEventTypes}get hasSideEffects(){return this._hasSideEffects}get hasPendingInputs(){return!1}onInstall(e){this._manager?Y2.error("This InputHandler has already been registered with an InputManager"):(e.setEventCallback(i=>this._handleEvent(i)),e.setUninstallCallback(()=>this._onUninstall()),this._manager=e)}onUninstall(){}registerIncoming(e,i,n){let r;typeof i=="function"?(n=i,r=[]):r=i||[];const s=typeof e=="string"?new PB(e,r):e,o=()=>{this._incomingEventTypes=null,this._incomingEventMatches=null},a=p=>{const f=this._incoming[p.match.eventType];if(f){const m=f.indexOf(p);f.splice(m,1),o(),this._manager&&this._manager.updateDependencies()}},l=new RB(s,n,{onPause:a,onRemove:a,onResume:p=>{const f=this._incoming[p.match.eventType];f&&!f.includes(p)&&(f.push(p),o(),this._manager&&this._manager.updateDependencies())}});let u=this._incoming[s.eventType];return u||(u=[],this._incoming[s.eventType]=u),u.push(l),o(),this._manager&&this._manager.updateDependencies(),l}registerOutgoing(e){if(this._outgoing[e])throw new Error("There is already a callback registered for this outgoing InputEvent: "+e);const i=new NB(e,{onEmit:(n,r,s,o)=>{var a;(a=this._manager)==null||a.emit(n.eventType,r,s,o)},onRemove:n=>{var r;delete this._outgoing[n.eventType],(r=this._manager)==null||r.updateDependencies()}});return this._outgoing[e]=i,this._outgoingEventTypes=null,this._manager&&this._manager.updateDependencies(),i}startCapturingPointer(e){var i;(i=this._manager)==null||i.setPointerCapture(e,!0)}stopCapturingPointer(e){var i;(i=this._manager)==null||i.setPointerCapture(e,!1)}refreshHasPendingInputs(){var e;(e=this._manager)==null||e.refreshHasPendingInputs()}_onUninstall(){this._manager?(this.onUninstall(),this._manager=null):Y2.error("This InputHandler is not registered with an InputManager")}_handleEvent(e){var n;const i=this._incoming[e.type];if(i){for(const r of i)if(r.match.matches(e)&&((n=r.callback)==null||n.call(r,e),e.shouldStopPropagation()))break}}},RB=class{constructor(e,i,n){this.match=e,this._callback=i,this._handler=n}pause(){this._handler.onPause(this)}resume(){this._handler.onResume(this)}remove(){this._handler.onRemove(this)}get callback(){return this._callback}},NB=class{constructor(e,i){this.eventType=e,this._removed=!1,this._handler=i}emit(e,i,n){this._removed||this._handler.onEmit(this,e,i,n)}remove(){this._removed=!0,this._handler.onRemove(this)}},DB=class extends xt{constructor(e){super(!0),this._onChange=e,this._value="mouse",this._x=null,this._y=null,this.registerIncoming("pointer-move",i=>{this._update(i.data)})}_update(e){const i=e.native.pointerType==="touch"?"touch":"mouse",{x:n,y:r}=e;i===this._value&&this._x===n&&this._y===r||(this._value=i,this._x=n,this._y=r,this._onChange(i,n,r))}},zB=class{constructor(e,i){this._observable=new mp,this._value=e,this._equalityFunction=i}get value(){return X(this._observable),this._value}set value(e){this._equalityFunction(e,this._value)||(this._value=e,this._observable.notify())}mutate(e){e(this._value),this._observable.notify()}};function zh(t,e=CM){return new zB(t,e)}let FB=class extends xt{get multiTouchActive(){return this._multiTouchActive.value}constructor(){super(!0),this._activeTouchPointerIds=new Set,this._multiTouchActive=zh(!1),this._onPointerAdd=({data:e})=>{e.pointerType==="touch"&&(this._activeTouchPointerIds.add(e.native.pointerId),this._update())},this._onPointerRemove=({data:e})=>{e.pointerType==="touch"&&(this._activeTouchPointerIds.delete(e.native.pointerId),this._update())},this.registerIncoming("pointer-down",this._onPointerAdd),this.registerIncoming("pointer-up",this._onPointerRemove),this.registerIncoming("pointer-capture-lost",this._onPointerRemove),this.registerIncoming("pointer-cancel",this._onPointerRemove)}_update(){this._multiTouchActive.value=this._activeTouchPointerIds.size>1}},qi=class extends Q{constructor(e){super(e),this._pointerCaptures=new Map,this._nameToGroup={},this._handlers=[],this._handlersPriority=[],this._currentPropagation=null,this._updateDependenciesAfterPropagation=!1,this._sourceEvents=new Set,this._keyModifiers=new Set,this._activeKeyModifiers=new Set,this._stoppedPropagationEventIds=new Set,this.primaryKey=OB,this._latestPointerType="mouse",this._propertiesPool=new IB({latestPointerLocation:HB},this),this.latestPointerLocation=null,this._paused=!1,this.test={timestamp:void 0,hasCurrentPropagation:()=>!!this._currentPropagation}}initialize(){this.eventSource.onEventReceived=this._onEventReceived.bind(this),this._installRecognizers()}destroy(){const e=Object.keys(this._nameToGroup);for(const i of e)this.uninstallHandlers(i);this.eventSource.destroy(),this._currentPropagation=null,this._propertiesPool.destroy()}get hasPendingInputs(){return this._handlers.some(e=>e.handler.hasPendingInputs)}get latestPointerType(){return this._latestPointerType}get multiTouchActive(){return this._multiTouchHandler.multiTouchActive}get updating(){return this.hasPendingInputs||this._paused}installHandlers(e,i,n=zo.INTERNAL){if(this._nameToGroup[e])return void G.getLogger(this).error("There is already an InputHandler group registered under the name `"+e+"`");if(i.length===0)return void G.getLogger(this).error("Can't register a group of zero handlers");const r={name:e,handlers:i.map(s=>({handler:s,active:!0,removed:!1,priorityIndex:0,groupPriority:n,eventCallback:null,uninstallCallback:null}))};this._nameToGroup[e]=r;for(let s=r.handlers.length-1;s>=0;s--){const o=r.handlers[s];this._handlers.push(o),o.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(a,l,u,p,f)=>{this._emitInputEvent(o.priorityIndex+1,a,l,u,f,p)},setPointerCapture:(a,l)=>{this._setPointerCapture(r,o,a,l)},setEventCallback:a=>{o.eventCallback=a},setUninstallCallback:a=>{o.uninstallCallback=a},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}uninstallHandlers(e){const i=this._nameToGroup[e];i?(i.handlers.forEach(n=>{var r;n.removed=!0,(r=n.uninstallCallback)==null||r.call(n)}),delete this._nameToGroup[e],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):G.getLogger(this).error("There is no InputHandler group registered under the name `"+e+"`")}hasHandlers(e){return this._nameToGroup[e]!==void 0}updateDependencies(){if(this._currentPropagation)return void(this._updateDependenciesAfterPropagation=!0);this._updateDependenciesAfterPropagation=!1;const e=new Set,i=new Set;this._handlersPriority=[];for(let n=this._handlers.length-1;n>=0;n--){const r=this._handlers[n];r.priorityIndex=n,this._handlersPriority.push(r)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(let n=this._handlersPriority.length-1;n>=0;n--){const r=this._handlersPriority[n];r.priorityIndex=n;let s=r.handler.hasSideEffects;if(!s){for(const o of r.handler.outgoingEventTypes)if(e.has(o)){s=!0;break}}if(s)for(const o of r.handler.incomingEventMatches){e.add(o.eventType);for(const a of o.keyModifiers)LB(a)||i.add(a)}r.active=s}this._sourceEvents=e,this._keyModifiers=i,this._pointerCaptures.size>0&&this._sourceEvents.add("pointer-capture-lost"),this._keyModifiers.size>0&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up")),this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}_setLatestPointer(e,i,n){this._latestPointerType=e;const r=this._get("latestPointerLocation");if(r==null||r.x!==i||r.y!==n){const s=this._propertiesPool.get("latestPointerLocation");s.x=i,s.y=n,this._set("latestPointerLocation",s)}}_onEventReceived(e,i){if(e==="pointer-capture-lost"){const s=i;this._pointerCaptures.delete(s.native.pointerId)}this._updateKeyModifiers(e,i);const n=this.test.timestamp!=null?this.test.timestamp:i.native?i.native.timestamp:void 0,r=i.native?i.native.cancelable:void 0;this._emitInputEventFromSource(e,i,n,r)}_updateKeyModifiers(e,i){if(!i)return;let n=!1;const r=()=>{if(!n){const a=new Set;this._activeKeyModifiers.forEach(l=>{a.add(l)}),this._activeKeyModifiers=a,n=!0}},s=(a,l)=>{l&&!this._activeKeyModifiers.has(a)?(r(),this._activeKeyModifiers.add(a)):!l&&this._activeKeyModifiers.has(a)&&(r(),this._activeKeyModifiers.delete(a))};if(e==="key-down"||e==="key-up"){const a=i.key;this._keyModifiers.has(a)&&s(a,e==="key-down")}const o=i.native;s("Alt",!(!o||!o.altKey)),s("Ctrl",!(!o||!o.ctrlKey)),s("Shift",!(!o||!o.shiftKey)),s("Meta",!(!o||!o.metaKey)),s("Primary",this._activeKeyModifiers.has(this.primaryKey))}_installRecognizers(){this._latestPointerHandler=new DB((e,i,n)=>this._setLatestPointer(e,i,n)),this._multiTouchHandler=new FB,this.installHandlers("input-manager-logic",[this._latestPointerHandler,this._multiTouchHandler],zo.ALWAYS),this.recognizers.length>0&&this.installHandlers("default",this.recognizers,zo.INTERNAL)}_setPointerCapture(e,i,n,r){const s=e.name+"-"+i.priorityIndex,o=this._pointerCaptures.get(n.pointerId)||new Set;this._pointerCaptures.set(n.pointerId,o),r?(o.add(s),o.size===1&&this.eventSource&&this.eventSource.setPointerCapture(n,!0)):o.has(s)&&(o.delete(s),o.size===0&&(this._pointerCaptures.delete(n.pointerId),this.eventSource&&this.eventSource.setPointerCapture(n,!1)))}_garbageCollectRemovedHandlers(){this._handlers=this._handlers.filter(e=>!e.removed),this.updateDependencies()}_emitInputEventFromSource(e,i,n,r){this._emitInputEvent(0,e,i,n,r)}_emitInputEvent(e,i,n,r,s,o){const a=r!==void 0?r:this._currentPropagation?this._currentPropagation.timestamp:performance.now(),l=s!==void 0&&s,u={event:new jB(i,n,a,o||this._activeKeyModifiers,l),priorityIndex:e};this._currentPropagation?this._currentPropagation.events.push(u):this._doNewPropagation(u)}_doNewPropagation(e){this._currentPropagation={events:new fg,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:e.event.timestamp},this._currentPropagation.events.push(e),this._continuePropagation()}_continuePropagation(){var i,n,r;this._paused=!1;const e=this._currentPropagation;if(e){for(;e.events.length>0;){const{event:s,priorityIndex:o}=e.events.pop(),a=(i=s.data)==null?void 0:i.eventId;if(!(a!=null&&this._stoppedPropagationEventIds.has(a)))for(e.currentHandler=this._handlersPriority[o];e.currentHandler;){if(e.currentHandler.removed)e.needsHandlerGarbageCollect=!0;else{if(e.currentHandler.active&&!s.shouldStopPropagation()&&((r=(n=e.currentHandler).eventCallback)==null||r.call(n,s)),s.shouldStopPropagation()){a!=null&&this._stoppedPropagationEventIds.add(a);break}if(s.shouldPausePropagation(()=>this._continuePropagation()))return void this._pausePropagation({event:s,priorityIndex:e.currentHandler.priorityIndex+1})}e.currentHandler=this._handlersPriority[e.currentHandler.priorityIndex+1]}}e.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers(),this.hasPendingInputs||this._stoppedPropagationEventIds.clear(),this._currentPropagation=null,this._updateDependenciesAfterPropagation&&this.updateDependencies()}}_pausePropagation(e){const i=new fg;i.push(e);const n=this._currentPropagation;if(n){for(;n.events.length;)i.push(n.events.pop());n.events=i,n.currentHandler=null,this._paused=!0}}_compareHandlerPriority(e,i){if(e.handler.hasSideEffects!==i.handler.hasSideEffects)return e.handler.hasSideEffects?1:-1;if(e.groupPriority!==i.groupPriority)return e.groupPriority>i.groupPriority?-1:1;for(const n of e.handler.incomingEventMatches)for(const r of i.handler.incomingEventMatches){if(n.eventType!==r.eventType)continue;const s=n.keyModifiers.filter(o=>r.keyModifiers.includes(o));if(s.length===n.keyModifiers.length!=(s.length===r.keyModifiers.length))return n.keyModifiers.length>r.keyModifiers.length?-1:1}return e.priorityIndex>i.priorityIndex?-1:1}_sortHandlersPriority(e){const i=[];for(const n of e){let r=0;for(;r<i.length&&this._compareHandlerPriority(n,i[r])>=0;)r++;i.splice(r,0,n)}return i}get debug(){const e=i=>{const n=this._setPointerCapture;this._setPointerCapture=()=>{},i(),this._setPointerCapture=n};return{injectEvent:(i,n)=>{e(()=>{this._onEventReceived(i,n)})},disablePointerCapture:e}}};d([h({readOnly:!0})],qi.prototype,"hasPendingInputs",null),d([h({constructOnly:!0})],qi.prototype,"eventSource",void 0),d([h({constructOnly:!0})],qi.prototype,"recognizers",void 0),d([h()],qi.prototype,"_latestPointerType",void 0),d([h()],qi.prototype,"latestPointerType",null),d([h()],qi.prototype,"multiTouchActive",null),d([h({readOnly:!0})],qi.prototype,"latestPointerLocation",void 0),d([h()],qi.prototype,"_paused",void 0),d([h({readOnly:!0})],qi.prototype,"updating",null),qi=d([E("esri.views.input.InputManager")],qi);let jB=class{constructor(e,i,n,r,s){this.type=e,this.data=i,this.timestamp=n,this.modifiers=r,this.cancelable=s,this._propagationState=To.NONE,this._resumeCallback=null}stopPropagation(){this._propagationState|=To.STOPPED}shouldStopPropagation(){return(this._propagationState&To.STOPPED)!=0}async(e){this._propagationState|=To.PAUSED;const i=(n,r)=>{this._propagationState&=~To.PAUSED;const s=this._resumeCallback;if(this._resumeCallback=null,s&&s(),r)throw n;return n};return(typeof e=="function"?e():e).then(n=>i(n,!1),n=>i(n,!0))}shouldPausePropagation(e){return!!(this._propagationState&To.PAUSED)&&(this._resumeCallback=e,!0)}preventDefault(){this.data.native.preventDefault()}};var To;(function(t){t[t.NONE=0]="NONE",t[t.STOPPED=1]="STOPPED",t[t.PAUSED=2]="PAUSED"})(To||(To={}));const zo={ALWAYS:1,DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3};let UB=class{};const HB=UB;function ur(t){return t!=null&&"open"in t&&"declaredClass"in t}function X2(t){return t!=null&&"declaredClass"in t&&"dockOptions"in t}const BB=t=>{let e=class extends t{constructor(){super(...arguments),this._popupSetupTask=null,this.popup={},this.popupEnabled=!0}initialize(){this.addHandles([K(()=>[this.ui,this.popup],([i,n],r)=>{const s="popup",o="manual";if(r){const[a,l]=r;a&&ur(l)&&(l.view=null,X2(l)&&a.remove(l,s))}i&&ur(n)&&(n.view=this,X2(n)&&i.add(n,{key:s,position:o,internal:!0}))},yt),this.on("click",i=>{this.popup&&this.popupEnabled&&(i.pointerType!=="mouse"||i.button===0)&&(!ur(this.popup)&&"autoOpenEnabled"in this.popup&&this.popup.autoOpenEnabled===!1||(ur(this.popup)?this.popup.viewModel.handleViewClick(i):i.async(async()=>{await this.setupPopup(),ur(this.popup)&&!this.destroyed&&this.ready&&this.popupEnabled&&this.popup.viewModel.handleViewClick(i)})))},zo.WIDGET)]),Ol(()=>this.ready&&this.popupEnabled&&!this.updating).then(()=>{V(()=>import("./Popup-CttU747Q.js"),__vite__mapDeps([110,111,60,112,113,4,83,114,115,116,21,117,118,82,70,119,90,55,120,121,122,123,27,24,3,52,53,25,124,58,56,57,12,15,59,125,14,126,127,128,129,130,54,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,30,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,88]),import.meta.url)})}destroy(){this.destroyed||this.closePopup()}async openPopup(i){if(ur(this.popup))return this.popup.open(i);try{if(await this.setupPopup(),!this.popup)return void G.getLogger(this).error(new D("view:null-popup","Popup is null and can't be opened"));this.popup.open(i)}catch{}}closePopup(){var i;(i=this._popupSetupTask)==null||i.abort(),ur(this.popup)&&this.popup.close()}async fetchPopupFeatures(i,n){await this.when();const{location:r,queryArea:s,layerViewsAndGraphics:o,clientOnlyGraphics:a}=await this._prepareFetchPopupFeatures(i,n),l=Promise.resolve(a),u=this._queryLayerPopupFeatures(s,o,n),p=u.map(f=>f.promise);return{location:r,clientOnlyGraphics:a,allGraphicsPromise:rD([l,...p]).then(f=>Array.from(new Set(f.flat()))),promisesPerLayerView:u}}async setupPopup(){var i;if((i=this._popupSetupTask)==null||i.abort(),this.popup&&!ur(this.popup))return this._popupSetupTask=W_(async n=>{const{default:r}=await V(()=>import("./Popup-CttU747Q.js"),__vite__mapDeps([110,111,60,112,113,4,83,114,115,116,21,117,118,82,70,119,90,55,120,121,122,123,27,24,3,52,53,25,124,58,56,57,12,15,59,125,14,126,127,128,129,130,54,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,30,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,88]),import.meta.url);if(Ge(n),!this.popup||ur(this.popup))return;const s=this.popup;delete s.open,delete s.close,this.popup=new r(s)}),this._popupSetupTask.promise}_queryLayerPopupFeatures(i,n,r){return n.map(({layerView:s,graphics:o})=>{const a={clientGraphics:o,event:r!=null?r.event:void 0,signal:r!=null?r.signal:void 0,defaultPopupTemplateEnabled:r!=null&&!!r.defaultPopupTemplateEnabled},l=s.fetchPopupFeatures(i,a);return{layerView:s,promise:l}})}_isValidPopupGraphic(i,n){return i&&!!i.getEffectivePopupTemplate(n!=null&&n.defaultPopupTemplateEnabled)}async _prepareFetchPopupFeatures(i,n){const{clientGraphics:r,queryArea:s,location:o}=await this._popupHitTestGraphics(i,n),a=this._getFetchPopupLayerViews(),{layerViewsAndGraphics:l,clientOnlyGraphics:u}=this._graphicsPerFetchPopupLayerView(r,a);return{clientOnlyGraphics:u,layerViewsAndGraphics:l,queryArea:s,location:o}}async _popupHitTestGraphics(i,n){const r=await this.popupHitTest(i),s=r.results,o=r.mapPoint,a=s.filter(u=>u.type==="graphic"&&this._isValidPopupGraphic(u.graphic,n)),l=a.length?a[0].mapPoint:null;return{clientGraphics:a.map(u=>u.graphic),queryArea:o,location:o||l}}_getFetchPopupLayerViews(){const i=[];return this.allLayerViews.forEach(n=>{this._isValidPopupLayerView(n)&&i.push(n)}),this.graphicsView!=null&&this._isValidPopupLayerView(this.graphicsView)&&i.push(this.graphicsView),i.reverse()}_isValidPopupLayerView(i){return i!=null&&(!("layer"in i)||!i.suspended)&&"fetchPopupFeatures"in i}_graphicsPerFetchPopupLayerView(i,n){const r=[],s=new Map,o=n.map(a=>{const l=[];return"layer"in a?s.set(a.layer,l):s.set(a.graphics,l),{layerView:a,graphics:l}});for(const a of i){const l=s.get(a.layer)||s.get(a.sourceLayer)||null;l?l.push(a):r.push(a)}return{layerViewsAndGraphics:o,clientOnlyGraphics:r}}};return d([h({cast(i){return!i||ur(i)||typeof i=="object"&&(i.open=n=>(ou(G.getLogger(this),"view.popup is no longer created by default. view.popup.open() will stop working when the popup isn't created",{replacement:"Use view.openPopup() instead.",version:"4.27"}),this.openPopup(n)),i.close=()=>(ou(G.getLogger(this),"view.popup is no longer created by default. view.popup.close() will stop working when the popup isn't created",{replacement:"Use view.closePopup() instead.",version:"4.27"}),this.closePopup())),i}})],e.prototype,"popup",void 0),d([h()],e.prototype,"popupEnabled",void 0),e=d([E("esri.views.PopupView")],e),e};function Al(t,e,i=ee){return e||(e=new i),e===t||(e.removeAll(),GB(t)?e.addMany(t):t&&e.add(t)),e}function KO(t){return t}function GB(t){return t&&(Array.isArray(t)||"items"in t&&Array.isArray(t.items))}var Eo;(function(t){t[t.PENDING=0]="PENDING",t[t.RESOLVED=1]="RESOLVED",t[t.REJECTED=2]="REJECTED"})(Eo||(Eo={}));let VB=class{constructor(){this._resolver=ln(),this._status=Eo.PENDING,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=Eo.RESOLVED,this._cleanUp()},()=>{this._status=Eo.REJECTED,this._cleanUp()}),this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(e){this._resolvingPromises.push(e),this._tryResolve()}isResolved(){return this._status===Eo.RESOLVED}isRejected(){return this._status===Eo.REJECTED}isFulfilled(){return this._status!==Eo.PENDING}abort(){this._resolver.reject(Be())}_cleanUp(){this._allPromise=null,this._resolvingPromises=null}_tryResolve(){if(this.isFulfilled())return;const e=ln(),i=[...this._resolvingPromises,e.promise],n=this._allPromise=Promise.all(i);n.then(()=>{this.isFulfilled()||this._allPromise!==n||this._resolver.resolve()},r=>{this.isFulfilled()||this._allPromise!==n||di(r)||this._resolver.reject(r)}),e.resolve()}};const Jy=t=>{let e=class extends t{constructor(...i){super(...i),this._promiseProps=new VB,this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(i,n){return this._promiseProps.promise.then(()=>this).then(i,n)}catch(i){return this.when(null,i)}addResolvingPromise(i){i&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in i?i.when():i)}};return e=d([E("esri.core.Promise")],e),e};let xg=class extends Jy(Q){};xg=d([E("esri.core.Promise")],xg);const WB="not-loaded",qB="loading",ZB="failed",Q2="loaded",YO=t=>{let e=class extends t{constructor(...i){super(...i),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(n=>{const r=this.load.bind(this);this.load=s=>{const o=new Promise((a,l)=>{const u=a_(s,l);this.destroyed&&l(new D("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this.when(a,l).finally(()=>{u&&u.remove()})});if(this.loadStatus===WB){this._set("loadStatus",qB);const a=this._loadController=new AbortController;r({signal:a.signal})}return n(),o}})),this.when(()=>{this._set("loadStatus",Q2),this._loadController=null},n=>{this._set("loadStatus",ZB),this._set("loadError",n),this._loadController=null})}destroy(){this._loadController&&(this._loadController=Uo(this._loadController),this._promiseProps.abort()),this._set("loadError",null),this._set("loadWarnings",[])}get loaded(){return this.loadStatus===Q2}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){var i;return this.isFulfilled()||(this._set("loadError",new D("load:cancelled","Cancelled")),(i=this._loadController)==null||i.abort(),this._promiseProps.abort()),this}};return d([h({readOnly:!0})],e.prototype,"loaded",null),d([h({readOnly:!0})],e.prototype,"loadError",void 0),d([h({clonable:!1})],e.prototype,"loadStatus",void 0),d([h({type:[Is],readOnly:!0})],e.prototype,"loadWarnings",null),e=d([E("esri.core.Loadable")],e),e};let gd=class extends YO(xg){};gd=d([E("esri.core.Loadable")],gd),function(t){function e(i){return!(!i||!i.load)}t.LoadableMixin=YO,t.isLoadable=e}(gd||(gd={}));const Zn=gd;async function XO(t,e){return await t.load(),JB(t,e)}async function JB(t,e){const i=[],n=(...s)=>{for(const o of s)o!=null&&(Array.isArray(o)?n(...o):ee.isCollection(o)?o.forEach(a=>n(a)):Zn.isLoadable(o)&&i.push(o))};e(n);let r=null;if(await C9(i,async s=>{const o=await KI(KB(s)?s.loadAll():s.load());o.ok!==!1||r||(r=o)}),r)throw r.error;return t}function KB(t){return"loadAll"in t&&typeof t.loadAll=="function"}let wf;function YB(t){return wf&&!wf.destroyed||(wf=t()),wf}var Zb;const XB=new Gn({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let Zi=Zb=class extends Q{constructor(t){super(t),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(t){t!=="asc"&&t!=="desc"||this._set("sortOrder",t)}clone(){return new Zb({categories:this.categories?z(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(t,e){let i=[];this.categories&&(i=this.categories.map(o=>Array.isArray(o)?JSON.stringify(o):o));let n="";if(this.extent){const o=Oy(this.extent,ge.WGS84);o!=null&&(n=`${o.xmin},${o.ymin},${o.xmax},${o.ymax}`)}let r=this.query;!this.disableExtraQuery&&t.extraQuery&&(r="("+r+")"+t.extraQuery);const s={categories:i,bbox:n,q:r,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(s.sortField=this.sortField.split(",").map(o=>XB.toJSON(o.trim())).join(","),s.sortOrder=this.sortOrder),{query:{...e,...s}}}};d([h()],Zi.prototype,"categories",void 0),d([h()],Zi.prototype,"disableExtraQuery",void 0),d([h({type:Le})],Zi.prototype,"extent",void 0),d([h()],Zi.prototype,"filter",void 0),d([h()],Zi.prototype,"num",void 0),d([h()],Zi.prototype,"query",void 0),d([h()],Zi.prototype,"sortField",void 0),d([h()],Zi.prototype,"sortOrder",null),d([h()],Zi.prototype,"start",void 0),Zi=Zb=d([E("esri.portal.PortalQueryParams")],Zi);const $s=Zi;var Jb;let dt=Jb=class extends te{constructor(t){super(t),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.sourceJSON=null,this.tags=null,this.title=null}get thumbnailUrl(){var i;const t=this.url,e=this.thumbnail;return t&&e&&this.portal?(i=this.portal)==null?void 0:i.normalizeUrl(`${t}/info/${e}?f=json`):null}get url(){var e;const t=(e=this.portal)==null?void 0:e.restUrl;return t?t+"/community/groups/"+this.id:null}fetchCategorySchema(t){return this.portal.request(this.url+"/categorySchema",t).then(e=>{const i=e.categorySchema||[];return i.some(n=>n.source==="contentCategorySetsGroupQuery.LivingAtlas")?this._fetchCategorySchemaSet("LivingAtlas",t):i})}fetchMembers(t){return this.portal.request(this.url+"/users",t)}getThumbnailUrl(t){let e=this.thumbnailUrl;return e&&t&&(e+=`&w=${t}`),e}toJSON(){throw new D("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");const e=new Jb;return e.sourceJSON=t,e.read(t),e}queryItems(t,e){let i=It($s,t);const n=this.portal;return parseFloat(n.currentVersion)>5?(i=i||new $s,n.queryPortal(`/content/groups/${this.id}/search`,i,"PortalItem",e)):(i=i?i.clone():new $s,i.query="group:"+this.id+(i.query?" "+i.query:""),n.queryItems(i,e))}_fetchCategorySchemaSet(t,e){const i=this.portal;return i.fetchSelf(i.authMode,!0,e).then(n=>{const r=n.contentCategorySetsGroupQuery;if(r){const s=new $s;return s.disableExtraQuery=!0,s.num=1,s.query=r,i.queryGroups(s,e)}throw new D("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(n=>{if(n.total){const r=n.results[0],s=new $s;return s.num=1,s.query=`typekeywords:"${t}"`,r.queryItems(s,e)}throw new D("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(n=>n.total?n.results[0].fetchData("json",e).then(r=>{const s=r==null?void 0:r.categorySchema;return s!=null&&s.length?s:[]}):[])}};d([h()],dt.prototype,"access",void 0),d([h({type:Date})],dt.prototype,"created",void 0),d([h()],dt.prototype,"description",void 0),d([h()],dt.prototype,"id",void 0),d([h()],dt.prototype,"isInvitationOnly",void 0),d([h({type:Date})],dt.prototype,"modified",void 0),d([h()],dt.prototype,"owner",void 0),d([h()],dt.prototype,"portal",void 0),d([h()],dt.prototype,"snippet",void 0),d([h()],dt.prototype,"sortField",void 0),d([h()],dt.prototype,"sortOrder",void 0),d([h()],dt.prototype,"sourceJSON",void 0),d([h()],dt.prototype,"tags",void 0),d([h()],dt.prototype,"thumbnail",void 0),d([h({readOnly:!0})],dt.prototype,"thumbnailUrl",null),d([h()],dt.prototype,"title",void 0),d([h({readOnly:!0})],dt.prototype,"url",null),dt=Jb=d([E("esri.portal.PortalGroup")],dt);const Kb=dt;let ka=class extends Q{constructor(e){super(e),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};d([h()],ka.prototype,"nextQueryParams",void 0),d([h()],ka.prototype,"queryParams",void 0),d([h()],ka.prototype,"results",void 0),d([h()],ka.prototype,"total",void 0),ka=d([E("esri.portal.PortalQueryResult")],ka);const QB=ka;let as=class extends te{constructor(e){super(e),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){var i;const e=(i=this.portal)==null?void 0:i.restUrl;return e?`${e}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new D("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};d([h({type:Date})],as.prototype,"created",void 0),d([h()],as.prototype,"id",void 0),d([h()],as.prototype,"portal",void 0),d([h()],as.prototype,"title",void 0),d([h({readOnly:!0})],as.prototype,"url",null),d([h()],as.prototype,"username",void 0),as=d([E("esri.portal.PortalFolder")],as);const eG=as;var Yb;let Ue=Yb=class extends te{constructor(...t){super(...t),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userType=null}get thumbnailUrl(){const t=this.url,e=this.thumbnail;return t&&e?this.portal.normalizeUrl(`${t}/info/${e}?f=json`):null}get userContentUrl(){var e;const t=(e=this.portal)==null?void 0:e.restUrl;return t?`${t}/content/users/${this.username}`:null}get url(){var e;const t=(e=this.portal)==null?void 0:e.restUrl;return t?`${t}/community/users/${this.username}`:null}addItem(t){const e=t&&t.item,i=t==null?void 0:t.data,n=t==null?void 0:t.folder,r={method:"post"};e&&(r.query=e.createPostQuery(),i!=null&&(typeof i=="string"?r.query.text=i:typeof i=="object"&&(r.query.text=JSON.stringify(i))));let s=this.userContentUrl;return n&&(s+="/"+(typeof n=="string"?n:n.id)),this.portal.request(s+"/addItem",r).then(o=>(e.id=o.id,e.portal=this.portal,e.loaded?e.reload():e.load()))}deleteItem(t){let e=this.userContentUrl;return t.ownerFolder&&(e+="/"+t.ownerFolder),this.portal.request(e+`/items/${t.id}/delete`,{method:"post"}).then(()=>{t.id=null,t.portal=null})}deleteItems(t){const e=this.userContentUrl+"/deleteItems",i=t.map(n=>n.id);if(i.length){const n={method:"post",query:{items:i.join(",")}};return this.portal.request(e,n).then(()=>{t.forEach(r=>{r.id=null,r.portal=null})})}return Promise.resolve(void 0)}fetchFolders(){const t={query:{num:1}};return this.portal.request(this.userContentUrl??"",t).then(e=>{let i;return i=e&&e.folders?e.folders.map(n=>{const r=eG.fromJSON(n);return r.portal=this.portal,r}):[],i})}fetchGroups(){return this.portal.request(this.url??"").then(t=>{let e;return e=t&&t.groups?t.groups.map(i=>{const n=Kb.fromJSON(i);return n.portal=this.portal,n}):[],e})}fetchItems(t){const e=t??{};let i,n=this.userContentUrl??"";return e.folder&&(n+="/"+e.folder.id),V(()=>Promise.resolve().then(()=>tA),void 0,import.meta.url).then(({default:r})=>{i=r;const s={folders:!1,num:e.num||10,start:e.start||1,sortField:e.sortField||"created",sortOrder:e.sortOrder||"asc"};return this.portal.request(n,{query:s})}).then(r=>{let s;return r!=null&&r.items?(s=r.items.map(o=>{const a=i.fromJSON(o);return a.portal=this.portal,a}),Promise.all(s.map(o=>o.load())).catch(o=>o).then(()=>({items:s,nextStart:r.nextStart,total:r.total}))):{items:[],nextStart:-1,total:0}})}fetchTags(){return this.portal.request(this.url+"/tags").then(t=>t.tags)}getThumbnailUrl(t){let e=this.thumbnailUrl;return e&&t&&(e+=`&w=${t}`),e}queryFavorites(t){return this.favGroupId?(this._favGroup||(this._favGroup=new Kb({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(t)):Promise.reject(new D("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}toJSON(){throw new D("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented")}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");const e=new Yb;return e.sourceJSON=t,e.read(t),e}};d([h()],Ue.prototype,"access",void 0),d([h({type:Date})],Ue.prototype,"created",void 0),d([h()],Ue.prototype,"culture",void 0),d([h()],Ue.prototype,"description",void 0),d([h()],Ue.prototype,"email",void 0),d([h()],Ue.prototype,"favGroupId",void 0),d([h()],Ue.prototype,"fullName",void 0),d([h({type:Date})],Ue.prototype,"modified",void 0),d([h()],Ue.prototype,"orgId",void 0),d([h()],Ue.prototype,"portal",void 0),d([h()],Ue.prototype,"preferredView",void 0),d([h()],Ue.prototype,"privileges",void 0),d([h()],Ue.prototype,"region",void 0),d([h()],Ue.prototype,"role",void 0),d([h()],Ue.prototype,"roleId",void 0),d([h()],Ue.prototype,"sourceJSON",void 0),d([h()],Ue.prototype,"thumbnail",void 0),d([h({readOnly:!0})],Ue.prototype,"thumbnailUrl",null),d([h()],Ue.prototype,"units",void 0),d([h({readOnly:!0})],Ue.prototype,"userContentUrl",null),d([h({readOnly:!0})],Ue.prototype,"url",null),d([h()],Ue.prototype,"username",void 0),d([h()],Ue.prototype,"userType",void 0),Ue=Yb=d([E("esri.portal.PortalUser")],Ue);const QO=Ue;var ls;let _f;const eT={PortalGroup:()=>Promise.resolve({default:Kb}),PortalItem:()=>V(()=>Promise.resolve().then(()=>tA),void 0,import.meta.url),PortalUser:()=>Promise.resolve({default:QO})};let H=ls=class extends up(Zn){constructor(t){super(t),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.basemapGalleryGroupQuery3D=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=ye.portalUrl,this.urlKey=null,this.user=null,this.use3dBasemaps=!0,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(t){return typeof t=="string"?{url:t}:t}destroy(){tT.unregister(this),this.defaultBasemap=ze(this.defaultBasemap),this.defaultDevBasemap=ze(this.defaultDevBasemap),this.defaultVectorBasemap=ze(this.defaultVectorBasemap),this._esriIdCredentialCreateHandle=Ke(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(t){if(t)for(const e of t)ye.request.trustedServers.includes(e)||ye.request.trustedServers.push(e);return t}readDefaultBasemap(t){return this._readBasemap(t)}readDefaultDevBasemap(t){return this._readBasemap(t)}readDefaultVectorBasemap(t){return this._readBasemap(t)}get extraQuery(){var i;const t=(i=this.user)==null?void 0:i.orgId,e=!t||this.canSearchPublic;return this.id&&!e?` AND orgid:${this.id}`:null}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get restUrl(){let t=this.url;if(t){const e=t.indexOf("/sharing");t=e>0?t.substring(0,e):this.url.replace(/\/+$/,""),t+="/sharing/rest"}return t}get thumbnailUrl(){const t=this.restUrl,e=this.thumbnail;return t&&e?this._normalizeSSL(t+"/portals/self/resources/"+e):null}readUrlKey(t){return t&&t.toLowerCase()}readUser(t){let e=null;return t&&(e=QO.fromJSON(t),e.portal=this),e}load(t){const e=V(()=>Promise.resolve().then(()=>EG),void 0,import.meta.url).then(({default:i})=>{Ge(t),_f=i}).then(()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,t)).then(i=>{var n;if(Fe){const r=Fe;this.credential=r.findCredential(this.restUrl),this.credential||this.authMode!==ls.AUTH_MODE_AUTO||((n=this._esriIdCredentialCreateHandle)==null||n.remove(),this._esriIdCredentialCreateHandle=r.on("credential-create",tG(new WeakRef(this))),tT.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=i,this.read(i)});return this.addResolvingPromise(e),Promise.resolve(this)}async createElevationLayers(){await this.load();const t=this._getHelperService("defaultElevationLayers"),e=(await V(()=>import("./ElevationLayer-mZbJL3Ay.js"),__vite__mapDeps([165,129,166,167,168,60,21,137,150,130,54,55,152,153]),import.meta.url)).default;return t?t.map(i=>new e({id:i.id,url:i.url})):[]}async fetchBasemaps(t,e){const i=await this._fetchBasemaps(t,e);if((e==null?void 0:e.include3d)===!0&&this.use3dBasemaps!==!1){const n=await this._fetchBasemaps3D(t,e);i.unshift(...n)}return i}fetchCategorySchema(t){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",t).then(e=>e.categorySchema):Bn(t)?Promise.reject(Be()):Promise.resolve([])}fetchFeaturedGroups(t){const e=this.featuredGroups,i=new $s;if(i.num=100,i.sortField="title",e&&e.length){const n=[];for(const r of e)n.push(`(title:"${r.title}" AND owner:${r.owner})`);return i.query=n.join(" OR "),this.queryGroups(i,t).then(r=>r.results)}return Bn(t)?Promise.reject(Be()):Promise.resolve([])}fetchRegions(t){var i;const e=((i=this.user)==null?void 0:i.culture)||this.culture||Di();return this.request(this.restUrl+"/portals/regions",{...t,query:{culture:e}})}fetchSettings(t){var i;const e=((i=this.user)==null?void 0:i.culture)||this.culture||Di();return this.request(this.restUrl+"/portals/self/settings",{...t,query:{culture:e}})}static getDefault(){return YB(()=>new ls)}queryGroups(t,e){return this.queryPortal("/community/groups",t,"PortalGroup",e)}queryItems(t,e){return this.queryPortal("/search",t,"PortalItem",e)}queryUsers(t,e){return t.sortField||(t.sortField="username"),this.queryPortal("/community/users",t,"PortalUser",e)}fetchSelf(t=this.authMode,e=!1,i){const n=this.restUrl+"/portals/self",r={authMode:t,query:{culture:Di().toLowerCase()},...i};return r.authMode==="auto"&&(r.authMode="no-prompt"),e&&(r.query.default=!0),this.request(n,r)}queryPortal(t,e,i,n){const r=It($s,e),s=o=>this.request(this.restUrl+t,{...r.toRequestOptions(this),...n}).then(a=>{const l=r.clone();return l.start=a.nextStart,new QB({nextQueryParams:l,queryParams:r,total:a.total,results:ls._resultsToTypedArray(o,{portal:this},a,n)})}).then(a=>Promise.all(a.results.map(l=>typeof l.when=="function"?l.when():a)).then(()=>a,l=>(YM(l),a)));return i&&eT[i]?eT[i]().then(({default:o})=>(Ge(n),s(o))):s()}signIn(){if(this.authMode===ls.AUTH_MODE_ANONYMOUS)return Promise.reject(new D("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if(this.loadStatus==="failed")return Promise.reject(this.loadError);const t=e=>Promise.resolve().then(()=>this.loadStatus==="not-loaded"?(e||(this.authMode="immediate"),this.load().then(()=>null)):this.loadStatus==="loading"?this.load().then(()=>this.credential?null:(this.credential=e,this.fetchSelf("immediate"))):this.user&&this.credential===e?null:(this.credential=e,this.fetchSelf("immediate"))).then(i=>{i&&(this.sourceJSON=i,this.read(i))});return Fe?Fe.getCredential(this.restUrl).then(e=>t(e)):t(this.credential)}normalizeUrl(t){var i;const e=(i=this.credential)==null?void 0:i.token;return this._normalizeSSL(e?t+(t.includes("?")?"&":"?")+"token="+e:t)}requestToTypedArray(t,e,i){return this.request(t,e).then(n=>{const r=ls._resultsToTypedArray(i,{portal:this},n);return Promise.all(r.map(s=>typeof s.when=="function"?s.when():n)).then(()=>r,()=>r)})}request(t,e={}){const i={f:"json",...e.query},{authMode:n=this.authMode===ls.AUTH_MODE_ANONYMOUS?"anonymous":"auto",body:r=null,cacheBust:s=!1,method:o="auto",responseType:a="json",signal:l}=e,u={authMode:n,body:r,cacheBust:s,method:o,query:i,responseType:a,timeout:0,signal:l};return Ye(this._normalizeSSL(t),u).then(p=>p.data)}toJSON(){throw new D("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");return new ls({sourceJSON:t})}_getHelperService(t){const e=this.helperServices&&this.helperServices[t];if(!e)throw new D("portal:service-not-found",`The \`helperServices\` do not include an entry named "${t}"`);return e}async _fetchBasemaps(t,e){const i=new $s;i.query=t||(ye.apiKey&&DC(this.url)?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),i.disableExtraQuery=!0;const n=await this.queryGroups(i,e);if(!n.total)return[];const r=n.results[0];i.num=100,i.query='type:"Web Map" -type:"Web Application"',i.sortField=r.sortField||"name",i.sortOrder=r.sortOrder||"desc";const s=await r.queryItems(i,e);return s.total?s.results.filter(o=>o.type==="Web Map").map(o=>new _f({portalItem:o})):[]}async _fetchBasemaps3D(t,e){const i=t||this.basemapGalleryGroupQuery3D;if(!i)return[];const n=new $s({query:i,disableExtraQuery:!0}),r=await this.queryGroups(n,e);if(!r.total)return[];const s=r.results[0];n.num=100,n.query='type:"Web Scene"',n.sortField=s.sortField||"name",n.sortOrder=s.sortOrder||"desc";const o=await s.queryItems(n,e);return o.total?o.results.filter(a=>a.type==="Web Scene").map(a=>new _f({portalItem:a})):[]}_normalizeSSL(t){return t.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(t){if(t){const e=_f.fromJSON(t);return e.portalItem={portal:this},e}return null}static _resultsToTypedArray(t,e,i,n){let r=[];if(i){const s=n!=null?n.signal:null;r=i.listings||i.notifications||i.userInvitations||i.tags||i.items||i.groups||i.comments||i.provisions||i.results||i.relatedItems||i,(t||e)&&(r=r.map(o=>{const a=Object.assign(t?t.fromJSON(o):o,e);return typeof a.load=="function"&&a.load(s),a}))}else r=[];return r}};H.AUTH_MODE_ANONYMOUS="anonymous",H.AUTH_MODE_AUTO="auto",H.AUTH_MODE_IMMEDIATE="immediate",d([h()],H.prototype,"access",void 0),d([h()],H.prototype,"allSSL",void 0),d([h()],H.prototype,"authMode",void 0),d([h()],H.prototype,"authorizedCrossOriginDomains",void 0),d([Re("authorizedCrossOriginDomains")],H.prototype,"readAuthorizedCrossOriginDomains",null),d([h()],H.prototype,"basemapGalleryGroupQuery",void 0),d([h({json:{name:"3DBasemapGalleryGroupQuery"}})],H.prototype,"basemapGalleryGroupQuery3D",void 0),d([h()],H.prototype,"bingKey",void 0),d([h()],H.prototype,"canListApps",void 0),d([h()],H.prototype,"canListData",void 0),d([h()],H.prototype,"canListPreProvisionedItems",void 0),d([h()],H.prototype,"canProvisionDirectPurchase",void 0),d([h()],H.prototype,"canSearchPublic",void 0),d([h()],H.prototype,"canShareBingPublic",void 0),d([h()],H.prototype,"canSharePublic",void 0),d([h()],H.prototype,"canSignInArcGIS",void 0),d([h()],H.prototype,"canSignInIDP",void 0),d([h()],H.prototype,"colorSetsGroupQuery",void 0),d([h()],H.prototype,"commentsEnabled",void 0),d([h({type:Date})],H.prototype,"created",void 0),d([h()],H.prototype,"credential",void 0),d([h()],H.prototype,"culture",void 0),d([h()],H.prototype,"currentVersion",void 0),d([h()],H.prototype,"customBaseUrl",void 0),d([h()],H.prototype,"defaultBasemap",void 0),d([Re("defaultBasemap")],H.prototype,"readDefaultBasemap",null),d([h()],H.prototype,"defaultDevBasemap",void 0),d([Re("defaultDevBasemap")],H.prototype,"readDefaultDevBasemap",null),d([h({type:Le})],H.prototype,"defaultExtent",void 0),d([h()],H.prototype,"defaultVectorBasemap",void 0),d([Re("defaultVectorBasemap")],H.prototype,"readDefaultVectorBasemap",null),d([h()],H.prototype,"description",void 0),d([h()],H.prototype,"devBasemapGalleryGroupQuery",void 0),d([h()],H.prototype,"eueiEnabled",void 0),d([h({readOnly:!0})],H.prototype,"extraQuery",null),d([h()],H.prototype,"featuredGroups",void 0),d([h()],H.prototype,"featuredItemsGroupQuery",void 0),d([h()],H.prototype,"galleryTemplatesGroupQuery",void 0),d([h()],H.prototype,"livingAtlasGroupQuery",void 0),d([h()],H.prototype,"hasCategorySchema",void 0),d([h()],H.prototype,"helpBase",void 0),d([h()],H.prototype,"helperServices",void 0),d([h()],H.prototype,"helpMap",void 0),d([h()],H.prototype,"homePageFeaturedContent",void 0),d([h()],H.prototype,"homePageFeaturedContentCount",void 0),d([h()],H.prototype,"httpPort",void 0),d([h()],H.prototype,"httpsPort",void 0),d([h()],H.prototype,"id",void 0),d([h()],H.prototype,"ipCntryCode",void 0),d([h({readOnly:!0})],H.prototype,"isOrganization",null),d([h()],H.prototype,"isPortal",void 0),d([h()],H.prototype,"isReadOnly",void 0),d([h({readOnly:!0})],H.prototype,"itemPageUrl",null),d([h()],H.prototype,"layerTemplatesGroupQuery",void 0),d([h()],H.prototype,"maxTokenExpirationMinutes",void 0),d([h({type:Date})],H.prototype,"modified",void 0),d([h()],H.prototype,"name",void 0),d([h()],H.prototype,"portalHostname",void 0),d([h()],H.prototype,"portalMode",void 0),d([h()],H.prototype,"portalProperties",void 0),d([h()],H.prototype,"region",void 0),d([h({readOnly:!0})],H.prototype,"restUrl",null),d([h()],H.prototype,"rotatorPanels",void 0),d([h()],H.prototype,"showHomePageDescription",void 0),d([h()],H.prototype,"sourceJSON",void 0),d([h()],H.prototype,"staticImagesUrl",void 0),d([h({json:{name:"2DStylesGroupQuery"}})],H.prototype,"stylesGroupQuery2d",void 0),d([h({json:{name:"stylesGroupQuery"}})],H.prototype,"stylesGroupQuery3d",void 0),d([h()],H.prototype,"supportsHostedServices",void 0),d([h()],H.prototype,"symbolSetsGroupQuery",void 0),d([h()],H.prototype,"templatesGroupQuery",void 0),d([h()],H.prototype,"thumbnail",void 0),d([h({readOnly:!0})],H.prototype,"thumbnailUrl",null),d([h()],H.prototype,"units",void 0),d([h()],H.prototype,"url",void 0),d([h()],H.prototype,"urlKey",void 0),d([Re("urlKey")],H.prototype,"readUrlKey",null),d([h()],H.prototype,"user",void 0),d([Re("user")],H.prototype,"readUser",null),d([h()],H.prototype,"use3dBasemaps",void 0),d([h()],H.prototype,"useStandardizedQuery",void 0),d([h()],H.prototype,"useVectorBasemaps",void 0),d([h()],H.prototype,"vectorBasemapGalleryGroupQuery",void 0),H=ls=d([E("esri.portal.Portal")],H);const ji=H,tT=new FinalizationRegistry(t=>{t.remove()});function tG(t){const e=Fe;return()=>{const i=t.deref();i&&e.findCredential(i.restUrl)&&i.signIn().catch(()=>{})}}let cs=class extends Q{constructor(e){super(e),this.portalItem=null}normalizeCtorArgs(e){return e!=null&&e.portalItem&&e.path?{...e,path:this._normalizePath(e.path,e.portalItem)}:e}set path(e){e!=null&&Ri(e)?G.getLogger(this).error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",e)}_castPath(e){return this._normalizePath(e,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get cdnUrl(){return this.portalItem&&this.path?`${this.portalItem.itemCdnUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(e="json",i){const n=this.cdnUrl;if(n==null)throw new D("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal.request(n,{responseType:e,query:{token:this.portalItem.apiKey},signal:i==null?void 0:i.signal})}async update(e,i){const{addOrUpdateResource:n}=await V(()=>import("./resourceUtils-KsRSJf-s.js"),__vite__mapDeps([]),import.meta.url);return n(this,"update",e,i)}hasPath(){return this.path!=null}_normalizePath(e,i){return e==null?e:(e=e.replace(/^\/+/,""),i!=null&&Ri(e)&&(e=w_(e,i.itemUrl)),e==null?void 0:e.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}};d([h()],cs.prototype,"portalItem",void 0),d([h({type:String,value:null})],cs.prototype,"path",null),d([ei("path")],cs.prototype,"_castPath",null),d([h({type:String,readOnly:!0})],cs.prototype,"url",null),d([h({type:String,readOnly:!0})],cs.prototype,"cdnUrl",null),d([h({type:String,readOnly:!0})],cs.prototype,"itemRelativeUrl",null),cs=d([E("esri.portal.PortalItemResource")],cs);const iG=cs;let yd=class extends Q{constructor(e){super(e),this.created=null,this.rating=null}};d([h()],yd.prototype,"created",void 0),d([h()],yd.prototype,"rating",void 0),yd=d([E("esri.portal.PortalRating")],yd);const Q0=yd;var Ma;const nG=new Set(["Map Service","Feature Service","Feature Collection","Scene Service","Image Service","Stream Service","Vector Tile Service","GeoJson","CSV","KML","WFS","WMTS","WMS","Feed"]),rG=new Set(["KML","GeoJson","CSV"]);let ue=Ma=class extends up(Zn){static from(t){return u_(Ma,t)}constructor(t){super(t),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.isOrgItem=!1,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.sourceUrl=null,this.spatialReference=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}destroy(){this.portal=null}get displayName(){const t=this.type,e=this.typeKeywords||[];let i=t;return t==="Feature Service"||t==="Feature Collection"?i=e.includes("Table")?"Table":e.includes("Route Layer")?"Route Layer":e.includes("Markup")?"Markup":"Feature Layer":t==="Image Service"?i=e.includes("Elevation 3D Layer")?"Elevation Layer":e.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":t==="Scene Service"?i="Scene Layer":t==="Video Service"?i="Video Layer":t==="Scene Package"?i="Scene Layer Package":t==="Stream Service"?i="Feature Layer":t==="Geoprocessing Service"?i=e.includes("Web Tool")?"Tool":"Geoprocessing Service":t==="Geocoding Service"?i="Locator":t==="Geoenrichment Service"?i="GeoEnrichment Service":t==="Microsoft Powerpoint"?i="Microsoft PowerPoint":t==="GeoJson"?i="GeoJSON":t==="Globe Service"?i="Globe Layer":t==="Vector Tile Service"?i="Tile Layer":t==="netCDF"?i="NetCDF":t==="Map Service"?i=e.includes("Spatiotemporal")||!e.includes("Hosted Service")&&!e.includes("Tiled")||e.includes("Relational")?"Map Image Layer":"Tile Layer":t&&t.toLowerCase().includes("add in")?i=t.replaceAll(/(add in)/gi,"Add-In"):t==="datastore catalog service"?i="Big Data File Share":t==="Compact Tile Package"?i="Tile Package (tpkx)":t==="OGCFeatureServer"?i="OGC Feature Layer":t==="web mapping application"&&e.includes("configurableApp")?i="Instant App":t==="Insights Page"?i="Insights Report":t==="Excalibur Imagery Project"&&(i="Excalibur Project"),i}readExtent(t){return t&&t.length?new Le(t[0][0],t[0][1],t[1][0],t[1][1]):null}get iconUrl(){var m;const t=((m=this.type)==null?void 0:m.toLowerCase())||"",e=this.typeKeywords||[],i="esri/images/portal/",n="16";let r,s=!1,o=!1,a=!1,l=!1,u=!1,p=!1,f=!1;return t.indexOf("service")>0||t==="feature collection"||t==="kml"||t==="wms"||t==="wmts"||t==="wfs"?(s=e.includes("Hosted Service"),t==="feature service"||t==="feature collection"||t==="kml"||t==="wfs"?(o=e.includes("Table"),a=e.includes("Route Layer"),l=e.includes("Markup"),u=e.includes("Spatiotemporal"),p=e.includes("UtilityNetwork"),r=u&&o?"spatiotemporaltable":o?"table":a?"routelayer":l?"markup":u?"spatiotemporal":s?"featureshosted":p?"utilitynetwork":"features"):r=t==="map service"||t==="wms"||t==="wmts"?s||e.includes("Tiled")||t==="wmts"?"maptiles":"mapimages":t==="scene service"?e.includes("Line")?"sceneweblayerline":e.includes("3DObject")?"sceneweblayermultipatch":e.includes("Point")?"sceneweblayerpoint":e.includes("IntegratedMesh")?"sceneweblayermesh":e.includes("PointCloud")?"sceneweblayerpointcloud":e.includes("Polygon")?"sceneweblayerpolygon":e.includes("Building")?"sceneweblayerbuilding":e.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":t==="image service"?e.includes("Elevation 3D Layer")?"elevationlayer":e.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":t==="stream service"?"streamlayer":t==="video service"?e.includes("Live Stream")?"livestreamvideolayer":"videolayer":t==="vector tile service"?"vectortile":t==="datastore catalog service"?"datastorecollection":t==="geocoding service"?"geocodeservice":t==="geoprocessing service"?e.includes("Web Tool")?"tool":"layers":t==="geodata service"?"geodataservice":t==="3dtiles service"?"3dtileslayer":"layers"):t==="web map"||t==="cityengine web scene"?r="maps":t==="web scene"?r=e.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":t==="web mapping application"&&e.includes("configurableApp")?r="instantapps":t==="web mapping application"||t==="mobile application"||t==="application"||t==="operation view"||t==="desktop application"?r="apps":t==="map document"||t==="map package"||t==="published map"||t==="scene document"||t==="globe document"||t==="basemap package"||t==="mobile basemap package"||t==="mobile map package"||t==="project package"||t==="project template"||t==="pro map"||t==="layout"||t==="layer"&&e.includes("ArcGIS Pro")||t==="explorer map"&&e.indexOf("Explorer Document")?r="mapsgray":t==="service definition"||t==="csv"||t==="shapefile"||t==="cad drawing"||t==="geojson"||t==="netcdf"||t==="administrative report"?r="datafiles":t==="explorer add in"||t==="desktop add in"||t==="windows viewer add in"||t==="windows viewer configuration"?r="appsgray":t==="360 vr experience"?r="360vr":t==="arcgis pro add in"||t==="arcgis pro configuration"?r="addindesktop":t==="rule package"||t==="file geodatabase"||t==="sqlite geodatabase"||t==="csv collection"||t==="kml collection"||t==="windows mobile package"||t==="map template"||t==="desktop application template"||t==="gml"||t==="arcpad package"||t==="code sample"||t==="document link"||t==="earth configuration"||t==="operations dashboard add in"||t==="rules package"||t==="image"||t==="workflow manager package"||t==="explorer map"&&e.includes("Explorer Mapping Application")||e.includes("Document")?r="datafilesgray":t==="network analysis service"||t==="geoprocessing service"||t==="geodata service"||t==="geometry service"||t==="geoprocessing package"||t==="locator package"||t==="geoprocessing sample"||t==="workflow manager service"?r="toolsgray":t==="layer"||t==="layer package"||t==="explorer layer"?r="layersgray":t==="scene package"?r="scenepackage":t==="3dtiles package"?r="3dtileslayerpackage":t==="mobile scene package"?r="mobilescenepackage":t==="tile package"||t==="compact tile package"?r="tilepackage":t==="task file"?r="taskfile":t==="report template"?r="report-template":t==="statistical data collection"?r="statisticaldatacollection":t==="insights workbook"?r="workbook":t==="insights model"?r="insightsmodel":t==="insights page"?r="insightspage":t==="insights theme"?r="insightstheme":t==="hub initiative"?r="hubinitiative":t==="hubpage"?r="hubpage":t==="hub event"?r="hubevent":t==="hub site application"?r="hubsite":t==="hub project"?r="hubproject":t==="relational database connection"?r="relationaldatabaseconnection":t==="big data file share"?r="datastorecollection":t==="image collection"?r="imagecollection":t==="style"?r="style":t==="desktop style"?r="desktopstyle":t==="dashboard"?r="dashboard":t==="raster function template"?r="rasterprocessingtemplate":t==="vector tile package"?r="vectortilepackage":t==="ortho mapping project"?r="orthomappingproject":t==="ortho mapping template"?r="orthomappingtemplate":t==="solution"?r="solutions":t==="geopackage"?r="geopackage":t==="deep learning package"?r="deeplearningpackage":t==="real time analytic"?r="realtimeanalytics":t==="big data analytic"?r="bigdataanalytics":t==="feed"?r="feed":t==="excalibur imagery project"?r="excaliburimageryproject":t==="notebook"?r="notebook":t==="storymap"?r="storymap":t==="survey123 add in"?r="survey123addin":t==="mission"?r="mission":t==="mission report"?r="missionreport":t==="mission template"?r="missiontemplate":t==="quickcapture project"?r="quickcaptureproject":t==="pro report"?r="proreport":t==="pro report template"?r="proreporttemplate":t==="urban model"?r="urbanmodel":t==="web experience"?r="experiencebuilder":t==="web experience template"?r="webexperiencetemplate":t==="experience builder widget"?r="experiencebuilderwidget":t==="experience builder widget package"?r="experiencebuilderwidgetpackage":t==="workflow"?r="workflow":t==="insights script"?r="insightsscript":t==="kernel gateway connection"?r="kernelgatewayconnection":t==="hub initiative template"?r="hubinitiativetemplate":t==="storymap theme"?r="storymaptheme":t==="knowledge graph"?r="knowledgegraph":t==="knowledge studio project"?r="knowledgestudio":t==="native application"?r="nativeapp":t==="native application installer"?r="nativeappinstaller":t==="link chart"?r="linkchart":t==="investigation"?r="investigation":t==="ogcfeatureserver"?r="features":t==="pro project"?r="proproject":t==="insights workbook package"?r="insightsworkbookpackage":t==="apache parquet"?r="apacheparquet":t==="notebook code snippets"||t==="notebook code snippet library"?r="notebookcodesnippets":t==="suitability model"?r="suitabilitymodel":t==="esri classifier definition"?r="classifierdefinition":t==="esri classification schema"?r="classificationschema":t==="insights data engineering workbook"?r="dataengineeringworkbook":t==="insights data engineering model"?r="dataengineeringmodel":t==="deep learning studio project"?r="deeplearningproject":t==="discussion"?r="discussion":t==="allsource project"?r="allsourceproject":t==="api key"?r="apikey":t==="data pipeline"?r="datapipelines":t==="group layer"?(f=e.includes("Map"),r=f?"layergroup2d":"layergroup"):r=t==="media layer"?"onlinemedialayer":t==="form"?e.includes("Survey123")?"survey":"datafilesgray":"maps",r?ke(i+r+n+".png"):null}get isLayer(){return this.type!=null&&nG.has(this.type)}get itemCdnUrl(){let t=this.itemUrl;return t&&Fe&&!Fe.findCredential(t)&&(t=Fe._normalizeAGOLorgDomain(t),t=t.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),t=t.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),t=t.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com")),t}get itemPageUrl(){var e;const t=(e=this.portal)==null?void 0:e.itemPageUrl;return t&&this.id?`${t}?id=${this.id}`:null}get itemUrl(){var e;const t=(e=this.portal)==null?void 0:e.restUrl;return t&&this.id?`${t}/content/items/${this.id}`:null}get thumbnailUrl(){var i;const t=this.itemUrl,e=this.thumbnail;return t&&e?((i=this.portal)==null?void 0:i.normalizeUrl(`${t}/info/${e}?f=json`))??null:null}get userItemUrl(){var i,n,r;const t=(i=this.portal)==null?void 0:i.restUrl;if(!t)return null;const e=this.owner||((r=(n=this.portal)==null?void 0:n.user)==null?void 0:r.username);return e?`${t}/content/users/${this.ownerFolder?`${e}/${this.ownerFolder}`:e}/items/${this.id}`:null}load(t){const e=this.portal??(this.portal=ji.getDefault()),i=e.load(t).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?e.request(this.itemUrl,{signal:t!=null?t.signal:null,query:{token:this.apiKey}}):{}).then(n=>{this.sourceJSON=n,this.read(n)});return this.addResolvingPromise(i),Promise.resolve(this)}async addRating(t){const e={method:"post",query:{}};return t instanceof Q0&&(t=t.rating),t==null||isNaN(t)||typeof t!="number"||(e.query.rating=t),this.portal?(await this.portal.request(this.itemUrl+"/addRating",e),new Q0({rating:t,created:new Date})):null}clone(){const t={access:this.access,accessInformation:this.accessInformation,applicationProxies:z(this.applicationProxies),avgRating:this.avgRating,categories:z(this.categories),created:z(this.created),culture:this.culture,description:this.description,extent:z(this.extent),groupCategories:z(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:z(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:z(this.screenshots),size:this.size,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:z(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:z(this.typeKeywords),url:this.url};this.loaded&&(t.loadStatus="loaded");const e=new Ma({sourceJSON:this.sourceJSON}).set(t);return e._set("isOrgItem",this.isOrgItem),e}createPostQuery(){var i;const t=this.toJSON();for(const n of["tags","typeKeywords","categories"])t[n]=(i=t[n])==null?void 0:i.join(", ");const{extent:e}=t;return e&&(t.extent=JSON.stringify(e)),t}async deleteRating(){await this.portal.request(this.itemUrl+"/deleteRating",{method:"post"})}fetchData(t="json",e){return this.portal.request(this.itemUrl+"/data",{responseType:t,...e,query:{token:this.apiKey}})}async fetchRating(t){const e=await this.portal.request(this.itemUrl+"/rating",{query:{token:this.apiKey},...t});return e.rating!=null?(e.created=new Date(e.created),new Q0(e)):null}fetchRelatedItems(t,e){return this.portal.requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...t,token:this.apiKey},...e},Ma)}getThumbnailUrl(t){let e=this.thumbnailUrl;return e&&t&&(e+=`&w=${t}`),e}reload(){return this.portal.request(this.itemUrl??"",{cacheBust:!0,query:{token:this.apiKey}}).then(t=>(this.sourceJSON=t,this.read(t),this))}update(t){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const e=t==null?void 0:t.data,i={method:"post"};i.query=this.createPostQuery();for(const n in i.query)i.query[n]===null&&(i.query[n]="");return i.query.clearEmptyFields=!0,e!=null&&(typeof e=="string"?i.query.text=e:typeof e=="object"&&(i.query.text=JSON.stringify(e))),this.portal.request(`${this.userItemUrl}/update`,i).then(()=>this.reload())}):Promise.reject(new D("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async copy(t){if(!this.id)throw new D("portal:item-does-not-exist","The item does not exist yet");await this.load();const{portal:e,itemUrl:i}=this;await e.signIn();const{copyResources:n,folder:r,tags:s,title:o}=t||{},a={method:"post",query:{copyPrivateResources:n==="all",folder:typeof r=="string"?r:r==null?void 0:r.id,includeResources:!!n,tags:s==null?void 0:s.join(","),title:o}},{itemId:l}=await e.request(`${i}/copy`,a);return new Ma({id:l,portal:e})}updateThumbnail(t){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const e=t.thumbnail,i=t.filename,n={method:"post"};if(typeof e=="string")Bl(e)?n.query={data:e}:n.query={url:tn(e)},i!=null&&(n.query.filename=i);else{const r=new FormData;i!=null?r.append("file",e,i):r.append("file",e),n.body=r}return this.portal.request(`${this.userItemUrl}/updateThumbnail`,n).then(()=>this.reload())}):Promise.reject(new D("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(t={},e){const{fetchResources:i}=await V(()=>import("./resourceUtils-KsRSJf-s.js"),__vite__mapDeps([]),import.meta.url);return i(this,t,e)}async addResource(t,e,i){const{addOrUpdateResource:n}=await V(()=>import("./resourceUtils-KsRSJf-s.js"),__vite__mapDeps([]),import.meta.url);return t.portalItem=this,n(t,"add",e,i)}async removeResource(t,e){const{removeResource:i}=await V(()=>import("./resourceUtils-KsRSJf-s.js"),__vite__mapDeps([]),import.meta.url);if(t.portalItem&&t.portalItem.itemUrl!==this.itemUrl)throw new D("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return i(this,t,e)}async removeAllResources(t){const{removeAllResources:e}=await V(()=>import("./resourceUtils-KsRSJf-s.js"),__vite__mapDeps([]),import.meta.url);return e(this,t)}resourceFromPath(t){return new iG({portalItem:this,path:t})}toJSON(){var i,n;const t=this.extent,e={accessInformation:this.accessInformation,categories:z(this.categories),created:(i=this.created)==null?void 0:i.getTime(),description:this.description,extent:t&&[[t.xmin,t.ymin],[t.xmax,t.ymax]],id:this.id,isOrgItem:this.isOrgItem,licenseInfo:this.licenseInfo,modified:(n=this.modified)==null?void 0:n.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:z(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:z(this.typeKeywords),url:this.url};return TM(e)}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");return new Ma({sourceJSON:t})}_getPostQuery(){const t=this.toJSON();for(const e in t)e==="tags"&&t[e]!==null&&(t[e]=t[e].join(", ")),e==="typeKeywords"&&t[e]!==null&&(t[e]=t[e].join(", ")),e==="extent"&&t[e]&&(t[e]=JSON.stringify(t[e]));return t}};d([h({type:["private","shared","org","public"]})],ue.prototype,"access",void 0),d([h()],ue.prototype,"accessInformation",void 0),d([h({type:String})],ue.prototype,"apiKey",void 0),d([h({json:{read:{source:"appProxies"}}})],ue.prototype,"applicationProxies",void 0),d([h()],ue.prototype,"avgRating",void 0),d([h()],ue.prototype,"categories",void 0),d([h({type:Date})],ue.prototype,"created",void 0),d([h()],ue.prototype,"culture",void 0),d([h()],ue.prototype,"description",void 0),d([h({readOnly:!0})],ue.prototype,"displayName",null),d([h({type:Le})],ue.prototype,"extent",void 0),d([Re("extent")],ue.prototype,"readExtent",null),d([h()],ue.prototype,"groupCategories",void 0),d([h({readOnly:!0})],ue.prototype,"iconUrl",null),d([h()],ue.prototype,"id",void 0),d([h({readOnly:!0})],ue.prototype,"isLayer",null),d([h({type:Boolean,readOnly:!0})],ue.prototype,"isOrgItem",void 0),d([h()],ue.prototype,"itemControl",void 0),d([h({readOnly:!0})],ue.prototype,"itemPageUrl",null),d([h({readOnly:!0})],ue.prototype,"itemUrl",null),d([h()],ue.prototype,"licenseInfo",void 0),d([h({type:Date})],ue.prototype,"modified",void 0),d([h()],ue.prototype,"name",void 0),d([h()],ue.prototype,"numComments",void 0),d([h()],ue.prototype,"numRatings",void 0),d([h()],ue.prototype,"numViews",void 0),d([h()],ue.prototype,"owner",void 0),d([h()],ue.prototype,"ownerFolder",void 0),d([h({type:ji})],ue.prototype,"portal",void 0),d([h()],ue.prototype,"screenshots",void 0),d([h()],ue.prototype,"size",void 0),d([h()],ue.prototype,"snippet",void 0),d([h()],ue.prototype,"sourceJSON",void 0),d([h({type:String})],ue.prototype,"sourceUrl",void 0),d([h({type:String})],ue.prototype,"spatialReference",void 0),d([h()],ue.prototype,"tags",void 0),d([h()],ue.prototype,"thumbnail",void 0),d([h({readOnly:!0})],ue.prototype,"thumbnailUrl",null),d([h()],ue.prototype,"title",void 0),d([h()],ue.prototype,"type",void 0),d([h()],ue.prototype,"typeKeywords",void 0),d([h({type:String,json:{read(t,e){var i;if(rG.has(e.type)){const n=(i=this.portal)==null?void 0:i.restUrl;t||(t=n&&this.id?`${n}/content/items/${this.id}/data`:null)}return t}}})],ue.prototype,"url",void 0),d([h({readOnly:!0})],ue.prototype,"userItemUrl",null),ue=Ma=d([E("esri.portal.PortalItem")],ue);const eA=ue,tA=Object.freeze(Object.defineProperty({__proto__:null,default:eA},Symbol.toStringTag,{value:"Module"}));async function sG(t){if(!t)return;const e=t.includes("-vector")?t.slice(0,t.indexOf("-vector")):t.includes("-3d")?t.slice(0,t.indexOf("-3d")):t,i=await Hy("esri/t9n/basemaps");return i[t]||i[e]}const mu={satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return ke("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return ke("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json",layerType:"VectorTileLayer",title:"Hybrid Reference Layer",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return ke("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return ke("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return ke("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return ke("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get"dark-gray"(){return{...this["dark-gray-vector"],id:"dark-gray"}},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return ke("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get gray(){return{...this["gray-vector"],id:"gray"}},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return ke("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},get streets(){return{...this["streets-vector"],id:"streets"}},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return ke("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},get topo(){return{...this["topo-vector"],id:"topo"}},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return ke("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return ke("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return ke("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"topo-3d":{id:"topo-3d",is3d:!0,get thumbnailUrl(){return ke("esri/images/basemap/topo-3d.png")},baseMapLayers:[{id:"topo-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/1e7d1784d1ef4b79ba6764d0bd6c3150/resources/styles/root.json",layerType:"VectorTileLayer",title:"Topographic",visibility:!0,opacity:1},{id:"topo-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-3d":{id:"navigation-3d",is3d:!0,get thumbnailUrl(){return ke("esri/images/basemap/navigation-3d.jpg")},baseMapLayers:[{id:"navigation-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/ccc904ff872b4144b94934e55e32784b/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation",visibility:!0,opacity:1},{id:"navigation-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-dark-3d":{id:"navigation-dark-3d",itemId:"5a1365328b4943f09a54cf5fd1205707",is3d:!0,baseMapLayers:[{id:"navigation-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/451a1777ab3f4bf095fae24a117439d9/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation Dark"},{id:"navigation-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"arcgis-imagery":{get thumbnailUrl(){return ke("esri/images/basemap/hybrid.jpg")},title:"Imagery Hybrid",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-imagery-standard":{get thumbnailUrl(){return ke("esri/images/basemap/satellite.jpg")},title:"Imagery",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"}]},"arcgis-imagery-labels":{title:"Hybrid [Reference]",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-light-gray":{get thumbnailUrl(){return ke("esri/images/basemap/gray-vector.jpg")},title:"Light Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Base",title:"Light Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Labels",title:"Light Gray Canvas Labels",isReference:!0}]},"arcgis-dark-gray":{get thumbnailUrl(){return ke("esri/images/basemap/dark-gray.jpg")},title:"Dark Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Base",title:"Dark Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Labels",title:"Dark Gray Canvas Labels",isReference:!0}]},"arcgis-navigation":{get thumbnailUrl(){return ke("esri/images/basemap/streets-navigation.jpg")},title:"Navigation",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Navigation",title:"World Navigation Map"}]},"arcgis-navigation-night":{title:"Navigation (Dark Mode)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:NavigationNight",title:"World Navigation Map (Dark Mode)"}]},"arcgis-streets":{get thumbnailUrl(){return ke("esri/images/basemap/streets-vector.jpg")},title:"Streets",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Streets",title:"World Street Map"}]},"arcgis-streets-night":{get thumbnailUrl(){return ke("esri/images/basemap/streets-night.jpg")},title:"Streets (Night)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsNight",title:"World Street Map (Night)"}]},"arcgis-streets-relief":{get thumbnailUrl(){return ke("esri/images/basemap/streets-relief.jpg")},title:"Streets (with Relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsRelief:Base",title:"World Street Map (with Relief)"}]},"arcgis-topographic":{get thumbnailUrl(){return ke("esri/images/basemap/topo.jpg")},title:"Topographic",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Topographic:Base",title:"World Topographic Map"}]},"arcgis-oceans":{get thumbnailUrl(){return ke("esri/images/basemap/oceans.jpg")},title:"Oceans",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Ocean Base",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Oceans:Labels",title:"World Ocean Reference",isReference:!0}]},"osm-standard":{title:"OpenStreetMap",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Standard",title:"OpenStreetMap"}]},"osm-standard-relief":{title:"OpenStreetMap (with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StandardRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-streets":{title:"OpenStreetMap (Streets)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Streets",title:"OpenStreetMap (Streets)"}]},"osm-streets-relief":{title:"OpenStreetMap (Streets with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StreetsRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-light-gray":{title:"OpenStreetMap (Light Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Base",title:"OSM (Light Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Labels",title:"OSM (Light Gray Reference)",isReference:!0}]},"osm-dark-gray":{title:"OpenStreetMap (Dark Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Base",title:"OSM (Dark Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Labels",title:"OSM (Dark Gray Reference)",isReference:!0}]},"arcgis-terrain":{title:"Terrain with Labels",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Base",title:"World Terrain Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Detail",title:"World Terrain Reference",isReference:!0}]},"arcgis-community":{title:"Community",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Community",title:"Community"}]},"arcgis-charted-territory":{title:"Charted Territory",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ChartedTerritory:Base",title:"Charted Territory"}]},"arcgis-colored-pencil":{title:"Colored Pencil",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ColoredPencil",title:"Colored Pencil"}]},"arcgis-nova":{title:"Nova",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Nova",title:"Nova"}]},"arcgis-modern-antique":{title:"Modern Antique",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ModernAntique:Base",title:"Modern Antique"}]},"arcgis-midcentury":{title:"Mid-Century",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Midcentury",title:"Mid-Century"}]},"arcgis-newspaper":{title:"Newspaper",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Newspaper",title:"Newspaper"}]},"arcgis-hillshade-light":{title:"Hillshade",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}]},"arcgis-hillshade-dark":{title:"Hillshade (Dark)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade (Dark)",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade_Dark/MapServer"}]},"arcgis-human-geography":{title:"Human Geography",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Base",title:"Human Geography Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Detail",title:"Human Geography Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Label",title:"Human Geography Label",isReference:!0}]},"arcgis-human-geography-dark":{title:"Human Geography (Dark)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Base",title:"Human Geography Dark Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Detail",title:"Human Geography Dark Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Label",title:"Human Geography Dark Label",isReference:!0}]}},oG=new Set(["ar","bs","ca","hr","cs","da","nl","en","et","fi","fr","de","el","he","hu","id","it","ja","ko","lv","lt","nb","pl","ro","ru","sr","es","sv","th","tr","uk","vi"]);let fc=class extends Q{constructor(e){super(e),this.id=null,this.language=null,this.serviceUrl="https://basemapstyles-api.arcgis.com/arcgis/rest/services/styles/v2/webmaps"}getLanguageParamValue(){if(this.language)return this.language;const e=Di().toLowerCase();switch(e){case"pt-br":return"pt-BR";case"pt-pt":return"pt-PT";case"zh-cn":return"zh-CN";case"zh-hk":return"zh-HK";case"zh-tw":return"zh-TW"}const i=W9(e);return i==="pt"?"pt-BR":i&&oG.has(i)?i:"global"}};d([h()],fc.prototype,"id",void 0),d([h()],fc.prototype,"language",void 0),d([h()],fc.prototype,"serviceUrl",void 0),fc=d([E("esri.support.BasemapStyle")],fc);const aG=fc;function lG(t){return iA(t)||cG(t)}function cG(t){return(t==null?void 0:t.type)==="scene"}function iA(t){const e=t==null?void 0:t.type;return e==="imagery-tile"||e==="tile"||e==="open-street-map"||e==="vector-tile"||e==="web-tile"||e==="wmts"}function uG(t){const e=t==null?void 0:t.type;return e==="base-tile"||e==="tile"||e==="elevation"||e==="imagery-tile"||e==="base-elevation"||e==="open-street-map"||e==="wcs"||e==="web-tile"||e==="wmts"||e==="vector-tile"}const Tde={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function Ede(t){const e=t==null?void 0:t.type;return e==="building-scene"||e==="integrated-mesh"||e==="point-cloud"||e==="scene"}function Ky(t){var e;return(t==null?void 0:t.type)==="feature"&&!t.url&&((e=t.source)==null?void 0:e.type)==="memory"}function kde(t){var e;return((t==null?void 0:t.type)==="feature"||(t==null?void 0:t.type)==="subtype-group")&&((e=t.source)==null?void 0:e.type)==="feature-layer"}function dG(t){if(t.activeLayer){const e=t.activeLayer.tileMatrixSet;if(e)return e;const i=t.activeLayer.tileMatrixSets;if(i)return i}return null}async function Mde(t,e){const i=Fe==null?void 0:Fe.findServerInfo(t);if((i==null?void 0:i.currentVersion)!=null)return i.owningSystemUrl||null;const n=t.toLowerCase().indexOf("/rest/services");if(n===-1)return null;const r=`${t.substring(0,n)}/rest/info`,s=e!=null?e.signal:null,{data:o}=await Ye(r,{query:{f:"json"},responseType:"json",signal:s});return(o==null?void 0:o.owningSystemUrl)||null}function hG(t){if(!("capabilities"in t))return!1;switch(t.type){case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}function pG(t){return hG(t)?"effectiveCapabilities"in t?t.effectiveCapabilities:t.capabilities:null}function fG(t){if(!("editingEnabled"in t))return!1;switch(t.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}function mG(t){return!!fG(t)&&("effectiveEditingEnabled"in t?t.effectiveEditingEnabled:t.editingEnabled)}const gG=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wms","wmts"]),yG=new Set(["csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","map-image","map-notes","media","ogc-feature","oriented-imagery","route","stream","subtype-group","tile","unknown","unsupported","vector-tile","web-tile","wfs","wms","wmts"]);function vG(t){return t.layerContainerType==="basemap"?gG:t.layerContainerType==="operational-layers"?yG:null}function bG(t,e){if(e.restrictedWebMapWriting){const i=vG(e);return i==null||i.has(t.type)&&!Ky(t)}return!0}function wG(t,e){var i;if(e)if(Ky(t)){const n=rp("featureCollection.layers",e),r=(i=n==null?void 0:n[0])==null?void 0:i.layerDefinition;r&&iT(t,r)}else t.type!=="group"&&iT(t,e)}function iT(t,e){"maxScale"in t&&(e.maxScale=Xm(t.maxScale)??void 0),"minScale"in t&&(e.minScale=Xm(t.minScale)??void 0)}function _G(t,e){if(wG(t,e),e&&(e.id=t.id,"blendMode"in t&&(e.blendMode=t.blendMode,e.blendMode==="normal"&&delete e.blendMode),e.opacity=Xm(t.opacity)??void 0,e.title=t.title||"Layer",e.visibility=t.visible,"legendEnabled"in t&&t.type!=="wmts"))if(Ky(t)){const i=e.featureCollection;i&&(i.showLegend=t.legendEnabled)}else e.showLegend=t.legendEnabled}function nT(t,e,i){if(!t.persistenceEnabled)return null;if(!("write"in t)||!t.write)return i!=null&&i.messages&&i.messages.push(new D("layer:unsupported",`Layers (${t.title}, ${t.id}) of type '${t.declaredClass}' cannot be persisted`,{layer:t})),null;if(Ky(t)&&!t.isTable)e=t.resourceInfo;else if(bG(t,i)){const n={};return t.write(n,i)?n:null}return e!=null&&_G(t,e=z(e)),e}var vd;let SG=0;const xG="esri.Basemap";let Mi=vd=class extends up(Zn){constructor(t){super(t),this.id=null,this.portalItem=null,this.spatialReference=null,this.style=null,this.thumbnailUrl=null,this.title="Basemap",this.id=Date.now().toString(16)+"-basemap-"+SG++,this.baseLayers=new ee,this.referenceLayers=new ee;const e=n=>{n.parent&&n.parent!==this&&"remove"in n.parent&&n.parent.remove(n),n.parent=this,n.type==="elevation"&&G.getLogger(this).error(`Layer '${n.title}, id:${n.id}' of type '${n.type}' is not supported as a basemap layer and will therefore be ignored.`)},i=n=>{n.parent=null};this.addHandles([this.baseLayers.on("after-add",n=>e(n.item)),this.referenceLayers.on("after-add",n=>e(n.item)),this.baseLayers.on("after-remove",n=>i(n.item)),this.referenceLayers.on("after-remove",n=>i(n.item))])}initialize(){this.when().catch(t=>{G.getLogger(this).error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,t)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const t=this.baseLayers.toArray();for(const i of t)i.destroy();const e=this.referenceLayers.toArray();for(const i of e)i.destroy();this.baseLayers.destroy(),this.referenceLayers.destroy(),this.portalItem=ze(this.portalItem)}normalizeCtorArgs(t){return t&&"resourceInfo"in t&&(this._set("resourceInfo",t.resourceInfo),delete(t={...t}).resourceInfo),t}set baseLayers(t){this._set("baseLayers",Al(t,this._get("baseLayers")))}_writeBaseLayers(t,e,i){const n=[];t&&(i={...i,layerContainerType:"basemap"},this.baseLayers.forEach(r=>{const s=nT(r,i.webmap?i.webmap.getLayerJSONFromResourceInfo(r):null,i);s!=null&&n.push(s)}),this.referenceLayers.forEach(r=>{const s=nT(r,i.webmap?i.webmap.getLayerJSONFromResourceInfo(r):null,i);s!=null&&(r.type!=="scene"&&(s.isReference=!0),n.push(s))})),e.baseMapLayers=n}set referenceLayers(t){this._set("referenceLayers",Al(t,this._get("referenceLayers")))}writeTitle(t,e){e.title=t||"Basemap"}load(t){return this.addResolvingPromise(this._loadFromSource(t)),Promise.resolve(this)}loadAll(){return XO(this,t=>{t(this.baseLayers,this.referenceLayers)})}clone(){const t={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.map(e=>zm(e)?e.clone():e),referenceLayers:this.referenceLayers.map(e=>zm(e)?e.clone():e)};return this.loaded&&(t.loadStatus="loaded"),new vd({resourceInfo:this.resourceInfo}).set(t)}read(t,e){this.resourceInfo||this._set("resourceInfo",{data:t,context:e}),super.read(t,e)}write(t,e){var i;return t=t||{},e!=null&&e.origin||(e={origin:"web-map",...e}),super.write(t,e),!this.loaded&&((i=this.resourceInfo)!=null&&i.data.baseMapLayers)&&(t.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(n=>{const r=z(n);return r.url&&zr(r.url)&&(r.url=`https:${r.url}`),r.templateUrl&&zr(r.templateUrl)&&(r.templateUrl=`https:${r.templateUrl}`),r})),t}async _loadFromSource(t){const{resourceInfo:e,portalItem:i,style:n}=this;Ge(t);const r=[];if(e){const s=e.context?e.context.url:null;if(r.push(this._loadLayersFromJSON(e.data,s,t)),e.data.id&&!e.data.title){const o=e.data.id;r.push(sG(o).then(a=>{a&&this.read({title:a},e.context)}))}}else i?r.push(this._loadFromItem(i,t)):n&&r.push(this._loadFromStylesService(n,t));await Promise.all(r)}async _loadLayersFromJSON(t,e,i){var l,u;const n=(l=this.resourceInfo)==null?void 0:l.context,r=((u=this.portalItem)==null?void 0:u.portal)||(n==null?void 0:n.portal)||null,s=TG[(n==null?void 0:n.origin)||""]??"web-map",{populateOperationalLayers:o}=await V(()=>import("./layersCreator-n9JZjKFq.js"),__vite__mapDeps([169,170,171,172,153,162]),import.meta.url),a=[];if(Ge(i),t.baseMapLayers&&Array.isArray(t.baseMapLayers)){const p={context:{...n,origin:s,url:e,portal:r,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},f=y=>s==="web-scene"&&y.layerType==="ArcGISSceneServiceLayer"||y.isReference,m=o(this.baseLayers,t.baseMapLayers.filter(y=>!f(y)),p);a.push(m);const g=o(this.referenceLayers,t.baseMapLayers.filter(f),p);a.push(g)}await Promise.allSettled(a)}async _loadFromItem(t,e){const i=await t.load(e),n=await i.fetchData("json",e),r=Xt(t.itemUrl??"");return this._set("resourceInfo",{data:n.baseMap??{},context:{origin:$G[t.type||""]??"web-map",portal:t.portal||ji.getDefault(),url:r}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:n.spatialReference},this.resourceInfo.context),this.read({title:t.title,thumbnailUrl:t.thumbnailUrl},{origin:"portal-item",portal:t.portal||ji.getDefault(),url:r}),this._loadLayersFromJSON(this.resourceInfo.data,r,e)}async _loadFromStylesService(t,e){var s;const i=`${t.serviceUrl}/${t.id}`,n=(await Ye(i,{query:{language:t.getLanguageParamValue()},signal:e==null?void 0:e.signal})).data;if(n.baseMap&&Array.isArray(n.baseMap.baseMapLayers)){for(const o of n.baseMap.baseMapLayers)if(!o.customParameters&&((s=o.styleUrl)!=null&&s.includes("?"))){const a=Xt(o.styleUrl);a.query&&(o.styleUrl=a.path,o.customParameters=a.query)}}const r=Xt(i);return this._set("resourceInfo",{data:n.baseMap??{},context:{origin:"web-map",url:r}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:n.spatialReference},this.resourceInfo.context),this._loadLayersFromJSON(this.resourceInfo.data,r,e)}static fromId(t){const e=mu[t];return e?e.itemId?new vd({portalItem:{id:e.itemId,portal:{url:"https://www.arcgis.com"}}}):vd.fromJSON(e,{origin:e.is3d?"web-scene":"web-map"}):null}};d([h({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(t,e,i,n){this._writeBaseLayers(t,e,n)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:ee}},writer(t,e,i,n){this._writeBaseLayers(t,e,n)}}}}}})],Mi.prototype,"baseLayers",null),d([h({type:String,json:{origins:{"web-scene":{write:!0}}}})],Mi.prototype,"id",void 0),d([h({type:eA})],Mi.prototype,"portalItem",void 0),d([h()],Mi.prototype,"referenceLayers",null),d([h({readOnly:!0})],Mi.prototype,"resourceInfo",void 0),d([h({type:ge})],Mi.prototype,"spatialReference",void 0),d([h({type:aG})],Mi.prototype,"style",void 0),d([h()],Mi.prototype,"thumbnailUrl",void 0),d([h({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],Mi.prototype,"title",void 0),d([Ae("title")],Mi.prototype,"writeTitle",null),Mi=vd=d([E(xG)],Mi);const $G={"Web Scene":"web-scene","Web Map":"web-map","Link Chart":"link-chart"},TG={"web-scene":"web-scene","web-map":"web-map","link-chart":"link-chart"},Fo=Mi,EG=Object.freeze(Object.defineProperty({__proto__:null,default:Fo},Symbol.toStringTag,{value:"Module"})),$g={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function kG(t){return!!$g[t]||!!$g[t.toLowerCase()]}function fS(t){return $g[t]??$g[t.toLowerCase()]}function Cde(t){return[...fS(t)]}function ev(t,e,i){i<0&&++i,i>1&&--i;const n=6*i;return n<1?t+(e-t)*n:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}function MG(t,e,i,n=1){const r=(t%360+360)%360/360,s=i<=.5?i*(e+1):i+e-i*e,o=2*i-s;return[Math.round(255*ev(o,s,r+1/3)),Math.round(255*ev(o,s,r)),Math.round(255*ev(o,s,r-1/3)),n]}function Ide(t){const e=t.length>5,i=e?8:4,n=(1<<i)-1,r=e?1:17,s=e?t.length===9:t.length===5;let o=+("0x"+t.substr(1));if(isNaN(o))return null;const a=[0,0,0,1];let l;return s&&(l=o&n,o>>=i,a[3]=r*l/255),l=o&n,o>>=i,a[2]=r*l,l=o&n,o>>=i,a[1]=r*l,l=o&n,o>>=i,a[0]=r*l,a}function Sf(t){return Vn(c_(t),0,255)}function xf(t,e,i){return t=Number(t),isNaN(t)?i:t<e?e:t>i?i:t}function $f(t,e){const i=t.toString(16).padStart(2,"0");return e?i.substring(0,1):i}let cm=class wt{static blendColors(e,i,n,r=new wt){return r.r=Math.round(e.r+(i.r-e.r)*n),r.g=Math.round(e.g+(i.g-e.g)*n),r.b=Math.round(e.b+(i.b-e.b)*n),r.a=e.a+(i.a-e.a)*n,r._sanitize()}static fromRgb(e,i){const n=e.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(n){const r=n[2].split(/\s*,\s*/),s=n[1];if(s==="rgb"&&r.length===3||s==="rgba"&&r.length===4){const o=r[0];if(o.charAt(o.length-1)==="%"){const a=r.map(l=>2.56*parseFloat(l));return r.length===4&&(a[3]=parseFloat(r[3])),wt.fromArray(a,i)}return wt.fromArray(r.map(a=>parseFloat(a)),i)}if(s==="hsl"&&r.length===3||s==="hsla"&&r.length===4)return wt.fromArray(MG(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100,parseFloat(r[3])),i)}return null}static fromHex(e,i=new wt){if(e[0]!=="#"||isNaN(+`0x${e.substring(1)}`))return null;switch(e.length){case 4:case 5:{const n=parseInt(e.substring(1,2),16),r=parseInt(e.substring(2,3),16),s=parseInt(e.substring(3,4),16),o=e.length===5?15:parseInt(e.substring(4),16);return wt.fromArray([n+16*n,r+16*r,s+16*s,(o+16*o)/255],i)}case 7:case 9:{const n=parseInt(e.substring(1,3),16),r=parseInt(e.substring(3,5),16),s=parseInt(e.substring(5,7),16),o=e.length===7?255:parseInt(e.substring(7),16);return wt.fromArray([n,r,s,o/255],i)}default:return null}}static fromArray(e,i=new wt){return i._set(Number(e[0]),Number(e[1]),Number(e[2]),Number(e[3])),isNaN(i.a)&&(i.a=1),i._sanitize()}static fromString(e,i){const n=kG(e)?fS(e):null;return n&&wt.fromArray(n,i)||wt.fromRgb(e,i)||wt.fromHex(e,i)}static fromJSON(e){return e!=null?new wt([e[0],e[1],e[2],(e[3]??255)/255]):void 0}static toUnitRGB(e){return e!=null?[e.r/255,e.g/255,e.b/255]:null}static toUnitRGBA(e){return e!=null?[e.r/255,e.g/255,e.b/255,e.a!=null?e.a:1]:null}constructor(e){this.r=255,this.g=255,this.b=255,this.a=1,e&&this.setColor(e)}get isBright(){return .299*this.r+.587*this.g+.114*this.b>=127}setColor(e){return typeof e=="string"?wt.fromString(e,this):Array.isArray(e)?wt.fromArray(e,this):(this._set(e.r??0,e.g??0,e.b??0,e.a??1),e instanceof wt||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(e){const i=(e==null?void 0:e.capitalize)??!1,n=(e==null?void 0:e.digits)??6,r=n===3||n===4,s=n===4||n===8,o=`#${$f(this.r,r)}${$f(this.g,r)}${$f(this.b,r)}${s?$f(Math.round(255*this.a),r):""}`;return i?o.toUpperCase():o}toCss(e=!1){const i=this.r+", "+this.g+", "+this.b;return e?`rgba(${i}, ${this.a})`:`rgb(${i})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(e=wt.AlphaMode.ALWAYS){const i=Sf(this.r),n=Sf(this.g),r=Sf(this.b);return e===wt.AlphaMode.ALWAYS||this.a!==1?[i,n,r,Sf(255*this.a)]:[i,n,r]}clone(){return new wt(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(e){return e!=null&&e.r===this.r&&e.g===this.g&&e.b===this.b&&e.a===this.a}_sanitize(){return this.r=Math.round(xf(this.r,0,255)),this.g=Math.round(xf(this.g,0,255)),this.b=Math.round(xf(this.b,0,255)),this.a=xf(this.a,0,1),this}_set(e,i,n,r){this.r=e,this.g=i,this.b=n,this.a=r}};cm.prototype.declaredClass="esri.Color",function(t){var e;(e=t.AlphaMode||(t.AlphaMode={}))[e.ALWAYS=0]="ALWAYS",e[e.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"}(cm||(cm={}));const ve=cm;function Ode(t){}function CG(t){return()=>t}function be(t,e={}){const i=t instanceof Gn?t:new Gn(t,e),n={type:(e==null?void 0:e.ignoreUnknown)??1?i.apiValues:String,json:{type:i.jsonValues,read:!(e!=null&&e.readOnly)&&{reader:i.read},write:{writer:i.write}}};return(e==null?void 0:e.readOnly)!==void 0&&(n.readOnly=!!e.readOnly),(e==null?void 0:e.default)!==void 0&&(n.json.default=e.default),(e==null?void 0:e.name)!==void 0&&(n.json.name=e.name),(e==null?void 0:e.nonNullable)!==void 0&&(n.nonNullable=e.nonNullable),h(n)}var Xb;let um=Xb=class extends te{constructor(t){super(t),this.type="none"}clone(){return new Xb({type:this.type})}};d([be({none:"none",stayAbove:"stay-above"})],um.prototype,"type",void 0),um=Xb=d([E("esri.ground.NavigationConstraint")],um);function nA(t){const e=c_(100*(1-t));return Math.max(0,Math.min(e,100))}function rA(t){const e=1-t/100;return Math.max(0,Math.min(e,1))}var Qb;let us=Qb=class extends up(Zn){constructor(t){super(t),this.opacity=1,this.surfaceColor=null,this.navigationConstraint=null,this.layers=new ee;const e=n=>{n.parent&&n.parent!==this&&"remove"in n.parent&&n.parent.remove(n),n.parent=this,n.type!=="elevation"&&n.type!=="base-elevation"&&G.getLogger(this).error(`Layer '${n.title}, id:${n.id}' of type '${n.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)},i=n=>{n.parent=null};this.addHandles([this.layers.on("after-add",n=>e(n.item)),this.layers.on("after-remove",n=>i(n.item))])}initialize(){this.when().catch(t=>{di(t)||G.getLogger(this).error("#load()","Failed to load ground",t)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const t=this.layers.removeAll();for(const e of t)ze(e);this.layers.destroy()}normalizeCtorArgs(t){return t&&"resourceInfo"in t&&(this._set("resourceInfo",t.resourceInfo),delete(t={...t}).resourceInfo),t}set layers(t){this._set("layers",Al(t,this._get("layers")))}writeLayers(t,e,i,n){const r=[];t&&(n={...n,layerContainerType:"ground"},t.forEach(s=>{if("write"in s){const o={};CG(s)().write(o,n)&&r.push(o)}else n!=null&&n.messages&&n.messages.push(new D("layer:unsupported",`Layers (${s.title}, ${s.id}) of type '${s.declaredClass}' cannot be persisted in the ground`,{layer:s}))})),e.layers=r}load(t){return this.addResolvingPromise(this._loadFromSource(t)),Promise.resolve(this)}loadAll(){return XO(this,t=>{t(this.layers)})}async queryElevation(t,e){await this.load({signal:e==null?void 0:e.signal});const{ElevationQuery:i}=await V(()=>import("./ElevationQuery-bErKpzw9.js"),__vite__mapDeps([]),import.meta.url);Ge(e);const n=new i,r=this.layers.filter(rT).toArray();return n.queryAll(r,t,e)}async createElevationSampler(t,e){await this.load({signal:e==null?void 0:e.signal});const{ElevationQuery:i}=await V(()=>import("./ElevationQuery-bErKpzw9.js"),__vite__mapDeps([]),import.meta.url);Ge(e);const n=new i,r=this.layers.filter(rT).toArray();return n.createSamplerAll(r,t,e)}clone(){const t={opacity:this.opacity,surfaceColor:z(this.surfaceColor),navigationConstraint:z(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(t.loadStatus="loaded"),new Qb({resourceInfo:this.resourceInfo}).set(t)}read(t,e){this.resourceInfo||this._set("resourceInfo",{data:t,context:e}),super.read(t,e)}_loadFromSource(t){const e=this.resourceInfo;return e?this._loadLayersFromJSON(e.data,e.context,t):Promise.resolve()}async _loadLayersFromJSON(t,e,i){const n=(e==null?void 0:e.origin)||"web-scene",r=(e==null?void 0:e.portal)||null,s=(e==null?void 0:e.url)||null,{populateOperationalLayers:o}=await V(()=>import("./layersCreator-n9JZjKFq.js"),__vite__mapDeps([169,170,171,172,153,162]),import.meta.url);Ge(i);const a=[];if(t.layers&&Array.isArray(t.layers)){const l={context:{origin:n,url:s,portal:r,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"};a.push(o(this.layers,t.layers,l))}await Promise.allSettled(a)}};function IG(t){return t&&"createElevationSampler"in t}function rT(t){return t.type==="elevation"||IG(t)}d([h({json:{read:!1}})],us.prototype,"layers",null),d([Ae("layers")],us.prototype,"writeLayers",null),d([h({readOnly:!0})],us.prototype,"resourceInfo",void 0),d([h({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:ut,read:{reader:rA,source:"transparency"},write:{writer:(t,e)=>{e.transparency=nA(t)},target:"transparency"}}})],us.prototype,"opacity",void 0),d([h({type:ve,json:{type:[ut],write:(t,e)=>{e.surfaceColor=t.toJSON().slice(0,3)}}})],us.prototype,"surfaceColor",void 0),d([h({type:um,json:{write:!0}})],us.prototype,"navigationConstraint",void 0),us=Qb=d([E("esri.Ground")],us);const Tg=us,OG=[["binary","application/octet-stream","bin",""]];function Ade(t,e){return aA(e.name,(t==null?void 0:t.supportedFormats)??[])!=null}function Lde(t,e){if(!t)return!1;const i=AG(e,t.supportedFormats??[]);return i!=null&&t.editFormats.includes(i)}function sA(t,e){return gS(PG(t,e))}function oA(t,e){return gS(aA(t,e))}function Pde(t,e){return lA(LG(t,e))}function AG(t,e){return oA(t.name,e)??sA(t.type,e)}function mS(t){return[...OG,...t]}function LG(t,e){return mS(e).find(i=>gS(i)===t)}function PG(t,e){const i=t.toLowerCase();return mS(e).find(n=>lA(n)===i)}function aA(t,e){const i=t.toLowerCase();return mS(e).find(n=>RG(n).some(r=>i.endsWith(r)))}function gS(t){return t==null?void 0:t[0]}function lA(t){return t==null?void 0:t[1].toLowerCase()}function RG(t){return(t==null?void 0:t[2].split(",").map(e=>e.toLowerCase()))??[]}function Rde(t){var e;return(e=t.tables)==null?void 0:e.find(i=>i.role==="assetMaps")}function NG(t){var e,i;return!(!(t&&typeof t=="object"&&"loaded"in t&&t.loaded&&((i=(e=pG(t))==null?void 0:e.operations)!=null&&i.supportsEditing)&&"type"in t)||"editingEnabled"in t&&!mG(t)||t.type==="scene"&&!DG(t))}function DG(t){const{associatedLayer:e}=t,i=e==null?void 0:e.infoFor3D;if(!i)return!0;const{supportedFormats:n,queryFormats:r}=i,s=sA("model/gltf-binary",n)??oA("glb",n);if(!(s!=null&&r.includes(s)))return G.getLogger("esri.layers.support.editableLayers").warnOnce(`SceneLayer (${t.title??"Untitled layer"}, ${t.id}) is not editable because it does not support GLB queries.`),!1;const o=t.spatialReference,a=e.spatialReference;if(!it(o,a))return G.getLogger("esri.layers.support.editableLayers").warnOnce(`SceneLayer (${t.title??"Untitled layer"}, ${t.id}) is not editable because its spatial reference (wkid:${o.wkid}) is different from its associated FeatureLayer's spatial reference (wkid:${a.wkid}).`),!1;const l=e.sourceJSON.sourceSpatialReference;return!(l!=null&&!it(l,a))||(G.getLogger("esri.layers.support.editableLayers").warnOnce(`SceneLayer (${t.title??"Untitled layer"}, ${t.id}) is not editable because the spatial reference of its associated FeatureLayer's service (wkid:${a.wkid}) is different from its source spatial reference (wkid:${l.wkid}).`),!1)}const zG=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,FG="screenUtils.toPt: input not recognized!",cA=96;function Nde(t){return t?t/72*cA:0}function Jo(t){return t?72*t/cA:0}function Je(t){if(typeof t=="string"){const e=t.match(zG);if(e){const i=Number(e[1]),n=e[3]&&e[3].toLowerCase(),r=t.charAt(0)==="-",s=n==="px"?Jo(i):i;return r?-s:s}return console.warn(FG),null}return t}function ui(t=0,e=0){return{x:t,y:e}}function Dde(t=0,e=0){return[t,e]}function Yy(){const t=new Float32Array(16);return t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function jG(t){const e=new Float32Array(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function UG(t,e,i,n,r,s,o,a,l,u,p,f,m,g,y,v){const w=new Float32Array(16);return w[0]=t,w[1]=e,w[2]=i,w[3]=n,w[4]=r,w[5]=s,w[6]=o,w[7]=a,w[8]=l,w[9]=u,w[10]=p,w[11]=f,w[12]=m,w[13]=g,w[14]=y,w[15]=v,w}function HG(t,e){return new Float32Array(t,e,16)}const BG=Yy();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:BG,clone:jG,create:Yy,createView:HG,fromValues:UG},Symbol.toStringTag,{value:"Module"}));function GG(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function ia(t,e,i,n,r,s,o,a,l,u,p,f,m,g,y,v,w){return t[0]=e,t[1]=i,t[2]=n,t[3]=r,t[4]=s,t[5]=o,t[6]=a,t[7]=l,t[8]=u,t[9]=p,t[10]=f,t[11]=m,t[12]=g,t[13]=y,t[14]=v,t[15]=w,t}function Xy(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function na(t,e){if(t===e){const i=e[1],n=e[2],r=e[3],s=e[6],o=e[7],a=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=i,t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=s,t[11]=e[14],t[12]=r,t[13]=o,t[14]=a}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function VG(t,e){return uA(t,e)||Xy(t),t}function uA(t,e){const i=e[0],n=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],p=e[8],f=e[9],m=e[10],g=e[11],y=e[12],v=e[13],w=e[14],_=e[15],$=i*a-n*o,x=i*l-r*o,T=i*u-s*o,M=n*l-r*a,I=n*u-s*a,L=r*u-s*l,N=p*v-f*y,B=p*w-m*y,F=p*_-g*y,U=f*w-m*v,O=f*_-g*v,A=m*_-g*w;let R=$*A-x*O+T*U+M*F-I*B+L*N;return R?(R=1/R,t[0]=(a*A-l*O+u*U)*R,t[1]=(r*O-n*A-s*U)*R,t[2]=(v*L-w*I+_*M)*R,t[3]=(m*I-f*L-g*M)*R,t[4]=(l*F-o*A-u*B)*R,t[5]=(i*A-r*F+s*B)*R,t[6]=(w*T-y*L-_*x)*R,t[7]=(p*L-m*T+g*x)*R,t[8]=(o*O-a*F+u*N)*R,t[9]=(n*F-i*O-s*N)*R,t[10]=(y*I-v*T+_*$)*R,t[11]=(f*T-p*I-g*$)*R,t[12]=(a*B-o*U-l*N)*R,t[13]=(i*U-n*B+r*N)*R,t[14]=(v*x-y*M-w*$)*R,t[15]=(p*M-f*x+m*$)*R,t):null}function WG(t,e){const i=e[0],n=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],p=e[8],f=e[9],m=e[10],g=e[11],y=e[12],v=e[13],w=e[14],_=e[15];return t[0]=a*(m*_-g*w)-f*(l*_-u*w)+v*(l*g-u*m),t[1]=-(n*(m*_-g*w)-f*(r*_-s*w)+v*(r*g-s*m)),t[2]=n*(l*_-u*w)-a*(r*_-s*w)+v*(r*u-s*l),t[3]=-(n*(l*g-u*m)-a*(r*g-s*m)+f*(r*u-s*l)),t[4]=-(o*(m*_-g*w)-p*(l*_-u*w)+y*(l*g-u*m)),t[5]=i*(m*_-g*w)-p*(r*_-s*w)+y*(r*g-s*m),t[6]=-(i*(l*_-u*w)-o*(r*_-s*w)+y*(r*u-s*l)),t[7]=i*(l*g-u*m)-o*(r*g-s*m)+p*(r*u-s*l),t[8]=o*(f*_-g*v)-p*(a*_-u*v)+y*(a*g-u*f),t[9]=-(i*(f*_-g*v)-p*(n*_-s*v)+y*(n*g-s*f)),t[10]=i*(a*_-u*v)-o*(n*_-s*v)+y*(n*u-s*a),t[11]=-(i*(a*g-u*f)-o*(n*g-s*f)+p*(n*u-s*a)),t[12]=-(o*(f*w-m*v)-p*(a*w-l*v)+y*(a*m-l*f)),t[13]=i*(f*w-m*v)-p*(n*w-r*v)+y*(n*m-r*f),t[14]=-(i*(a*w-l*v)-o*(n*w-r*v)+y*(n*l-r*a)),t[15]=i*(a*m-l*f)-o*(n*m-r*f)+p*(n*l-r*a),t}function qG(t){const e=t[0],i=t[1],n=t[2],r=t[3],s=t[4],o=t[5],a=t[6],l=t[7],u=t[8],p=t[9],f=t[10],m=t[11],g=t[12],y=t[13],v=t[14],w=t[15];return(e*o-i*s)*(f*w-m*v)-(e*a-n*s)*(p*w-m*y)+(e*l-r*s)*(p*v-f*y)+(i*a-n*o)*(u*w-m*g)-(i*l-r*o)*(u*v-f*g)+(n*l-r*a)*(u*y-p*g)}function dA(t,e,i){const n=e[0],r=e[1],s=e[2],o=e[3],a=e[4],l=e[5],u=e[6],p=e[7],f=e[8],m=e[9],g=e[10],y=e[11],v=e[12],w=e[13],_=e[14],$=e[15];let x=i[0],T=i[1],M=i[2],I=i[3];return t[0]=x*n+T*a+M*f+I*v,t[1]=x*r+T*l+M*m+I*w,t[2]=x*s+T*u+M*g+I*_,t[3]=x*o+T*p+M*y+I*$,x=i[4],T=i[5],M=i[6],I=i[7],t[4]=x*n+T*a+M*f+I*v,t[5]=x*r+T*l+M*m+I*w,t[6]=x*s+T*u+M*g+I*_,t[7]=x*o+T*p+M*y+I*$,x=i[8],T=i[9],M=i[10],I=i[11],t[8]=x*n+T*a+M*f+I*v,t[9]=x*r+T*l+M*m+I*w,t[10]=x*s+T*u+M*g+I*_,t[11]=x*o+T*p+M*y+I*$,x=i[12],T=i[13],M=i[14],I=i[15],t[12]=x*n+T*a+M*f+I*v,t[13]=x*r+T*l+M*m+I*w,t[14]=x*s+T*u+M*g+I*_,t[15]=x*o+T*p+M*y+I*$,t}function ZG(t,e,i){const n=i[0],r=i[1],s=i[2];if(e===t)t[12]=e[0]*n+e[4]*r+e[8]*s+e[12],t[13]=e[1]*n+e[5]*r+e[9]*s+e[13],t[14]=e[2]*n+e[6]*r+e[10]*s+e[14],t[15]=e[3]*n+e[7]*r+e[11]*s+e[15];else{const o=e[0],a=e[1],l=e[2],u=e[3],p=e[4],f=e[5],m=e[6],g=e[7],y=e[8],v=e[9],w=e[10],_=e[11];t[0]=o,t[1]=a,t[2]=l,t[3]=u,t[4]=p,t[5]=f,t[6]=m,t[7]=g,t[8]=y,t[9]=v,t[10]=w,t[11]=_,t[12]=o*n+p*r+y*s+e[12],t[13]=a*n+f*r+v*s+e[13],t[14]=l*n+m*r+w*s+e[14],t[15]=u*n+g*r+_*s+e[15]}return t}function JG(t,e,i){const n=i[0],r=i[1],s=i[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*s,t[9]=e[9]*s,t[10]=e[10]*s,t[11]=e[11]*s,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function KG(t,e,i,n){let r,s,o,a,l,u,p,f,m,g,y,v,w,_,$,x,T,M,I,L,N,B,F,U,O=n[0],A=n[1],R=n[2],Z=Math.sqrt(O*O+A*A+R*R);return Z<hn()?null:(Z=1/Z,O*=Z,A*=Z,R*=Z,r=Math.sin(i),s=Math.cos(i),o=1-s,a=e[0],l=e[1],u=e[2],p=e[3],f=e[4],m=e[5],g=e[6],y=e[7],v=e[8],w=e[9],_=e[10],$=e[11],x=O*O*o+s,T=A*O*o+R*r,M=R*O*o-A*r,I=O*A*o-R*r,L=A*A*o+s,N=R*A*o+O*r,B=O*R*o+A*r,F=A*R*o-O*r,U=R*R*o+s,t[0]=a*x+f*T+v*M,t[1]=l*x+m*T+w*M,t[2]=u*x+g*T+_*M,t[3]=p*x+y*T+$*M,t[4]=a*I+f*L+v*N,t[5]=l*I+m*L+w*N,t[6]=u*I+g*L+_*N,t[7]=p*I+y*L+$*N,t[8]=a*B+f*F+v*U,t[9]=l*B+m*F+w*U,t[10]=u*B+g*F+_*U,t[11]=p*B+y*F+$*U,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function YG(t,e,i){const n=Math.sin(i),r=Math.cos(i),s=e[4],o=e[5],a=e[6],l=e[7],u=e[8],p=e[9],f=e[10],m=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=s*r+u*n,t[5]=o*r+p*n,t[6]=a*r+f*n,t[7]=l*r+m*n,t[8]=u*r-s*n,t[9]=p*r-o*n,t[10]=f*r-a*n,t[11]=m*r-l*n,t}function XG(t,e,i){const n=Math.sin(i),r=Math.cos(i),s=e[0],o=e[1],a=e[2],l=e[3],u=e[8],p=e[9],f=e[10],m=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=s*r-u*n,t[1]=o*r-p*n,t[2]=a*r-f*n,t[3]=l*r-m*n,t[8]=s*n+u*r,t[9]=o*n+p*r,t[10]=a*n+f*r,t[11]=l*n+m*r,t}function QG(t,e,i){const n=Math.sin(i),r=Math.cos(i),s=e[0],o=e[1],a=e[2],l=e[3],u=e[4],p=e[5],f=e[6],m=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=s*r+u*n,t[1]=o*r+p*n,t[2]=a*r+f*n,t[3]=l*r+m*n,t[4]=u*r-s*n,t[5]=p*r-o*n,t[6]=f*r-a*n,t[7]=m*r-l*n,t}function eV(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function tV(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function iV(t,e,i){if(e===0)return Xy(t);let n,r,s,o=i[0],a=i[1],l=i[2],u=Math.sqrt(o*o+a*a+l*l);return u<hn()?null:(u=1/u,o*=u,a*=u,l*=u,n=Math.sin(e),r=Math.cos(e),s=1-r,t[0]=o*o*s+r,t[1]=a*o*s+l*n,t[2]=l*o*s-a*n,t[3]=0,t[4]=o*a*s-l*n,t[5]=a*a*s+r,t[6]=l*a*s+o*n,t[7]=0,t[8]=o*l*s+a*n,t[9]=a*l*s-o*n,t[10]=l*l*s+r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function nV(t,e){const i=Math.sin(e),n=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=i,t[7]=0,t[8]=0,t[9]=-i,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function rV(t,e){const i=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=0,t[2]=-i,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=i,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function sV(t,e){const i=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=i,t[2]=0,t[3]=0,t[4]=-i,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function hA(t,e,i){const n=e[0],r=e[1],s=e[2],o=e[3],a=n+n,l=r+r,u=s+s,p=n*a,f=n*l,m=n*u,g=r*l,y=r*u,v=s*u,w=o*a,_=o*l,$=o*u;return t[0]=1-(g+v),t[1]=f+$,t[2]=m-_,t[3]=0,t[4]=f-$,t[5]=1-(p+v),t[6]=y+w,t[7]=0,t[8]=m+_,t[9]=y-w,t[10]=1-(p+g),t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1,t}function oV(t,e){const i=aV,n=-e[0],r=-e[1],s=-e[2],o=e[3],a=e[4],l=e[5],u=e[6],p=e[7],f=n*n+r*r+s*s+o*o;return f>0?(i[0]=2*(a*o+p*n+l*s-u*r)/f,i[1]=2*(l*o+p*r+u*n-a*s)/f,i[2]=2*(u*o+p*s+a*r-l*n)/f):(i[0]=2*(a*o+p*n+l*s-u*r),i[1]=2*(l*o+p*r+u*n-a*s),i[2]=2*(u*o+p*s+a*r-l*n)),hA(t,e,i),t}const aV=dn();function lV(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function cV(t,e){const i=e[0],n=e[1],r=e[2],s=e[4],o=e[5],a=e[6],l=e[8],u=e[9],p=e[10];return t[0]=Math.sqrt(i*i+n*n+r*r),t[1]=Math.sqrt(s*s+o*o+a*a),t[2]=Math.sqrt(l*l+u*u+p*p),t}function uV(t,e){const i=e[0]+e[5]+e[10];let n=0;return i>0?(n=2*Math.sqrt(i+1),t[3]=.25*n,t[0]=(e[6]-e[9])/n,t[1]=(e[8]-e[2])/n,t[2]=(e[1]-e[4])/n):e[0]>e[5]&&e[0]>e[10]?(n=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/n,t[0]=.25*n,t[1]=(e[1]+e[4])/n,t[2]=(e[8]+e[2])/n):e[5]>e[10]?(n=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/n,t[0]=(e[1]+e[4])/n,t[1]=.25*n,t[2]=(e[6]+e[9])/n):(n=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/n,t[0]=(e[8]+e[2])/n,t[1]=(e[6]+e[9])/n,t[2]=.25*n),t}function dV(t,e,i,n){const r=e[0],s=e[1],o=e[2],a=e[3],l=r+r,u=s+s,p=o+o,f=r*l,m=r*u,g=r*p,y=s*u,v=s*p,w=o*p,_=a*l,$=a*u,x=a*p,T=n[0],M=n[1],I=n[2];return t[0]=(1-(y+w))*T,t[1]=(m+x)*T,t[2]=(g-$)*T,t[3]=0,t[4]=(m-x)*M,t[5]=(1-(f+w))*M,t[6]=(v+_)*M,t[7]=0,t[8]=(g+$)*I,t[9]=(v-_)*I,t[10]=(1-(f+y))*I,t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1,t}function hV(t,e,i,n,r){const s=e[0],o=e[1],a=e[2],l=e[3],u=s+s,p=o+o,f=a+a,m=s*u,g=s*p,y=s*f,v=o*p,w=o*f,_=a*f,$=l*u,x=l*p,T=l*f,M=n[0],I=n[1],L=n[2],N=r[0],B=r[1],F=r[2],U=(1-(v+_))*M,O=(g+T)*M,A=(y-x)*M,R=(g-T)*I,Z=(1-(m+_))*I,se=(w+$)*I,re=(y+x)*L,ie=(w-$)*L,we=(1-(m+v))*L;return t[0]=U,t[1]=O,t[2]=A,t[3]=0,t[4]=R,t[5]=Z,t[6]=se,t[7]=0,t[8]=re,t[9]=ie,t[10]=we,t[11]=0,t[12]=i[0]+N-(U*N+R*B+re*F),t[13]=i[1]+B-(O*N+Z*B+ie*F),t[14]=i[2]+F-(A*N+se*B+we*F),t[15]=1,t}function pV(t,e){const i=e[0],n=e[1],r=e[2],s=e[3],o=i+i,a=n+n,l=r+r,u=i*o,p=n*o,f=n*a,m=r*o,g=r*a,y=r*l,v=s*o,w=s*a,_=s*l;return t[0]=1-f-y,t[1]=p+_,t[2]=m-w,t[3]=0,t[4]=p-_,t[5]=1-u-y,t[6]=g+v,t[7]=0,t[8]=m+w,t[9]=g-v,t[10]=1-u-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function fV(t,e,i,n,r,s,o){const a=1/(i-e),l=1/(r-n),u=1/(s-o);return t[0]=2*s*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*s*l,t[6]=0,t[7]=0,t[8]=(i+e)*a,t[9]=(r+n)*l,t[10]=(o+s)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*s*2*u,t[15]=0,t}function mV(t,e,i,n,r){const s=1/Math.tan(e/2);let o;return t[0]=s/i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,r!=null&&r!==1/0?(o=1/(n-r),t[10]=(r+n)*o,t[14]=2*r*n*o):(t[10]=-1,t[14]=-2*n),t}function gV(t,e,i,n){const r=Math.tan(e.upDegrees*Math.PI/180),s=Math.tan(e.downDegrees*Math.PI/180),o=Math.tan(e.leftDegrees*Math.PI/180),a=Math.tan(e.rightDegrees*Math.PI/180),l=2/(o+a),u=2/(r+s);return t[0]=l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=-(o-a)*l*.5,t[9]=(r-s)*u*.5,t[10]=n/(i-n),t[11]=-1,t[12]=0,t[13]=0,t[14]=n*i/(i-n),t[15]=0,t}function yV(t,e,i,n,r,s,o){const a=1/(e-i),l=1/(n-r),u=1/(s-o);return t[0]=-2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+i)*a,t[13]=(r+n)*l,t[14]=(o+s)*u,t[15]=1,t}function vV(t,e,i,n){const r=e[0],s=e[1],o=e[2];let a=r-i[0],l=s-i[1],u=o-i[2];const p=hn();if(Math.abs(a)<p&&Math.abs(l)<p&&Math.abs(u)<p)return void Xy(t);let f=1/Math.sqrt(a*a+l*l+u*u);a*=f,l*=f,u*=f;const m=n[0],g=n[1],y=n[2];let v=g*u-y*l,w=y*a-m*u,_=m*l-g*a;f=Math.sqrt(v*v+w*w+_*_),f?(f=1/f,v*=f,w*=f,_*=f):(v=0,w=0,_=0);let $=l*_-u*w,x=u*v-a*_,T=a*w-l*v;f=Math.sqrt($*$+x*x+T*T),f?(f=1/f,$*=f,x*=f,T*=f):($=0,x=0,T=0),t[0]=v,t[1]=$,t[2]=a,t[3]=0,t[4]=w,t[5]=x,t[6]=l,t[7]=0,t[8]=_,t[9]=T,t[10]=u,t[11]=0,t[12]=-(v*r+w*s+_*o),t[13]=-($*r+x*s+T*o),t[14]=-(a*r+l*s+u*o),t[15]=1}function bV(t,e,i,n){const r=e[0],s=e[1],o=e[2],a=n[0],l=n[1],u=n[2];let p=r-i[0],f=s-i[1],m=o-i[2],g=p*p+f*f+m*m;g>0&&(g=1/Math.sqrt(g),p*=g,f*=g,m*=g);let y=l*m-u*f,v=u*p-a*m,w=a*f-l*p;return g=y*y+v*v+w*w,g>0&&(g=1/Math.sqrt(g),y*=g,v*=g,w*=g),t[0]=y,t[1]=v,t[2]=w,t[3]=0,t[4]=f*w-m*v,t[5]=m*y-p*w,t[6]=p*v-f*y,t[7]=0,t[8]=p,t[9]=f,t[10]=m,t[11]=0,t[12]=r,t[13]=s,t[14]=o,t[15]=1,t}function wV(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function _V(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+t[6]**2+t[7]**2+t[8]**2+t[9]**2+t[10]**2+t[11]**2+t[12]**2+t[13]**2+t[14]**2+t[15]**2)}function SV(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t[4]=e[4]+i[4],t[5]=e[5]+i[5],t[6]=e[6]+i[6],t[7]=e[7]+i[7],t[8]=e[8]+i[8],t[9]=e[9]+i[9],t[10]=e[10]+i[10],t[11]=e[11]+i[11],t[12]=e[12]+i[12],t[13]=e[13]+i[13],t[14]=e[14]+i[14],t[15]=e[15]+i[15],t}function pA(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t[4]=e[4]-i[4],t[5]=e[5]-i[5],t[6]=e[6]-i[6],t[7]=e[7]-i[7],t[8]=e[8]-i[8],t[9]=e[9]-i[9],t[10]=e[10]-i[10],t[11]=e[11]-i[11],t[12]=e[12]-i[12],t[13]=e[13]-i[13],t[14]=e[14]-i[14],t[15]=e[15]-i[15],t}function xV(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12]*i,t[13]=e[13]*i,t[14]=e[14]*i,t[15]=e[15]*i,t}function $V(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t[2]=e[2]+i[2]*n,t[3]=e[3]+i[3]*n,t[4]=e[4]+i[4]*n,t[5]=e[5]+i[5]*n,t[6]=e[6]+i[6]*n,t[7]=e[7]+i[7]*n,t[8]=e[8]+i[8]*n,t[9]=e[9]+i[9]*n,t[10]=e[10]+i[10]*n,t[11]=e[11]+i[11]*n,t[12]=e[12]+i[12]*n,t[13]=e[13]+i[13]*n,t[14]=e[14]+i[14]*n,t[15]=e[15]+i[15]*n,t}function TV(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function EV(t,e){if(t===e)return!0;const i=t[0],n=t[1],r=t[2],s=t[3],o=t[4],a=t[5],l=t[6],u=t[7],p=t[8],f=t[9],m=t[10],g=t[11],y=t[12],v=t[13],w=t[14],_=t[15],$=e[0],x=e[1],T=e[2],M=e[3],I=e[4],L=e[5],N=e[6],B=e[7],F=e[8],U=e[9],O=e[10],A=e[11],R=e[12],Z=e[13],se=e[14],re=e[15],ie=hn();return Math.abs(i-$)<=ie*Math.max(1,Math.abs(i),Math.abs($))&&Math.abs(n-x)<=ie*Math.max(1,Math.abs(n),Math.abs(x))&&Math.abs(r-T)<=ie*Math.max(1,Math.abs(r),Math.abs(T))&&Math.abs(s-M)<=ie*Math.max(1,Math.abs(s),Math.abs(M))&&Math.abs(o-I)<=ie*Math.max(1,Math.abs(o),Math.abs(I))&&Math.abs(a-L)<=ie*Math.max(1,Math.abs(a),Math.abs(L))&&Math.abs(l-N)<=ie*Math.max(1,Math.abs(l),Math.abs(N))&&Math.abs(u-B)<=ie*Math.max(1,Math.abs(u),Math.abs(B))&&Math.abs(p-F)<=ie*Math.max(1,Math.abs(p),Math.abs(F))&&Math.abs(f-U)<=ie*Math.max(1,Math.abs(f),Math.abs(U))&&Math.abs(m-O)<=ie*Math.max(1,Math.abs(m),Math.abs(O))&&Math.abs(g-A)<=ie*Math.max(1,Math.abs(g),Math.abs(A))&&Math.abs(y-R)<=ie*Math.max(1,Math.abs(y),Math.abs(R))&&Math.abs(v-Z)<=ie*Math.max(1,Math.abs(v),Math.abs(Z))&&Math.abs(w-se)<=ie*Math.max(1,Math.abs(w),Math.abs(se))&&Math.abs(_-re)<=ie*Math.max(1,Math.abs(_),Math.abs(re))}function kV(t){const e=hn(),i=t[0],n=t[1],r=t[2],s=t[4],o=t[5],a=t[6],l=t[8],u=t[9],p=t[10];return Math.abs(1-(i*i+s*s+l*l))<=e&&Math.abs(1-(n*n+o*o+u*u))<=e&&Math.abs(1-(r*r+a*a+p*p))<=e}function MV(t){return t[0]===1&&t[1]===0&&t[2]===0&&t[4]===0&&t[5]===1&&t[6]===0&&t[8]===0&&t[9]===0&&t[10]===1}const CV=dA,IV=pA;Object.freeze(Object.defineProperty({__proto__:null,add:SV,adjoint:WG,copy:GG,determinant:qG,equals:EV,exactEquals:TV,frob:_V,fromQuat:pV,fromQuat2:oV,fromRotation:iV,fromRotationTranslation:hA,fromRotationTranslationScale:dV,fromRotationTranslationScaleOrigin:hV,fromScaling:tV,fromTranslation:eV,fromXRotation:nV,fromYRotation:rV,fromZRotation:sV,frustum:fV,getRotation:uV,getScaling:cV,getTranslation:lV,hasIdentityRotation:MV,identity:Xy,invert:uA,invertOrIdentity:VG,isOrthoNormal:kV,lookAt:vV,mul:CV,multiply:dA,multiplyScalar:xV,multiplyScalarAndAdd:$V,ortho:yV,perspective:mV,perspectiveFromFieldOfView:gV,rotate:KG,rotateX:YG,rotateY:XG,rotateZ:QG,scale:JG,set:ia,str:wV,sub:IV,subtract:pA,targetTo:bV,translate:ZG,transpose:na},Symbol.toStringTag,{value:"Module"}));const OV=(t,e)=>{const i=ia(t,e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1);return na(i,i)},AV=(t,e)=>{const i=ia(t,e,0,0,.5-.5*e,0,e,0,.5-.5*e,0,0,e,.5-.5*e,0,0,0,1);return na(i,i)},LV=(t,e)=>{const i=1-e,n=ia(t,.2126+.7874*i,.7152-.7152*i,.0722-.0722*i,0,.2126-.2126*i,.7152+.2848*i,.0722-.0722*i,0,.2126-.2126*i,.7152-.7152*i,.0722+.9278*i,0,0,0,0,1);return na(n,n)},PV=(t,e)=>{const i=Math.sin(e*Math.PI/180),n=Math.cos(e*Math.PI/180),r=ia(t,.213+.787*n-.213*i,.715-.715*n-.715*i,.072-.072*n+.928*i,0,.213-.213*n+.143*i,.715+.285*n+.14*i,.072-.072*n-.283*i,0,.213-.213*n-.787*i,.715-.715*n+.715*i,.072+.928*n+.072*i,0,0,0,0,1);return na(r,r)},RV=(t,e)=>{const i=1-2*e,n=ia(t,i,0,0,e,0,i,0,e,0,0,i,e,0,0,0,1);return na(n,n)},NV=(t,e)=>{const i=ia(t,.213+.787*e,.715-.715*e,.072-.072*e,0,.213-.213*e,.715+.285*e,.072-.072*e,0,.213-.213*e,.715-.715*e,.072+.928*e,0,0,0,0,1);return na(i,i)},DV=(t,e)=>{const i=1-e,n=ia(t,.393+.607*i,.769-.769*i,.189-.189*i,0,.349-.349*i,.686+.314*i,.168-.168*i,0,.272-.272*i,.534-.534*i,.131+.869*i,0,0,0,0,1);return na(n,n)};let zV=class fA{constructor(e,i,n){this.strength=e,this.radius=i,this.threshold=n,this.type="bloom"}interpolate(e,i,n){this.strength=_i(e.strength,i.strength,n),this.radius=_i(e.radius,i.radius,n),this.threshold=_i(e.threshold,i.threshold,n)}clone(){return new fA(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:ch(this.radius),strength:this.strength,threshold:this.threshold}}},FV=class mA{constructor(e){this.radius=e,this.type="blur"}interpolate(e,i,n){this.radius=Math.round(_i(e.radius,i.radius,n))}clone(){return new mA(this.radius)}toJSON(){return{type:"blur",radius:ch(this.radius)}}},sT=class gA{constructor(e,i){this.type=e,this.amount=i,this.type!=="invert"&&this.type!=="grayscale"&&this.type!=="sepia"||(this.amount=Math.min(this.amount,1))}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(e,i,n){this.amount=_i(e.amount,i.amount,n),this._updateMatrix()}clone(){return new gA(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const e=this._colorMatrix||Yy();switch(this.type){case"brightness":this._colorMatrix=OV(e,this.amount);break;case"contrast":this._colorMatrix=AV(e,this.amount);break;case"grayscale":this._colorMatrix=LV(e,this.amount);break;case"invert":this._colorMatrix=RV(e,this.amount);break;case"saturate":this._colorMatrix=NV(e,this.amount);break;case"sepia":this._colorMatrix=DV(e,this.amount)}}},jV=class yA{constructor(e,i,n,r){this.offsetX=e,this.offsetY=i,this.blurRadius=n,this.color=r,this.type="drop-shadow"}interpolate(e,i,n){this.offsetX=_i(e.offsetX,i.offsetX,n),this.offsetY=_i(e.offsetY,i.offsetY,n),this.blurRadius=_i(e.blurRadius,i.blurRadius,n),this.color[0]=Math.round(_i(e.color[0],i.color[0],n)),this.color[1]=Math.round(_i(e.color[1],i.color[1],n)),this.color[2]=Math.round(_i(e.color[2],i.color[2],n)),this.color[3]=_i(e.color[3],i.color[3],n)}clone(){return new yA(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const e=[...this.color];return e[3]*=255,{type:"drop-shadow",xoffset:ch(this.offsetX),yoffset:ch(this.offsetY),blurRadius:ch(this.blurRadius),color:e}}},UV=class vA{constructor(e){this.angle=e,this.type="hue-rotate"}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(e,i,n){this.angle=_i(e.angle,i.angle,n),this._updateMatrix()}clone(){return new vA(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const e=this._colorMatrix||Yy();this._colorMatrix=PV(e,this.angle)}},HV=class bA{constructor(e){this.amount=e,this.type="opacity",this.amount=Math.min(this.amount,1)}interpolate(e,i,n){this.amount=_i(e.amount,i.amount,n)}clone(){return new bA(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}};function _i(t,e,i){return t+(e-t)*i}function ch(t){return Math.round(1e3*Jo(t))/1e3}function BV(t){switch(t.type){case"grayscale":case"sepia":case"invert":return new sT(t.type,0);case"saturate":case"brightness":case"contrast":return new sT(t.type,1);case"opacity":return new HV(1);case"hue-rotate":return new UV(0);case"blur":return new FV(0);case"drop-shadow":return new jV(0,0,0,[...fS("transparent")]);case"bloom":return new zV(0,0,1)}}function zde(t,e){const i=t.length>e.length?t:e;return(t.length>e.length?e:t).every((n,r)=>n.type===i[r].type)}function Fde(t,e){const i=t.length>e.length?t:e,n=t.length>e.length?e:t;for(let r=n.length;r<i.length;r++)n.push(BV(i[r]))}function jde(t){const e=t[0];return!!e&&"type"in e}function GV(t,e){return JSON.stringify(t??null)===JSON.stringify(e??null)}const oT=G.getLogger("esri.support.basemapUtils");function VV(){return{}}function WV(t){for(const e in t){const i=t[e];ze(i),delete t[e]}}function qV(t,e){let i;if(typeof t=="string"){const n=t in mu,r=!n&&t.includes("/");if(!n&&!r){const s=Object.entries(mu).filter(([o,a])=>ye.apiKey&&!a.classic||!ye.apiKey&&(a.classic||a.is3d)).map(([o])=>`"${o}"`).sort().join(", ");return oT.warn(`Unable to find basemap definition for: ${t}. Try one of these: ${s}`),null}e&&(i=e[t]),i||(i=n?Fo.fromId(t):new Fo({style:{id:t}}),e&&(e[t]=i))}else i=It(Fo,t);return i!=null&&i.destroyed&&(oT.warn("The provided basemap is already destroyed",{basemap:i}),i=null),i}function ZV(t){var e;return((e=t.portalItem)==null?void 0:e.type)==="Web Scene"}function JV(t){var e,i;return!!((i=(e=t==null?void 0:t.portalItem)==null?void 0:e.tags)!=null&&i.some(n=>n.toLowerCase()==="beta"))}function KV(t){let e=null;const i=e1(t),n=!(i!=null&&i.baseLayers.length);for(const r in mu){const s=_A(i,wA(mu[r]),{mustMatchReferences:n});if(s==="equal"){e=r;break}s==="base-layers-equal"&&(e=r)}return e}function YV(t,e){var i,n;return t===e||((i=t==null?void 0:t.portalItem)==null?void 0:i.id)!=null&&t.portalItem.id===((n=e==null?void 0:e.portalItem)==null?void 0:n.id)?!0:_A(e1(t),e1(e),{mustMatchReferences:!0})==="equal"}function XV(t,e){var s;if(e==null||t==null)return{spatialReference:null,updating:!1};if(e.loadStatus==="not-loaded")return e.load(),{spatialReference:null,updating:!0};if(e.spatialReference)return{spatialReference:e.spatialReference,updating:!1};if(e.baseLayers.length===0)return{spatialReference:null,updating:!1};const i=e.baseLayers.at(0);switch(i.loadStatus){case"not-loaded":i.load();case"loading":return{spatialReference:null,updating:!0};case"failed":return{spatialReference:null,updating:!1}}const n=(("supportedSpatialReferences"in i?i.supportedSpatialReferences:null)||["tileInfo"in i?(s=i.tileInfo)==null?void 0:s.spatialReference:i.spatialReference]).filter(Boolean),r=t.spatialReference;return r?{spatialReference:n.find(o=>r.equals(o))??n[0]??null,updating:!1}:{spatialReference:n[0],updating:!1}}function e1(t){return t?!t.loaded&&t.resourceInfo?wA(t.resourceInfo.data):{baseLayers:aT(t.baseLayers),referenceLayers:aT(t.referenceLayers)}:null}function aT(t){return(ee.isCollection(t)?t.toArray():t).map(QV)}function QV(t){var e,i;return{type:t.type,effect:"effect"in t?t.effect:void 0,url:SA("urlTemplate"in t&&t.urlTemplate||t.url||"styleUrl"in t&&t.styleUrl||""),minScale:"minScale"in t&&t.minScale!=null?t.minScale:0,maxScale:"maxScale"in t&&t.maxScale!=null?t.maxScale:0,opacity:t.opacity!=null?t.opacity:1,visible:t.visible==null||!!t.visible,sublayers:t.type!=="map-image"&&t.type!=="wms"||t.sublayers==null||(e=t.sublayers)==null?void 0:e.map(n=>({id:n.id,visible:n.visible})),activeLayerId:t.type==="wmts"?(i=t.activeLayer)==null?void 0:i.id:void 0}}function lT(t){return t.isReference||t.layerType==="ArcGISSceneServiceLayer"}function wA(t){return t?{baseLayers:cT((t.baseMapLayers??[]).filter(e=>!lT(e))),referenceLayers:cT((t.baseMapLayers??[]).filter(e=>lT(e)))}:null}function cT(t){return t.map(e=>eW(e))}function eW(t){let e;switch(t.layerType){case"VectorTileLayer":e="vector-tile";break;case"ArcGISTiledMapServiceLayer":e="tile";break;case"ArcGISSceneServiceLayer":e="scene";break;default:e="unknown"}return{type:e,effect:t.effect,url:SA(t.templateUrl||t.urlTemplate||t.styleUrl||t.url),minScale:t.minScale??0,maxScale:t.maxScale??0,opacity:t.opacity??1,visible:t.visibility==null||!!t.visibility,sublayers:void 0,activeLayerId:void 0}}function _A(t,e,i){return t!=null!=(e!=null)?"not-equal":!t||!e?"equal":uT(t.baseLayers,e.baseLayers)?uT(t.referenceLayers,e.referenceLayers)?"equal":i.mustMatchReferences?"not-equal":"base-layers-equal":"not-equal"}function uT(t,e){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++)if(!tW(t[i],e[i]))return!1;return!0}function tW(t,e){if(t.type!==e.type||t.url!==e.url||t.minScale!==e.minScale||t.maxScale!==e.maxScale||t.visible!==e.visible||t.opacity!==e.opacity||!GV(t.effect,e.effect))return!1;if(t.activeLayerId!=null||e.activeLayerId!=null)return t.activeLayerId===e.activeLayerId;if(t.sublayers!=null||e.sublayers!=null){if(t.sublayers==null||e.sublayers==null||t.sublayers.length!==e.sublayers.length)return!1;for(let i=0;i<t.sublayers.length;i++){const n=t.sublayers.at(i),r=e.sublayers.at(i);if((n==null?void 0:n.id)!==(r==null?void 0:r.id)||(n==null?void 0:n.visible)!==(r==null?void 0:r.visible))return!1}}return!0}function SA(t){return t?ks(t).replace(/^\s*https?:/i,"").toLowerCase():""}function iW(t){if(!t)return null;const{thumbnailUrl:e}=t;if(e)return e;const i=KV(t);return i?mu[i].thumbnailUrl:M4(t.baseLayers,nW)}function nW(t){var e;return"portalItem"in t?(e=t.portalItem)==null?void 0:e.thumbnailUrl:void 0}function rW(t){return new Ih({getCollections:()=>[t.tables,t.layers],getChildrenFunction:e=>{const i=[];return"tables"in e&&i.push(e.tables),"layers"in e&&i.push(e.layers),i},itemFilterFunction:e=>{const i=e.parent;return!!i&&"tables"in i&&i.tables.includes(e)}})}function tv(t){for(const e of t.values())e==null||e.destroy();t.clear()}const dT={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};function sW(t){let e=null;if(typeof t=="string")if(t in dT){const i=dT[t];e=new Tg({resourceInfo:{data:{layers:[i]}}})}else G.getLogger("esri.support.groundUtils").warn(`Unable to find ground definition for: ${t}. Try "world-elevation"`);else e=It(Tg,t);return e}let xA=0;const _p=t=>{let e=class extends t{constructor(...i){super(...i),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+xA++})}};return e=d([E("esri.core.Identifiable")],e),e},yS=t=>{let e=class extends t{constructor(...i){super(...i),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:xA++})}};return e=d([E("esri.core.NumericIdentifiable")],e),e};let hT=class extends _p(class{}){};hT=d([E("esri.core.Identifiable")],hT);async function oW(t){const e="portalItem"in t?t:{portalItem:t},{fromItem:i}=await V(()=>import("./portalLayers-2w0cbumF.js").then(n=>n.p),__vite__mapDeps([170,171,172,153]),import.meta.url);try{return await i(e)}catch(n){const r=e&&e.portalItem,s=(r==null?void 0:r.id)||"unset",o=r&&r.portal&&r.portal.url||ye.portalUrl;throw G.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+o+"', id: '"+s+"')",n),n}}let aW=0,ht=class extends ea.EventedMixin(_p(Zn)){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new Le(-180,-90,180,90,ge.WGS84),this.id=Date.now().toString(16)+"-layer-"+aW++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.persistenceEnabled=!1,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=ge.WGS84,this.title=null,this.type=null,this.url=null,this.visible=!0}static async fromArcGISServerUrl(e){const i=typeof e=="string"?{url:e}:e;return(await V(()=>import("./arcgisLayers-SBcTrLnz.js"),__vite__mapDeps([173,171,174,172]),import.meta.url)).fromUrl(i)}static fromPortalItem(e){return oW(e)}initialize(){this.when().catch(e=>{di(e)||G.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:e})})}destroy(){const e=this.parent;if(e){const i=this;"layers"in e&&e.layers.includes(i)?e.layers.remove(i):"tables"in e&&e.tables.includes(i)?e.tables.remove(i):"baseLayers"in e&&e.baseLayers.includes(i)?e.baseLayers.remove(i):"referenceLayers"in e&&e.referenceLayers.includes(i)&&e.referenceLayers.remove(i),this._set("parent",null)}}get hasAttributionData(){return this.attributionDataUrl!=null}get parsedUrl(){return Xt(this.url)}async fetchAttributionData(){const e=this.attributionDataUrl;if(this.hasAttributionData&&e)return(await Ye(e,{query:{f:"json"},responseType:"json"})).data;throw new D("layer:no-attribution-data","Layer does not have attribution data")}};d([h({type:String})],ht.prototype,"attributionDataUrl",void 0),d([h({type:Le})],ht.prototype,"fullExtent",void 0),d([h({readOnly:!0})],ht.prototype,"hasAttributionData",null),d([h({type:String,clonable:!1})],ht.prototype,"id",void 0),d([h({type:Boolean,nonNullable:!0})],ht.prototype,"legendEnabled",void 0),d([h({type:["show","hide","hide-children"]})],ht.prototype,"listMode",void 0),d([h({type:Number,range:{min:0,max:1},nonNullable:!0})],ht.prototype,"opacity",void 0),d([h({clonable:!1})],ht.prototype,"parent",void 0),d([h({readOnly:!0})],ht.prototype,"parsedUrl",null),d([h({type:Boolean,readOnly:!0})],ht.prototype,"persistenceEnabled",void 0),d([h({type:Boolean})],ht.prototype,"popupEnabled",void 0),d([h({type:Boolean})],ht.prototype,"attributionVisible",void 0),d([h({type:ge})],ht.prototype,"spatialReference",void 0),d([h({type:String})],ht.prototype,"title",void 0),d([h({readOnly:!0,json:{read:!1}})],ht.prototype,"type",void 0),d([h()],ht.prototype,"url",void 0),d([h({type:Boolean,nonNullable:!0})],ht.prototype,"visible",void 0),ht=d([E("esri.layers.Layer")],ht);const $A=ht;function t1(t,e,i){let n,r;if(t)for(let s=0,o=t.length;s<o;s++){if(n=t.at(s),(n==null?void 0:n[e])===i)return n;if((n==null?void 0:n.type)==="group"&&(r=t1(n.layers,e,i),r))return r}}const lW=t=>{let e=class extends t{constructor(...i){super(...i),this.layers=new ee;const n=o=>{o.parent&&"remove"in o.parent&&o.parent.remove(o)},r=o=>{o.parent=this,this.layerAdded(o),o.type!=="elevation"&&o.type!=="base-elevation"||G.getLogger(this).error(`Layer 'title:${o.title}, id:${o.id}' of type '${o.type}' is not supported as an operational layer and will therefore be ignored.`)},s=o=>{o.parent=null,this.layerRemoved(o)};this.addHandles([this.layers.on("before-add",o=>n(o.item)),this.layers.on("after-add",o=>r(o.item)),this.layers.on("after-remove",o=>s(o.item))])}destroy(){const i=this.layers.toArray();for(const n of i)n.destroy();this.layers.destroy()}set layers(i){this._set("layers",Al(i,this._get("layers")))}add(i,n){const r=this.layers;if(n=r.getNextIndex(n),i instanceof $A){const s=i;s.parent===this?this.reorder(s,n):r.add(s,n)}else Ns(i)?i.then(s=>{this.destroyed||this.add(s,n)}):G.getLogger(this).error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(i,n){const r=this.layers;let s=r.getNextIndex(n);i.slice().forEach(o=>{o.parent!==this?(r.add(o,s),s+=1):this.reorder(o,s)})}findLayerById(i){return t1(this.layers,"id",i)}findLayerByUid(i){return t1(this.layers,"uid",i)}remove(i){return this.layers.remove(i)}removeMany(i){return this.layers.removeMany(i)}removeAll(){return this.layers.removeAll()}reorder(i,n){return this.layers.reorder(i,n)}layerAdded(i){}layerRemoved(i){}};return d([h()],e.prototype,"layers",null),e=d([E("esri.support.LayersMixin")],e),e};function i1(t,e,i){if(t)for(let n=0,r=t.length;n<r;n++){const s=t.at(n);if(s[e]===i)return s;if((s==null?void 0:s.type)==="group"){const o=i1(s.tables,e,i);if(o)return o}}}const cW=t=>{let e=class extends t{constructor(...i){super(...i),this.tables=new ee,this.addHandles([this.tables.on("after-add",n=>{const r=n.item;r.parent&&r.parent!==this&&"tables"in r.parent&&r.parent.tables.remove(r),r.parent=this,r.type!=="feature"&&G.getLogger(this).error(`Layer 'title:${r.title}, id:${r.id}' of type '${r.type}' is not supported as a table and will therefore be ignored.`)}),this.tables.on("after-remove",n=>{n.item.parent=null})])}destroy(){const i=this.tables.toArray();for(const n of i)n.destroy();this.tables.destroy()}set tables(i){this._set("tables",Al(i,this._get("tables")))}findTableById(i){return i1(this.tables,"id",i)}findTableByUid(i){return i1(this.tables,"uid",i)}};return d([h()],e.prototype,"tables",null),e=d([E("esri.support.TablesMixin")],e),e};let yr=class extends cW(lW(ea.EventedMixin(Q))){constructor(e){super(e),this.allLayers=new Ih({getCollections:()=>{var i,n,r;return[(i=this.basemap)==null?void 0:i.baseLayers,(n=this.ground)==null?void 0:n.layers,this.layers,(r=this.basemap)==null?void 0:r.referenceLayers]},getChildrenFunction:i=>"layers"in i?i.layers:null}),this.allTables=rW(this),this.basemap=null,this.editableLayers=new Ih({getCollections:()=>[this.allLayers],itemFilterFunction:NG}),this.ground=new Tg,this._basemapCache=VV()}destroy(){WV(this._basemapCache),this._basemapCache=null,this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),this.basemap=ze(this.basemap),ze(this.ground),this._set("ground",null)}castBasemap(e){return qV(e,this._basemapCache)}castGround(e){return sW(e)??this._get("ground")}findLayerById(e){return this.allLayers.find(i=>i.id===e)}findTableById(e){return this.allTables.find(i=>i.id===e)}};d([h({readOnly:!0,dependsOn:[]})],yr.prototype,"allLayers",void 0),d([h({readOnly:!0})],yr.prototype,"allTables",void 0),d([h({type:Fo,json:{read:{source:"baseMap"},write:{target:"baseMap"}}})],yr.prototype,"basemap",void 0),d([ei("basemap")],yr.prototype,"castBasemap",null),d([h({readOnly:!0})],yr.prototype,"editableLayers",void 0),d([h({type:Tg,nonNullable:!0})],yr.prototype,"ground",void 0),d([ei("ground")],yr.prototype,"castGround",null),yr=d([E("esri.Map")],yr);const uW=yr,pT={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function iv(t,e,i,n=jr){const r=new qn(sS(n)),s=ce.fromJSDate(t,{zone:r}),o=i==="decades"||i==="centuries"?"year":TA(i);return i==="decades"&&(e*=10),i==="centuries"&&(e*=100),s.plus({[o]:e}).toJSDate()}function fT(t,e,i=jr){const n=new qn(sS(i)),r=ce.fromJSDate(t,{zone:n});if(e==="decades"||e==="centuries"){const o=r.startOf("year"),{year:a}=o,l=a-a%(e==="decades"?10:100);return o.set({year:l}).toJSDate()}const s=TA(e);return r.startOf(s).toJSDate()}function Gde(t,e,i){return t===0?0:t*pT[e]/pT[i]}function TA(t){switch(t){case"milliseconds":return"millisecond";case"seconds":return"second";case"minutes":return"minute";case"hours":return"hour";case"days":return"day";case"weeks":return"week";case"months":return"month";case"years":return"year"}}var xn;let Ai=xn=class extends te{static get allTime(){return mT}static get empty(){return dW}constructor(t){super(t),this.end=null,this.start=null}readEnd(t,e){return e.end!=null?new Date(e.end):null}writeEnd(t,e){e.end=(t==null?void 0:t.getTime())??null}get isAllTime(){return this.equals(xn.allTime)}get isEmpty(){return this.equals(xn.empty)}readStart(t,e){return e.start!=null?new Date(e.start):null}writeStart(t,e){e.start=(t==null?void 0:t.getTime())??null}clone(){return new xn({end:this.end,start:this.start})}equals(t){var s,o,a,l;if(!t)return!1;const e=((s=this.start)==null?void 0:s.getTime())??this.start,i=((o=this.end)==null?void 0:o.getTime())??this.end,n=((a=t.start)==null?void 0:a.getTime())??t.start,r=((l=t.end)==null?void 0:l.getTime())??t.end;return e===n&&i===r}expandTo(t,e=jr){if(this.isEmpty||this.isAllTime)return this.clone();let i=this.start;i&&(i=fT(i,t,e));let n=this.end;if(n){const r=fT(n,t,e);n=n.getTime()===r.getTime()?r:iv(r,1,t,e)}return new xn({start:i,end:n})}intersection(t){var a,l,u,p;if(!t)return this.clone();if(this.isEmpty||t.isEmpty)return xn.empty;if(this.isAllTime)return t.clone();if(t.isAllTime)return this.clone();const e=((a=this.start)==null?void 0:a.getTime())??-1/0,i=((l=this.end)==null?void 0:l.getTime())??1/0,n=((u=t.start)==null?void 0:u.getTime())??-1/0,r=((p=t.end)==null?void 0:p.getTime())??1/0;let s,o;if(n>=e&&n<=i?s=n:e>=n&&e<=r&&(s=e),i>=n&&i<=r?o=i:r>=e&&r<=i&&(o=r),s!=null&&o!=null&&!isNaN(s)&&!isNaN(o)){const f=new xn;return f.start=s===-1/0?null:new Date(s),f.end=o===1/0?null:new Date(o),f}return xn.empty}offset(t,e,i=jr){if(this.isEmpty||this.isAllTime)return this.clone();const n=new xn,{start:r,end:s}=this;return r!=null&&(n.start=iv(r,t,e,i)),s!=null&&(n.end=iv(s,t,e,i)),n}union(t){if(!t||t.isEmpty)return this.clone();if(this.isEmpty)return t.clone();if(this.isAllTime||t.isAllTime)return mT.clone();const e=this.start!=null&&t.start!=null?new Date(Math.min(this.start.getTime(),t.start.getTime())):null,i=this.end!=null&&t.end!=null?new Date(Math.max(this.end.getTime(),t.end.getTime())):null;return new xn({start:e,end:i})}};d([h({type:Date,json:{write:{allowNull:!0}}})],Ai.prototype,"end",void 0),d([Re("end")],Ai.prototype,"readEnd",null),d([Ae("end")],Ai.prototype,"writeEnd",null),d([h({readOnly:!0,json:{read:!1}})],Ai.prototype,"isAllTime",null),d([h({readOnly:!0,json:{read:!1}})],Ai.prototype,"isEmpty",null),d([h({type:Date,json:{write:{allowNull:!0}}})],Ai.prototype,"start",void 0),d([Re("start")],Ai.prototype,"readStart",null),d([Ae("start")],Ai.prototype,"writeStart",null),Ai=xn=d([E("esri.TimeExtent")],Ai);const mT=new Ai,dW=new Ai({start:void 0,end:void 0}),hW=Ai;let uh=class extends ee{constructor(e){super(e),this.addHandles([this.on("before-add",i=>{i.item==null&&i.preventDefault()}),this.on("after-add",i=>this._own(i.item)),this.on("after-remove",i=>this._release(i.item))])}get owner(){return this._get("owner")}set owner(e){e!==this._get("owner")&&(this._releaseAll(),this._set("owner",e),this._ownAll())}_ownAll(){for(const e of this.items)this._own(e)}_releaseAll(){for(const e of this.items)this._release(e)}_createNewInstance(e){return this.itemType?new(ee.ofType(this.itemType.Type))(e):new ee(e)}};function gT(t,e){return{type:t,cast:KO,set(i){const n=Al(i,this._get(e),t);n.owner=this,this._set(e,n)}}}d([h()],uh.prototype,"owner",null),uh=d([E("esri.core.support.OwningCollection")],uh);var bd;const Eg=Ui()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),EA=Eg.jsonValues.slice();gM(EA,"orthometric");const dh=Ui()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});let $n=bd=class extends te{constructor(t){super(t),this.heightModel="gravity-related-height",this.heightUnit="meters",this.vertCRS=null}writeHeightModel(t,e,i){return Eg.write(t,e,i)}readHeightModel(t,e,i){return Eg.read(t)||(i!=null&&i.messages&&i.messages.push(pW(t,{context:i})),null)}readHeightUnit(t,e,i){return dh.read(t)||(i!=null&&i.messages&&i.messages.push(yT(t,{context:i})),null)}readHeightUnitService(t,e,i){return qC(t)||dh.read(t)||(i!=null&&i.messages&&i.messages.push(yT(t,{context:i})),null)}readVertCRS(t,e){return e.vertCRS||e.ellipsoid||e.geoid}clone(){return new bd({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(t){return!!t&&(this===t||this.heightModel===t.heightModel&&this.heightUnit===t.heightUnit&&this.vertCRS===t.vertCRS)}static deriveUnitFromSR(t,e){const i=jz(e);return new bd({heightModel:t.heightModel,heightUnit:i,vertCRS:t.vertCRS})}write(t,e){return e={origin:"web-scene",...e},super.write(t,e)}static fromJSON(t){if(!t)return null;const e=new bd;return e.read(t,{origin:"web-scene"}),e}};function yT(t,e){return new Is("height-unit:unsupported",`Height unit of value '${t}' is not supported`,e)}function pW(t,e){return new Is("height-model:unsupported",`Height model of value '${t}' is not supported`,e)}d([h({type:Eg.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:EA,default:"ellipsoidal"}}}})],$n.prototype,"heightModel",void 0),d([Ae("web-scene","heightModel")],$n.prototype,"writeHeightModel",null),d([Re(["web-scene","service"],"heightModel")],$n.prototype,"readHeightModel",null),d([h({type:dh.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:dh.jsonValues,write:dh.write}}}})],$n.prototype,"heightUnit",void 0),d([Re("web-scene","heightUnit")],$n.prototype,"readHeightUnit",null),d([Re("service","heightUnit")],$n.prototype,"readHeightUnitService",null),d([h({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],$n.prototype,"vertCRS",void 0),d([Re("service","vertCRS",["vertCRS","ellipsoid","geoid"])],$n.prototype,"readVertCRS",null),$n=bd=d([E("esri.geometry.HeightModelInfo")],$n);const vS=$n;let kg=class extends uh{constructor(e){super(e),this.addHandles(this.on("before-add",i=>{i.item!=null&&i.item.parent===this.owner&&(G.getLogger(this).warn("Analysis inside the collection must be unique. Not adding this element again."),i.preventDefault())}))}_own(e){e.parent=this.owner}_release(e){e.parent=null}};kg=d([E("esri.support.AnalysesCollection")],kg);async function fW(t,e){const{WhereClause:i}=await V(()=>import("./WhereClause-eR2YrswJ.js").then(n=>n.W),__vite__mapDeps([22,23,24]),import.meta.url);return i.create(t,e)}function qde(t,e){return t!=null?e!=null?`(${t}) AND (${e})`:t:e}function tc(t){return typeof t=="string"||t instanceof String}const mW="yyyy-MM-dd",gW="TT";var hh;(function(t){t.HM="HH:mm",t.HMS="HH:mm:ss",t.HMS_MS="HH:mm:ss.SSS"})(hh||(hh={}));const yW=[hh.HMS_MS,hh.HMS,hh.HM,gW];function vT(t){return ce.fromFormat(t,mW)}function bT(t){let e=null;return yW.find(i=>(e=ce.fromFormat(t,i),e.isValid)),e}function wT(t){return ce.fromISO(t)}var gu;(function(t){t.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",t.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(gu||(gu={}));const vW=new Set(["integer","small-integer","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"]);function bW(t){return t!=null&&vW.has(t.type)}function kA(t){return t!=null&&(t.type==="date-only"||t.type==="esriFieldTypeDateOnly")}function MA(t){return t!=null&&(t.type==="timestamp-offset"||t.type==="esriFieldTypeTimestampOffset")}function CA(t){return t!=null&&(t.type==="time-only"||t.type==="esriFieldTypeTimeOnly")}function wW(t,e){const i=t==null?void 0:t.domain;if(!i)return null;switch(i.type){case"range":{const{min:n,max:r}=_W(t);if(n!=null&&+e<n||r!=null&&+e>r)return gu.VALUE_OUT_OF_RANGE;break}case"coded-value":case"codedValue":if(i.codedValues==null||i.codedValues.every(n=>n==null||n.code!==e))return gu.INVALID_CODED_VALUE}return null}function _W(t,e){const i=e??(t==null?void 0:t.domain);if(!i||i.type!=="range")return;const n="range"in i?i.range[0]:i.minValue,r="range"in i?i.range[1]:i.maxValue,s=bW(t);return kA(t)||CA(t)||MA(t)?{...SW(t,r,n),isInteger:s}:{min:n!=null&&typeof n=="number"?n:null,max:r!=null&&typeof r=="number"?r:null,rawMin:n,rawMax:r,isInteger:s}}function SW(t,e,i){return kA(t)?{min:i!=null&&tc(i)?vT(i).toMillis():null,max:e!=null&&tc(e)?vT(e).toMillis():null,rawMin:i,rawMax:e}:CA(t)?{min:i!=null&&tc(i)?bT(i).toMillis():null,max:e!=null&&tc(e)?bT(e).toMillis():null,rawMin:i,rawMax:e}:MA(t)?{min:i!=null&&tc(i)?wT(i).toMillis():null,max:e!=null&&tc(e)?wT(e).toMillis():null,rawMin:i,rawMax:e}:{max:null,min:null}}const xW=G.getLogger("esri.support.arcadeOnDemand");let nv;function IA(){return nv||(nv=(async()=>{const t=await V(()=>import("./arcadeUtils-Vceg9UQY.js").then(e=>e.aD),__vite__mapDeps([175,23,24,53,25,28,14,12,15,27]),import.meta.url);return{arcade:t.arcade,arcadeUtils:t,Dictionary:t.Dictionary,Feature:t.arcadeFeature}})()),nv}const Zde=(t,e,i)=>bS.create(t,e,i,null,["$feature","$view"],[]),Jde=(t,e,i)=>bS.create(t,e,i,null,["$feature","$view"],[]),Kde=(t,e,i,n)=>bS.create(t,e,i,n,["$feature","$view"],[]);let bS=class OA{constructor(e,i,n,r,s,o,a){this.services=null,this.script=e,this.evaluate=r;const l=Array.isArray(o)?o:o.fields;this.fields=l,this._syntaxTree=n,this._arcade=i,this._arcadeFeature=s,this._spatialReference=a,this._referencesGeometry=i.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static async create(e,i,n,r,s,o){const{arcade:a,Feature:l,Dictionary:u}=await IA(),p=ge.fromJSON(i);let f;try{f=a.parseScript(e,o)}catch(N){return xW.error(new D("arcade-bad-expression","Failed to parse arcade script",{script:e,error:N})),null}const m=s.reduce((N,B)=>({...N,[B]:null}),{});let g=null;r!=null&&(g=new u(r),g.immutable=!0,m.$config=null);const y=a.scriptUsesGeometryEngine(f),v=y&&a.enableGeometrySupport(),w=a.scriptUsesFeatureSet(f)&&a.enableFeatureSetSupport(),_=a.scriptIsAsync(f),$=_&&a.enableAsyncSupport(),x={vars:m,spatialReference:p,useAsync:!!$};await Promise.all([v,w,$]);const T=new Set;await a.loadDependentModules(T,f,null,_,y);const M=new u;M.immutable=!1,M.setField("scale",0);const I=a.compileScript(f,x),L=(N,B)=>{var U;const F=(U=N.$view)==null?void 0:U.timeZone;return"$view"in N&&N.$view&&(M.setField("scale",typeof N.$view=="object"&&"scale"in N.$view?N.$view.scale:void 0),N.$view=M),g&&(N.$config=g),I({vars:N,spatialReference:p,services:B,timeZone:F})};return new OA(e,a,f,L,new l,n,p)}repurposeFeature(e){return e.geometry&&!e.geometry.spatialReference&&(e.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(e.geometry,e.attributes,{fields:this.fields}),this._arcadeFeature}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}};const $W=/^([0-9_])/,TW=/[^a-z0-9_\u0080-\uffff]+/gi;function Yde(t){return t==null?null:t.trim().replaceAll(TW,"_").replace($W,"F$1")||null}const EW=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],kW=["field","normalizationField"];function Xde(t,e){if(t!=null&&e!=null){for(const i of Array.isArray(t)?t:[t])if(_T(EW,i,e),"visualVariables"in i&&i.visualVariables)for(const n of i.visualVariables)_T(kW,n,e)}}function _T(t,e,i){if(t)for(const n of t){const r=rp(n,e),s=r&&typeof r!="function"&&i.get(r);s&&Eu(n,s.name,e)}}function Qde(t,e){var i;if(t!=null&&((i=e==null?void 0:e.fields)!=null&&i.length))if("startField"in t){const n=e.get(t.startField),r=e.get(t.endField);t.startField=(n==null?void 0:n.name)??null,t.endField=(r==null?void 0:r.name)??null}else{const n=e.get(t.startTimeField),r=e.get(t.endTimeField);t.startTimeField=(n==null?void 0:n.name)??null,t.endTimeField=(r==null?void 0:r.name)??null}}const rv=new Set;function AA(t,e){return t&&e?(rv.clear(),Fh(rv,t,e),Array.from(rv).sort()):[]}function Fh(t,e,i){var n;if(i)if((n=e==null?void 0:e.fields)!=null&&n.length)if(i.includes("*"))for(const{name:r}of e.fields)t.add(r);else for(const r of i)Qy(t,e,r);else{if(i.includes("*"))return t.clear(),void t.add("*");for(const r of i)r!=null&&t.add(r)}}function Qy(t,e,i){if(typeof i=="string")if(e){const n=e.get(i);n&&t.add(n.name)}else t.add(i)}function ehe(t,e){return e==null||t==null?[]:e.includes("*")?(t.fields??[]).map(i=>i.name):e}async function Ll(t,e,i){var s;if(!i)return;const{arcadeUtils:n}=await IA(),r=n.extractFieldNames(i,(s=e==null?void 0:e.fields)==null?void 0:s.map(o=>o.name));for(const o of r)Qy(t,e,o)}async function LA(t,e,i){if(i&&i!=="1=1"){const n=await fW(i,e);if(!n.isStandardized)throw new D("fieldUtils:collectFilterFields","Where clause is not standardized",{where:i});Fh(t,e,n.fieldNames)}}function the({displayField:t,fields:e}){return t||(e!=null&&e.length?sv(e,"name-or-title")||sv(e,"unique-identifier")||sv(e,"type-or-category")||MW(e):null)}function MW(t){for(const e of t){if(!(e!=null&&e.name))continue;const i=e.name.toLowerCase();if(i.includes("name")||i.includes("title"))return e.name}return null}function sv(t,e){for(const i of t)if(i!=null&&i.valueType&&i.valueType===e)return i.name;return null}async function ihe(t,e){var n;if(!e)return;const i=(n=e.elevationInfo)==null?void 0:n.featureExpressionInfo;return i?i.collectRequiredFields(t,e.fieldsIndex):void 0}function CW(t,e,i){i.onStatisticExpression?Ll(t,e,i.onStatisticExpression.expression):t.add(i.onStatisticField)}async function nhe(t,e,i){if(!e||!i||!("fields"in i))return;const n=[],r=i.popupTemplate;n.push(IW(t,e,r)),i.fields&&n.push(...i.fields.map(async s=>CW(t,e.fieldsIndex,s))),await Promise.all(n)}async function IW(t,e,i){const n=[];i!=null&&i.expressionInfos&&n.push(...i.expressionInfos.map(s=>Ll(t,e.fieldsIndex,s.expression)));const r=i==null?void 0:i.content;if(Array.isArray(r))for(const s of r)s.type==="expression"&&s.expressionInfo&&n.push(Ll(t,e.fieldsIndex,s.expressionInfo.expression));await Promise.all(n)}async function rhe(t,e,i){e&&(e.timeInfo&&(i!=null&&i.timeExtent)&&Fh(t,e.fieldsIndex,[e.timeInfo.startField,e.timeInfo.endField]),e.floorInfo&&Fh(t,e.fieldsIndex,[e.floorInfo.floorField]),(i==null?void 0:i.where)!=null&&await LA(t,e.fieldsIndex,i.where))}async function she(t,e,i){e&&i&&await Promise.all(i.map(n=>OW(t,e,n)))}async function OW(t,e,i){e&&i&&(i.valueExpression?await Ll(t,e.fieldsIndex,i.valueExpression):i.field&&Qy(t,e.fieldsIndex,i.field))}function ohe(t){return t?AA(t.fieldsIndex,PA(t)):[]}function AW(t){if(!t)return[];const e=t.geometryFieldsInfo;return e?AA(t.fieldsIndex,[e.shapeAreaField,e.shapeLengthField]):[]}const LW=new Set(["oid","global-id","guid"]),PW=new Set(["oid","global-id"]),RW=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/shape/i,/perimeter/i,/objectid/i,/_i$/i];function NW(t){const e=new Set;RA(t).forEach(n=>e.add(n)),AW(t).forEach(n=>e.add(n.toLowerCase()));const i=t&&"infoFor3D"in t?t.infoFor3D:void 0;return i&&(Object.values(i.assetMapFieldRoles).forEach(n=>e.add(n.toLowerCase())),Object.values(i.transformFieldRoles).forEach(n=>e.add(n.toLowerCase()))),Array.from(e)}function PA(t){if(!t)return[];const e="editFieldsInfo"in t&&t.editFieldsInfo;if(!e)return[];const{creationDateField:i,creatorField:n,editDateField:r,editorField:s}=e;return[i,n,r,s].filter(Boolean)}function RA(t){return PA(t).map(e=>e.toLowerCase())}function ahe(t,e){var i;return t.editable&&!LW.has(t.type)&&!RA(e).includes(((i=t.name)==null?void 0:i.toLowerCase())??"")}function lhe(t,e){var n;const i=((n=t.name)==null?void 0:n.toLowerCase())??"";return!((e==null?void 0:e.objectIdField)!=null&&i===e.objectIdField.toLowerCase()||(e==null?void 0:e.globalIdField)!=null&&i===e.globalIdField.toLowerCase()||NW(e).includes(i)||PW.has(t.type)||RW.some(r=>r.test(i)))}async function che(t,e){const{labelingInfo:i,fieldsIndex:n}=e;i!=null&&i.length&&await Promise.all(i.map(r=>DW(t,n,r)))}async function DW(t,e,i){if(!i)return;const n=i.getLabelExpression(),r=i.where;if(n.type==="arcade")await Ll(t,e,n.expression);else{const s=n.expression.match(/{[^}]*}/g);s&&s.forEach(o=>{Qy(t,e,o.slice(1,-1))})}await LA(t,e,r)}function uhe(t){const e=t.defaultValue;return e!==void 0&&zA(t,e)?e:t.nullable?null:void 0}function dhe(t){const e=typeof t=="string"?{type:t}:t;return KW(e)?255:e.type==="esriFieldTypeDate"||e.type==="date"?8:void 0}function NA(t){return typeof t=="number"&&!isNaN(t)&&isFinite(t)}function zW(t){return t===null||NA(t)}function FW(t){return t===null||Number.isInteger(t)}function DA(t){return t!=null&&typeof t=="string"}function jW(t){return t===null||DA(t)}function UW(){return!0}function zA(t,e){let i;switch(t.type){case"date":case"integer":case"long":case"small-integer":case"big-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":case"esriFieldTypeBigInteger":i=t.nullable?FW:Number.isInteger;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":i=t.nullable?zW:NA;break;case"string":case"esriFieldTypeString":i=t.nullable?jW:DA;break;default:i=UW}return arguments.length===1?i:i(e)}const HW=["integer","small-integer","big-integer"],BW=["single","double"],GW=["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"],VW=["esriFieldTypeSingle","esriFieldTypeDouble"],WW=new Set([...HW,...GW]),qW=new Set([...BW,...VW]),ZW=fD(WW,qW);function JW(t){return t!=null&&ZW.has(t.type)}function KW(t){return t!=null&&(t.type==="string"||t.type==="esriFieldTypeString")}function hhe(t){return t!=null&&(t.type==="date"||t.type==="esriFieldTypeDate")}function phe(t){return t!=null&&(t.type==="date-only"||t.type==="esriFieldTypeDateOnly")}function fhe(t){return t!=null&&(t.type==="timestamp-offset"||t.type==="esriFieldTypeTimestampOffset")}function mhe(t){return t!=null&&(t.type==="time-only"||t.type==="esriFieldTypeTimeOnly")}function ghe(t){return t!=null&&(t.type==="oid"||t.type==="esriFieldTypeOID")}function yhe(t){return t!=null&&(t.type==="global-id"||t.type==="esriFieldTypeGlobalID")}function vhe(t,e){return YW(t,e)===null}var Mg,Cg;function bhe(t){return t==null||typeof t=="number"&&isNaN(t)?null:t}function YW(t,e){return t==null||t.nullable&&e===null?null:JW(t)&&!XW(t.type,Number(e))?Mg.OUT_OF_RANGE:zA(t,e)?t.domain?wW(t,e):null:Cg.INVALID_TYPE}function XW(t,e){const i=typeof t=="string"?FA(t):t;if(!i)return!1;const n=i.min,r=i.max;return i.isInteger?Number.isInteger(e)&&e>=n&&e<=r:e>=n&&e<=r}function FA(t){switch(t){case"esriFieldTypeSmallInteger":case"small-integer":return QW;case"esriFieldTypeInteger":case"integer":return eq;case"esriFieldTypeBigInteger":case"big-integer":return tq;case"esriFieldTypeSingle":case"single":return iq;case"esriFieldTypeDouble":case"double":return nq}}(function(t){t.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"})(Mg||(Mg={})),function(t){t.INVALID_TYPE="type-validation-error::invalid-type"}(Cg||(Cg={}));const QW={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},eq={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},tq={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},iq={min:-34e37,max:12e37,isInteger:!1,rawMin:-34e37,rawMax:12e37},nq={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};function whe(t,e,i){switch(t){case gu.INVALID_CODED_VALUE:return`Value ${i} is not in the coded domain - field: ${e.name}, domain: ${JSON.stringify(e.domain)}`;case gu.VALUE_OUT_OF_RANGE:return`Value ${i} is out of the range of valid values - field: ${e.name}, domain: ${JSON.stringify(e.domain)}`;case Cg.INVALID_TYPE:return`Value ${i} is not a valid value for the field type - field: ${e.name}, type: ${e.type}, nullable: ${e.nullable}`;case Mg.OUT_OF_RANGE:{const{min:n,max:r}=FA(e.type);return`Value ${i} is out of range for the number type - field: ${e.name}, type: ${e.type}, value range is ${n} to ${r}`}}}function _he(t,e){return!rq(t,e,null)}function rq(t,e,i){if(!(e!=null&&e.attributes)||!t){if(i!=null)for(const s of t??[])i.add(s);return!0}const n=new Set(Object.keys(e.attributes));let r=!1;for(const s of t)if(!n.has(s)){if(r=!0,i==null)break;i.add(s)}return r}function She(t){return!!t&&["raster.itempixelvalue","raster.servicepixelvalue"].some(e=>t.toLowerCase().startsWith(e))}let dm=class extends te{constructor(e){super(e),this.type=null}};d([h({type:["attachments","custom","fields","media","text","expression","relationship"],readOnly:!0,json:{read:!1,write:!0}})],dm.prototype,"type",void 0),dm=d([E("esri.popup.content.Content")],dm);const ra=dm;var n1;let Ca=n1=class extends ra{constructor(t){super(t),this.description=null,this.displayType="auto",this.title=null,this.type="attachments"}clone(){return new n1({description:this.description,displayType:this.displayType,title:this.title})}};d([h({type:String,json:{write:!0}})],Ca.prototype,"description",void 0),d([h({type:["auto","preview","list"],json:{write:!0}})],Ca.prototype,"displayType",void 0),d([h({type:String,json:{write:!0}})],Ca.prototype,"title",void 0),d([h({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],Ca.prototype,"type",void 0),Ca=n1=d([E("esri.popup.content.AttachmentsContent")],Ca);const Ig=Ca;var r1;let Ia=r1=class extends ra{constructor(t){super(t),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new r1({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?z(this.outFields):null})}};d([h()],Ia.prototype,"creator",void 0),d([h()],Ia.prototype,"destroyer",void 0),d([h()],Ia.prototype,"outFields",void 0),d([h({type:["custom"],readOnly:!0})],Ia.prototype,"type",void 0),Ia=r1=d([E("esri.popup.content.CustomContent")],Ia);const sq=Ia;var s1;let mc=s1=class extends te{constructor(t){super(t),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new s1({title:this.title,expression:this.expression})}};d([h({type:String,json:{write:!0}})],mc.prototype,"title",void 0),d([h({type:String,json:{write:!0}})],mc.prototype,"expression",void 0),d([h({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],mc.prototype,"returnType",void 0),mc=s1=d([E("esri.popup.ElementExpressionInfo")],mc);const oq=mc;var o1;let wd=o1=class extends ra{constructor(t){super(t),this.expressionInfo=null,this.type="expression"}clone(){var t;return new o1({expressionInfo:(t=this.expressionInfo)==null?void 0:t.clone()})}};d([h({type:oq,json:{write:!0}})],wd.prototype,"expressionInfo",void 0),d([h({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],wd.prototype,"type",void 0),wd=o1=d([E("esri.popup.content.ExpressionContent")],wd);const wS=wd;let gc=class extends Vr(te){constructor(e){super(e),this.dateFormat=null,this.digitSeparator=!1,this.places=null}};d([be(nU)],gc.prototype,"dateFormat",void 0),d([h({type:Boolean,json:{write:!0}})],gc.prototype,"digitSeparator",void 0),d([h({type:ut,json:{write:!0}})],gc.prototype,"places",void 0),gc=d([E("esri.popup.support.FieldInfoFormat")],gc);const aq=gc;var a1;let Tn=a1=class extends te{constructor(t){super(t),this.fieldName=null,this.format=null,this.isEditable=!0,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){return new a1({fieldName:this.fieldName,format:this.format?z(this.format):null,isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};d([h({type:String,json:{write:!0}})],Tn.prototype,"fieldName",void 0),d([h({type:aq,json:{write:!0}})],Tn.prototype,"format",void 0),d([h({type:Boolean,json:{write:{alwaysWriteDefaults:!0},default:!0}})],Tn.prototype,"isEditable",void 0),d([h({type:String,json:{write:!0}})],Tn.prototype,"label",void 0),d([be(new Gn({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],Tn.prototype,"stringFieldOption",void 0),d([h({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],Tn.prototype,"statisticType",void 0),d([h({type:String,json:{write:!0}})],Tn.prototype,"tooltip",void 0),d([h({type:Boolean,json:{write:!0}})],Tn.prototype,"visible",void 0),Tn=a1=d([E("esri.popup.FieldInfo")],Tn);const jA=Tn;var l1;let ds=l1=class extends ra{constructor(t){super(t),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(t,e){e.fieldInfos=t&&t.map(i=>i.toJSON())}clone(){return new l1(z({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};d([h({type:Object,json:{write:!0}})],ds.prototype,"attributes",void 0),d([h({type:String,json:{write:!0}})],ds.prototype,"description",void 0),d([h({type:[jA]})],ds.prototype,"fieldInfos",void 0),d([Ae("fieldInfos")],ds.prototype,"writeFieldInfos",null),d([h({type:String,json:{write:!0}})],ds.prototype,"title",void 0),d([h({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],ds.prototype,"type",void 0),ds=l1=d([E("esri.popup.content.FieldsContent")],ds);const Og=ds;let Oa=class extends te{constructor(e){super(e),this.altText=null,this.caption="",this.title="",this.type=null}};d([h({type:String,json:{write:!0}})],Oa.prototype,"altText",void 0),d([h({type:String,json:{write:!0}})],Oa.prototype,"caption",void 0),d([h({type:String,json:{write:!0}})],Oa.prototype,"title",void 0),d([h({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],Oa.prototype,"type",void 0),Oa=d([E("esri.popup.content.mixins.MediaInfo")],Oa);const _S=Oa;var c1;let Aa=c1=class extends Q{constructor(t){super(t),this.color=null,this.fieldName=null,this.tooltip=null,this.value=null}clone(){return new c1({fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};d([h()],Aa.prototype,"color",void 0),d([h()],Aa.prototype,"fieldName",void 0),d([h()],Aa.prototype,"tooltip",void 0),d([h()],Aa.prototype,"value",void 0),Aa=c1=d([E("esri.popup.content.support.ChartMediaInfoValueSeries")],Aa);const lq=Aa;var u1;let ro=u1=class extends te{constructor(t){super(t),this.colors=null,this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new u1({colors:z(this.colors),fields:z(this.fields),normalizeField:this.normalizeField,tooltipField:this.tooltipField})}};d([h({type:[ve],json:{type:[[ut]],write:!0}})],ro.prototype,"colors",void 0),d([h({type:[String],json:{write:!0}})],ro.prototype,"fields",void 0),d([h({type:String,json:{write:!0}})],ro.prototype,"normalizeField",void 0),d([h({type:[lq],json:{read:!1}})],ro.prototype,"series",void 0),d([h({type:String,json:{write:!0}})],ro.prototype,"tooltipField",void 0),ro=u1=d([E("esri.popup.content.support.ChartMediaInfoValue")],ro);const cq=ro;let _d=class extends _S{constructor(e){super(e),this.type=null,this.value=null}};d([h({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],_d.prototype,"type",void 0),d([h({type:cq,json:{write:!0}})],_d.prototype,"value",void 0),_d=d([E("esri.popup.content.mixins.ChartMediaInfo")],_d);const e0=_d,t0=Ui()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});var d1;let hm=d1=class extends e0{constructor(t){super(t),this.type="bar-chart"}clone(){return new d1({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};d([h({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:t0.write}})],hm.prototype,"type",void 0),hm=d1=d([E("esri.popup.content.BarChartMediaInfo")],hm);const UA=hm;var h1;let pm=h1=class extends e0{constructor(t){super(t),this.type="column-chart"}clone(){return new h1({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};d([h({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:t0.write}})],pm.prototype,"type",void 0),pm=h1=d([E("esri.popup.content.ColumnChartMediaInfo")],pm);const HA=pm;var p1;let Sd=p1=class extends te{constructor(t){super(t),this.linkURL=null,this.sourceURL=null}clone(){return new p1({linkURL:this.linkURL,sourceURL:this.sourceURL})}};d([h({type:String,json:{write:!0}})],Sd.prototype,"linkURL",void 0),d([h({type:String,json:{write:!0}})],Sd.prototype,"sourceURL",void 0),Sd=p1=d([E("esri.popup.content.support.ImageMediaInfoValue")],Sd);const uq=Sd;var f1;let yc=f1=class extends _S{constructor(t){super(t),this.refreshInterval=null,this.type="image",this.value=null}clone(){return new f1({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})}};d([h({type:Number,json:{write:!0}})],yc.prototype,"refreshInterval",void 0),d([h({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],yc.prototype,"type",void 0),d([h({type:uq,json:{write:!0}})],yc.prototype,"value",void 0),yc=f1=d([E("esri.popup.content.ImageMediaInfo")],yc);const BA=yc;var m1;let fm=m1=class extends e0{constructor(t){super(t),this.type="line-chart"}clone(){return new m1({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};d([h({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:t0.write}})],fm.prototype,"type",void 0),fm=m1=d([E("esri.popup.content.LineChartMediaInfo")],fm);const GA=fm;var g1;let mm=g1=class extends e0{constructor(t){super(t),this.type="pie-chart"}clone(){return new g1({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};d([h({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:t0.write}})],mm.prototype,"type",void 0),mm=g1=d([E("esri.popup.content.PieChartMediaInfo")],mm);const VA=mm,WA={base:_S,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":UA,"column-chart":HA,"line-chart":GA,"pie-chart":VA,image:BA}};var y1;let En=y1=class extends ra{constructor(t){super(t),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(t){return t&&t.map(e=>e.type==="image"?BA.fromJSON(e):e.type==="barchart"?UA.fromJSON(e):e.type==="columnchart"?HA.fromJSON(e):e.type==="linechart"?GA.fromJSON(e):e.type==="piechart"?VA.fromJSON(e):void 0).filter(Boolean)}writeMediaInfos(t,e){e.mediaInfos=t&&t.map(i=>i.toJSON())}clone(){return new y1(z({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};d([h()],En.prototype,"activeMediaInfoIndex",void 0),d([h({type:Object,json:{write:!0}})],En.prototype,"attributes",void 0),d([h({type:String,json:{write:!0}})],En.prototype,"description",void 0),d([h({types:[WA]})],En.prototype,"mediaInfos",void 0),d([Re("mediaInfos")],En.prototype,"readMediaInfos",null),d([Ae("mediaInfos")],En.prototype,"writeMediaInfos",null),d([h({type:String,json:{write:!0}})],En.prototype,"title",void 0),d([h({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],En.prototype,"type",void 0),En=y1=d([E("esri.popup.content.MediaContent")],En);const Ag=En;var v1;let xd=v1=class extends te{constructor(t){super(t),this.field=null,this.order=null}clone(){return new v1({field:this.field,order:this.order})}};d([h({type:String,json:{write:!0}})],xd.prototype,"field",void 0),d([h({type:["asc","desc"],json:{write:!0}})],xd.prototype,"order",void 0),xd=v1=d([E("esri.popup.support.RelatedRecordsInfoFieldOrder")],xd);const qA=xd;let vr=class extends Vr(ra){constructor(e){super(e),this.description=null,this.displayCount=null,this.displayType="list",this.orderByFields=null,this.relationshipId=null,this.title=null,this.type="relationship"}};d([h({type:String,json:{write:!0}})],vr.prototype,"description",void 0),d([h({type:Number,json:{type:ut,write:!0}})],vr.prototype,"displayCount",void 0),d([h({type:["list"],json:{write:!0}})],vr.prototype,"displayType",void 0),d([h({type:[qA],json:{write:!0}})],vr.prototype,"orderByFields",void 0),d([h({type:Number,json:{type:ut,write:!0}})],vr.prototype,"relationshipId",void 0),d([h({type:String,json:{write:!0}})],vr.prototype,"title",void 0),d([h({type:["relationship"],readOnly:!0,json:{read:!1,write:!0}})],vr.prototype,"type",void 0),vr=d([E("esri.popup.content.RelationshipContent")],vr);const Lg=vr;var b1;let $d=b1=class extends ra{constructor(t){super(t),this.text=null,this.type="text"}clone(){return new b1({text:this.text})}};d([h({type:String,json:{write:!0}})],$d.prototype,"text",void 0),d([h({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],$d.prototype,"type",void 0),$d=b1=d([E("esri.popup.content.TextContent")],$d);const Pg=$d,dq={base:null,key:"type",typeMap:{attachment:Ig,media:Ag,text:Pg,expression:wS,field:Og,relationship:Lg}};var w1;let La=w1=class extends te{constructor(t){super(t),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new w1({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};d([h({type:String,json:{write:!0}})],La.prototype,"name",void 0),d([h({type:String,json:{write:!0}})],La.prototype,"title",void 0),d([h({type:String,json:{write:!0}})],La.prototype,"expression",void 0),d([h({type:["string","number"],json:{write:!0}})],La.prototype,"returnType",void 0),La=w1=d([E("esri.popup.ExpressionInfo")],La);const hq=La;var _1;let Td=_1=class extends te{constructor(t){super(t),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new _1({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};d([h({type:Boolean,json:{write:!0}})],Td.prototype,"returnTopmostRaster",void 0),d([h({type:Boolean,json:{write:!0}})],Td.prototype,"showNoDataRecords",void 0),Td=_1=d([E("esri.popup.LayerOptions")],Td);const pq=Td;var S1;let Ed=S1=class extends te{constructor(t){super(t),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new S1({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?z(this.orderByFields):null})}};d([h({type:Boolean,json:{write:!0}})],Ed.prototype,"showRelatedRecords",void 0),d([h({type:[qA],json:{write:!0}})],Ed.prototype,"orderByFields",void 0),Ed=S1=d([E("esri.popup.RelatedRecordsInfo")],Ed);const fq=Ed;var x1;let Ji=x1=class extends _p(Q){constructor(t){super(t),this.active=!1,this.className=null,this.disabled=!1,this.icon=null,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new x1({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};d([h()],Ji.prototype,"active",void 0),d([h()],Ji.prototype,"className",void 0),d([h()],Ji.prototype,"disabled",void 0),d([h()],Ji.prototype,"icon",void 0),d([h()],Ji.prototype,"id",void 0),d([h()],Ji.prototype,"indicator",void 0),d([h()],Ji.prototype,"title",void 0),d([h()],Ji.prototype,"type",void 0),d([h()],Ji.prototype,"visible",void 0),Ji=x1=d([E("esri.support.actions.ActionBase")],Ji);const SS=Ji;var $1;let gm=$1=class extends SS{constructor(t){super(t),this.image=null,this.type="button"}clone(){return new $1({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};d([h()],gm.prototype,"image",void 0),gm=$1=d([E("esri.support.Action.ActionButton")],gm);const mq=gm;var T1;let kd=T1=class extends SS{constructor(t){super(t),this.image=null,this.type="toggle",this.value=!1}clone(){return new T1({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};d([h()],kd.prototype,"image",void 0),d([h()],kd.prototype,"value",void 0),kd=T1=d([E("esri.support.Action.ActionToggle")],kd);const gq=kd,yq="esri.PopupTemplate",vq=G.getLogger(yq),nd="relationships/",ST="expression/",bq=ee.ofType({key:"type",defaultKeyValue:"button",base:SS,typeMap:{button:mq,toggle:gq}}),wq={base:ra,key:"type",typeMap:{media:Ag,custom:sq,text:Pg,attachments:Ig,fields:Og,expression:wS,relationship:Lg}},_q=new Set(["attachments","fields","media","text","expression","relationship"]);let _t=class extends Vr(te){constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title=""}castContent(e){return Array.isArray(e)?e.map(i=>Tl(wq,i)):typeof e=="string"||typeof e=="function"||e instanceof HTMLElement||Ns(e)?e:(vq.error("content error","unsupported content value",{value:e}),null)}readContent(e,i){const{popupElements:n}=i;return Array.isArray(n)&&n.length>0?this._readPopupInfoElements(i.description,i.mediaInfos,n):this._readPopupInfo(i)}writeContent(e,i,n,r){typeof e!="string"?Array.isArray(e)&&(i.popupElements=e.filter(s=>_q.has(s.type)).map(s=>s==null?void 0:s.toJSON(r)),i.popupElements.forEach(s=>{s.type==="attachments"?this._writeAttachmentContent(i):s.type==="media"?this._writeMediaContent(s,i):s.type==="text"?this._writeTextContent(s,i):s.type==="relationship"&&this._writeRelationshipContent(s,i)})):i.description=e}writeFieldInfos(e,i,n,r){const{content:s}=this,o=Array.isArray(s)?s:null;if(e){const a=o?o.filter(u=>u.type==="fields"):[],l=a.length&&a.every(u=>{var p;return(p=u.fieldInfos)==null?void 0:p.length});i.fieldInfos=e.filter(Boolean).map(u=>{const p=u.toJSON(r);return l&&(p.visible=!1),p})}if(o)for(const a of o)a.type==="fields"&&this._writeFieldsContent(a,i)}writeLayerOptions(e,i,n,r){i[n]=!e||e.showNoDataRecords===null&&e.returnTopmostRaster===null?null:e.toJSON(r)}writeTitle(e,i){i.title=e||""}async collectRequiredFields(e,i){const n=this.expressionInfos||[];await this._collectExpressionInfoFields(e,i,[...n,...this._getContentExpressionInfos(this.content,n)]),Fh(e,i,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(e){const i=new Set;return await this.collectRequiredFields(i,e),[...i].sort()}_writeFieldsContent(e,i){if(!Array.isArray(e.fieldInfos)||!e.fieldInfos.length)return;const n=z(e.fieldInfos);Array.isArray(i.fieldInfos)?n.forEach(r=>{const s=i.fieldInfos.find(o=>o.fieldName.toLowerCase()===r.fieldName.toLowerCase());s?s.visible=!0:i.fieldInfos.push(r)}):i.fieldInfos=n}_writeAttachmentContent(e){e.showAttachments||(e.showAttachments=!0)}_writeRelationshipContent(e,i){var s,o;const n=((s=e.orderByFields)==null?void 0:s.map(a=>this._toFieldOrderJSON(a,e.relationshipId)))||[],r=[...((o=i.relatedRecordsInfo)==null?void 0:o.orderByFields)||[],...n];i.relatedRecordsInfo={showRelatedRecords:!0,...(r==null?void 0:r.length)&&{orderByFields:r}}}_writeTextContent(e,i){!i.description&&e.text&&(i.description=e.text)}_writeMediaContent(e,i){if(!Array.isArray(e.mediaInfos)||!e.mediaInfos.length)return;const n=z(e.mediaInfos);Array.isArray(i.mediaInfos)?i.mediaInfos=[...i.mediaInfos,...n]:i.mediaInfos=n}_readPopupInfoElements(e,i,n){const r={description:!1,mediaInfos:!1};return n.map(s=>s.type==="media"?(s.mediaInfos||!i||r.mediaInfos||(s.mediaInfos=i,r.mediaInfos=!0),Ag.fromJSON(s)):s.type==="text"?(s.text||!e||r.description||(s.text=e,r.description=!0),Pg.fromJSON(s)):s.type==="attachments"?Ig.fromJSON(s):s.type==="fields"?Og.fromJSON(s):s.type==="expression"?wS.fromJSON(s):s.type==="relationship"?Lg.fromJSON(s):void 0).filter(Boolean)}_toRelationshipContent(e){const{field:i,order:n}=e;if(!(i!=null&&i.startsWith(nd)))return null;const r=i.replace(nd,"").split("/");if(r.length!==2)return null;const s=parseInt(r[0],10),o=r[1];return typeof s=="number"&&o?Lg.fromJSON({relationshipId:s,orderByFields:[{field:o,order:n}]}):null}_toFieldOrderJSON(e,i){const{order:n,field:r}=e;return{field:`${nd}${i}/${r}`,order:n}}_readPopupInfo({description:e,mediaInfos:i,showAttachments:n,relatedRecordsInfo:r={showRelatedRecords:!1}}){const s=[];e?s.push(new Pg({text:e})):s.push(new Og),Array.isArray(i)&&i.length&&s.push(Ag.fromJSON({mediaInfos:i})),n&&s.push(Ig.fromJSON({displayType:"auto"}));const{showRelatedRecords:o,orderByFields:a}=r;return o&&(a!=null&&a.length)&&a.forEach(l=>{const u=this._toRelationshipContent(l);u&&s.push(u)}),s.length?s:e}_getContentElementFields(e){const i=e==null?void 0:e.type;if(i==="attachments")return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description)];if(i==="custom")return e.outFields||[];if(i==="fields")return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description),...this._getFieldInfoFields(e.fieldInfos??this.fieldInfos)];if(i==="media"){const n=e.mediaInfos||[];return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description),...n.reduce((r,s)=>[...r,...this._getMediaInfoFields(s)],[])]}return i==="text"?this._extractFieldNames(e.text):[]}_getMediaInfoFields(e){const{caption:i,title:n,value:r}=e,s=r||{},{fields:o,normalizeField:a,tooltipField:l,sourceURL:u,linkURL:p}=s,f=[...this._extractFieldNames(n),...this._extractFieldNames(i),...this._extractFieldNames(u),...this._extractFieldNames(p),...o??[]];return a&&f.push(a),l&&f.push(l),f}_getContentExpressionInfos(e,i){return Array.isArray(e)?e.reduce((n,r)=>[...n,...r.type==="expression"&&r.expressionInfo?[r.expressionInfo]:[]],i):[]}_getContentFields(e){return typeof e=="string"?this._extractFieldNames(e):Array.isArray(e)?e.reduce((i,n)=>[...i,...this._getContentElementFields(n)],[]):[]}async _collectExpressionInfoFields(e,i,n){n&&await Promise.all(n.map(r=>Ll(e,i,r.expression)))}_getFieldInfoFields(e){return e?e.filter(i=>i.visible===void 0||!!i.visible).map(i=>i.fieldName).filter(i=>!i.startsWith(nd)&&!i.startsWith(ST)):[]}_getActionsFields(e){return e?e.toArray().reduce((i,n)=>[...i,...this._getActionFields(n)],[]):[]}_getActionFields(e){const{className:i,title:n,type:r}=e,s=r==="button"||r==="toggle"?e.image:"";return[...this._extractFieldNames(n),...this._extractFieldNames(i),...this._extractFieldNames(s)]}_getTitleFields(e){return typeof e=="string"?this._extractFieldNames(e):[]}_extractFieldNames(e){if(!e||typeof e!="string")return[];const i=/{[^}]*}/g,n=e.match(i);if(!n)return[];const r=/\{(\w+):.+\}/,s=n.filter(o=>!(o.indexOf(`{${nd}`)===0||o.indexOf(`{${ST}`)===0)).map(o=>o.replace(r,"{$1}"));return s?s.map(o=>o.slice(1,-1)):[]}};d([h({type:bq})],_t.prototype,"actions",void 0),d([h()],_t.prototype,"content",void 0),d([ei("content")],_t.prototype,"castContent",null),d([Re("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments","relatedRecordsInfo"])],_t.prototype,"readContent",null),d([Ae("content",{popupElements:{type:ee.ofType(dq)},showAttachments:{type:Boolean},mediaInfos:{type:ee.ofType(WA)},description:{type:String},relatedRecordsInfo:{type:fq}})],_t.prototype,"writeContent",null),d([h({type:[hq],json:{write:!0}})],_t.prototype,"expressionInfos",void 0),d([h({type:[jA]})],_t.prototype,"fieldInfos",void 0),d([Ae("fieldInfos")],_t.prototype,"writeFieldInfos",null),d([h({type:pq})],_t.prototype,"layerOptions",void 0),d([Ae("layerOptions")],_t.prototype,"writeLayerOptions",null),d([h({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],_t.prototype,"lastEditInfoEnabled",void 0),d([h()],_t.prototype,"outFields",void 0),d([h()],_t.prototype,"overwriteActions",void 0),d([h()],_t.prototype,"returnGeometry",void 0),d([h({json:{type:String}})],_t.prototype,"title",void 0),d([Ae("title")],_t.prototype,"writeTitle",null),_t=d([E("esri.PopupTemplate")],_t);const xS=_t,xT=new Gn({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let Sq=0,vc=class extends te{constructor(e){super(e),this.id="sym"+Sq++,this.type=null,this.color=new ve([0,0,0,1])}readColor(e){return(e==null?void 0:e[0])!=null?[e[0],e[1],e[2],e[3]/255]:e}async collectRequiredFields(e,i){}hash(){return JSON.stringify(this.toJSON())}clone(){}};d([h({type:xT.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:xT.write}}})],vc.prototype,"type",void 0),d([h({type:ve,json:{write:{allowNull:!0}}})],vc.prototype,"color",void 0),d([Re("color")],vc.prototype,"readColor",null),vc=d([E("esri.symbols.Symbol")],vc);const Hi=vc;var E1;let so=E1=class extends Hi{constructor(t){super(t),this.data=null,this.type="cim"}readData(t,e){return e}writeData(t,e){Object.assign(e,t)}async collectRequiredFields(t,e){var i;if(((i=this.data)==null?void 0:i.type)==="CIMSymbolReference"){const n=this.data.primitiveOverrides;if(n){const r=n.map(s=>{const o=s.valueExpressionInfo;return Ll(t,e,o.expression)});await Promise.all(r)}}}clone(){return new E1({data:z(this.data)})}hash(){return LM(JSON.stringify(this.data)).toString()}};d([h({json:{write:!1}})],so.prototype,"color",void 0),d([h({json:{write:!0}})],so.prototype,"data",void 0),d([Re("data",["symbol"])],so.prototype,"readData",null),d([Ae("data",{})],so.prototype,"writeData",null),d([be({CIMSymbolReference:"cim"},{readOnly:!0})],so.prototype,"type",void 0),so=E1=d([E("esri.symbols.CIMSymbol")],so);const i0=so;let bc=class extends te{constructor(e){super(e),this.enabled=!0,this.type=null,this.ignoreDrivers=!1}writeEnabled(e,i,n){e||(i[n]=e)}};d([h({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],bc.prototype,"enabled",void 0),d([Ae("enabled")],bc.prototype,"writeEnabled",null),d([h({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0})],bc.prototype,"type",void 0),bc=d([E("esri.symbols.Symbol3DLayer")],bc);const Wr=bc;function xq(t,e){const i=e.transparency!=null?rA(e.transparency):1,n=e.color;return n&&Array.isArray(n)?new ve([n[0]||0,n[1]||0,n[2]||0,i]):null}function $q(t,e){e.color=t.toJSON().slice(0,3);const i=nA(t.a);i!==0&&(e.transparency=i)}const sa={type:ve,json:{type:[ut],default:null,read:{source:["color","transparency"],reader:xq},write:{target:{color:{type:[ut]},transparency:{type:ut}},writer:$q}}},Hr={type:Number,cast:Je,json:{write:!0}};let Pa=class extends te{constructor(e){super(e),this.color=new ve([0,0,0,1]),this.extensionLength=0,this.size=Jo(1)}clone(){}cloneProperties(){return{color:z(this.color),size:this.size,extensionLength:this.extensionLength}}};d([h({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Pa.prototype,"type",void 0),d([h(sa)],Pa.prototype,"color",void 0),d([h({...Hr,json:{write:{overridePolicy:t=>({enabled:!!t})}}})],Pa.prototype,"extensionLength",void 0),d([h(Hr)],Pa.prototype,"size",void 0),Pa=d([E("esri.symbols.edges.Edges3D")],Pa);const $S=Pa;var k1;let ym=k1=class extends $S{constructor(t){super(t),this.type="sketch"}clone(){return new k1(this.cloneProperties())}};d([be({sketch:"sketch"},{readOnly:!0})],ym.prototype,"type",void 0),ym=k1=d([E("esri.symbols.edges.SketchEdges3D")],ym);const Tq=ym;var M1;let vm=M1=class extends $S{constructor(t){super(t),this.type="solid"}clone(){return new M1(this.cloneProperties())}};d([be({solid:"solid"},{readOnly:!0})],vm.prototype,"type",void 0),vm=M1=d([E("esri.symbols.support.SolidEdges3D")],vm);const Eq=vm,ZA={types:{key:"type",base:$S,typeMap:{solid:Eq,sketch:Tq}},json:{write:!0}};var C1;let an=C1=class extends te{constructor(t){super(t),this.color=null}clone(){const t={color:this.color!=null?this.color.clone():null};return new C1(t)}};d([h(sa)],an.prototype,"color",void 0),an=C1=d([E("esri.symbols.support.Symbol3DMaterial")],an);var I1;let oo=I1=class extends Wr{constructor(t){super(t),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new I1({edges:this.edges&&this.edges.clone(),enabled:this.enabled,material:this.material!=null?this.material.clone():null,castShadows:this.castShadows,size:this.size})}};d([be({Extrude:"extrude"},{readOnly:!0})],oo.prototype,"type",void 0),d([h({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],oo.prototype,"size",void 0),d([h({type:an,json:{write:!0}})],oo.prototype,"material",void 0),d([h({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],oo.prototype,"castShadows",void 0),d([h(ZA)],oo.prototype,"edges",void 0),oo=I1=d([E("esri.symbols.ExtrudeSymbol3DLayer")],oo);const JA=oo;let Md=class extends Hi{constructor(e){super(e),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};d([be({esriSLS:"simple-line"},{readOnly:!0})],Md.prototype,"type",void 0),d([h({type:Number,cast:Je,json:{write:!0}})],Md.prototype,"width",void 0),Md=d([E("esri.symbols.LineSymbol")],Md);const kq=Md,Mq=["begin","end","begin-end"],KA=["arrow","circle","square","diamond","cross","x"];var O1;let br=O1=class extends te{constructor(t){super(t),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(t,e,i,n){e[i]=(n==null?void 0:n.origin)==="web-map"?"arrow":t}set color(t){this._set("color",t)}readColor(t){return(t==null?void 0:t[0])!=null?[t[0],t[1],t[2],t[3]/255]:t}writeColor(t,e,i,n){(n==null?void 0:n.origin)==="web-map"||(e[i]=t)}clone(){return new O1({color:z(this.color),placement:this.placement,style:this.style})}hash(){var t;return`${this.placement}.${(t=this.color)==null?void 0:t.hash()}.${this.style}`}};d([h({type:["begin","end","begin-end"],json:{write:!0}})],br.prototype,"placement",void 0),d([be({"line-marker":"line-marker"},{readOnly:!0}),h({json:{origins:{"web-map":{write:!1}}}})],br.prototype,"type",void 0),d([h({type:KA})],br.prototype,"style",void 0),d([Ae("style")],br.prototype,"writeStyle",null),d([h({type:ve,value:null,json:{write:{allowNull:!0}}})],br.prototype,"color",null),d([Re("color")],br.prototype,"readColor",null),d([Ae("color")],br.prototype,"writeColor",null),br=O1=d([E("esri.symbols.LineSymbolMarker")],br);const Cq=br;var A1;const ov=new Gn({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSInsideFrame:"inside-frame",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let hs=A1=class extends kq{constructor(...t){super(...t),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(t,e,i,n,r,s){if(t&&typeof t!="string")return t;const o={};return t!=null&&(o.style=t),e!=null&&(o.color=e),i!=null&&(o.width=Je(i)),n!=null&&(o.cap=n),r!=null&&(o.join=r),s!=null&&(o.miterLimit=Je(s)),o}clone(){var t;return new A1({color:z(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:(t=this.marker)==null?void 0:t.clone()})}hash(){var t,e;return`${super.hash()}.${(t=this.color)==null?void 0:t.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${(e=this.marker)==null?void 0:e.hash()}`}};d([be({esriSLS:"simple-line"},{readOnly:!0})],hs.prototype,"type",void 0),d([h({type:ov.apiValues,json:{read:ov.read,write:ov.write}})],hs.prototype,"style",void 0),d([h({type:["butt","round","square"],json:{write:{overridePolicy:(t,e,i)=>({enabled:t!=="round"&&(i==null?void 0:i.origin)==null})}}})],hs.prototype,"cap",void 0),d([h({type:["miter","round","bevel"],json:{write:{overridePolicy:(t,e,i)=>({enabled:t!=="round"&&(i==null?void 0:i.origin)==null})}}})],hs.prototype,"join",void 0),d([h({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":Cq}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],hs.prototype,"marker",void 0),d([h({type:Number,json:{read:!1,write:!1}})],hs.prototype,"miterLimit",void 0),hs=A1=d([E("esri.symbols.SimpleLineSymbol")],hs);const ql=hs;let Cd=class extends Hi{constructor(e){super(e),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline&&this.outline.hash()}`}};d([h({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":ql}},json:{default:null,write:!0}})],Cd.prototype,"outline",void 0),d([h({type:["simple-fill","picture-fill"],readOnly:!0})],Cd.prototype,"type",void 0),Cd=d([E("esri.symbols.FillSymbol")],Cd);const YA=Cd;let bm=class extends te{constructor(e){super(e)}clone(){}};d([h({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],bm.prototype,"type",void 0),bm=d([E("esri.symbols.patterns.LinePattern3D")],bm);const XA=bm,Iq=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var L1;const Oq=Ui()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let Id=L1=class extends XA{constructor(t){super(t),this.type="style",this.style="solid"}clone(){const t={style:this.style};return new L1(t)}};d([h({type:["style"]})],Id.prototype,"type",void 0),d([be(Oq),h({type:Iq})],Id.prototype,"style",void 0),Id=L1=d([E("esri.symbols.patterns.LineStylePattern3D")],Id);const TS=Id;let wm=class extends te{constructor(e){super(e)}clone(){}};d([h({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],wm.prototype,"type",void 0),wm=d([E("esri.symbols.patterns.Pattern3D")],wm);const QA=wm,Aq=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var P1;let Od=P1=class extends QA{constructor(t){super(t),this.type="style",this.style="solid"}clone(){const t={style:this.style};return new P1(t)}};d([h({type:["style"]})],Od.prototype,"type",void 0),d([h({type:Aq,json:{read:!0,write:!0}})],Od.prototype,"style",void 0),Od=P1=d([E("esri.symbols.patterns.StylePattern3D")],Od);const eL=Od,Lq={types:{key:"type",base:QA,typeMap:{style:eL}},json:{write:!0}},tL={types:{key:"type",base:XA,typeMap:{style:TS}},json:{write:!0}},ph=new ve("white");new ve("black");const Pq=new ve([255,255,255,0]);function Rq(t){return t.r===0&&t.g===0&&t.b===0}var R1;let fh=R1=class extends an{constructor(t){super(t),this.colorMixMode=null}clone(){const t={color:this.color!=null?this.color.clone():null,colorMixMode:this.colorMixMode};return new R1(t)}};d([be({multiply:"multiply",replace:"replace",tint:"tint"})],fh.prototype,"colorMixMode",void 0),fh=R1=d([E("esri.symbols.support.Symbol3DFillMaterial")],fh);function ES(t=jq){return[t[0],t[1],t[2],t[3],t[4],t[5]]}function kS(t,e,i,n,r,s,o=ES()){return o[0]=t,o[1]=e,o[2]=i,o[3]=n,o[4]=r,o[5]=s,o}function Nhe(t,e){const i=isFinite(t[2])||isFinite(t[5]);return new Le(i?{xmin:t[0],xmax:t[3],ymin:t[1],ymax:t[4],zmin:t[2],zmax:t[5],spatialReference:e}:{xmin:t[0],xmax:t[3],ymin:t[1],ymax:t[4],spatialReference:e})}function Dhe(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.min(t[2],e[2]),t[3]=Math.max(t[3],e[3]),t[4]=Math.max(t[4],e[4]),t[5]=Math.max(t[5],e[5])}function zhe(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.min(t[2],e[2]),t[3]=Math.max(t[3],e[0]),t[4]=Math.max(t[4],e[1]),t[5]=Math.max(t[5],e[2])}function Nq(t){return t[0]>=t[3]?0:t[3]-t[0]}function Dq(t){return t[1]>=t[4]?0:t[4]-t[1]}function zq(t){return t[2]>=t[5]?0:t[5]-t[2]}function Fhe(t,e=[0,0,0]){return e[0]=Nq(t),e[1]=Dq(t),e[2]=zq(t),e}function jhe(t,e,i=t){return i[0]=e[0],i[1]=e[1],i[2]=e[2],i!==t&&(i[3]=t[3],i[4]=t[4],i[5]=t[5]),i}function Uhe(t,e,i=t){return i[3]=e[0],i[4]=e[1],i[5]=e[2],i!==t&&(i[0]=t[0],i[1]=t[1],i[2]=t[2]),t}function Fq(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function Hhe(t){return t?Fq(t,TT):ES(TT)}function Bhe(t,e){return t[0]=e[0],t[1]=e[1],t[2]=Number.NEGATIVE_INFINITY,t[3]=e[2],t[4]=e[3],t[5]=Number.POSITIVE_INFINITY,t}function Ghe(t,e,i,n,r){return t[0]=e,t[1]=i,t[2]=Number.NEGATIVE_INFINITY,t[3]=n,t[4]=r,t[5]=Number.POSITIVE_INFINITY,t}function $T(t){return t.length===6}function Vhe(t,e,i){if(t==null||e==null)return t===e;if(!$T(t)||!$T(e))return!1;if(i){for(let n=0;n<t.length;n++)if(!i(t[n],e[n]))return!1}else for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}const TT=[1/0,1/0,1/0,-1/0,-1/0,-1/0],jq=[0,0,0,0,0,0];ES();const Uq=kS(-.5,-.5,-.5,.5,.5,.5),Hq=kS(-.5,-.5,0,.5,.5,1),Bq=kS(-.5,-.5,0,.5,.5,.5);function Whe(t){switch(t){case"sphere":case"cube":case"diamond":return Uq;case"cylinder":case"cone":case"inverted-cone":return Hq;case"tetrahedron":return Bq;default:return}}const MS=["butt","square","round"],Gq=[...MS,"none"],iL=["miter","bevel","round"];var N1;let Ra=N1=class extends te{constructor(t){super(t),this.color=new ve([0,0,0,1]),this.size=Jo(1),this.pattern=null,this.patternCap="butt"}clone(){const t={color:this.color!=null?this.color.clone():null,size:this.size,pattern:this.pattern!=null?this.pattern.clone():null,patternCap:this.patternCap};return new N1(t)}};d([h(sa)],Ra.prototype,"color",void 0),d([h(Hr)],Ra.prototype,"size",void 0),d([h(tL)],Ra.prototype,"pattern",void 0),d([h({type:MS,json:{default:"butt",write:{overridePolicy(){return{enabled:this.pattern!=null}}}}})],Ra.prototype,"patternCap",void 0),Ra=N1=d([E("esri.symbols.support.Symbol3DOutline")],Ra);var _m;let ps=_m=class extends Wr{constructor(t){super(t),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const t={edges:this.edges!=null?this.edges.clone():null,enabled:this.enabled,material:this.material!=null?this.material.clone():null,pattern:this.pattern!=null?this.pattern.clone():null,castShadows:this.castShadows,outline:this.outline!=null?this.outline.clone():null};return new _m(t)}static fromSimpleFillSymbol(t){var n,r,s;const e=t.outline&&t.outline.style&&t.outline.style!=="inside-frame"&&t.outline.style!=="solid"?new TS({style:t.outline.style}):null,i={size:((n=t.outline)==null?void 0:n.width)??0,color:(((r=t.outline)==null?void 0:r.color)??ph).clone(),pattern:e};return e&&((s=t.outline)!=null&&s.cap)&&(i.patternCap=t.outline.cap),new _m({material:new fh({color:(t.color??Pq).clone()}),pattern:t.style&&t.style!=="solid"?new eL({style:t.style}):null,outline:i})}};d([be({Fill:"fill"},{readOnly:!0})],ps.prototype,"type",void 0),d([h({type:fh,json:{write:!0}})],ps.prototype,"material",void 0),d([h(Lq)],ps.prototype,"pattern",void 0),d([h({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],ps.prototype,"castShadows",void 0),d([h({type:Ra,json:{write:!0}})],ps.prototype,"outline",void 0),d([h(ZA)],ps.prototype,"edges",void 0),ps=_m=d([E("esri.symbols.FillSymbol3DLayer")],ps);const Sp=ps,Vq=["none","underline","line-through"],Wq=["normal","italic","oblique"],qq=["normal","lighter","bold","bolder"],nL={type:Number,cast:t=>{const e=Pn(t);return e===0?1:Vn(e,.1,4)},nonNullable:!0},Zq=["left","right","center"],Jq=["baseline","top","middle","bottom"],rL={type:Zq,nonNullable:!0},sL={type:Jq,nonNullable:!0},qhe=8;var D1;let fs=D1=class extends te{constructor(t){super(t),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(t){return Je(t)}clone(){return new D1({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};d([h({type:Vq,json:{default:"none",write:!0}})],fs.prototype,"decoration",void 0),d([h({type:String,json:{write:!0}})],fs.prototype,"family",void 0),d([h({type:Number,json:{write:{overridePolicy:(t,e,i)=>({enabled:!i||!i.textSymbol3D})}}})],fs.prototype,"size",void 0),d([ei("size")],fs.prototype,"castSize",null),d([h({type:Wq,json:{default:"normal",write:!0}})],fs.prototype,"style",void 0),d([h({type:qq,json:{default:"normal",write:!0}})],fs.prototype,"weight",void 0),fs=D1=d([E("esri.symbols.Font")],fs);const n0=fs;function xp(t,e){var n;const i=(n=e==null?void 0:e.url)==null?void 0:n.path;if(t&&i&&(t=tn(t,i,{preserveProtocolRelative:!0}),e.portalItem&&e.readResourcePaths)){const r=w_(t,e.portalItem.itemUrl);r!=null&&Kq.test(r)&&e.readResourcePaths.push(e.portalItem.resourceFromPath(r).path)}return z1(t,e==null?void 0:e.portal)}function r0(t,e,i=jh.YES){var r,s;if(t==null)return t;!Ri(t)&&(e!=null&&e.blockedRelativeUrls)&&e.blockedRelativeUrls.push(t);let n=tn(t);if(e){const o=((r=e.verifyItemRelativeUrls)==null?void 0:r.rootPath)||((s=e.url)==null?void 0:s.path);if(o){const a=z1(o,e.portal),l=z1(n,e.portal);n=w_(l,a,a),n!=null&&n!==l&&n!==t&&e.verifyItemRelativeUrls&&e.verifyItemRelativeUrls.writtenUrls.push(n)}}return n=aL(n,e==null?void 0:e.portal),Ri(n)&&(n=ks(n)),e!=null&&e.resources&&(e!=null&&e.portalItem)&&!Ri(n)&&!Bl(n)&&i===jh.YES&&e.resources.toKeep.push({resource:e.portalItem.resourceFromPath(n),compress:!1}),n}function CS(t,e,i){return xp(t,i)}function yu(t,e,i,n){const r=r0(t,n);r!==void 0&&(e[i]=r)}const oL=/\/items\/([^\/]+)\/resources\/(.*)/,Kq=/^\.\/resources\//;function Yq(t){const e=(t==null?void 0:t.match(oL))??null;return(e==null?void 0:e[1])??null}function Xq(t){const e=(t==null?void 0:t.match(oL))??null;if(e==null)return null;const i=e[2],n=i.lastIndexOf("/");if(n===-1){const{path:o,extension:a}=v$(i);return{prefix:null,filename:o,extension:a}}const{path:r,extension:s}=v$(i.slice(n+1));return{prefix:i.slice(0,n),filename:r,extension:s}}function aL(t,e){return e&&!e.isPortal&&e.urlKey&&e.customBaseUrl?hb(t,`${e.urlKey}.${e.customBaseUrl}`,e.portalHostname):t}function z1(t,e){if(!e||e.isPortal||!e.urlKey||!e.customBaseUrl)return t;const i=`${e.urlKey}.${e.customBaseUrl}`,n=g_();return lu(n,`${n.scheme}://${i}`)?hb(t,e.portalHostname,i):hb(t,i,e.portalHostname)}var jh;(function(t){t[t.YES=0]="YES",t[t.NO=1]="NO"})(jh||(jh={}));const Zhe=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return jh},ensureMainOnlineDomain:aL,fromJSON:xp,itemIdFromResourceUrl:Yq,prefixAndFilenameFromResourceUrl:Xq,read:CS,toJSON:r0,write:yu},Symbol.toStringTag,{value:"Module"}));var F1;const Qq=Ui()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let Na=F1=class extends te{constructor(t){super(t)}readHref(t,e,i){return t?xp(t,i):e.dataURI}writeHref(t,e,i,n){t&&(Bl(t)?e.dataURI=t:(e.href=r0(t,n),Ri(e.href)&&(e.href=ks(e.href))))}clone(){return new F1({href:this.href,primitive:this.primitive})}};d([h({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],Na.prototype,"href",void 0),d([Re("href")],Na.prototype,"readHref",null),d([Ae("href",{href:{type:String},dataURI:{type:String}})],Na.prototype,"writeHref",null),d([be(Qq)],Na.prototype,"primitive",void 0),Na=F1=d([E("esri.symbols.support.IconSymbol3DLayerResource")],Na);var j1;let jc=j1=class extends Q{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new j1({x:this.x,y:this.y})}};d([h({type:Number})],jc.prototype,"x",void 0),d([h({type:Number})],jc.prototype,"y",void 0),jc=j1=d([E("esri.symbols.support.Symbol3DAnchorPosition2D")],jc);var U1;let Ad=U1=class extends te{constructor(t){super(t),this.color=new ve([0,0,0,1]),this.size=Jo(1)}clone(){const t={color:this.color!=null?this.color.clone():null,size:this.size};return new U1(t)}};d([h(sa)],Ad.prototype,"color",void 0),d([h(Hr)],Ad.prototype,"size",void 0),Ad=U1=d([E("esri.symbols.support.Symbol3DIconOutline")],Ad);var wc;const lL="esri.symbols.IconSymbol3DLayer";let wr=wc=class extends Wr{constructor(t){super(t),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null}clone(){return new wc({anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),enabled:this.enabled,material:this.material!=null?this.material.clone():null,outline:this.outline!=null?this.outline.clone():null,resource:this.resource&&this.resource.clone(),size:this.size})}static fromSimpleMarkerSymbol(t){const e=t.color||ph,i=ET(t),n=t.outline&&t.outline.width>0?{size:t.outline.width,color:(t.outline.color||ph).clone()}:null;return new wc({size:t.size,resource:{primitive:tZ(t.style)},material:{color:e},outline:n,anchor:i?"relative":void 0,anchorPosition:i})}static fromPictureMarkerSymbol(t){const e=!t.color||Rq(t.color)?ph:t.color,i=ET(t);return new wc({size:t.width<=t.height?t.height:t.width,resource:{href:t.url},material:{color:e.clone()},anchor:i?"relative":void 0,anchorPosition:i})}static fromCIMSymbol(t){return new wc({resource:{href:IC({mediaType:"application/json",data:JSON.stringify(t.data)})}})}};function ET(t){const e="width"in t?t.width:t.size,i="height"in t?t.height:t.size,n=kT(t.xoffset),r=kT(t.yoffset);return(n||r)&&e&&i?{x:-n/e,y:r/i}:null}function kT(t){return isFinite(t)?t:0}d([h({type:an,json:{write:!0}})],wr.prototype,"material",void 0),d([h({type:Na,json:{write:!0}})],wr.prototype,"resource",void 0),d([be({Icon:"icon"},{readOnly:!0})],wr.prototype,"type",void 0),d([h(Hr)],wr.prototype,"size",void 0),d([be({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),h({json:{default:"center"}})],wr.prototype,"anchor",void 0),d([h({type:jc,json:{type:[Number],read:{reader:t=>new jc({x:t[0],y:t[1]})},write:{writer:(t,e)=>{e.anchorPosition=[t.x,t.y]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],wr.prototype,"anchorPosition",void 0),d([h({type:Ad,json:{write:!0}})],wr.prototype,"outline",void 0),wr=wc=d([E(lL)],wr);const eZ={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function tZ(t){return eZ[t]||(G.getLogger(lL).warn(`${t} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}const ml=wr;let Da=class extends Vr(te){constructor(e){super(e),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(e){return e!=null&&e.placement===this.placement&&e.style===this.style&&(this.color==null&&e.color==null||this.color!=null&&e.color!=null&&this.color.toJSON()===e.color.toJSON())}};d([h({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Da.prototype,"type",void 0),d([h({type:Mq,json:{default:"begin-end",write:!0}})],Da.prototype,"placement",void 0),d([h({type:KA,json:{default:"arrow",write:!0}})],Da.prototype,"style",void 0),d([h({type:ve,json:{type:[ut],default:null,write:!0}})],Da.prototype,"color",void 0),Da=d([E("esri.symbols.LineStyleMarker3D")],Da);const H1=Da;var Sm;let _r=Sm=class extends Wr{constructor(t){super(t),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=Jo(1),this.pattern=null,this.marker=null}clone(){const t={enabled:this.enabled,material:this.material!=null?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:this.pattern!=null?this.pattern.clone():null,marker:this.marker!=null?this.marker.clone():null};return new Sm(t)}static fromSimpleLineSymbol(t){var i;const e={enabled:!0,size:t.width??Jo(1),cap:t.cap||"butt",join:t.join||"miter",pattern:t.style&&t.style!=="inside-frame"?new TS({style:t.style}):null,material:new an({color:(t.color||ph).clone()}),marker:t.marker?new H1({placement:t.marker.placement,style:t.marker.style,color:((i=t.marker.color)==null?void 0:i.clone())??null}):null};return new Sm(e)}};d([h({type:an,json:{write:!0}})],_r.prototype,"material",void 0),d([be({Line:"line"},{readOnly:!0})],_r.prototype,"type",void 0),d([h({type:iL,json:{write:!0,default:"miter"}})],_r.prototype,"join",void 0),d([h({type:MS,json:{write:!0,default:"butt"}})],_r.prototype,"cap",void 0),d([h(Hr)],_r.prototype,"size",void 0),d([h(tL)],_r.prototype,"pattern",void 0),d([h({types:{key:"type",base:H1,typeMap:{style:H1}},json:{write:!0}})],_r.prototype,"marker",void 0),_r=Sm=d([E("esri.symbols.LineSymbol3DLayer")],_r);const $p=_r;var B1;const iZ=Ui()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let Ld=B1=class extends te{clone(){return new B1({href:this.href,primitive:this.primitive})}};d([h({type:String,json:{read:CS,write:yu}})],Ld.prototype,"href",void 0),d([be(iZ)],Ld.prototype,"primitive",void 0),Ld=B1=d([E("esri.symbols.support.ObjectSymbol3DLayerResource")],Ld);var G1;let tl=G1=class extends Q{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new G1({x:this.x,y:this.y,z:this.z})}};d([h({type:Number})],tl.prototype,"x",void 0),d([h({type:Number})],tl.prototype,"y",void 0),d([h({type:Number})],tl.prototype,"z",void 0),tl=G1=d([E("esri.symbols.support.Symbol3DAnchorPosition3D")],tl);var V1;let Vt=V1=class extends Wr{constructor(t){super(t),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){var t,e,i;return new V1({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:(t=this.anchorPosition)==null?void 0:t.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:((e=this.material)==null?void 0:e.clone())??null,castShadows:this.castShadows,resource:(i=this.resource)==null?void 0:i.clone(),width:this.width})}get isPrimitive(){return!this.resource||typeof this.resource.href!="string"}};d([h({type:an,json:{write:!0}})],Vt.prototype,"material",void 0),d([h({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Vt.prototype,"castShadows",void 0),d([h({type:Ld,json:{write:!0}})],Vt.prototype,"resource",void 0),d([be({Object:"object"},{readOnly:!0})],Vt.prototype,"type",void 0),d([h({type:Number,json:{write:!0}})],Vt.prototype,"width",void 0),d([h({type:Number,json:{write:!0}})],Vt.prototype,"height",void 0),d([h({type:Number,json:{write:!0}})],Vt.prototype,"depth",void 0),d([be({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),h({json:{default:"origin"}})],Vt.prototype,"anchor",void 0),d([h({type:tl,json:{type:[Number],read:{reader:t=>new tl({x:t[0],y:t[1],z:t[2]})},write:{writer:(t,e)=>{e.anchorPosition=[t.x,t.y,t.z]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],Vt.prototype,"anchorPosition",void 0),d([h({type:Number,json:{write:!0}})],Vt.prototype,"heading",void 0),d([h({type:Number,json:{write:!0}})],Vt.prototype,"tilt",void 0),d([h({type:Number,json:{write:!0}})],Vt.prototype,"roll",void 0),d([h({readOnly:!0})],Vt.prototype,"isPrimitive",null),Vt=V1=d([E("esri.symbols.ObjectSymbol3DLayer")],Vt);const IS=Vt;var W1;let ni=W1=class extends Wr{constructor(t){super(t),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(t,e){return t??(e.height==null&&e.size!=null?e.size:void 0)}readHeight(t,e){return t??(e.width==null&&e.size!=null?e.size:void 0)}clone(){return new W1({enabled:this.enabled,material:this.material!=null?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};d([h({type:an,json:{write:!0}})],ni.prototype,"material",void 0),d([h({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],ni.prototype,"castShadows",void 0),d([be({Path:"path"},{readOnly:!0})],ni.prototype,"type",void 0),d([h({type:["circle","quad"],json:{write:!0,default:"circle"}})],ni.prototype,"profile",void 0),d([h({type:iL,json:{write:!0,default:"miter"}})],ni.prototype,"join",void 0),d([h({type:Gq,json:{write:!0,default:"butt"}})],ni.prototype,"cap",void 0),d([h({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],ni.prototype,"width",void 0),d([Re("width",["width","size","height"])],ni.prototype,"readWidth",null),d([h({type:Number,json:{write:!0}})],ni.prototype,"height",void 0),d([Re("height",["height","size","width"])],ni.prototype,"readHeight",null),d([h({type:["center","bottom","top"],json:{write:!0,default:"center"}})],ni.prototype,"anchor",void 0),d([h({type:["heading","all"],json:{write:!0,default:"all"}})],ni.prototype,"profileRotation",void 0),ni=W1=d([E("esri.symbols.PathSymbol3DLayer")],ni);const OS=ni;var q1;let Uc=q1=class extends te{constructor(){super(...arguments),this.color=new ve([0,0,0,1]),this.size=0}clone(){const t={color:z(this.color),size:this.size};return new q1(t)}};d([h(sa)],Uc.prototype,"color",void 0),d([h(Hr)],Uc.prototype,"size",void 0),Uc=q1=d([E("esri.symbols.support.Symbol3DHalo")],Uc);let mh=class extends Vr(te){constructor(e){super(e),this.color=null}};d([h(sa)],mh.prototype,"color",void 0),mh=d([E("esri.symbols.support.Symbol3DTextBackground")],mh);var xm;let vi=xm=class extends Wr{constructor(t){super(t),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(t){t!=null&&this._userSize!=null&&(t.size=this._userSize),this._set("font",t)}writeFont(t,e,i,n){const r={...n,textSymbol3D:!0};e.font=t.write({},r),delete e.font.size}get size(){var t;return this._userSize!=null?this._userSize:((t=this.font)==null?void 0:t.size)!=null?this.font.size:9}set size(t){this._userSize=t,this.font!=null&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const t=new xm({enabled:this.enabled,font:this.font&&z(this.font),halo:this.halo&&z(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:this.material!=null?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:z(this.background)});return t._userSize=this._userSize,t}static fromTextSymbol(t){return new xm({font:t.font!=null?t.font.clone():new n0,halo:nZ(t.haloColor,t.haloSize),horizontalAlignment:t.horizontalAlignment,lineHeight:t.lineHeight,material:t.color?new an({color:t.color.clone()}):null,text:t.text,verticalAlignment:t.verticalAlignment,background:t.backgroundColor?new mh({color:t.backgroundColor.clone()}):null})}};function nZ(t,e){return t&&e!=null&&e>0?new Uc({color:z(t),size:e}):null}d([h({type:n0,json:{write:!0}})],vi.prototype,"font",null),d([Ae("font")],vi.prototype,"writeFont",null),d([h({type:Uc,json:{write:!0}})],vi.prototype,"halo",void 0),d([h({...rL,json:{default:"center",write:!0}})],vi.prototype,"horizontalAlignment",void 0),d([h({...nL,json:{default:1,write:!0}})],vi.prototype,"lineHeight",void 0),d([h({type:an,json:{write:!0}})],vi.prototype,"material",void 0),d([h({type:mh,json:{write:!0}})],vi.prototype,"background",void 0),d([h(Hr)],vi.prototype,"size",null),d([h({type:String,json:{write:!0}})],vi.prototype,"text",void 0),d([be({Text:"text"},{readOnly:!0})],vi.prototype,"type",void 0),d([h({...sL,json:{default:"baseline",write:!0}})],vi.prototype,"verticalAlignment",void 0),vi=xm=d([E("esri.symbols.TextSymbol3DLayer")],vi);const Pu=vi;var Z1;let ao=Z1=class extends Wr{constructor(t){super(t),this.color=J1.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new Z1({color:z(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};d([h({type:ve,nonNullable:!0,json:{type:[ut],write:(t,e,i)=>e[i]=t.toArray(ve.AlphaMode.UNLESS_OPAQUE),default:()=>J1.clone(),defaultEquals:t=>t.toCss(!0)===J1.toCss(!0)}})],ao.prototype,"color",void 0),d([be({Water:"water"},{readOnly:!0})],ao.prototype,"type",void 0),d([h({type:["small","medium","large"],json:{write:!0,default:"medium"}})],ao.prototype,"waterbodySize",void 0),d([h({type:Number,json:{write:!0,default:null}})],ao.prototype,"waveDirection",void 0),d([h({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],ao.prototype,"waveStrength",void 0),ao=Z1=d([E("esri.symbols.WaterSymbol3DLayer")],ao);const J1=new ve([0,119,190]),cL=ao;var K1;let za=K1=class extends Q{constructor(t){super(t),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new K1({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};d([h({type:String})],za.prototype,"name",void 0),d([h({type:String})],za.prototype,"styleUrl",void 0),d([h({type:String})],za.prototype,"styleName",void 0),d([h({type:ji})],za.prototype,"portal",void 0),za=K1=d([E("esri.symbols.support.StyleOrigin")],za);const Y1=za;var X1;let gh=X1=class extends Q{constructor(){super(...arguments),this.url=""}clone(){return new X1({url:this.url})}};d([h({type:String})],gh.prototype,"url",void 0),gh=X1=d([E("esri.symbols.support.Thumbnail")],gh);const uL={icon:ml,object:IS,line:$p,path:OS,fill:Sp,extrude:JA,text:Pu,water:cL},rZ=ee.ofType({base:Wr,key:"type",typeMap:uL,errorContext:"symbol-layer"});let Sr=class extends Hi{constructor(e){super(e),this.styleOrigin=null,this.thumbnail=null,this.type=null;const i=this.__accessor__&&this.__accessor__.metadatas&&this.__accessor__.metadatas.symbolLayers,n=i==null?void 0:i.type,r=n||ee;this._set("symbolLayers",new r)}get color(){return null}set color(e){this.constructed&&G.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(e){Al(e,this._get("symbolLayers"))}readStyleOrigin(e,i,n){if(e.styleUrl&&e.name){const r=xp(e.styleUrl,n);return new Y1({styleUrl:r,name:e.name})}if(e.styleName&&e.name)return new Y1({portal:(n==null?void 0:n.portal)||ji.getDefault(),styleName:e.styleName,name:e.name});n!=null&&n.messages&&n.messages.push(new Is("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:n,definition:e}))}writeStyleOrigin(e,i,n,r){if(e.styleUrl&&e.name){let s=r0(e.styleUrl,r);Ri(s)&&(s=ks(s)),i.styleOrigin={styleUrl:s,name:e.name}}else e.styleName&&e.name&&(e.portal&&(r!=null&&r.portal)&&!F6(e.portal.restUrl,r.portal.restUrl)?r!=null&&r.messages&&r.messages.push(new Is("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):i.styleOrigin={styleName:e.styleName,name:e.name})}normalizeCtorArgs(e){return e instanceof Wr||e&&uL[e.type]?{symbolLayers:[e]}:Array.isArray(e)?{symbolLayers:e}:e}};d([h({json:{read:!1,write:!1}})],Sr.prototype,"color",null),d([h({type:rZ,nonNullable:!0,json:{write:!0}}),ei(KO)],Sr.prototype,"symbolLayers",null),d([h({type:Y1})],Sr.prototype,"styleOrigin",void 0),d([Re("styleOrigin")],Sr.prototype,"readStyleOrigin",null),d([Ae("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],Sr.prototype,"writeStyleOrigin",null),d([h({type:gh,json:{read:!1}})],Sr.prototype,"thumbnail",void 0),d([h({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],Sr.prototype,"type",void 0),Sr=d([E("esri.symbols.Symbol3D")],Sr);const Tp=Sr;let Pd=class extends te{constructor(e){super(e),this.visible=!0}clone(){}};d([h({type:["line"],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],Pd.prototype,"type",void 0),d([h({readOnly:!0})],Pd.prototype,"visible",void 0),Pd=d([E("esri.symbols.callouts.Callout3D")],Pd);const dL=Pd;var Q1;let $m=Q1=class extends te{constructor(t){super(t),this.color=new ve("white")}clone(){return new Q1({color:z(this.color)})}};d([h(sa)],$m.prototype,"color",void 0),$m=Q1=d([E("esri.symbols.callouts.LineCallout3DBorder")],$m);const sZ=$m;var ew;let lo=ew=class extends dL{constructor(t){super(t),this.type="line",this.color=new ve([0,0,0,1]),this.size=Jo(1),this.border=null}get visible(){return this.size>0&&this.color!=null&&this.color.a>0}clone(){return new ew({color:z(this.color),size:this.size,border:z(this.border)})}};d([be({line:"line"})],lo.prototype,"type",void 0),d([h(sa)],lo.prototype,"color",void 0),d([h(Hr)],lo.prototype,"size",void 0),d([h({type:sZ,json:{write:!0}})],lo.prototype,"border",void 0),d([h({readOnly:!0})],lo.prototype,"visible",null),lo=ew=d([E("esri.symbols.callouts.LineCallout3D")],lo);const hL=lo;function AS(t){if(!t)return!1;const e=t.verticalOffset;return!!e&&!(e.screenLength<=0||e.maxWorldLength!=null&&e.maxWorldLength<=0)}function pL(t){if(!t||!t.supportsCallout||!t.supportsCallout())return!1;const e=t.callout;return!!e&&!!e.visible&&!!AS(t)}const fL={types:{key:"type",base:dL,typeMap:{line:hL}},json:{write:!0}};var tw;let _c=tw=class extends te{constructor(t){super(t),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new tw({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};d([h(Hr)],_c.prototype,"screenLength",void 0),d([h({type:Number,nonNullable:!0,json:{write:!0,default:0}})],_c.prototype,"minWorldLength",void 0),d([h({type:Number,json:{write:!0}})],_c.prototype,"maxWorldLength",void 0),_c=tw=d([E("esri.symbols.support.Symbol3DVerticalOffset")],_c);const LS=_c;var Tm;const mL=ee.ofType({base:null,key:"type",typeMap:{text:Pu}});let co=Tm=class extends Tp{constructor(t){super(t),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new mL,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return pL(this)}hasVisibleVerticalOffset(){return AS(this)}clone(){return new Tm({styleOrigin:z(this.styleOrigin),symbolLayers:z(this.symbolLayers),thumbnail:z(this.thumbnail),callout:z(this.callout),verticalOffset:z(this.verticalOffset)})}static fromTextSymbol(t){return new Tm({symbolLayers:new ee([Pu.fromTextSymbol(t)])})}};d([h({type:LS,json:{write:!0}})],co.prototype,"verticalOffset",void 0),d([h(fL)],co.prototype,"callout",void 0),d([h({json:{read:!1,write:!1}})],co.prototype,"styleOrigin",void 0),d([h({type:mL})],co.prototype,"symbolLayers",void 0),d([be({LabelSymbol3D:"label-3d"},{readOnly:!0})],co.prototype,"type",void 0),co=Tm=d([E("esri.symbols.LabelSymbol3D")],co);const PS=co;var Em;const gL=ee.ofType({base:null,key:"type",typeMap:{line:$p,path:OS}}),oZ=ee.ofType({base:null,key:"type",typeMap:{line:$p,path:OS}});let Rd=Em=class extends Tp{constructor(t){super(t),this.symbolLayers=new gL,this.type="line-3d"}clone(){return new Em({styleOrigin:z(this.styleOrigin),symbolLayers:z(this.symbolLayers),thumbnail:z(this.thumbnail)})}static fromSimpleLineSymbol(t){return new Em({symbolLayers:new ee([$p.fromSimpleLineSymbol(t)])})}};d([h({type:gL,json:{type:oZ}})],Rd.prototype,"symbolLayers",void 0),d([be({LineSymbol3D:"line-3d"},{readOnly:!0})],Rd.prototype,"type",void 0),Rd=Em=d([E("esri.symbols.LineSymbol3D")],Rd);const RS=Rd;let uo=class extends Hi{constructor(e){super(e),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};d([h({type:Number,json:{read:t=>t&&-1*t,write:(t,e)=>e.angle=t&&-1*t}})],uo.prototype,"angle",void 0),d([h({type:["simple-marker","picture-marker"],readOnly:!0})],uo.prototype,"type",void 0),d([h({type:Number,cast:Je,json:{write:!0}})],uo.prototype,"xoffset",void 0),d([h({type:Number,cast:Je,json:{write:!0}})],uo.prototype,"yoffset",void 0),d([h({type:Number,cast:t=>t==="auto"?t:Je(t),json:{write:!0}})],uo.prototype,"size",void 0),uo=d([E("esri.symbols.MarkerSymbol")],uo);const yL=uo;var km;const vL=ee.ofType({base:null,key:"type",typeMap:{fill:Sp}});let Nd=km=class extends Tp{constructor(t){super(t),this.symbolLayers=new vL,this.type="mesh-3d"}clone(){return new km({styleOrigin:z(this.styleOrigin),symbolLayers:z(this.symbolLayers),thumbnail:z(this.thumbnail)})}static fromSimpleFillSymbol(t){return new km({symbolLayers:new ee([Sp.fromSimpleFillSymbol(t)])})}};d([h({type:vL})],Nd.prototype,"symbolLayers",void 0),d([be({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],Nd.prototype,"type",void 0),Nd=km=d([E("esri.symbols.MeshSymbol3D")],Nd);const NS=Nd;function aZ(t,e,i){return e.imageData?IC({mediaType:e.contentType||"image/png",isBase64:!0,data:e.imageData}):bL(e.url,i)}function bL(t,e){var i;return cZ(e)&&!Ri(t)&&((i=e==null?void 0:e.layer)!=null&&i.parsedUrl)?Iy(e.layer.parsedUrl.path,"images",t):xp(t,e)}function lZ(t,e,i,n){if(Bl(t)){const r=Eh(t);if(!r)return;e.contentType=r.mediaType,e.imageData=r.data,i&&i.imageData===e.imageData&&i.url&&yu(i.url,e,"url",n)}else yu(t,e,"url",n)}const wL={json:{read:{source:["imageData","url"],reader:aZ},write:{writer(t,e,i,n){lZ(t,e,this.source,n)}}}},_L={readOnly:!0,json:{read:{source:["imageData","url"],reader(t,e,i){const n={};return e.imageData&&(n.imageData=e.imageData),e.contentType&&(n.contentType=e.contentType),e.url&&(n.url=bL(e.url,i)),n}}}};function cZ(t){var e,i;return!(t==null||t.origin!=="service"&&t.origin!=="portal-item"||((e=t.layer)==null?void 0:e.type)!=="feature"&&((i=t.layer)==null?void 0:i.type)!=="stream")}var iw;let Ki=iw=class extends YA{constructor(...t){super(...t),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(t,e,i,n){if(t&&typeof t!="string"&&t.imageData==null)return t;const r={};return t&&(r.url=t),e&&(r.outline=e),i!=null&&(r.width=Je(i)),n!=null&&(r.height=Je(n)),r}clone(){const t=new iw({color:z(this.color),height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return t._set("source",z(this.source)),t}hash(){var t;return`${super.hash()}.${(t=this.color)==null?void 0:t.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};d([be({esriPFS:"picture-fill"},{readOnly:!0})],Ki.prototype,"type",void 0),d([h(wL)],Ki.prototype,"url",void 0),d([h({type:Number,json:{write:!0}})],Ki.prototype,"xscale",void 0),d([h({type:Number,json:{write:!0}})],Ki.prototype,"yscale",void 0),d([h({type:Number,cast:Je,json:{write:!0}})],Ki.prototype,"width",void 0),d([h({type:Number,cast:Je,json:{write:!0}})],Ki.prototype,"height",void 0),d([h({type:Number,cast:Je,json:{write:!0}})],Ki.prototype,"xoffset",void 0),d([h({type:Number,cast:Je,json:{write:!0}})],Ki.prototype,"yoffset",void 0),d([h(_L)],Ki.prototype,"source",void 0),Ki=iw=d([E("esri.symbols.PictureFillSymbol")],Ki);const SL=Ki;var nw;let kn=nw=class extends yL{constructor(...t){super(...t),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(t,e,i){if(t&&typeof t!="string"&&t.imageData==null)return t;const n={};return t&&(n.url=t),e!=null&&(n.width=Je(e)),i!=null&&(n.height=Je(i)),n}readHeight(t,e){return e.size||t}readWidth(t,e){return e.size||t}clone(){const t=new nw({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return t._set("source",z(this.source)),t}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};d([h({json:{write:!1}})],kn.prototype,"color",void 0),d([be({esriPMS:"picture-marker"},{readOnly:!0})],kn.prototype,"type",void 0),d([h(wL)],kn.prototype,"url",void 0),d([h(_L)],kn.prototype,"source",void 0),d([h({type:Number,cast:Je,json:{write:!0}})],kn.prototype,"height",void 0),d([Re("height",["height","size"])],kn.prototype,"readHeight",null),d([h({type:Number,cast:Je,json:{write:!0}})],kn.prototype,"width",void 0),d([h({json:{write:!1}})],kn.prototype,"size",void 0),kn=nw=d([E("esri.symbols.PictureMarkerSymbol")],kn);const s0=kn;var Fa;const xL=ee.ofType({base:null,key:"type",typeMap:{icon:ml,object:IS,text:Pu}});let ja=Fa=class extends Tp{constructor(t){super(t),this.verticalOffset=null,this.callout=null,this.symbolLayers=new xL,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const t of this.symbolLayers.items)switch(t.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return pL(this)}hasVisibleVerticalOffset(){return AS(this)}clone(){return new Fa({verticalOffset:z(this.verticalOffset),callout:z(this.callout),styleOrigin:z(this.styleOrigin),symbolLayers:z(this.symbolLayers),thumbnail:z(this.thumbnail)})}static fromSimpleMarkerSymbol(t){return new Fa({symbolLayers:new ee([ml.fromSimpleMarkerSymbol(t)])})}static fromPictureMarkerSymbol(t){return new Fa({symbolLayers:new ee([ml.fromPictureMarkerSymbol(t)])})}static fromCIMSymbol(t){var n,r;if(((r=(n=t.data)==null?void 0:n.symbol)==null?void 0:r.type)!=="CIMPointSymbol")return null;const i=t.data.symbol;return new Fa(i!=null&&i.callout?{symbolLayers:new ee([ml.fromCIMSymbol(t)]),callout:new hL({size:.5,color:new ve([0,0,0])}),verticalOffset:new LS({screenLength:40})}:{symbolLayers:new ee([ml.fromCIMSymbol(t)])})}static fromTextSymbol(t){return new Fa({symbolLayers:new ee([Pu.fromTextSymbol(t)])})}};d([h({type:LS,json:{write:!0}})],ja.prototype,"verticalOffset",void 0),d([h(fL)],ja.prototype,"callout",void 0),d([h({type:xL,json:{origins:{"web-scene":{write:!0}}}})],ja.prototype,"symbolLayers",void 0),d([be({PointSymbol3D:"point-3d"},{readOnly:!0})],ja.prototype,"type",void 0),ja=Fa=d([E("esri.symbols.PointSymbol3D")],ja);const DS=ja;var Dd;const $L=ee.ofType({base:null,key:"type",typeMap:{extrude:JA,fill:Sp,icon:ml,line:$p,object:IS,text:Pu,water:cL}});let zd=Dd=class extends Tp{constructor(t){super(t),this.symbolLayers=new $L,this.type="polygon-3d"}initialize(){const t=e=>{e.type==="line"&&ou(G.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"}),e.type==="text"&&ou(G.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(const e of this.symbolLayers)t(e);this.addHandles(Os(()=>this.symbolLayers,"after-add",({item:e})=>t(e),Cu))}clone(){return new Dd({styleOrigin:z(this.styleOrigin),symbolLayers:z(this.symbolLayers),thumbnail:z(this.thumbnail)})}static fromJSON(t){var i;const e=new Dd;if(e.read(t),e.symbolLayers.length===2&&e.symbolLayers.at(0).type==="fill"&&e.symbolLayers.at(1).type==="line"){const n=e.symbolLayers.at(0),r=e.symbolLayers.at(1);!r.enabled||(i=t.symbolLayers)!=null&&i[1]&&t.symbolLayers[1].enable===!1||(n.outline={size:r.size,color:r.material!=null?r.material.color:null}),e.symbolLayers.removeAt(1)}return e}static fromSimpleFillSymbol(t){return new Dd({symbolLayers:new ee([Sp.fromSimpleFillSymbol(t)])})}};d([h({type:$L,json:{write:!0}})],zd.prototype,"symbolLayers",void 0),d([be({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],zd.prototype,"type",void 0),zd=Dd=d([E("esri.symbols.PolygonSymbol3D")],zd);const zS=zd;var rw;const av=new Gn({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let Ua=rw=class extends YA{constructor(...t){super(...t),this.color=new ve([0,0,0,.25]),this.outline=new ql,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(t,e,i){if(t&&typeof t!="string")return t;const n={};return t&&(n.style=t),e&&(n.outline=e),i&&(n.color=i),n}clone(){return new rw({color:z(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};d([h()],Ua.prototype,"color",void 0),d([h()],Ua.prototype,"outline",void 0),d([be({esriSFS:"simple-fill"},{readOnly:!0})],Ua.prototype,"type",void 0),d([h({type:av.apiValues,json:{read:av.read,write:av.write}})],Ua.prototype,"style",void 0),Ua=rw=d([E("esri.symbols.SimpleFillSymbol")],Ua);const FS=Ua;var sw;const lv=new Gn({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let xr=sw=class extends yL{constructor(...t){super(...t),this.color=new ve([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new ql}normalizeCtorArgs(t,e,i,n){if(t&&typeof t!="string")return t;const r={};return t&&(r.style=t),e!=null&&(r.size=Je(e)),i&&(r.outline=i),n&&(r.color=n),r}writeColor(t,e){t&&this.style!=="x"&&this.style!=="cross"&&(e.color=t.toJSON()),t===null&&(e.color=null)}set path(t){this.style="path",this._set("path",t)}clone(){return new sw({angle:this.angle,color:z(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var t;return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${(t=this.outline)==null?void 0:t.hash()}`}};d([h()],xr.prototype,"color",void 0),d([Ae("color")],xr.prototype,"writeColor",null),d([be({esriSMS:"simple-marker"},{readOnly:!0})],xr.prototype,"type",void 0),d([h()],xr.prototype,"size",void 0),d([h({type:lv.apiValues,json:{read:lv.read,write:lv.write}})],xr.prototype,"style",void 0),d([h({type:String,json:{write:!0}})],xr.prototype,"path",null),d([h({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":ql}},json:{default:null,write:!0}})],xr.prototype,"outline",void 0),xr=sw=d([E("esri.symbols.SimpleMarkerSymbol")],xr);const jS=xr;var ow;let qe=ow=class extends Hi{constructor(...t){super(...t),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new n0,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(t,e,i){if(t&&typeof t!="string")return t;const n={};return t&&(n.text=t),e&&(n.font=e),i&&(n.color=i),n}writeLineWidth(t,e,i,n){n&&typeof n!="string"?n.origin:e[i]=t}castLineWidth(t){return Je(t)}writeLineHeight(t,e,i,n){n&&typeof n!="string"?n.origin:e[i]=t}clone(){return new ow({angle:this.angle,backgroundColor:z(this.backgroundColor),borderLineColor:z(this.borderLineColor),borderLineSize:this.borderLineSize,color:z(this.color),font:this.font&&this.font.clone(),haloColor:z(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var t,e,i;return`${(t=this.backgroundColor)==null?void 0:t.hash()}.${this.borderLineColor}.${this.borderLineSize}.${(e=this.color)==null?void 0:e.hash()}.${this.font&&this.font.hash()}.${(i=this.haloColor)==null?void 0:i.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};d([h({type:ve,json:{write:!0}})],qe.prototype,"backgroundColor",void 0),d([h({type:ve,json:{write:!0}})],qe.prototype,"borderLineColor",void 0),d([h({type:Number,json:{write:!0},cast:Je})],qe.prototype,"borderLineSize",void 0),d([h({type:n0,json:{write:!0}})],qe.prototype,"font",void 0),d([h({...rL,json:{write:!0}})],qe.prototype,"horizontalAlignment",void 0),d([h({type:Boolean,json:{write:!0}})],qe.prototype,"kerning",void 0),d([h({type:ve,json:{write:!0}})],qe.prototype,"haloColor",void 0),d([h({type:Number,cast:Je,json:{write:!0}})],qe.prototype,"haloSize",void 0),d([h({type:Boolean,json:{write:!0}})],qe.prototype,"rightToLeft",void 0),d([h({type:Boolean,json:{write:!0}})],qe.prototype,"rotated",void 0),d([h({type:String,json:{write:!0}})],qe.prototype,"text",void 0),d([be({esriTS:"text"},{readOnly:!0})],qe.prototype,"type",void 0),d([h({...sL,json:{write:!0}})],qe.prototype,"verticalAlignment",void 0),d([h({type:Number,cast:Je,json:{write:!0}})],qe.prototype,"xoffset",void 0),d([h({type:Number,cast:Je,json:{write:!0}})],qe.prototype,"yoffset",void 0),d([h({type:Number,json:{read:t=>t&&-1*t,write:(t,e)=>e.angle=t&&-1*t}})],qe.prototype,"angle",void 0),d([h({type:Number,json:{write:!0}})],qe.prototype,"width",void 0),d([h({type:Number})],qe.prototype,"lineWidth",void 0),d([Ae("lineWidth")],qe.prototype,"writeLineWidth",null),d([ei("lineWidth")],qe.prototype,"castLineWidth",null),d([h(nL)],qe.prototype,"lineHeight",void 0),d([Ae("lineHeight")],qe.prototype,"writeLineHeight",null),qe=ow=d([E("esri.symbols.TextSymbol")],qe);const Ep=qe;var aw;let Mn=aw=class extends Hi{constructor(t){super(t),this.color=null,this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){const t=this.portal!=null?this.portal:ji.getDefault(),e=t.user?t.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${e}:${t.url}`}read(t,e){this.portal=e==null?void 0:e.portal,super.read(t,e)}clone(){return new aw({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(t){return this._fetchSymbol("webRef",t)}fetchCIMSymbol(t){return this._fetchSymbol("cimRef",t)}async _fetchSymbol(t,e){const i=e!=null?e.cache:null,n=i?this._fetchCacheKey:null;if(i!=null){const a=n&&i.get(n);if(a)return a.clone()}const{resolveWebStyleSymbol:r}=await V(()=>import("./webStyleSymbolUtils-7xd9beLg.js"),__vite__mapDeps([176,177,120,121]),import.meta.url);Ge(e);const s=r(this,{portal:this.portal},t,e);s.catch(a=>{G.getLogger(this).error("#fetchSymbol()","Failed to create symbol from style",a)});const o=await s;return t==="webRef"&&o.type==="point-3d"||t==="cimRef"&&o.type==="cim"?(i!=null&&i.set(n,o.clone()),o):null}};d([h({json:{write:!1}})],Mn.prototype,"color",void 0),d([h({type:String,json:{write:!0}})],Mn.prototype,"styleName",void 0),d([h({type:ji,json:{write:!1}})],Mn.prototype,"portal",void 0),d([h({type:String,json:{read:CS,write:yu}})],Mn.prototype,"styleUrl",void 0),d([h({type:gh,json:{read:!1}})],Mn.prototype,"thumbnail",void 0),d([h({type:String,json:{write:!0}})],Mn.prototype,"name",void 0),d([be({styleSymbolReference:"web-style"},{readOnly:!0})],Mn.prototype,"type",void 0),d([h()],Mn.prototype,"_fetchCacheKey",null),Mn=aw=d([E("esri.symbols.WebStyleSymbol")],Mn);const o0=Mn;function epe(t){if(!t)return!1;switch(t.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function tpe(t){if(!t)return!1;switch(t.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const US={base:Hi,key:"type",typeMap:{"simple-fill":FS,"picture-fill":SL,"picture-marker":s0,"simple-line":ql,"simple-marker":jS,text:Ep,"label-3d":PS,"line-3d":RS,"mesh-3d":NS,"point-3d":DS,"polygon-3d":zS,"web-style":o0,cim:i0},errorContext:"symbol"},ipe={base:Hi,key:"type",typeMap:{"picture-marker":s0,"simple-marker":jS,text:Ep,"web-style":o0,cim:i0},errorContext:"symbol"},npe=hC({types:US}),rpe={base:Hi,key:"type",typeMap:{"simple-fill":FS,"picture-fill":SL,"picture-marker":s0,"simple-line":ql,"simple-marker":jS,text:Ep,"line-3d":RS,"mesh-3d":NS,"point-3d":DS,"polygon-3d":zS,"web-style":o0,cim:i0},errorContext:"symbol"},spe={base:Hi,key:"type",typeMap:{text:Ep,"label-3d":PS},errorContext:"symbol"},ope={base:Hi,key:"type",typeMap:{"line-3d":RS,"mesh-3d":NS,"point-3d":DS,"polygon-3d":zS,"web-style":o0,cim:i0},errorContext:"symbol"},ape={base:Hi,key:"type",typeMap:{"label-3d":PS},errorContext:"symbol"},lpe=Tl(US);var lw;function uZ(t){if(!t)return null;const e={};for(const i in t){const n=Ch(t[i]);n&&(e[i]=n)}return Object.keys(e).length!==0?e:null}function dZ(t){if(t==null)return null;const e={};for(const i in t){const n=t[i];n&&(e[i]=n.toJSON())}return Object.keys(e).length!==0?e:null}let bi=lw=class extends Vr(te){constructor(...t){super(...t),this.isAggregate=!1,this.layer=null,this.popupTemplate=null,this.sourceLayer=null,Object.defineProperty(this,"uid",{value:eh(),configurable:!0})}normalizeCtorArgs(t,e,i,n){return t&&!t.declaredClass?t:{geometry:t,symbol:e,attributes:i,popupTemplate:n}}set aggregateGeometries(t){const e=this._get("aggregateGeometries");JSON.stringify(e)!==JSON.stringify(t)&&this._set("aggregateGeometries",t)}set attributes(t){const e=this._get("attributes");e!==t&&(this._set("attributes",t),this._notifyLayer("attributes",e,t))}set geometry(t){const e=this._get("geometry");e!==t&&(this._set("geometry",t),this._notifyLayer("geometry",e,t))}set symbol(t){const e=this._get("symbol");e!==t&&(this._set("symbol",t),this._notifyLayer("symbol",e,t))}set visible(t){const e=this._get("visible");e!==t&&(this._set("visible",t),this._notifyLayer("visible",e,t))}cloneShallow(){return new lw({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible})}getEffectivePopupTemplate(t=!1){if(this.popupTemplate)return this.popupTemplate;for(const e of[this.sourceLayer,this.layer])if(e){if("popupTemplate"in e&&e.popupTemplate)return e.popupTemplate;if(t&&"defaultPopupTemplate"in e&&e.defaultPopupTemplate!=null)return e.defaultPopupTemplate}return null}getAttribute(t){var e;return(e=this.attributes)==null?void 0:e[t]}setAttribute(t,e){if(this.attributes){const i=this.getAttribute(t);this.attributes[t]=e,this._notifyLayer("attributes",i,e,t)}else this.attributes={[t]:e},this._notifyLayer("attributes",void 0,e,t)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){var t;return{aggregateGeometries:dZ(this.aggregateGeometries),geometry:this.geometry!=null?this.geometry.toJSON():null,symbol:this.symbol!=null?this.symbol.toJSON():null,attributes:ub(this.attributes)?this.attributes.toJSON():{...this.attributes},popupTemplate:((t=this.popupTemplate)==null?void 0:t.toJSON())??null}}notifyGeometryChanged(){this._notifyLayer("geometry",this.geometry,this.geometry)}notifyMeshTransformChanged(t={}){const{geometry:e}=this;if((e==null?void 0:e.type)==="mesh"){const i={origin:e.origin,transform:e.transform};this._notifyLayer("origin-transform",i,i,t.action)}}_notifyLayer(t,e,i,n){if(!this.layer||!("graphicChanged"in this.layer))return;const r={graphic:this,property:t,oldValue:e,newValue:i};t==="origin-transform"&&(r.action=n),t==="attributes"&&(r.attributeName=n),this.layer.graphicChanged(r)}};d([h({value:null,json:{read:uZ}})],bi.prototype,"aggregateGeometries",null),d([h({value:null})],bi.prototype,"attributes",null),d([h({value:null,types:B_,json:{read:Ch}})],bi.prototype,"geometry",null),d([h({type:Boolean})],bi.prototype,"isAggregate",void 0),d([h({clonable:"reference"})],bi.prototype,"layer",void 0),d([h({type:xS})],bi.prototype,"popupTemplate",void 0),d([h({clonable:"reference"})],bi.prototype,"sourceLayer",void 0),d([h({value:null,types:US})],bi.prototype,"symbol",null),d([h({type:Boolean,value:!0})],bi.prototype,"visible",null),bi=lw=d([E("esri.Graphic")],bi),function(t){t.generateUID=eh}(bi||(bi={}));const vu=bi;let yh=class extends uh{_own(e){e.layer&&"remove"in e.layer&&e.layer!==this.owner&&e.layer.remove(e),e.layer=this.owner}_release(e){e.layer===this.owner&&(e.layer=null)}};d([ZI({Type:vu,ensureType:It(vu)})],yh.prototype,"itemType",void 0),yh=d([E("esri.support.GraphicsCollection")],yh);let ho=class extends Q{constructor(e){super(e),this.view=null,this.baseLayerViews=new ee,this.referenceLayerViews=new ee,this._loadingHandle=K(()=>{var i,n;return(n=(i=this.view)==null?void 0:i.map)==null?void 0:n.basemap},i=>{i&&i.load().catch(()=>{})},yt)}destroy(){this._set("view",null),this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null);for(const e of this.baseLayerViews)e.destroy();this.baseLayerViews.length=0;for(const e of this.referenceLayerViews)e.destroy();this.referenceLayerViews.length=0}get suspended(){return!this.view||this.view.suspended}get updating(){var i,n;if(this.view&&this.view.suspended)return!1;const e=(n=(i=this.view)==null?void 0:i.map)==null?void 0:n.basemap;return!!e&&!!e.loaded&&(this.baseLayerViews.some(r=>r.updating)||this.referenceLayerViews.some(r=>r.updating))}};d([h({constructOnly:!0})],ho.prototype,"view",void 0),d([h({readOnly:!0})],ho.prototype,"baseLayerViews",void 0),d([h({readOnly:!0})],ho.prototype,"referenceLayerViews",void 0),d([h({readOnly:!0})],ho.prototype,"suspended",null),d([h({type:Boolean,readOnly:!0})],ho.prototype,"updating",null),ho=d([E("esri.views.BasemapView")],ho);function hZ(t){return"tryRecycleWith"in t}let pZ=class{constructor(e,i,n){this.layer=e,this.view=i,this.layerViewImporter=n,this._controller=new AbortController,this._deferred=ln(),this._started=!1,this.done=!1,this.promise=this._deferred.promise,on(this._controller.signal,()=>{const r=new D("cancelled:layerview-create","layerview creation cancelled",{layer:e});this._deferred.reject(r)})}tryRecycle(e){if(!this.done||!this.layerView||!hZ(this.layerView))return null;const i=this.layer.type,n=this._controller.signal;for(let r=0;r<e.length;r++){const s=e[r];if(s.type!==i)continue;const o=this.layerView.tryRecycleWith(s,{signal:n});if(o){e.splice(r,1),this.layer=s;const a=this.layerView,l=a.view;return this.promise=Promise.race([o.then(()=>(Ge(this._controller.signal),s.emit("layerview-destroy",{view:l,layerView:a}),l.emit("layerview-destroy",{view:l,layerView:a}),s.emit("layerview-create",{view:l,layerView:a}),l.emit("layerview-create",{view:l,layerView:a}),a)),new Promise((u,p)=>on(this._controller.signal,()=>p(Be())))]),this.promise}}return null}destroy(){this._controller.abort();const{layerView:e}=this;if(e){const{layer:i,view:n}=this;i.emit("layerview-destroy",{view:n,layerView:e}),n.emit("layerview-destroy",{layer:i,layerView:e})}this.done=!0,this.layer=null,this.layerView=null,this.view=null,this.layerViewImporter=null,this._map=null}async start(){var r,s;if(this._started)return;this._started=!0;const{_controller:{signal:e},layer:i,view:n}=this;this._map=n.map;try{let o,a;if(await i.load({signal:e}),i.prefetchResources&&await i.prefetchResources({signal:e}),mZ(i))o=await i.createLayerView(n,{signal:e});else{if(!this.layerViewImporter.hasLayerViewModule(i))throw new D("layer:view-not-supported","No layerview implementation was found");const p=await this.layerViewImporter.importLayerView(i);Ge(e),o="default"in p?new p.default({layer:i,view:n}):new p({layer:i,view:n})}const l=()=>{a=Ke(a),o.destroyed||o.destroy(),o.layer=null,o.parent=null,o.view=null,this.done=!0};a=on(e,l),Ge(e);try{await o.when()}catch(p){throw l(),p}if(!((s=(r=this._map)==null?void 0:r.allLayers)==null?void 0:s.includes(i)))return l(),void this._deferred.reject(new D("view:no-layerview-for-layer","The layer has been removed from the map",{layer:i}));this.layerView=o,i.emit("layerview-create",{view:n,layerView:o}),n.emit("layerview-create",{layer:i,layerView:o}),this.done=!0,this._deferred.resolve(o)}catch(o){i.emit("layerview-create-error",{view:n,error:o}),n.emit("layerview-create-error",{layer:i,error:o}),this.done=!0,this._deferred.reject(new D("layerview:create-error","layerview creation failed",{layer:i,error:o}))}}},Yi=class extends Q{constructor(e){super(e),this._layerLayerViewInfoMap=new Map,this._recyclingInfoMap=new Map,this._watchUpdatingTracking=new bl,this.supportsGround=!0,this._preloadLayerViewModules=()=>{var n;const i=(n=this.view.map)==null?void 0:n.allLayers;if(i)for(const r of i)this.layerViewImporter.hasLayerViewModule(r)&&this.layerViewImporter.importLayerView(r)},this._reschedule=()=>this.destroyed?Promise.reject():(this._workPromise==null&&(this._workPromise=ln(),this._workPromise.promise.catch(()=>{})),this.removeHandles("reschedule"),this.addHandles(cp(this._doWork),"reschedule"),this._workPromise.promise),this._doWork=()=>{var l,u,p;if(this.destroyed)return;const i=this.view.map;if(this._map!==i&&(this.clear(),this._map=i),this._workPromise==null)return void this.notifyChange("updating");this.removeHandles("reschedule"),this.removeHandles("collection-change");const n=new Set,r=[],s=this.view.ready,o=f=>{if(f!=null){for(const m of f)if(m){n.add(m);const g=this._layerLayerViewInfoMap.get(m);g&&s?g.start():g||this._recyclingInfoMap.has(m)||r.push(m),"layers"in m&&m.layers&&o(m.layers)}}};for(const f of this._rootCollectionNames)o(Pr(this,f));for(const[f,m]of this._layerLayerViewInfoMap)if(!n.has(f)){this._layerLayerViewInfoMap.delete(m.layer);const g=m.tryRecycle(r);g?(this.notifyChange("updating"),this._recyclingInfoMap.set(m.layer,m),g.then(()=>{this.notifyChange("updating"),this._recyclingInfoMap.delete(m.layer),this._layerLayerViewInfoMap.set(m.layer,m),this._reschedule()}).catch(()=>{this.notifyChange("updating"),this._recyclingInfoMap.delete(m.layer),m.destroy(),this._reschedule()})):m.destroy()}for(const[f,m]of this._recyclingInfoMap)n.has(f)||(this.notifyChange("updating"),this._recyclingInfoMap.delete(m.layer),m.destroy());for(const f of r)this._createLayerView(f);this._refreshCollections();const a=[(l=i==null?void 0:i.ground)==null?void 0:l.layers,(u=i==null?void 0:i.basemap)==null?void 0:u.baseLayers,(p=i==null?void 0:i.basemap)==null?void 0:p.referenceLayers,i==null?void 0:i.layers].filter(f=>!!f);n.forEach(f=>"layers"in f&&a.push(f.layers)),this.addHandles(a.map(f=>this._watchUpdatingTracking.addOnCollectionChange(()=>f,this._reschedule)),"collection-change"),this._workPromise.resolve(),this._workPromise=null}}initialize(){this.addHandles([Os(()=>{var e,i;return(i=(e=this.view)==null?void 0:e.map)==null?void 0:i.allLayers},"change",this._preloadLayerViewModules,{onListenerAdd:this._preloadLayerViewModules}),K(()=>{const e=this.view,i=e==null?void 0:e.map;return[i==null?void 0:i.basemap,i==null?void 0:i.ground,i==null?void 0:i.layers,e==null?void 0:e.ready]},()=>this._reschedule(),ws)]),this._preloadLayerViewModules(),this._reschedule()}destroy(){this.clear(),tv(this._recyclingInfoMap),tv(this._layerLayerViewInfoMap),this._watchUpdatingTracking.destroy(),this._map=null,this._workPromise!=null&&(this._workPromise.reject(Be()),this._workPromise=null)}get _layersToLayerViews(){const e=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.layers","view.layerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"]];return this.supportsGround&&e.push(["view.map.ground.layers","view.groundView.layerViews"]),new Map(e)}get _rootCollectionNames(){return Array.from(this._layersToLayerViews.keys())}get updating(){return this._workPromise!=null||this._watchUpdatingTracking.updating||ky(this._layerLayerViewInfoMap,e=>!e.done)||this._recyclingInfoMap.size>0}get updatingRemaining(){let e=0;for(const i of this._layerLayerViewInfoMap.values())i.done||++e;return e}clear(){this.destroyed||(tv(this._layerLayerViewInfoMap),this._refreshCollections())}async whenLayerView(e){if(await this._reschedule(),!this._layerLayerViewInfoMap.has(e)){if(this._recyclingInfoMap.has(e))return this._recyclingInfoMap.get(e).promise;throw new D("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:e})}return this._layerLayerViewInfoMap.get(e).promise}_refreshCollections(){for(const[e,i]of this._layersToLayerViews)this._populateLayerViewsOwners(Pr(this,e),Pr(this,i),this.view);this.notifyChange("updating"),this.notifyChange("updatingRemaining")}_populateLayerViewsOwners(e,i,n){if(!e||!i)return void(i&&i.removeAll());let r=0;for(const s of e){const o=this._layerLayerViewInfoMap.get(s);if(!(o!=null&&o.layerView))continue;const a=o.layerView;a.layer=s,a.parent=n,i.at(r)!==a&&i.splice(r,0,a),s.layers&&this._populateLayerViewsOwners(s.layers,a.layerViews,a),r+=1}r<i.length&&i.splice(r,i.length)}_createLayerView(e){e.load().catch(()=>{}),this.layerViewImporter.hasLayerViewModule(e)&&this.layerViewImporter.importLayerView(e);const i=new pZ(e,this.view,this.layerViewImporter);i.promise.then(()=>this._refreshCollections(),n=>{n&&(di(n)||n.name==="cancelled:layerview-create")||G.getLogger(this).error(`Failed to create layerview for layer title:'${e.title??"no title"}', id:'${e.id??"no id"}' of type '${e.type}'.`,{layer:e,error:n}),this._refreshCollections()}),this._layerLayerViewInfoMap.set(e,i),this.view.ready&&i.start(),this.notifyChange("updating"),this.notifyChange("updatingRemaining")}};d([h()],Yi.prototype,"_workPromise",void 0),d([h({readOnly:!0})],Yi.prototype,"_watchUpdatingTracking",void 0),d([h({readOnly:!0})],Yi.prototype,"_layersToLayerViews",null),d([h({readOnly:!0})],Yi.prototype,"_rootCollectionNames",null),d([h()],Yi.prototype,"layerViewImporter",void 0),d([h()],Yi.prototype,"supportsGround",void 0),d([h({readOnly:!0})],Yi.prototype,"updating",null),d([h({readOnly:!0})],Yi.prototype,"updatingRemaining",null),d([h({constructOnly:!0})],Yi.prototype,"view",void 0),Yi=d([E("esri.views.LayerViewManager")],Yi);const fZ=Yi;function mZ(t){return"createLayerView"in t&&t.createLayerView!=null}let Ci=class extends Q{constructor(e){super(e),this.factor=1.5,this.offset=ui(0,0),this.position=null,this.size=120,this.maskUrl=null,this.maskEnabled=!0,this.overlayUrl=null,this.overlayEnabled=!0,this.visible=!0}get version(){return this.commitProperty("factor"),this.commitProperty("offset"),this.commitProperty("position"),this.commitProperty("visible"),this.commitProperty("size"),this.commitProperty("maskUrl"),this.commitProperty("maskEnabled"),this.commitProperty("overlayUrl"),this.commitProperty("overlayEnabled"),(this._get("version")||0)+1}};d([h({type:Number})],Ci.prototype,"factor",void 0),d([h({nonNullable:!0})],Ci.prototype,"offset",void 0),d([h()],Ci.prototype,"position",void 0),d([h({type:Number,range:{min:0}})],Ci.prototype,"size",void 0),d([h()],Ci.prototype,"maskUrl",void 0),d([h()],Ci.prototype,"maskEnabled",void 0),d([h()],Ci.prototype,"overlayUrl",void 0),d([h()],Ci.prototype,"overlayEnabled",void 0),d([h({readOnly:!0})],Ci.prototype,"version",null),d([h({type:Boolean})],Ci.prototype,"visible",void 0),Ci=d([E("esri.views.Magnifier")],Ci);const TL=Ci;let Fd=class extends Vr(Q){constructor(e){super(e),this.accentColor=new ve([255,127,0]),this.textColor=new ve([255,255,255])}};d([h({type:ve,nonNullable:!0})],Fd.prototype,"accentColor",void 0),d([h({type:ve,nonNullable:!0})],Fd.prototype,"textColor",void 0),Fd=d([E("esri.views.Theme")],Fd);const cw=Fd;var MT;(function(t){t[t.Left=0]="Left",t[t.Middle=1]="Middle",t[t.Right=2]="Right"})(MT||(MT={}));const EL=["click","double-click","immediate-click","immediate-double-click","hold","drag","key-down","key-up","pointer-down","pointer-move","pointer-up","pointer-drag","mouse-wheel","pointer-enter","pointer-leave","gamepad","focus","blur"],kL={};function ML(t){return!!kL[t]}function gZ(t){for(const e of t)if(!ML(e))return!1;return!0}EL.forEach(t=>{kL[t]=!0});let yZ=class{constructor(e){this._handlers=new Map,this._counter=0,this._handlerCounts=new Map,this.view=e,this.inputManager=null}connect(e){e&&this.disconnect(),this.inputManager=e,this._handlers.forEach(({handler:i,priority:n},r)=>{var s;return(s=this.inputManager)==null?void 0:s.installHandlers(r,[i],n)})}disconnect(){this.inputManager&&this._handlers.forEach((e,i)=>{var n;return(n=this.inputManager)==null?void 0:n.uninstallHandlers(i)}),this.inputManager=null}destroy(){this.disconnect(),this._handlers.clear(),this.view=null}on(e,i,n,r){const s=Array.isArray(e)?e:e.split(",");if(!gZ(s))return s.some(ML)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),null;let o,a;Array.isArray(i)?a=i:(o=i,a=[]),typeof n=="function"?o=n:r=n,r=r??zo.DEFAULT;const l=this._createUniqueGroupName(),u=new vZ(this.view,s,a,o);this._handlers.set(l,{handler:u,priority:r});for(const p of s){const f=this._handlerCounts.get(p)||0;this._handlerCounts.set(p,f+1)}return this.inputManager&&this.inputManager.installHandlers(l,[u],r),je(()=>this._removeHandler(l,s))}hasHandler(e){return!!this._handlerCounts.get(e)}_removeHandler(e,i){if(this._handlers.has(e)){this._handlers.delete(e);for(const n of i){const r=this._handlerCounts.get(n);r===void 0?console.error("Trying to remove handler for event that has no handlers registered: ",n):r===1?this._handlerCounts.delete(n):this._handlerCounts.set(n,r-1)}}this.inputManager&&this.inputManager.uninstallHandlers(e)}_createUniqueGroupName(){return this._counter+=1,`viewEvents_${this._counter}`}},vZ=class extends xt{constructor(e,i,n,r){super(!0),this._latestDragStart=void 0,this.view=e;for(const s of i)switch(s){case"click":this.registerIncoming("click",n,o=>r(this._wrapClick(o)));break;case"double-click":this.registerIncoming("double-click",n,o=>r(this._wrapDoubleClick(o)));break;case"immediate-click":this.registerIncoming("immediate-click",n,o=>r(this._wrapImmediateClick(o)));break;case"immediate-double-click":this.registerIncoming("immediate-double-click",n,o=>r(this._wrapImmediateDoubleClick(o)));break;case"hold":this.registerIncoming("hold",n,o=>r(this._wrapHold(o)));break;case"drag":this.registerIncoming("drag",n,o=>{const a=this._wrapDrag(o);a&&r(a)});break;case"key-down":this.registerIncoming("key-down",n,o=>r(this._wrapKeyDown(o)));break;case"key-up":this.registerIncoming("key-up",n,o=>r(this._wrapKeyUp(o)));break;case"pointer-down":this.registerIncoming("pointer-down",n,o=>r(this._wrapPointer(o,"pointer-down")));break;case"pointer-move":this.registerIncoming("pointer-move",n,o=>r(this._wrapPointer(o,"pointer-move")));break;case"pointer-up":this.registerIncoming("pointer-up",n,o=>r(this._wrapPointer(o,"pointer-up")));break;case"pointer-drag":this.registerIncoming("pointer-drag",n,o=>r(this._wrapPointerDrag(o)));break;case"mouse-wheel":this.registerIncoming("mouse-wheel",n,o=>r(this._wrapMouseWheel(o)));break;case"pointer-enter":this.registerIncoming("pointer-enter",n,o=>r(this._wrapPointer(o,"pointer-enter")));break;case"pointer-leave":this.registerIncoming("pointer-leave",n,o=>r(this._wrapPointer(o,"pointer-leave")));break;case"gamepad":this.registerIncoming("gamepad",n,o=>{r(this._wrapGamepad(o))});break;case"focus":this.registerIncoming("focus",n,o=>{r(this._wrapFocus(o))});break;case"blur":this.registerIncoming("blur",n,o=>{r(this._wrapBlur(o))})}}_wrapFocus(e){return{type:"focus",timestamp:e.timestamp,native:e.data.native,cancelable:e.cancelable,stopPropagation:()=>e.stopPropagation(),async:i=>e.async(i),preventDefault:()=>e.preventDefault()}}_wrapBlur(e){return{type:"blur",timestamp:e.timestamp,native:e.data.native,cancelable:e.cancelable,stopPropagation:()=>e.stopPropagation(),async:i=>e.async(i),preventDefault:()=>e.preventDefault()}}_wrapClick(e){const{pointerType:i,button:n,buttons:r,x:s,y:o,native:a,eventId:l}=e.data,{cancelable:u,timestamp:p}=e;return{type:"click",pointerType:i,button:n,buttons:r,x:s,y:o,native:a,timestamp:p,screenPoint:ui(s,o),mapPoint:this._getMapPoint(s,o),eventId:l,cancelable:u,stopPropagation:()=>e.stopPropagation(),async:f=>e.async(f),preventDefault:()=>e.preventDefault()}}_wrapDoubleClick(e){const{pointerType:i,button:n,buttons:r,x:s,y:o,native:a,eventId:l}=e.data,{cancelable:u,timestamp:p}=e;return{type:"double-click",pointerType:i,button:n,buttons:r,x:s,y:o,native:a,timestamp:p,mapPoint:this._getMapPoint(s,o),eventId:l,cancelable:u,stopPropagation:()=>e.stopPropagation(),async:f=>e.async(f),preventDefault:()=>e.preventDefault()}}_wrapImmediateClick(e){const{pointerType:i,button:n,buttons:r,x:s,y:o,native:a,eventId:l}=e.data,u=a.pointerId,{cancelable:p,timestamp:f}=e;return{type:"immediate-click",pointerId:u,pointerType:i,button:n,buttons:r,x:s,y:o,native:a,timestamp:f,mapPoint:this._getMapPoint(s,o),eventId:l,cancelable:p,stopPropagation:()=>e.stopPropagation(),async:m=>e.async(m),preventDefault:()=>e.preventDefault()}}_wrapImmediateDoubleClick(e){const{pointerType:i,button:n,buttons:r,x:s,y:o,native:a,eventId:l}=e.data,u=a.pointerId,{cancelable:p,timestamp:f}=e;return{type:"immediate-double-click",pointerId:u,pointerType:i,button:n,buttons:r,x:s,y:o,native:a,timestamp:f,mapPoint:this._getMapPoint(s,o),eventId:l,cancelable:p,stopPropagation:()=>e.stopPropagation(),async:m=>e.async(m),preventDefault:()=>e.preventDefault()}}_wrapHold(e){const{pointerType:i,button:n,buttons:r,x:s,y:o,native:a}=e.data,{cancelable:l,timestamp:u}=e;return{type:"hold",pointerType:i,button:n,buttons:r,x:s,y:o,native:a,timestamp:u,mapPoint:this._getMapPoint(s,o),cancelable:l,stopPropagation:()=>e.stopPropagation(),async:p=>e.async(p),preventDefault:()=>e.preventDefault()}}_getMapPoint(e,i){return this.view.toMap(ui(e,i),{exclude:[]})}_wrapDrag(e){const i=e.data,{x:n,y:r}=i.center,{action:s,pointerType:o,button:a}=i;if(s==="start"&&(this._latestDragStart=i),!this._latestDragStart)return;const l=i.pointer.native,u=i.buttons,{cancelable:p,timestamp:f}=e,m={x:this._latestDragStart.center.x,y:this._latestDragStart.center.y};return s==="end"&&(this._latestDragStart=void 0),{type:"drag",action:s,x:n,y:r,origin:m,pointerType:o,button:a,buttons:u,radius:i.radius,angle:vI(i.angle),native:l,timestamp:f,cancelable:p,stopPropagation:()=>e.stopPropagation(),async:g=>e.async(g),preventDefault:()=>e.preventDefault()}}_wrapKeyDown(e){const{key:i,repeat:n,native:r}=e.data,{cancelable:s,timestamp:o}=e;return{type:"key-down",key:i,repeat:n,native:r,timestamp:o,cancelable:s,stopPropagation:()=>e.stopPropagation(),async:a=>e.async(a),preventDefault:()=>e.preventDefault()}}_wrapKeyUp(e){const{key:i,native:n}=e.data,{cancelable:r,timestamp:s}=e;return{type:"key-up",key:i,native:n,timestamp:s,cancelable:r,stopPropagation:()=>e.stopPropagation(),async:o=>e.async(o),preventDefault:()=>e.preventDefault()}}_wrapPointer(e,i){const{x:n,y:r,button:s,buttons:o,native:a,eventId:l}=e.data,u=a.pointerId,p=a.pointerType,{cancelable:f,timestamp:m}=e;return{type:i,x:n,y:r,pointerId:u,pointerType:p,button:s,buttons:o,native:a,timestamp:m,eventId:l,cancelable:f,stopPropagation:()=>e.stopPropagation(),async:g=>e.async(g),preventDefault:()=>e.preventDefault()}}_wrapPointerDrag(e){const{x:i,y:n,buttons:r,native:s,eventId:o}=e.data.currentEvent,{button:a}=e.data.startEvent,l=e.data.startEvent.native.pointerId,u=e.data.startEvent.native.pointerType,p=e.data.action,f={x:e.data.startEvent.x,y:e.data.startEvent.y},{cancelable:m,timestamp:g}=e;return{type:"pointer-drag",x:i,y:n,pointerId:l,pointerType:u,button:a,buttons:r,action:p,origin:f,native:s,timestamp:g,eventId:o,cancelable:m,stopPropagation:()=>e.stopPropagation(),async:y=>e.async(y),preventDefault:()=>e.preventDefault()}}_wrapMouseWheel(e){const{cancelable:i,data:n,timestamp:r}=e,{x:s,y:o,deltaY:a,native:l}=n;return{type:"mouse-wheel",x:s,y:o,deltaY:a,native:l,timestamp:r,cancelable:i,stopPropagation:()=>e.stopPropagation(),async:u=>e.async(u),preventDefault:()=>e.preventDefault()}}_wrapGamepad(e){const{action:i,state:n,device:r}=e.data,{cancelable:s,timestamp:o}=e,{buttons:a,axes:l}=n;return{type:"gamepad",device:r,timestamp:o,action:i,buttons:a,axes:l,cancelable:s,stopPropagation:()=>e.stopPropagation(),async:u=>e.async(u),preventDefault:()=>e.preventDefault()}}};var Uh,CT,IT;(function(t){t[t.USER=0]="USER",t[t.MANAGER=1]="MANAGER"})(Uh||(Uh={})),function(t){t[t.None=0]="None",t[t.Unfocused=1]="Unfocused",t[t.Focused=2]="Focused",t[t.Unselected=4]="Unselected",t[t.Selected=8]="Selected",t[t.All=15]="All"}(CT||(CT={})),function(t){t[t.None=0]="None",t[t.Custom1=16]="Custom1",t[t.Custom2=32]="Custom2",t[t.Custom3=64]="Custom3",t[t.Custom4=128]="Custom4",t[t.Custom5=256]="Custom5",t[t.Custom6=512]="Custom6",t[t.Custom7=1024]="Custom7",t[t.Custom8=2048]="Custom8",t[t.Custom9=4096]="Custom9",t[t.Custom10=8192]="Custom10",t[t.Custom11=16384]="Custom11",t[t.Custom12=32768]="Custom12",t[t.All=65520]="All"}(IT||(IT={}));function bZ(t){return[t.on("before-add",e=>{const i=e.item;if(i==null||t.includes(i))return G.getLogger("esri.views.interactive.interactiveToolUtils").warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),void e.preventDefault();i.onAdd()}),t.on("after-remove",e=>{const i=e.item;i.active&&(i.view.activeTool=null),i.destroy()})]}function uw(t){return t.visible&&t.getEditableFlag!=null&&t.getEditableFlag(Uh.USER)&&t.getEditableFlag(Uh.MANAGER)}function $r(t){return ui(t.x,t.y)}function CL(t,e){var n;const i=(n=t instanceof HTMLElement?t:t.surface)==null?void 0:n.getBoundingClientRect();return i?ui(e.clientX-i.left,e.clientY-i.top):ui(0,0)}function IL(t,e){return e instanceof Event?CL(t,e):$r(e)}function OL(t){if(t instanceof Event)return!0;if(typeof t=="object"&&"type"in t)switch(t.type){case"click":case"double-click":case"pointer-down":case"pointer-drag":case"pointer-enter":case"pointer-leave":case"pointer-up":case"pointer-move":case"immediate-click":case"immediate-double-click":case"hold":case"drag":case"mouse-wheel":return!0;default:return!1}return!1}let wZ=class{constructor(){this._pointerLocations=new Map,this._hoveredManipulators=new Map,this._grabbedManipulators=new Map,this._draggedManipulators=new Map,this._stopDrag=!1,this._revertToNullActiveTool=!1,this._cursor=null}get cursor(){return this._cursor}hasFocusedManipulators(){return this._grabbedManipulators.size>0||this._draggedManipulators.size>0}handleInputEvent(e,i){const n=()=>e.stopPropagation();switch(e.type){case"pointer-move":OT(e.pointerType)&&this._pointerLocations.set(e.pointerId,{x:e.x,y:e.y,pointerType:e.pointerType});break;case"drag":this._grabbedManipulators.size>0&&(this._stopDrag=!0),this._stopDrag&&(n(),e.action==="end"&&(this._stopDrag=!1));break;case"pointer-down":{if(!AT(e))break;const r=$r(e),s=this._intersect(r,e.pointerType,i.forEachTool);if(s==null)break;const o=s.manipulator,a=s.tool;o==null||a==null||!o.interactive||o.grabbable&&o.grabbableForEvent(e)||!o.grabbing||o.dragging||this._ungrabManipulatorBeforeDragging(o,e,i),o!=null&&a!=null&&o.interactive&&o.grabbable&&o.grabbableForEvent(e)&&!o.grabbing&&(this._grabbedManipulators.set(e.pointerId,{manipulator:o,tool:a,start:r,pointerType:e.pointerType}),this._grabbedManipulators.size===1&&i.activeTool==null&&(this._revertToNullActiveTool=!0,i.setActiveTool(s.tool)),o.grabbing=!0,o.events.emit("grab-changed",{action:"start",pointerType:e.pointerType,screenPoint:r}),n());break}case"pointer-up":this._draggedManipulators.has(e.pointerId)||this._handlePointerEnd(e,i);break;case"pointer-drag":{if(!AT(e))break;const r=this._grabbedManipulators.get(e.pointerId),s=r==null?void 0:r.manipulator,o=r==null?void 0:r.tool;if(s==null||o==null)break;const a=$r(e);a.x=Vn(a.x,0,i.view.width),a.y=Vn(a.y,0,i.view.height);const l=r.start,u=this._draggedManipulators.get(e.pointerId);switch(e.action){case"start":case"update":e.action!=="update"&&this._grabbedManipulators.size!==1||(s.dragging=!0,u?s.events.emit("drag",{action:"update",start:l,screenPoint:a}):s.events.emit("drag",{action:"start",start:l,screenPoint:a,pointerType:e.pointerType}),this._draggedManipulators.set(e.pointerId,{tool:o,manipulator:s,start:l}));break;case"end":s.dragging=!1,u&&s.events.emit("drag",{action:"end",start:l,screenPoint:a}),this._draggedManipulators.delete(e.pointerId),this._handlePointerEnd(e,i)}n();break}case"immediate-click":{const r=$r(e),s=this._intersect(r,e.pointerType,i.forEachTool);if(_Z(e)||i.forEachTool(u=>{if((s==null||s.tool!==u||u.automaticManipulatorSelection)&&u.manipulators){let p=!1;u.manipulators.forEach(({manipulator:f})=>{f.selected&&(f.selected=!1,p=!0)}),p&&u.onManipulatorSelectionChanged&&u.onManipulatorSelectionChanged()}}),s==null)break;const{manipulator:o,tool:a}=s;if(!o.interactive)break;o.selectable&&a.automaticManipulatorSelection&&(o.selected=!o.selected,a.onManipulatorSelectionChanged&&a.onManipulatorSelectionChanged());const l=e.native.shiftKey;o.events.emit("immediate-click",{screenPoint:r,button:e.button,pointerType:e.pointerType,shiftKey:l,stopPropagation:n}),cv(o,n);break}case"click":{const r=$r(e),s=this._intersect(r,e.pointerType,i.forEachTool),o=s==null?void 0:s.manipulator;if(o==null||!o.interactive)break;const a=e.native.shiftKey;o.events.emit(e.type,{screenPoint:r,button:e.button,pointerType:e.pointerType,shiftKey:a}),n();break}case"double-click":{const r=$r(e),s=this._intersect(r,e.pointerType,i.forEachTool),o=s!=null?s.manipulator:null;if(o==null||!o.interactive)break;const a=e.native.shiftKey;o.events.emit("double-click",{screenPoint:r,button:e.button,pointerType:e.pointerType,shiftKey:a,stopPropagation:n}),cv(o,n);break}case"immediate-double-click":{const r=$r(e),s=this._intersect(r,e.pointerType,i.forEachTool),o=s!=null?s.manipulator:null;if(o==null||!o.interactive)break;const a=e.native.shiftKey;o.events.emit("immediate-double-click",{screenPoint:r,button:e.button,pointerType:e.pointerType,shiftKey:a,stopPropagation:n}),cv(o,n);break}}this._onFocusChange(i.forEachTool)}_ungrabManipulatorBeforeDragging(e,i,n){e.grabbing=!1,e.events.emit("grab-changed",{action:"end",pointerType:i.pointerType,screenPoint:$r(i)}),this._grabbedManipulators.forEach(({manipulator:r},s)=>{r===e&&this._grabbedManipulators.delete(s)}),this._afterManipulatorUngrab(n.setActiveTool)}_handlePointerEnd(e,i){var r;const n=(r=this._grabbedManipulators.get(e.pointerId))==null?void 0:r.manipulator;n!=null&&n.grabbing&&(n.grabbing=!1,n.events.emit("grab-changed",{action:"end",pointerType:e.pointerType,screenPoint:$r(e)}),this._grabbedManipulators.delete(e.pointerId),this._afterManipulatorUngrab(i.setActiveTool))}_cursorFromMap(e){let i=null;return ky(e,({manipulator:n})=>!(n==null||!n.interactive)&&(n.grabbing&&n.grabCursor?(i=n.grabCursor,!0):!!n.cursor&&(i=n.cursor,!0))),i}_onFocusChange(e){this._updateCursor(),this._updateFocusedManipulatorTools(e)}_updateCursor(){this._grabbedManipulators.size>0?this._cursor=this._cursorFromMap(this._grabbedManipulators)||"grabbing":this._hoveredManipulators.size>0?this._cursor=this._cursorFromMap(this._hoveredManipulators)||"pointer":this._cursor=null}_updateFocusedManipulatorTools(e){const i=new Set,n=new Set;this._grabbedManipulators.forEach(({tool:r})=>{i.add(r)}),this._hoveredManipulators.forEach(({tool:r})=>{n.add(r)}),e(r=>{r.hasGrabbedManipulators=i.has(r),r.hasHoveredManipulators=n.has(r);const s=this._grabbedManipulators.values(),o=$4(s,({tool:a})=>a===r);r.firstGrabbedManipulator=o!=null?o.manipulator:null})}clearPointers(e,{forEachTool:i,setActiveTool:n},r=!0,s){const o=(a,l)=>a===e&&(s==null||s===l);this._grabbedManipulators.forEach(({tool:a,manipulator:l,pointerType:u},p)=>{o(a,l)&&(this._grabbedManipulators.delete(p),l.grabbing=!1,l.events.emit("grab-changed",{action:"end",screenPoint:null,pointerType:u}))}),this._draggedManipulators.forEach(({tool:a,manipulator:l},u)=>{o(a,l)&&(this._draggedManipulators.delete(u),l.dragging=!1,l.events.emit("drag",{action:"cancel"}))}),r&&this._hoveredManipulators.forEach(({tool:a,manipulator:l},u)=>{o(a,l)&&(this._hoveredManipulators.delete(u),l.hovering=!1)}),this._afterManipulatorUngrab(n),this._onFocusChange(i)}_intersect(e,i,n){let r=null;return n(s=>{if(s.manipulators==null||!uw(s))return!1;const o=s.manipulators.intersect(e,i);return o!=null&&(r={tool:s,manipulator:o},!0)}),r}updateHoveredStateFromKnownPointers(e){this._pointerLocations.forEach((i,n)=>{this._updateHoveredStateForPointerAtScreenPosition(ui(i.x,i.y),n,i.pointerType,e)})}handleHoverEvent(e,i){e.type!=="pointer-up"&&e.type!=="immediate-click"&&e.type!=="pointer-move"||!OT(e.pointerType)||this._updateHoveredStateForPointerAtScreenPosition($r(e),e.pointerId,e.pointerType,i)}_updateHoveredStateForPointerAtScreenPosition(e,i,n,r){var a;let s=this._intersect(e,n,r);const o=(a=this._hoveredManipulators.get(i))==null?void 0:a.manipulator;s==null||s.manipulator.interactive||(s=null),s!=null&&o===s.manipulator||(o!=null&&(o.hovering=!1),s!=null?(s.manipulator.hovering=!0,this._hoveredManipulators.set(i,s)):this._hoveredManipulators.delete(i),this._onFocusChange(r))}_afterManipulatorUngrab(e){this._grabbedManipulators.size===0&&this._revertToNullActiveTool&&(e(null),this._revertToNullActiveTool=!1)}};function OT(t){return t==="mouse"}function AT(t){return t.pointerType!=="mouse"||t.button===0}function _Z(t){return!!t.native.shiftKey}function cv(t,e){t!=null&&t.consumesClicks&&e()}const LT="attached",uv="tools",PT=1e3;let Tr=class extends Q{constructor(e){super(e),this._updatingHandles=new bl,this._clock=ku,this._manipulatorState=new wZ,this.tools=new ee,this.cursor=null,this._interacting=!1,this._interactingTimeout=PT,this._interactingTimeoutHandle=null,this._forEachTool=i=>{for(const n of this.tools.items)if(i(n))return}}initialize(){this.addHandles([this.view.on(EL,e=>{this._handleInputEvent(e)},zo.TOOL),...bZ(this.tools),this.tools.on("before-add",({item:e})=>{this._updateToolEditableFlag(e)}),this.tools.on("before-remove",({item:e})=>{this._manipulatorState.clearPointers(e,this._manipulatorStateEventArgs),this._updateCursor()}),this.tools.on("change",()=>{this._refreshToolWatchers()})])}destroy(){this.activeTool=null,this.tools.drain(e=>e.destroy()),this._clearInteractingTimeout(),this._interacting=!1,this._updatingHandles.destroy()}get _manipulatorStateEventArgs(){return{forEachTool:this._forEachTool,activeTool:this.activeTool,setActiveTool:e=>{this.activeTool=e},view:this.view}}set activeTool(e){if(e!=null&&!this.view.ready)return void G.getLogger(this).error("Cannot set active tool while view is not ready.");if(e===this.activeTool)return;const i=this.activeTool;this._set("activeTool",e),i!=null&&i.deactivate(),e!=null&&e.activate(),this._removeIncompleteTools(e);for(const n of this.tools){this._updateToolEditableFlag(n);const r=uw(n);this.activeTool!=null&&r||this._manipulatorState.clearPointers(n,this._manipulatorStateEventArgs,!r)}this._updateCursor()}get updating(){return this._updatingHandles.updating||this.tools.some(e=>e.updating)}get interacting(){return this._interacting}_clearInteractingTimeout(){this._interactingTimeoutHandle=Ke(this._interactingTimeoutHandle)}_startInteractingTimeout(){this._clearInteractingTimeout(),this._interactingTimeoutHandle=this._clock.setTimeout(()=>this._interacting=!1,this._interactingTimeout)}attach(){var e;this.view.type==="3d"?this.addHandles([K(()=>{const{state:i}=this.view;return"camera"in i&&i.camera},()=>this._forEachManipulator(i=>i.onViewChange())),(e=this.view.elevationProvider)==null?void 0:e.on("elevation-change",i=>this._forEachManipulator(n=>n.onElevationChange(i)))],LT):this.addHandles(K(()=>this.view.extent,()=>this._forEachManipulator(i=>i.onViewChange())))}detach(){this.activeTool=null,this.tools.removeAll(),this.removeHandles(LT),this._clearInteractingTimeout(),this._interacting=!1}_forEachManipulator(e){this._forEachTool(i=>{i.manipulators&&i.manipulators.forEach(({manipulator:n})=>e(n,i))})}_handleInputEvent(e){let i=!1;const n={...e,stopPropagation:()=>{i=!0,e.stopPropagation()}};this.activeTool!=null?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(n):this._forEachTool(r=>{!i&&r.visible&&r.handleInputEvent(n)}),!i&&e.type==="key-down"&&e.key==="Escape"&&this.activeTool&&(e.stopPropagation(),this.activeTool=null),this._manipulatorState.handleInputEvent(n,this._manipulatorStateEventArgs),i||this.activeTool==null||this.activeTool.handleInputEventAfter(n),this._manipulatorState.handleHoverEvent(n,this._forEachTool),this._updateCursor(),e.type==="pointer-move"&&(this._manipulatorState.hasFocusedManipulators()||this.activeTool)&&(this._interacting=!0,this._startInteractingTimeout())}_refreshToolWatchers(){this.removeHandles(uv),this._forEachTool(e=>{if(e instanceof Q){const i=K(()=>[e.cursor,e.visible,e.editable],()=>{uw(e)||this._manipulatorState.clearPointers(e,this._manipulatorStateEventArgs),this._updateCursor()});this.addHandles(i,uv)}e.manipulators&&this.addHandles([e.manipulators.on("after-remove",i=>{this._manipulatorState.clearPointers(e,this._manipulatorStateEventArgs,!0,i.item.manipulator)}),e.manipulators.on("change",()=>{this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()})],uv)}),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}_updateToolEditableFlag(e){var i;(i=e.setEditableFlag)==null||i.call(e,Uh.MANAGER,this.activeTool==null||e===this.activeTool)}_updateCursor(){let e=this._manipulatorState.cursor;e==null&&this._forEachTool(i=>!(i.cursor==null||!i.visible)&&(e=i.cursor,!0)),this._get("cursor")!==e&&this._set("cursor",e)}_removeIncompleteTools(e){this.tools.filter(i=>(e==null||i!==e)&&!i.created&&i.removeIncompleteOnCancel).forEach(i=>{this.tools.remove(i)})}get test(){const e=this;return{setClock:i=>this._clock=i,set interactingTimeoutEnabled(i){e._interactingTimeout=i?PT:0},get interactingTimeoutEnabled(){return e._interactingTimeout!==0}}}};d([h({constructOnly:!0,nonNullable:!0})],Tr.prototype,"view",void 0),d([h({value:null})],Tr.prototype,"activeTool",null),d([h({readOnly:!0,type:ee})],Tr.prototype,"tools",void 0),d([h({readOnly:!0})],Tr.prototype,"cursor",void 0),d([h({readOnly:!0})],Tr.prototype,"updating",null),d([h()],Tr.prototype,"_interacting",void 0),d([h({readOnly:!0})],Tr.prototype,"interacting",null),Tr=d([E("esri.views.ToolViewManager")],Tr);let Sc=class extends Q{constructor(e){super(),this.nativeIndex=null,this._detectedDeviceType="unknown",e.mapping==="standard"?this._detectedDeviceType="standard":SZ.test(e.id)?this._detectedDeviceType="spacemouse":this._detectedDeviceType="unknown",this.nativeIndex=e.index}get native(){const e=navigator.getGamepads?navigator.getGamepads():[];return this.nativeIndex!=null&&this.nativeIndex<e.length?e[this.nativeIndex]:null}get deviceType(){return this._detectedDeviceType}get axisThreshold(){return xZ[this.deviceType]}};d([h({nonNullable:!0,readOnly:!0})],Sc.prototype,"nativeIndex",void 0),d([h({type:String,readOnly:!0})],Sc.prototype,"deviceType",null),d([h({type:Number,readOnly:!0})],Sc.prototype,"axisThreshold",null),Sc=d([E("esri.views.input.gamepad.GamepadInputDevice")],Sc);const SZ=new RegExp("^(3dconnexion|space(mouse|navigator|pilot|explorer))","i"),xZ={standard:.15,spacemouse:.025,unknown:0},HS=Sc;let jd=class extends Q{constructor(...e){super(...e),this.devices=new ee,this.enabledFocusMode="document"}};d([h({type:ee.ofType(HS),readOnly:!0})],jd.prototype,"devices",void 0),d([h({type:["document","view","none"]})],jd.prototype,"enabledFocusMode",void 0),jd=d([E("esri.views.input.gamepad.GamepadSettings")],jd);const $Z=jd;let Mm=class extends Q{constructor(){super(...arguments),this.gamepad=new $Z}};d([h({readOnly:!0})],Mm.prototype,"gamepad",void 0),Mm=d([E("esri.views.input.Input")],Mm);const TZ=Mm;let po=class extends Q{constructor(e){super(e),this.enabled=!0,this.device=null,this.mode="pan",this.tiltDirection="forward-down",this.velocityFactor=1}};d([h({type:Boolean,nonNullable:!0})],po.prototype,"enabled",void 0),d([h({type:HS})],po.prototype,"device",void 0),d([h({type:["pan","zoom"],nonNullable:!0})],po.prototype,"mode",void 0),d([h({type:["forward-down","forward-up"],nonNullable:!0})],po.prototype,"tiltDirection",void 0),d([h({type:Number,nonNullable:!0})],po.prototype,"velocityFactor",void 0),po=d([E("esri.views.navigation.gamepad.GamepadSettings")],po);const AL=po;let Ha=class extends Q{constructor(e){super(e),this.browserTouchPanEnabled=!0,this.gamepad=new AL,this.momentumEnabled=!0,this.mouseWheelZoomEnabled=!0}};d([h({type:Boolean})],Ha.prototype,"browserTouchPanEnabled",void 0),d([h({type:AL,nonNullable:!0})],Ha.prototype,"gamepad",void 0),d([h({type:Boolean})],Ha.prototype,"momentumEnabled",void 0),d([h({type:Boolean})],Ha.prototype,"mouseWheelZoomEnabled",void 0),Ha=d([E("esri.views.navigation.Navigation")],Ha);const LL=Ha,PL={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer"},RL=Object.values(PL),NL=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${RL.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),EZ=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(${RL.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),kZ=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function $pe(t){return!!NL.test(t)}function BS(t){if(t==null)return null;const e=Xt(t),i=(e==null?void 0:e.path.match(NL))||(e==null?void 0:e.path.match(EZ));if(!i)return null;const[,n,r,s,o]=i,a=r.indexOf("/");return{title:DL(a!==-1?r.slice(a+1):r),serverType:PL[s.toLowerCase()],sublayer:o!=null&&o!==""?parseInt(o,10):null,url:{path:n}}}function MZ(t){const e=Xt(t).path.match(kZ);return e?{serviceUrl:e[1],sublayerId:Number(e[2])}:null}function DL(t){return(t=t.replaceAll(/\s*[/_]+\s*/g," "))[0].toUpperCase()+t.slice(1)}function Tpe(t,e){const i=[];if(t){const n=BS(t);n!=null&&n.title&&i.push(n.title)}if(e){const n=DL(e);i.push(n)}if(i.length===2){if(i[0].toLowerCase().includes(i[1].toLowerCase()))return i[0];if(i[1].toLowerCase().includes(i[0].toLowerCase()))return i[1]}return i.join(" - ")}function Epe(t){if(!t)return!1;const e=".arcgis.com/",i="//services",n="//tiles",r="//features",s=(t=t.toLowerCase()).includes(e),o=t.includes(i)||t.includes(n)||t.includes(r);return s&&o}function kpe(t,e){return t&&OC(AC(t,e))}function Mpe(t){let{url:e}=t;if(!e)return{url:e};e=AC(e,t.logger);const i=Xt(e),n=BS(i.path);let r;if(n!=null)n.sublayer!=null&&t.layer.layerId==null&&(r=n.sublayer),e=n.url.path;else if(t.nonStandardUrlAllowed){const s=MZ(i.path);s!=null&&(e=s.serviceUrl,r=s.sublayerId)}return{url:OC(e),layerId:r}}function Cpe(t,e,i,n,r){yu(e,n,"url",r),n.url&&t.layerId!=null&&(n.url=Iy(n.url,i,t.layerId.toString()))}function Ipe(t){if(!t)return!1;const e=t.toLowerCase(),i=e.includes("/services/"),n=e.includes("/mapserver/wmsserver"),r=e.includes("/imageserver/wmsserver"),s=e.includes("/wmsserver");return i&&(n||r||s)}var RT;function CZ(t){var n;const e=t.url?BS(t.url):void 0;return!(((n=t.spatialReference)==null?void 0:n.vcsWkid)==null&&e!=null&&e.serverType==="ImageServer")&&zL(t)&&t.heightModelInfo?t.heightModelInfo:IZ(t)?vS.deriveUnitFromSR(AZ,t.spatialReference):null}function zL(t){return"heightModelInfo"in t}function FL(t){if(t.type==="unknown"||!("capabilities"in t))return!1;switch(t.type){case"csv":case"feature":case"geojson":case"subtype-group":case"ogc-feature":case"oriented-imagery":case"wfs":case"knowledge-graph-sublayer":return!0;default:return!1}}function IZ(t){return FL(t)?!!(t.capabilities&&t.capabilities.data&&t.capabilities.data.supportsZ):jL(t)}function OZ(t){return t.layers!=null||jL(t)||FL(t)||zL(t)}function jL(t){switch(t.type){case"building-scene":case"elevation":case"integrated-mesh":case"point-cloud":case"scene":case"voxel":return!0;case"base-dynamic":case"base-elevation":case"base-tile":case"bing-maps":case"csv":case"dimension":case"geojson":case"feature":case"subtype-group":case"geo-rss":case"graphics":case"group":case"imagery":case"imagery-tile":case"kml":case"knowledge-graph":case"link-chart":case"knowledge-graph-sublayer":case"line-of-sight":case"map-image":case"map-notes":case"media":case"ogc-feature":case"open-street-map":case"oriented-imagery":case"route":case"stream":case"tile":case"unknown":case"unsupported":case"vector-tile":case"video":case"wcs":case"web-tile":case"wfs":case"wms":case"wmts":case null:return!1}return!1}(function(t){t[t.Ok=0]="Ok",t[t.Units=1]="Units",t[t.HeightModel=2]="HeightModel",t[t.CRS=3]="CRS",t[t.Unsupported=4]="Unsupported"})(RT||(RT={}));const AZ=new vS({heightModel:"gravity-related-height"});var Ls;function NT(t){return t===Ls.Global?"global":"local"}(function(t){t[t.Global=1]="Global",t[t.Local=2]="Local"})(Ls||(Ls={}));let dw,dv=null;async function LZ(t){dv||(dv=V(()=>import("./geometryServiceUtils-H-ObxJrn.js"),__vite__mapDeps([]),import.meta.url).then(e=>dw=e)),await dv,Ge(t)}async function UL(t,e,i,n){if(!t)return null;const r=t.spatialReference;return ta()||Ur(r,e)?Vl(t,e):dw?dw.projectGeometry(t,e,i,n):(await Promise.race([LZ(n),As(n)]),UL(t,e,i,n))}let Ie=class extends Q{constructor(e){super(e),this.required={tileInfo:!1,heightModelInfo:!1,extent:!1},this.defaultSpatialReference=null,this.userSpatialReference=null,this.sourcePreloadCount=10,this.priorityCollection=null,this.requiresExtentInSpatialReference=!0,this.suspended=!1,this._projectExtentTask={task:null,input:null,output:null,spatialReference:null}}destroy(){this._projectExtentTask.task&&(this._projectExtentTask.task=Uo(this._projectExtentTask.task)),this._set("map",null)}get ready(){return!this._spatialReferenceTask.updating&&!this._tileInfoTask.updating&&!this._extentTask.updating}get heightModelInfoReady(){return!this._heightModelInfoTask.updating}get spatialReference(){return this.userSpatialReference!=null?this.userSpatialReference:this._spatialReferenceTask.spatialReference}get extent(){return this._extentTask.extent}get heightModelInfo(){return this._heightModelInfoTask.heightModelInfo}get vcsWkid(){return this._heightModelInfoTask.vcsWkid}get latestVcsWkid(){return this._heightModelInfoTask.latestVcsWkid}get viewingMode(){return this.userSpatialReference==null||this.userSpatialReference.equals(this._spatialReferenceTask.spatialReference)?this._spatialReferenceTask.viewingMode:null}get tileInfo(){return this._tileInfoTask.tileInfo}get mapCollections(){var n,r,s,o;const e=(n=this.map)==null?void 0:n.call(this),i=[];return this.priorityCollection!=null&&i.push(this.priorityCollection),i.push({parent:e==null?void 0:e.basemap,layers:(r=e==null?void 0:e.basemap)==null?void 0:r.baseLayers},{layers:e==null?void 0:e.layers},{parent:e==null?void 0:e.ground,layers:(s=e==null?void 0:e.ground)==null?void 0:s.layers},{parent:e==null?void 0:e.basemap,layers:(o=e==null?void 0:e.basemap)==null?void 0:o.referenceLayers}),i}get _allLayers(){return this._collectLayers(this.mapCollections)}get _spatialReferenceTask(){if(this.suspended)return this._get("_spatialReferenceTask")??{updating:!1};const{layers:e,updating:i}=this._allLayers;let n=null;for(const s of e){const o=this._getSupportedSpatialReferences(s);if(o.length>0){const a=this._narrowDownSpatialReferenceCandidates(n,o);a!=null&&(n=a)}if(n!=null&&n.length===1)break}if(i&&(n==null||n.length!==1))return{updating:!0};const r=this._pickSpatialReferenceCandidate(n);return{spatialReference:r!=null?r.spatialReference:null,viewingMode:r!=null?r.viewingMode:null,updating:!1}}get _tileInfoTask(){var n,r,s,o,a,l,u;if(!this.required.tileInfo)return this._get("_tileInfoTask")??{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const{layers:e,updating:i}=this._collectLayers([{parent:(r=(n=this.map)==null?void 0:n.call(this))==null?void 0:r.basemap,layers:(a=(o=(s=this.map)==null?void 0:s.call(this))==null?void 0:o.basemap)==null?void 0:a.baseLayers},{layers:(u=(l=this.map)==null?void 0:l.call(this))==null?void 0:u.layers}]);if(e&&e.length>0&&"tileInfo"in e[0]){const p=e[0].tileInfo;return{tileInfo:p&&p.spatialReference.equals(this.spatialReference)?p:null,updating:!1}}return{updating:i}}get _heightModelInfoTask(){var n,r,s;if(!this.required.heightModelInfo||this.suspended&&((n=this._get("_heightModelInfoTask"))!=null&&n.heightModelInfo))return this._get("_heightModelInfoTask")??{updating:!1};const{layers:e,updating:i}=this._allLayers;for(const o of e)if(OZ(o)){const a=CZ(o);if(a)return{heightModelInfo:a,vcsWkid:(r=o.spatialReference)==null?void 0:r.vcsWkid,latestVcsWkid:(s=o.spatialReference)==null?void 0:s.latestVcsWkid,updating:!1}}return{updating:i}}get _extentCandidatesTask(){if(this.suspended||!this.required.extent)return this._get("_extentCandidatesTask")??{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const e=this._allLayers,i=e.updating,n=[];for(const r of e.layers){const s="fullExtents"in r&&r.fullExtents||(r.fullExtent!=null?[r.fullExtent]:[]),o=this.requiresExtentInSpatialReference?null:s[0],a=s.find(l=>l.spatialReference.equals(this.spatialReference))??o;if(a)return{candidates:[{extent:a,layer:r}],updating:!1};if(this._getSupportedSpatialReferences(r).length>0)for(const l of s)n.push({extent:l,layer:r})}return{candidates:n,updating:i}}get _extentTask(){const{candidates:e,updating:i}=this._extentCandidatesTask;if(i)return{updating:i};if(e==null||e.length===0)return{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const n=this._pickExtentCandidate(e),r=this.spatialReference;return n.extent.equals(this._projectExtentTask.input)&&r.equals(this._projectExtentTask.spatialReference)?{extent:this._projectExtentTask.output,updating:this._projectExtentTask.task!=null&&!this._projectExtentTask.task.finished}:(this._projectExtentTask.task!=null&&(this._projectExtentTask.task=Uo(this._projectExtentTask.task)),this._projectExtentTask={input:n.extent.clone(),output:null,spatialReference:r.clone(),task:W_(async s=>{try{const o=await UL(n.extent,r,"portalItem"in n.layer?n.layer.portalItem:void 0,s);this._projectExtentTask={...this._projectExtentTask,task:null,output:o}}catch{if(Bn(s))return;this._projectExtentTask={...this._projectExtentTask,task:null}}})},{updating:!0})}_narrowDownSpatialReferenceCandidates(e,i){if(e==null)return i;const n=[],r=(s,o)=>s!=null?o!=null?s===o&&s:s:o;for(const s of e)for(const o of i){if(!s.spatialReference.equals(o.spatialReference))continue;const a=r(s.viewingMode,o.viewingMode);if(a!==!1){n.push({spatialReference:s.spatialReference,viewingMode:a});break}}return n.length>0?n:null}_pickSpatialReferenceCandidate(e){const i=this.defaultSpatialReference;return e==null||e.length<1?i!=null?{spatialReference:i,viewingMode:null}:null:(i!=null&&e.length>1&&e.some(({spatialReference:n})=>n.equals(i))&&(e=e.filter(({spatialReference:n})=>n.equals(i))),e.length>1&&e.some(({viewingMode:n})=>n!==Ls.Local)&&(e=e.filter(({viewingMode:n})=>n!==Ls.Local)),e[0])}_getSupportedSpatialReferences(e){const i="supportedSpatialReferences"in e&&e.supportedSpatialReferences||(e.spatialReference?[e.spatialReference]:[]);if(i.length===0)return[];const n=[];for(const r of i){const s=this.getSpatialReferenceSupport({spatialReference:r,layer:e});if(s!=null){const o=s.constraints!=null?s.constraints:[{spatialReference:r,viewingMode:null}];for(const{spatialReference:a,viewingMode:l}of o)this.requiresExtentInSpatialReference&&this.userSpatialReference!=null&&!a.equals(this.userSpatialReference)||n.push({spatialReference:a,viewingMode:l})}}return n}_pickExtentCandidate(e){const i=this.spatialReference;return e.find(({extent:n})=>i.equals(n.spatialReference))||e[0]}_collectLayers(e){var n;if(this._loadMaybe((n=this.map)==null?void 0:n.call(this))!=="loaded")return{layers:[],updating:!0};const i=new PZ;for(const r of e)if(this._collectCollection(r,i),i.preloading===this.sourcePreloadCount)break;return{layers:i.layers,updating:i.updating}}_collectCollection(e,i){if(e.layers){switch(this._loadMaybe(e.parent)){case"loading":return i.updating=!0,void++i.preloading;case"failed":return}for(const n of e.layers){switch(this._loadMaybe(n)){case"failed":continue;case"loading":i.updating=!0,++i.preloading;break;case"loaded":i.updating||i.layers.push(n),"layers"in n&&this._collectCollection({layers:n.layers},i)}if(i.preloading===this.sourcePreloadCount)break}}}_loadMaybe(e){return e&&"loadStatus"in e&&e.loadStatus!=null?e.loadStatus==="not-loaded"?(e.load().catch(i=>{di(i)||console.log(i)}),"loading"):e.loadStatus:"loaded"}};d([h()],Ie.prototype,"required",void 0),d([h({constructOnly:!0})],Ie.prototype,"map",void 0),d([h({constructOnly:!0})],Ie.prototype,"getSpatialReferenceSupport",void 0),d([h()],Ie.prototype,"defaultSpatialReference",void 0),d([h()],Ie.prototype,"userSpatialReference",void 0),d([h()],Ie.prototype,"sourcePreloadCount",void 0),d([h()],Ie.prototype,"priorityCollection",void 0),d([h()],Ie.prototype,"requiresExtentInSpatialReference",void 0),d([h()],Ie.prototype,"suspended",void 0),d([h({readOnly:!0})],Ie.prototype,"ready",null),d([h({readOnly:!0})],Ie.prototype,"heightModelInfoReady",null),d([h({readOnly:!0})],Ie.prototype,"spatialReference",null),d([h({readOnly:!0})],Ie.prototype,"extent",null),d([h({readOnly:!0})],Ie.prototype,"heightModelInfo",null),d([h({readOnly:!0})],Ie.prototype,"vcsWkid",null),d([h({readOnly:!0})],Ie.prototype,"latestVcsWkid",null),d([h({readOnly:!0})],Ie.prototype,"viewingMode",null),d([h({readOnly:!0})],Ie.prototype,"tileInfo",null),d([h({readOnly:!0})],Ie.prototype,"mapCollections",null),d([h({readOnly:!0})],Ie.prototype,"_allLayers",null),d([h({readOnly:!0})],Ie.prototype,"_spatialReferenceTask",null),d([h({readOnly:!0})],Ie.prototype,"_tileInfoTask",null),d([h({readOnly:!0})],Ie.prototype,"_heightModelInfoTask",null),d([h({readOnly:!0})],Ie.prototype,"_extentCandidatesTask",null),d([h()],Ie.prototype,"_extentTask",null),d([h()],Ie.prototype,"_projectExtentTask",void 0),Ie=d([E("esri.views.support.DefaultsFromMap")],Ie);let PZ=class{constructor(){this.layers=new Array,this.preloading=-1,this.updating=!1}};var Ud;let Y=Ud=class extends ea.EventedMixin(Jy(Q)){constructor(t){super(t),this._userSpatialReference=null,this._cursor=null,this.handles=new Sy,this.updatingHandles=new bl,this.allLayerViews=new Ih({getCollections:()=>{var e,i,n;return[(e=this.basemapView)==null?void 0:e.baseLayerViews,(i=this.groundView)==null?void 0:i.layerViews,this.layerViews,(n=this.basemapView)==null?void 0:n.referenceLayerViews]},getChildrenFunction:NZ}),this.groundView=null,this.basemapView=null,this.fatalError=null,this.graphics=new yh,this.analyses=new kg,this.typeSpecificPreconditionsReady=!0,this.layerViews=new ee,this.magnifier=new TL,this.padding={left:0,top:0,right:0,bottom:0},this.ready=!1,this.spatialReferenceWarningDelay=1e3,this.supportsGround=!0,this.timeExtent=null,this.type=null,this.scale=null,this.updating=!1,this.initialExtentRequired=!0,this.input=new TZ,this.navigation=new LL,this.layerViewManager=null,this.analysisViewManager=null,this.isHeightModelInfoRequired=!1,this.width=null,this.height=null,this.resizing=!1,this.suspended=!1,this.viewEvents=new yZ(this),this.persistableViewModels=new ee,this._isValid=!1,this._readyCycleForced=!1,this._lockedSpatialReference=null,this._userTimeZone=null,this._lockedTimeZone=null,this.theme=null,this.handles.add(K(()=>this.preconditionsReady,e=>{var i,n;e?(this._lockedSpatialReference=this.spatialReference,this._lockedTimeZone=this.timeZone,Ud.views.add(this)):(this._lockedSpatialReference=null,Ud.views.remove(this)),this.notifyChange("spatialReference"),!e&&this.ready?((i=this.toolViewManager)==null||i.detach(),this.analysisViewManager!=null&&this.analysisViewManager.detach(),(n=this.layerViewManager)==null||n.clear(),this._teardown()):e&&!this.ready&&(this._startup(),this.analysisViewManager!=null&&this.analysisViewManager.attach(),this.toolViewManager.attach())},Cu))}initialize(){this.addResolvingPromise(Promise.all([this.loadAsyncDependencies(),this.validate()]).then(()=>(this._isValid=!0,Ol(()=>this.ready)))),this.basemapView=new ho({view:this}),this.layerViewManager=new fZ({view:this,layerViewImporter:{importLayerView:t=>this.importLayerView(t),hasLayerViewModule:t=>this.hasLayerViewModule(t)},supportsGround:this.supportsGround}),this.toolViewManager=new Tr({view:this}),this._setupSpatialReferenceLogger(),this.addHandles([K(()=>this.initialExtentRequired,t=>this.defaultsFromMap.required={...this.defaultsFromMap.required,extent:t},{sync:!0,initial:!0}),K(()=>this.ready,t=>{this.defaultsFromMap&&(this.defaultsFromMap.suspended=t,this.defaultsFromMap.userSpatialReference=t?this.spatialReference:this._userSpatialReference)},{sync:!0}),K(()=>this._userSpatialReference,t=>{this.defaultsFromMap&&(this.defaultsFromMap.userSpatialReference=t)},{sync:!0,initial:!0})])}_setupSpatialReferenceLogger(){let t=null;this.addHandles([K(()=>{var e;return(e=this.defaultsFromMap)==null?void 0:e.ready},e=>{var n;const i=((n=this.map)==null?void 0:n.allLayers.length)>0;if(e&&!this.spatialReference&&i){if(t!=null)return;const r=je(()=>t=Uo(t));t=W_(async s=>{try{await l_(this.spatialReferenceWarningDelay,null,s)}catch{return}finally{t=null}G.getLogger(this).warn("#spatialReference","no spatial reference could be derived from the currently added map layers")}),this.addHandles(r,"spatial-reference-logger-task")}else this.removeHandles("spatial-reference-logger-task")},{sync:!0})])}destroy(){var t,e;this.destroyed||(Ud.views.remove(this),this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&(this.navigation.destroy(),this._set("navigation",null)),this.graphics=ze(this.graphics),this.analyses=ze(this.analyses),this.defaultsFromMap.destroy(),this._set("defaultsFromMap",null),ze(this.analysisViewManager),this.toolViewManager=ze(this.toolViewManager),this.layerViewManager=ze(this.layerViewManager),this.basemapView=ze(this.basemapView),(t=this.groundView)==null||t.destroy(),(e=this.layerViews)==null||e.forEach(i=>i.destroy()),this.layerViews.length=0,this.invalidate(),this._emitter.clear(),this.handles.destroy(),this.map=ze(this.map),this.updatingHandles.destroy())}_startup(){this._set("ready",!0)}_teardown(){this._set("ready",!1)}whenReady(){return Promise.resolve(this)}toMap(){return G.getLogger(this).error("#toMap()","Not implemented on this instance of View"),null}get activeTool(){var t;return(t=this.toolViewManager)==null?void 0:t.activeTool}set activeTool(t){this.toolViewManager&&(this.toolViewManager.activeTool=t)}get animation(){return this._get("animation")}set animation(t){this._set("animation",t)}get center(){return null}get _defaultsFromMapSettings(){return{}}get defaultsFromMap(){return new Ie({required:{tileInfo:!1,heightModelInfo:!1,extent:!1},map:()=>this.map,getSpatialReferenceSupport:t=>this.getSpatialReferenceSupport(t),...this._defaultsFromMapSettings})}get extent(){return this._get("extent")}set extent(t){this._set("extent",t)}get heightModelInfo(){return this.getDefaultHeightModelInfo()}get interacting(){return this.navigating}get navigating(){return!1}get preconditionsReady(){var t;return!(this.fatalError||!this._isValid||this._readyCycleForced||!this.map||Zn.isLoadable(this.map)&&!this.map.loaded||this.width===0||this.height===0||!this.spatialReference||!this._validateSpatialReference(this.spatialReference)||!this._lockedSpatialReference&&!((t=this.defaultsFromMap)!=null&&t.ready)||!this.typeSpecificPreconditionsReady)}get resolution(){return 0}set map(t){t!==this._get("map")&&(t!=null&&t.destroyed&&(G.getLogger(this).warn("#map","The provided map is already destroyed",{map:t}),t=null),Zn.isLoadable(t)&&t.load().catch(()=>{}),this.constructed&&!this.destroyed&&(this.forceReadyCycle(),this._lockedSpatialReference=null),this._set("map",t))}get spatialReference(){var e,i;let t=this._userSpatialReference||this._lockedSpatialReference||this.getDefaultSpatialReference()||null;return t&&((i=(e=this.defaultsFromMap)==null?void 0:e.required)!=null&&i.heightModelInfo)&&(t=t.clone(),t.vcsWkid=this.defaultsFromMap.vcsWkid,t.latestVcsWkid=this.defaultsFromMap.latestVcsWkid),t}set spatialReference(t){const e=!it(t,this._get("spatialReference"));this._set("_userSpatialReference",t),e&&(this._set("spatialReference",t),this._spatialReferenceChanged(t))}_spatialReferenceChanged(t){}get stationary(){return!this.animation&&!this.navigating&&!this.resizing}get timeZone(){return this._userTimeZone??this._lockedTimeZone??this.getDefaultTimeZone()??jr}set timeZone(t){const e=new Set(["etc/utc","etc/gmt","gmt"]),i=new Set(Intl.supportedValuesOf("timeZone").map(n=>n.toLowerCase()));this._userTimeZone=t,t===jr||t===rS||e.has(t.toLowerCase())||i.has(t.toLowerCase())||G.getLogger(this).warn("#timeZone",`the parsed value '${t}' may not be a valid IANA time zone`)}get tools(){var t;return(t=this.toolViewManager)==null?void 0:t.tools}get initialExtent(){var t;return(t=this.defaultsFromMap)==null?void 0:t.extent}get cursor(){var t;return((t=this.toolViewManager)==null?void 0:t.cursor)??this._cursor??"default"}set cursor(t){this._cursor=t,this.notifyChange("cursor")}get size(){return[this.width,this.height]}get effectiveTheme(){return this.theme??new cw}whenLayerView(t){var e;return((e=this.layerViewManager)==null?void 0:e.whenLayerView(t))??Promise.reject()}getDefaultSpatialReference(){var t;return(t=this.defaultsFromMap)==null?void 0:t.spatialReference}getDefaultHeightModelInfo(){var t;return(this.map&&"heightModelInfo"in this.map?this.map.heightModelInfo:void 0)??((t=this.defaultsFromMap)==null?void 0:t.heightModelInfo)??null}getDefaultTimeZone(){return null}importLayerView(t){throw new D("importLayerView() not implemented")}hasLayerViewModule(t){return!1}async validate(){}async loadAsyncDependencies(){}invalidate(){this._isValid=!1}getSpatialReferenceSupport(){return{constraints:null}}_validateSpatialReference(t){return this.getSpatialReferenceSupport({spatialReference:t})!=null}when(t,e){return this.isResolved()&&!this.ready&&G.getLogger(this).warn("#when()","Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use reactiveUtils.whenOnce(() => view.ready).then(...) instead."),super.when(t,e)}forceReadyCycle(){this.ready&&(cn(()=>this.destroyed||this.preconditionsReady===!1,()=>this._readyCycleForced=!1,{once:!0}),this._readyCycleForced=!0)}addAndActivateTool(t){this.toolViewManager.tools.add(t),this.activeTool=t}tryFatalErrorRecovery(){this.fatalError=null}};Y.views=new ee,d([h()],Y.prototype,"_userSpatialReference",void 0),d([h()],Y.prototype,"activeTool",null),d([h({readOnly:!0})],Y.prototype,"allLayerViews",void 0),d([h()],Y.prototype,"groundView",void 0),d([h()],Y.prototype,"animation",null),d([h()],Y.prototype,"basemapView",void 0),d([h()],Y.prototype,"center",null),d([h({readOnly:!0})],Y.prototype,"_defaultsFromMapSettings",null),d([h()],Y.prototype,"defaultsFromMap",null),d([h()],Y.prototype,"fatalError",void 0),d([h({type:Le})],Y.prototype,"extent",null),d([h(gT(yh,"graphics"))],Y.prototype,"graphics",void 0),d([h(gT(kg,"analyses"))],Y.prototype,"analyses",void 0),d([h({readOnly:!0,type:vS})],Y.prototype,"heightModelInfo",null),d([h({readOnly:!0})],Y.prototype,"interacting",null),d([h({readOnly:!0})],Y.prototype,"navigating",null),d([h({readOnly:!0,dependsOn:["fatalError","_isValid","_readyCycleForced","map","map.loaded?","width","height","spatialReference","_lockedSpatialReference","defaultsFromMap.ready","typeSpecificPreconditionsReady"]})],Y.prototype,"preconditionsReady",null),d([h({readOnly:!0})],Y.prototype,"typeSpecificPreconditionsReady",void 0),d([h({type:ee,readOnly:!0})],Y.prototype,"layerViews",void 0),d([h()],Y.prototype,"resolution",null),d([h({type:TL})],Y.prototype,"magnifier",void 0),d([h({value:null,type:uW})],Y.prototype,"map",null),d([h()],Y.prototype,"padding",void 0),d([h({readOnly:!0})],Y.prototype,"ready",void 0),d([h({type:ge})],Y.prototype,"spatialReference",null),d([h()],Y.prototype,"spatialReferenceWarningDelay",void 0),d([h()],Y.prototype,"stationary",null),d([h({readOnly:!0})],Y.prototype,"supportsGround",void 0),d([h({type:hW})],Y.prototype,"timeExtent",void 0),d([h({type:String,nonNullable:!0})],Y.prototype,"timeZone",null),d([h()],Y.prototype,"tools",null),d([h()],Y.prototype,"toolViewManager",void 0),d([h({readOnly:!0})],Y.prototype,"type",void 0),d([h({type:Number})],Y.prototype,"scale",void 0),d([h({readOnly:!0})],Y.prototype,"updating",void 0),d([h({readOnly:!0})],Y.prototype,"initialExtentRequired",void 0),d([h({readOnly:!0})],Y.prototype,"initialExtent",null),d([h()],Y.prototype,"cursor",null),d([h({readOnly:!0})],Y.prototype,"input",void 0),d([h({type:LL,nonNullable:!0})],Y.prototype,"navigation",void 0),d([h()],Y.prototype,"layerViewManager",void 0),d([h()],Y.prototype,"analysisViewManager",void 0),d([h()],Y.prototype,"width",void 0),d([h()],Y.prototype,"height",void 0),d([h({readOnly:!0})],Y.prototype,"resizing",void 0),d([h({value:null,readOnly:!0})],Y.prototype,"size",null),d([h({readOnly:!0})],Y.prototype,"suspended",void 0),d([h({readOnly:!0})],Y.prototype,"viewEvents",void 0),d([h({readOnly:!0})],Y.prototype,"persistableViewModels",void 0),d([h()],Y.prototype,"_isValid",void 0),d([h()],Y.prototype,"_readyCycleForced",void 0),d([h()],Y.prototype,"_lockedSpatialReference",void 0),d([h()],Y.prototype,"_userTimeZone",void 0),d([h()],Y.prototype,"_lockedTimeZone",void 0),d([h({type:cw})],Y.prototype,"theme",void 0),d([h({readOnly:!0,type:cw})],Y.prototype,"effectiveTheme",null),Y=Ud=d([E("esri.views.View")],Y);const RZ=Y;function NZ(t){return t.layerViews}let fo=class extends xg{constructor(e){super(e),this.state="running",this.target=null,this._resolver=null}initialize(){this._resolver=ln(),this.addResolvingPromise(this._resolver.promise)}get done(){return this.state==="finished"||this.state==="stopped"}stop(){var e;this.state!=="stopped"&&this.state!=="finished"&&(this._set("state","stopped"),(e=this._resolver)==null||e.reject(new D("ViewAnimation stopped")))}finish(){var e;this.state!=="stopped"&&this.state!=="finished"&&(this._set("state","finished"),(e=this._resolver)==null||e.resolve())}update(e,i){i||(i=Ns(e)?"waiting-for-target":"running"),this._set("target",e),this._set("state",i)}};d([h({readOnly:!0})],fo.prototype,"done",null),d([h({readOnly:!0,type:String})],fo.prototype,"state",void 0),d([h()],fo.prototype,"target",void 0),fo=d([E("esri.views.ViewAnimation")],fo),function(t){t.State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"}}(fo||(fo={}));const hw=fo;function il(t,e,i,n){const r=3*t,s=3*(i-t)-r,o=1-r-s,a=3*e,l=3*(n-e)-a,u=1-a-l;function p(y){return((o*y+s)*y+r)*y}function f(y){return((u*y+l)*y+a)*y}function m(y){return(3*o*y+2*s)*y+r}function g(y,v){let w,_,$,x,T,M;for($=y,M=0;M<8;M++){if(x=p($)-y,Math.abs(x)<v)return $;if(T=m($),Math.abs(T)<1e-6)break;$-=x/T}if(w=0,_=1,$=y,$<w)return w;if($>_)return _;for(;w<_;){if(x=p($),Math.abs(x-y)<v)return $;y>x?w=$:_=$,$=.5*(_-w)+w}return $}return function(y,v=1e-6){return f(g(y,v))}}const DZ=/^cubic-bezier\((.*)\)/,Qi={};function zZ(t){let e=Qi[t]||null;if(!e){const i=DZ.exec(t);if(i){const n=i[1].split(",").map(r=>parseFloat(r.trim()));n.length!==4||n.some(r=>isNaN(r))||(e=il.apply(il,n))}}return e}Qi.ease=il(.25,.1,.25,1),Qi.linear=il(0,0,1,1),Qi.easeIn=Qi["ease-in"]=il(.42,0,1,1),Qi.easeOut=Qi["ease-out"]=il(0,0,.58,1),Qi.easeInOut=Qi["ease-in-out"]=il(.42,0,.58,1);function FZ(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function jZ(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function UZ(t,e,i,n,r,s,o){return t[0]=e,t[1]=i,t[2]=n,t[3]=r,t[4]=s,t[5]=o,t}function GS(t,e){const i=e[0],n=e[1],r=e[2],s=e[3],o=e[4],a=e[5];let l=i*s-n*r;return l?(l=1/l,t[0]=s*l,t[1]=-n*l,t[2]=-r*l,t[3]=i*l,t[4]=(r*a-s*o)*l,t[5]=(n*o-i*a)*l,t):null}function HZ(t){return t[0]*t[3]-t[1]*t[2]}function HL(t,e,i){const n=e[0],r=e[1],s=e[2],o=e[3],a=e[4],l=e[5],u=i[0],p=i[1],f=i[2],m=i[3],g=i[4],y=i[5];return t[0]=n*u+s*p,t[1]=r*u+o*p,t[2]=n*f+s*m,t[3]=r*f+o*m,t[4]=n*g+s*y+a,t[5]=r*g+o*y+l,t}function a0(t,e,i){const n=e[0],r=e[1],s=e[2],o=e[3],a=e[4],l=e[5],u=Math.sin(i),p=Math.cos(i);return t[0]=n*p+s*u,t[1]=r*p+o*u,t[2]=n*-u+s*p,t[3]=r*-u+o*p,t[4]=a,t[5]=l,t}function VS(t,e,i){const n=e[0],r=e[1],s=e[2],o=e[3],a=e[4],l=e[5],u=i[0],p=i[1];return t[0]=n*u,t[1]=r*u,t[2]=s*p,t[3]=o*p,t[4]=a,t[5]=l,t}function Hh(t,e,i){const n=e[0],r=e[1],s=e[2],o=e[3],a=e[4],l=e[5],u=i[0],p=i[1];return t[0]=n,t[1]=r,t[2]=s,t[3]=o,t[4]=n*u+s*p+a,t[5]=r*u+o*p+l,t}function BL(t,e){const i=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=i,t[2]=-i,t[3]=n,t[4]=0,t[5]=0,t}function GL(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t}function WS(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t}function BZ(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function GZ(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+1)}function VZ(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t[4]=e[4]+i[4],t[5]=e[5]+i[5],t}function VL(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t[4]=e[4]-i[4],t[5]=e[5]-i[5],t}function WZ(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*i,t[5]=e[5]*i,t}function qZ(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t[2]=e[2]+i[2]*n,t[3]=e[3]+i[3]*n,t[4]=e[4]+i[4]*n,t[5]=e[5]+i[5]*n,t}function ZZ(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]}function JZ(t,e){const i=t[0],n=t[1],r=t[2],s=t[3],o=t[4],a=t[5],l=e[0],u=e[1],p=e[2],f=e[3],m=e[4],g=e[5],y=hn();return Math.abs(i-l)<=y*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(n-u)<=y*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(r-p)<=y*Math.max(1,Math.abs(r),Math.abs(p))&&Math.abs(s-f)<=y*Math.max(1,Math.abs(s),Math.abs(f))&&Math.abs(o-m)<=y*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(a-g)<=y*Math.max(1,Math.abs(a),Math.abs(g))}const KZ=HL,YZ=VL;Object.freeze(Object.defineProperty({__proto__:null,add:VZ,copy:FZ,determinant:HZ,equals:JZ,exactEquals:ZZ,frob:GZ,fromRotation:BL,fromScaling:GL,fromTranslation:WS,identity:jZ,invert:GS,mul:KZ,multiply:HL,multiplyScalar:WZ,multiplyScalarAndAdd:qZ,rotate:a0,scale:VS,set:UZ,str:BZ,sub:YZ,subtract:VL,translate:Hh},Symbol.toStringTag,{value:"Module"}));function jo(){return[1,0,0,1,0,0]}function XZ(t){return[t[0],t[1],t[2],t[3],t[4],t[5]]}function QZ(t,e,i,n,r,s){return[t,e,i,n,r,s]}function eJ(t,e){return new Float64Array(t,e,6)}Object.freeze(Object.defineProperty({__proto__:null,clone:XZ,create:jo,createView:eJ,fromValues:QZ},Symbol.toStringTag,{value:"Module"}));function Bh(t,e){return t[0]=e[0],t[1]=e[1],t}function Et(t,e,i){return t[0]=e,t[1]=i,t}function WL(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t}function Gh(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t}function qL(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t}function ZL(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t}function tJ(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function iJ(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function nJ(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t}function rJ(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t}function sJ(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function kp(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t}function oJ(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t}function l0(t,e){const i=e[0]-t[0],n=e[1]-t[1];return Math.sqrt(i*i+n*n)}function Rg(t,e){const i=e[0]-t[0],n=e[1]-t[1];return i*i+n*n}function Ng(t){const e=t[0],i=t[1];return Math.sqrt(e*e+i*i)}function JL(t){const e=t[0],i=t[1];return e*e+i*i}function KL(t,e){return t[0]=-e[0],t[1]=-e[1],t}function aJ(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function pw(t,e){const i=e[0],n=e[1];let r=i*i+n*n;return r>0&&(r=1/Math.sqrt(r),t[0]=e[0]*r,t[1]=e[1]*r),t}function YL(t,e){return t[0]*e[0]+t[1]*e[1]}function XL(t,e,i){const n=e[0]*i[1]-e[1]*i[0];return t[0]=t[1]=0,t[2]=n,t}function lJ(t,e,i,n){const r=e[0],s=e[1];return t[0]=r+n*(i[0]-r),t[1]=s+n*(i[1]-s),t}function cJ(t,e){e=e||1;const i=2*Ay()*Math.PI;return t[0]=Math.cos(i)*e,t[1]=Math.sin(i)*e,t}function uJ(t,e,i){const n=e[0],r=e[1];return t[0]=i[0]*n+i[2]*r,t[1]=i[1]*n+i[3]*r,t}function Ln(t,e,i){const n=e[0],r=e[1];return t[0]=i[0]*n+i[2]*r+i[4],t[1]=i[1]*n+i[3]*r+i[5],t}function dJ(t,e,i){const n=e[0],r=e[1];return t[0]=i[0]*n+i[3]*r+i[6],t[1]=i[1]*n+i[4]*r+i[7],t}function hJ(t,e,i){const n=e[0],r=e[1];return t[0]=i[0]*n+i[4]*r+i[12],t[1]=i[1]*n+i[5]*r+i[13],t}function pJ(t,e,i,n){const r=e[0]-i[0],s=e[1]-i[1],o=Math.sin(n),a=Math.cos(n);return t[0]=r*a-s*o+i[0],t[1]=r*o+s*a+i[1],t}function fJ(t,e){const i=t[0],n=t[1],r=e[0],s=e[1];let o=i*i+n*n;o>0&&(o=1/Math.sqrt(o));let a=r*r+s*s;a>0&&(a=1/Math.sqrt(a));const l=(i*r+n*s)*o*a;return l>1?0:l<-1?Math.PI:Math.acos(l)}function mJ(t){return"vec2("+t[0]+", "+t[1]+")"}function gJ(t,e){return t[0]===e[0]&&t[1]===e[1]}function yJ(t,e){const i=t[0],n=t[1],r=e[0],s=e[1],o=hn();return Math.abs(i-r)<=o*Math.max(1,Math.abs(i),Math.abs(r))&&Math.abs(n-s)<=o*Math.max(1,Math.abs(n),Math.abs(s))}function vJ(t,e,i,n,r){let s=e[0]-i[0],o=e[1]-i[1];const a=(n[0]*s+n[1]*o)*(r-1);return s=n[0]*a,o=n[1]*a,t[0]=e[0]+s,t[1]=e[1]+o,t}const bJ=Ng,qS=Gh,wJ=qL,_J=ZL,SJ=l0,xJ=Rg,$J=JL;Object.freeze(Object.defineProperty({__proto__:null,add:WL,angle:fJ,ceil:tJ,copy:Bh,cross:XL,dist:SJ,distance:l0,div:_J,divide:ZL,dot:YL,equals:yJ,exactEquals:gJ,floor:iJ,inverse:aJ,len:bJ,length:Ng,lerp:lJ,max:rJ,min:nJ,mul:wJ,multiply:qL,negate:KL,normalize:pw,projectAndScale:vJ,random:cJ,rotate:pJ,round:sJ,scale:kp,scaleAndAdd:oJ,set:Et,sqrDist:xJ,sqrLen:$J,squaredDistance:Rg,squaredLength:JL,str:mJ,sub:qS,subtract:Gh,transformMat2:uJ,transformMat2d:Ln,transformMat3:dJ,transformMat4:hJ},Symbol.toStringTag,{value:"Module"}));function ot(){return[0,0]}function TJ(t){return[t[0],t[1]]}function Mp(t,e){return[t,e]}function EJ(t,e=ot()){const i=Math.min(2,t.length);for(let n=0;n<i;++n)e[n]=t[n];return e}function kJ(t,e){return new Float64Array(t,e,2)}function QL(){return ot()}function eP(){return Mp(1,1)}function tP(){return Mp(1,0)}function iP(){return Mp(0,1)}const MJ=QL(),CJ=eP(),IJ=tP(),OJ=iP();Object.freeze(Object.defineProperty({__proto__:null,ONES:CJ,UNIT_X:IJ,UNIT_Y:OJ,ZEROS:MJ,clone:TJ,create:ot,createView:kJ,fromArray:EJ,fromValues:Mp,ones:eP,unitX:tP,unitY:iP,zeros:QL},Symbol.toStringTag,{value:"Module"}));const Tf={102100:{maxX:20037508342788905e-9,minX:-20037508342788905e-9,plus180Line:new Nn({paths:[[[20037508342788905e-9,-20037508342788905e-9],[20037508342788905e-9,20037508342788905e-9]]],spatialReference:ge.WebMercator}),minus180Line:new Nn({paths:[[[-20037508342788905e-9,-20037508342788905e-9],[-20037508342788905e-9,20037508342788905e-9]]],spatialReference:ge.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new Nn({paths:[[[180,-180],[180,180]]],spatialReference:ge.WGS84}),minus180Line:new Nn({paths:[[[-180,-180],[-180,180]]],spatialReference:ge.WGS84})}};function gl(t,e){return Math.ceil((t-e)/(2*e))}function nP(t,e){const i=vh(t);for(const n of i)for(const r of n)r[0]+=e;return t}function vh(t){return H_(t)?t.rings:t.paths}function c0(t,e){return e?{...e,query:{...t??{},...e.query}}:{query:t}}function Cp(t){return typeof t=="string"?Xt(t):z(t)}function u0(t,e,i){const n={};for(const r in t){if(r==="declaredClass")continue;const s=t[r];if(s!=null&&typeof s!="function")if(Array.isArray(s)){n[r]=[];for(let o=0;o<s.length;o++)n[r][o]=u0(s[o])}else if(typeof s=="object")if(s.toJSON){const o=s.toJSON(i==null?void 0:i[r]);n[r]=e?o:JSON.stringify(o)}else n[r]=e?s:JSON.stringify(s);else n[r]=s}return n}async function AJ(t,e,i,n){const r=Cp(t),s=e[0].spatialReference,o={...n,responseType:"json",query:{...r.query,f:"json",sr:ag(s),target:JSON.stringify({geometryType:fp(e[0]),geometries:e}),cutter:JSON.stringify(i)}},a=await Ye(r.path+"/cut",o),{cutIndexes:l,geometries:u=[]}=a.data;return{cutIndexes:l,geometries:u.map(p=>{const f=Ch(p);return f.spatialReference=s,f})}}function LJ(t){return{geometryType:fp(t[0]),geometries:t.map(e=>e.toJSON())}}function rP(t,e,i){const n=$9(e);return t.map(r=>{const s=n.fromJSON(r);return s.spatialReference=i,s})}async function PJ(t,e,i){const n=typeof t=="string"?Xt(t):t,r=e[0].spatialReference,s=fp(e[0]),o={...i,query:{...n.query,f:"json",sr:ag(r),geometries:JSON.stringify(LJ(e))}},{data:a}=await Ye(n.path+"/simplify",o);return rP(a.geometries,s,r)}const sP=G.getLogger("esri.geometry.support.normalizeUtils");function RJ(t){return t.type==="polygon"}function NJ(t){return t[0].type==="polygon"}function DJ(t){return t[0].type==="polyline"}function DT(t){const e=[];let i=0,n=0;for(let r=0;r<t.length;r++){const s=t[r];let o=null;for(let a=0;a<s.length;a++)o=s[a],e.push(o),a===0?(i=o[0],n=i):(i=Math.min(i,o[0]),n=Math.max(n,o[0]));o&&e.push([(i+n)/2,0])}return e}function zJ(t,e){if(!(t instanceof Nn||t instanceof Fr)){const r="straightLineDensify: the input geometry is neither polyline nor polygon";throw sP.error(r),new D(r)}const i=vh(t),n=[];for(const r of i){const s=[];n.push(s),s.push([r[0][0],r[0][1]]);for(let o=0;o<r.length-1;o++){const a=r[o][0],l=r[o][1],u=r[o+1][0],p=r[o+1][1],f=Math.sqrt((u-a)*(u-a)+(p-l)*(p-l)),m=(p-l)/f,g=(u-a)/f,y=f/e;if(y>1){for(let $=1;$<=y-1;$++){const x=$*e,T=g*x+a,M=m*x+l;s.push([T,M])}const v=(f+Math.floor(y-1)*e)/2,w=g*v+a,_=m*v+l;s.push([w,_])}s.push([u,p])}}return RJ(t)?new Fr({rings:n,spatialReference:t.spatialReference}):new Nn({paths:n,spatialReference:t.spatialReference})}function zT(t,e,i){if(e){const n=zJ(t,1e6);t=ol(n,!0)}return i&&(t=nP(t,i)),t}function FT(t,e,i){if(Array.isArray(t)){const n=t[0];if(n>e){const r=gl(n,e);t[0]=n+r*(-2*e)}else if(n<i){const r=gl(n,i);t[0]=n+r*(-2*i)}}else{const n=t.x;if(n>e){const r=gl(n,e);t=t.clone().offset(r*(-2*e),0)}else if(n<i){const r=gl(n,i);t=t.clone().offset(r*(-2*i),0)}}return t}function FJ(t,e){let i=-1;for(let n=0;n<e.cutIndexes.length;n++){const r=e.cutIndexes[n],s=e.geometries[n],o=vh(s);for(let a=0;a<o.length;a++){const l=o[a];l.some(u=>{if(u[0]<180)return!0;{let p=0;for(let m=0;m<l.length;m++){const g=l[m][0];p=g>p?g:p}p=Number(p.toFixed(9));const f=-360*gl(p,180);for(let m=0;m<l.length;m++){const g=s.getPoint(a,m);s.setPoint(a,m,g.clone().offset(f,0))}return!0}})}if(r===i){if(NJ(t))for(const a of vh(s))t[r]=t[r].addRing(a);else if(DJ(t))for(const a of vh(s))t[r]=t[r].addPath(a)}else i=r,t[r]=s}return t}async function jJ(t,e,i){if(!Array.isArray(t))return jJ([t],e);e&&typeof e!="string"&&sP.warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead");const n=typeof e=="string"?e:(e==null?void 0:e.url)??ye.geometryServiceUrl;let r,s,o,a,l,u,p,f,m=0;const g=[],y=[];for(const T of t)if(T!=null)if(r||(r=T.spatialReference,s=Ni(r),o=r.isWebMercator,u=o?102100:4326,a=Tf[u].maxX,l=Tf[u].minX,p=Tf[u].plus180Line,f=Tf[u].minus180Line),s)if(T.type==="mesh")y.push(T);else if(T.type==="point")y.push(FT(T.clone(),a,l));else if(T.type==="multipoint"){const M=T.clone();M.points=M.points.map(I=>FT(I,a,l)),y.push(M)}else if(T.type==="extent"){const M=T.clone()._normalize(!1,!1,s);y.push(M.rings?new Fr(M):M)}else if(T.extent){const M=T.extent,I=gl(M.xmin,l)*(2*a);let L=I===0?T.clone():nP(T.clone(),I);M.offset(I,0),M.intersects(p)&&M.xmax!==a?(m=M.xmax>m?M.xmax:m,L=zT(L,o),g.push(L),y.push("cut")):M.intersects(f)&&M.xmin!==l?(m=M.xmax*(2*a)>m?M.xmax*(2*a):m,L=zT(L,o,360),g.push(L),y.push("cut")):y.push(L)}else y.push(T.clone());else y.push(T);else y.push(T);let v=gl(m,a),w=-90;const _=v,$=new Nn;for(;v>0;){const T=360*v-180;$.addPath([[T,w],[T,-1*w]]),w*=-1,v--}if(g.length>0&&_>0){const T=FJ(g,await AJ(n,g,$,i)),M=[],I=[];for(let B=0;B<y.length;B++){const F=y[B];if(F!=="cut")I.push(F);else{const U=T.shift(),O=t[B];O!=null&&O.type==="polygon"&&O.rings&&O.rings.length>1&&U.rings.length>=O.rings.length?(M.push(U),I.push("simplify")):I.push(o?No(U):U)}}if(!M.length)return I;const L=await PJ(n,M,i),N=[];for(let B=0;B<I.length;B++){const F=I[B];F!=="simplify"?N.push(F):N.push(o?No(L.shift()):L.shift())}return N}const x=[];for(let T=0;T<y.length;T++){const M=y[T];if(M!=="cut")x.push(M);else{const I=g.shift();x.push(o===!0?No(I):I)}}return x}function UJ(t){if(!t)return null;const e=t.extent;if(!e)return null;const i=t.spatialReference&&Ni(t.spatialReference);if(!i)return e;const[n,r]=i.valid,s=2*r,{width:o}=e;let a,{xmin:l,xmax:u}=e;if([l,u]=[u,l],t.type==="extent"||o===0||o<=r||o>s||l<n||u>r)return e;switch(t.type){case"polygon":if(!(t.rings.length>1))return e;a=DT(t.rings);break;case"polyline":if(!(t.paths.length>1))return e;a=DT(t.paths);break;case"multipoint":a=t.points}const p=e.clone();for(let f=0;f<a.length;f++){let m=a[f][0];m<0?(m+=r,u=Math.max(m,u)):(m-=r,l=Math.min(m,l))}return p.xmin=l,p.xmax=u,p.width<o?(p.xmin-=r,p.xmax-=r,p):e}function oP(t,e,i){const n=Ni(i);if(n==null)return t;const[r,s]=n.valid,o=2*s;let a=0,l=0;e>s?a=Math.ceil(Math.abs(e-s)/o):e<r&&(a=-Math.ceil(Math.abs(e-r)/o)),t>s?l=Math.ceil(Math.abs(t-s)/o):t<r&&(l=-Math.ceil(Math.abs(t-r)/o));let u=t+(a-l)*o;const p=u-e;return p>s?u-=o:p<r&&(u+=o),u}function Ppe(t,e){const i=Ni(e);if(i){const[n,r]=i.valid,s=r-n;if(t<n)for(;t<n;)t+=s;if(t>r)for(;t>r;)t-=s}return t}const aP=96,lP=39.37,HJ=180/Math.PI;function cP(t){return t.wkid?t:t.spatialReference||ge.WGS84}function ZS(t,e){return e.type?Et(t,e.x,e.y):Bh(t,e)}function uP(t){return Jn(t)}function Xc(t,e){const i=Math.max(1,e[0]),n=Math.max(1,e[1]);return Math.max(t.width/i,t.height/n)*YJ(t.spatialReference)}async function Hd(t,e,i,n){var a,l;let r,s;if(!t||Array.isArray(t)&&!t.length)return null;if(ee.isCollection(t)&&(t=t.toArray()),Array.isArray(t)&&t.length&&typeof t[0]=="object"){const u=t.every(m=>"attributes"in m),p=t.some(m=>!m.geometry);let f=t;if(u&&p&&e&&e.allLayerViews){const m=new Map;for(const w of t){const _=w.layer,$=m.get(_)||[],x=w.attributes[_.objectIdField];x!=null&&$.push(x),m.set(_,$)}const g=[];m.forEach((w,_)=>{const $=e.allLayerViews.find(x=>x.layer.id===_.id);if($&&"queryFeatures"in $){const x=_.createQuery();x.objectIds=w,x.returnGeometry=!0,g.push($.queryFeatures(x))}});const y=await Promise.all(g),v=[];for(const w of y)if(w&&w.features&&w.features.length)for(const _ of w.features)_.geometry!=null&&v.push(_.geometry);f=v}for(const m of f)n=await Hd(m,e,i,n);return n}if(Array.isArray(t)&&t.length===2&&typeof t[0]=="number"&&typeof t[1]=="number")r=new ne(t);else if(t instanceof Qo)r=t;else if("geometry"in t){if(t.geometry)r=t.geometry;else if(t.layer){const u=t.layer,p=e.allLayerViews.find(f=>f.layer.id===u.id);if(p&&"queryFeatures"in p){const f=u.createQuery();f.objectIds=[t.attributes[u.objectIdField]],f.returnGeometry=!0;const m=await p.queryFeatures(f);r=(l=(a=m==null?void 0:m.features)==null?void 0:a[0])==null?void 0:l.geometry}}}if(r==null)return null;switch(r.type){case"point":s=new Le({xmin:r.x,ymin:r.y,xmax:r.x,ymax:r.y,spatialReference:r.spatialReference});break;case"extent":case"multipoint":case"polygon":case"polyline":s=UJ(r);break;default:s=r.extent}if(!s)return null;ta()||Ur(s.spatialReference,i)||await As();const o=Vl(s,i);return o?n=n?n.union(o):o:null}function BJ(t){var e;if(t&&(!Array.isArray(t)||typeof t[0]!="number")&&(typeof t=="object"||Array.isArray(t)&&typeof t[0]=="object")){if("layer"in t&&((e=t.layer)==null?void 0:e.minScale)!=null&&t.layer.maxScale!=null){const i=t.layer;return{min:i.minScale,max:i.maxScale}}if(Array.isArray(t)&&t.length&&t.every(i=>"layer"in i)){let i=0,n=0;for(const r of t){const s=r.layer;s!=null&&s.minScale&&s.maxScale&&(i=s.minScale<i?s.minScale:i,n=s.maxScale>n?s.maxScale:n)}return i&&n?{min:i,max:n}:null}}}function hv(t,e){return it(cP(t),e)?t:Vl(t,e)}async function GJ(t,e){var v;if(!t||!e)return new Nr({targetGeometry:new ne,scale:0,rotation:0});let i=e.spatialReference;const{constraints:n,padding:r,viewpoint:s,size:o}=e,a=[r?o[0]-r.left-r.right:o[0],r?o[1]-r.top-r.bottom:o[1]];let l=null;t instanceof Nr?l=t:t.viewpoint?l=t.viewpoint:t.target&&t.target.declaredClass==="esri.Viewpoint"&&(l=t.target);let u=null;l!=null&&l.targetGeometry?u=l.targetGeometry:t instanceof Le?u=t:(t||t&&("center"in t||"extent"in t||"target"in t))&&(u=await Hd(t.center,e,i)||await Hd(t.extent,e,i)||await Hd(t.target,e,i)||await Hd(t,e,i)),!u&&(s!=null&&s.targetGeometry)?u=s.targetGeometry:!u&&e.extent&&(u=e.extent),i||(i=cP(e.spatialReference||e.extent||u)),ta()||it(u.spatialReference,i)||Ur(u.spatialReference,i)||await As();const p=hv("center"in u?u.center:u,i);e.pickClosestTarget!==!1&&p.type==="point"&&((v=s.targetGeometry)==null?void 0:v.type)==="point"&&(p.x=oP(p.x,s.targetGeometry.x,p.spatialReference));let f=0;if((l==null?void 0:l.targetGeometry)!=null&&l.targetGeometry.type==="point")f=l.scale;else if("scale"in t&&t.scale)f=t.scale;else if("zoom"in t&&t.zoom!==-1&&n&&n.effectiveLODs)f=n.zoomToScale(t.zoom);else if(Array.isArray(u)||u.type==="point"||u.type==="extent"&&u.width===0&&u.height===0){const w=hv(e.extent,i);f=w!=null?Xc(w,a):e.extent?Xc(e.extent,a):s.scale}else f=Xc(hv(u.extent,i),a);const m=BJ(t.target??t);m&&(m.min&&m.min<f?f=m.min:m.max&&m.max>f&&(f=m.max));let g=0;l?g=l.rotation:t.hasOwnProperty("rotation")?g=t.rotation:s&&(g=s.rotation);let y=new Nr({targetGeometry:p,scale:f,rotation:g});return n&&(y=n.fit(y),n.constrainByGeometry(y),n.rotationEnabled||(y.rotation=s.rotation)),y}function Kn(t,e){const i=t.targetGeometry,n=e.targetGeometry;return i.x=n.x,i.y=n.y,i.spatialReference=n.spatialReference,t.scale=e.scale,t.rotation=e.rotation,t}function VJ(t,e,i){return i?Et(t,.5*(e[0]-i.right+i.left),.5*(e[1]-i.bottom+i.top)):kp(t,e,.5)}const WJ=function(){const t=ot();return function(e,i,n){const r=i.targetGeometry;ZS(t,r);const s=.5*Ru(i);return e.xmin=t[0]-s*n[0],e.ymin=t[1]-s*n[1],e.xmax=t[0]+s*n[0],e.ymax=t[1]+s*n[1],e.spatialReference=r.spatialReference,e}}();function qJ(t,e,i,n,r){var s;return fw(t,e,i.center),t.scale=Xc(i,n),(s=r==null?void 0:r.constraints)==null||s.constrain(t),t}function ZJ(t,e,i,n){return YS(t,e,i,n),GS(t,t)}const dP=function(){const t=ot();return function(e,i,n){return qS(e,XJ(e,i),VJ(t,i,n))}}(),JJ=function(){const t=jo(),e=ot();return function(i,n,r,s){const o=Ru(n),a=JS(n);return Et(e,o,o),GL(t,e),a0(t,t,a),Hh(t,t,dP(e,r,s)),Hh(t,t,[0,s.top-s.bottom]),Et(i,t[4],t[5])}}();function Ru(t){return t.scale*KJ(t.targetGeometry)}function KJ(t){return t!=null&&Ct(t.spatialReference)?1/(uP(t.spatialReference)*lP*aP):1}function JS(t){return P_(t.rotation)||0}function YJ(t){return Ct(t)?uP(t)*lP*aP:1}function XJ(t,e){return kp(t,e,.5)}const KS=function(){const t=ot(),e=ot(),i=ot();return function(n,r,s,o,a,l){return KL(t,r),kp(e,s,.5*l),Et(i,1/o*l,-1/o*l),WS(n,e),a&&a0(n,n,a),VS(n,n,i),Hh(n,n,t),n}}(),YS=function(){const t=ot();return function(e,i,n,r){const s=Ru(i),o=JS(i);return ZS(t,i.targetGeometry),KS(e,t,n,s,o,r)}}(),QJ=function(){const t=ot();return function(e,i,n,r){const s=Ru(i);return ZS(t,i.targetGeometry),KS(e,t,n,s,0,r)}}();function eK(t){const e=Ni(t);return e?e.valid[1]-e.valid[0]:0}function tK(t,e){return Math.round(eK(t)/e)}const iK=function(){const t=ot(),e=ot(),i=[0,0,0];return function(n,r,s){Gh(t,n,r),pw(t,t),Gh(e,n,s),pw(e,e),XL(i,t,e);let o=Math.acos(YL(t,e)/(Ng(t)*Ng(e)))*HJ;return i[2]<0&&(o=-o),isNaN(o)&&(o=0),o}}(),nK=function(){const t=ot();return function(e,i,n,r){const s=e.targetGeometry;return Kn(e,i),JJ(t,i,n,r),s.x+=t[0],s.y+=t[1],e}}(),fw=function(t,e,i){Kn(t,e);const n=t.targetGeometry;return n.x=i.x,n.y=i.y,n.spatialReference=i.spatialReference,t},rK=function(){const t=ot();return function(e,i,n,r,s){s||(s="center"),qS(t,n,r),kp(t,t,.5);const o=t[0],a=t[1];switch(s){case"center":Et(t,0,0);break;case"left":Et(t,-o,0);break;case"top":Et(t,0,a);break;case"right":Et(t,o,0);break;case"bottom":Et(t,0,-a);break;case"top-left":Et(t,-o,a);break;case"bottom-left":Et(t,-o,-a);break;case"top-right":Et(t,o,a);break;case"bottom-right":Et(t,o,-a)}return d0(e,i,t),e}}();function Rpe(t,e,i){return Kn(t,e),t.rotation+=i,t}function sK(t,e,i){return Kn(t,e),t.rotation=i,t}const oK=function(){const t=ot();return function(e,i,n,r,s){return Kn(e,i),isNaN(n)||n===0||(pP(t,r,i,s),e.scale=i.scale*n,fP(t,t,e,s),d0(e,e,Et(t,t[0]-r[0],r[1]-t[1]))),e}}();function jT(t,e,i){return Kn(t,e),t.scale=i,t}const hP=function(){const t=ot();return function(e,i,n,r,s,o){return Kn(e,i),isNaN(n)||n===0||(pP(t,s,i,o),e.scale=i.scale*n,e.rotation+=r,fP(t,t,e,o),d0(e,e,Et(t,t[0]-s[0],s[1]-t[1]))),e}}(),Npe=function(){const t=ot(),e=ot();return function(i,n,r,s,o,a,l){return dP(e,a,l),WL(t,o,e),s?hP(i,n,r,s,t,a):oK(i,n,r,t,a)}}(),pP=function(){const t=jo();return function(e,i,n,r){return Ln(e,i,ZJ(t,n,r,1))}}(),fP=function(){const t=jo();return function(e,i,n,r){return Ln(e,i,YS(t,n,r,1))}}(),d0=function(){const t=ot(),e=jo();return function(i,n,r){Kn(i,n);const s=Ru(n),o=i.targetGeometry;return BL(e,JS(n)),VS(e,e,Mp(s,s)),Ln(t,r,e),o.x+=t[0],o.y+=t[1],i}}();let aK=class{constructor(e,i,n,r){const s=e.targetGeometry,o=i.targetGeometry;r?typeof r=="string"&&(r=zZ(r)||Qi.ease):r=Qi.ease,this.easing=r,this.duration=n,this.sCenterX=s.x,this.sCenterY=s.y,this.sScale=e.scale,this.sRotation=e.rotation,this.tCenterX=o.x,this.tCenterY=o.y,this.tScale=i.scale,this.tRotation=i.rotation,this.dCenterX=this.tCenterX-this.sCenterX,this.dCenterY=this.tCenterY-this.sCenterY,this.dScale=this.tScale-this.sScale,this.dRotation=this.tRotation-this.sRotation,this.dRotation>180?this.dRotation-=360:this.dRotation<-180&&(this.dRotation+=360)}applyRatio(e,i){const n=this.easing(i);let r,s,o,a;i>=1?(r=this.tCenterX,s=this.tCenterY,o=this.tRotation,a=this.tScale):(r=this.sCenterX+n*this.dCenterX,s=this.sCenterY+n*this.dCenterY,o=this.sRotation+n*this.dRotation,a=this.sScale+n*this.dScale),e.targetGeometry.x=r,e.targetGeometry.y=s,e.scale=a,e.rotation=o}},ms=class extends Q{constructor(e){super(e),this.updateFunction=null,this.animation=null,this.duration=200,this.transition=null,this.easing=Qi.ease,this.view=null,this.viewpoint=new Nr({targetGeometry:new ne,scale:0,rotation:0}),this._updateTask=au({postRender:this._postRender.bind(this)}),this._updateTask.pause()}destroy(){this._updateTask=Ke(this._updateTask)}animate(e,i,n){this.stop();const r=this.viewpoint;Kn(r,i),this.transition=new aK(this.viewpoint,e.target,(n==null?void 0:n.duration)||this.duration,(n==null?void 0:n.easing)||this.easing);const s=()=>{var o,a;this.animation===e&&this._updateTask&&(e.state==="finished"&&((o=this.transition)==null||o.applyRatio(this.viewpoint,1),(a=this.view)!=null&&a.state&&(this.view.state.viewpoint=this.viewpoint.clone())),this.animation=null,this.updateFunction=null)};return e.when(s,s),this._startTime=performance.now(),this._updateTask.resume(),this.animation=e,e}animateContinous(e,i){this.stop(),this.updateFunction=i,this.viewpoint=e;const n=new hw({target:e.clone()}),r=()=>{this.animation===n&&this._updateTask&&(this.animation=null,this.updateFunction=null)};return n.when(r,r),this._startTime=performance.now(),this._updateTask.resume(),this.animation=n,n}stop(){this.animation&&(this.animation.stop(),this.animation=null,this.updateFunction=null)}_postRender(e){var n,r;const i=this.animation;if(i&&i.state!==hw.State.STOPPED){if(this.updateFunction)this.updateFunction(this.viewpoint,e.deltaTime);else{const s=this.transition,o=(performance.now()-this._startTime)/s.duration,a=o>=1;s.applyRatio(this.viewpoint,o),a&&((n=this.animation)==null||n.finish())}(r=this.view)!=null&&r.state&&(this.view.state.viewpoint=this.viewpoint.clone())}else this._updateTask.pause()}};d([h()],ms.prototype,"animation",void 0),d([h()],ms.prototype,"duration",void 0),d([h()],ms.prototype,"transition",void 0),d([h()],ms.prototype,"easing",void 0),d([h()],ms.prototype,"view",void 0),d([h()],ms.prototype,"viewpoint",void 0),ms=d([E("esri.views.2d.AnimationManager")],ms);const lK=ms;let cK=class{constructor(e){this.view=e,this._stationaryHandle=null,this._frameTaskHandle=null,this._updateParameters=null,this._updateRequested=!1,this.stationary=!0,this.animationInProgress=!1,this.prepare=()=>{this._updateParameters&&(this._updateParameters.state=this.view.state,this._updateParameters.stationary=this.view.stationary,this._updateParameters.pixelRatio=window.devicePixelRatio,this._updateParameters.renderingOptions=this.view.renderingOptions)},this.update=()=>{var o,a;if(this._updateRequested=!1,(o=this.view)==null?void 0:o.destroyed)return;const{allLayerViews:i,graphicsView:n,labelManager:r,state:{id:s}}=this.view;i.forEach(this._updateLayerView,this),r!=null&&(r.lastUpdateId!==s&&(r.viewChange(),r.lastUpdateId=s),r.updateRequested&&r.processUpdate(this._updateParameters)),n!=null&&(n.lastUpdateId!==s&&(n.viewChange(),n.lastUpdateId=s),n.updateRequested&&n.processUpdate(this._updateParameters)),this.view.graphicsTileStore.setViewState(this._updateParameters.state),this.animationInProgress||this._updateRequested||((a=this._frameTaskHandle)==null||a.pause())}}destroy(){this.stop()}start(){if(this._frameTaskHandle)return;const e=this.view;this.stationary=e.stationary,this._updateParameters={state:e.state,pixelRatio:window.devicePixelRatio,stationary:this.stationary,renderingOptions:e.renderingOptions},this._stationaryHandle=K(()=>e.stationary,i=>{this.stationary=i,this.requestFrame()}),this._frameTaskHandle=au(this),this.requestUpdate()}stop(){var e;this._frameTaskHandle&&(this._updateRequested=!1,(e=this._stationaryHandle)==null||e.remove(),this._frameTaskHandle.remove(),this._updateParameters=this._stationaryHandle=this._frameTaskHandle=null,this.stationary=!0,this.animationInProgress=!1)}requestUpdate(){this._updateRequested||(this._updateRequested=!0,this.requestFrame())}requestFrame(){this._frameTaskHandle&&this._frameTaskHandle.resume()}_updateLayerView(e){var r;if(!e.attached)return void this.requestUpdate();const i=this.view.state,n=e.lastUpdateId;n!=null&&(this.stationary||e.moving)||(e.moving=!0,e.moveStart()),n!==i.id&&e.viewChange(),this.stationary&&e.moving&&(e.moving=!1,e.moveEnd()),e.lastUpdateId=i.id,e.updateRequested&&e.processUpdate(this._updateParameters),"layerViews"in e&&((r=e.layerViews)==null||r.forEach(this._updateLayerView,this))}},Cm=class extends Q{constructor(e){super(e),this._gotoTask=null}destroy(){this._gotoTask=null}async goTo(e,i){if(!e)return void G.getLogger(this).error("#goTo()","target cannot be null or undefined");this.view.animation&&(this.view.animation=null);const n=this._createAnimation();await Ol(()=>this.view.ready,i);const r={animate:!0,...i},{extent:s,spatialReference:o,size:a,viewpoint:l,constraints:u,padding:p,allLayerViews:f}=this.view,m=GJ(e,{extent:s,spatialReference:o,size:a,viewpoint:l,constraints:u,padding:p,allLayerViews:f,pickClosestTarget:(i==null?void 0:i.pickClosestTarget)??!0});return n==null||n.update(m),this._gotoTask={},r.animate?this._gotoAnimated(m,r):this._gotoImmediate(m,r)}_gotoImmediate(e,i){const n=this._gotoTask,r=this.view.animation,s=e.then(o=>{if(Ge(i),n!==this._gotoTask)throw new D("view:goto-interrupted","Goto was interrupted");this.view.viewpoint=r.target=o,r.finish()});return this._cancellableGoTo(n,r,s)}_gotoAnimated(e,i){const n=this._gotoTask,r=this.view.animation;if(!r)return Promise.resolve();const s=e.then(o=>{if(Ge(i),n!==this._gotoTask)throw new D("view:goto-interrupted","Goto was interrupted");return r.update(o),this.view.animationManager.animate(r,this.view.viewpoint,i),r.when().then(()=>{},()=>{})});return this._cancellableGoTo(n,r,s)}_createAnimation(){return this.view.animation&&!this.view.animation.done||(this.view.animation=new hw),this.view.animation}_cancellableGoTo(e,i,n){const r=()=>e===this._gotoTask;return n.finally(()=>{r()&&(i.done||i.stop(),this.view.animation=null)})}};d([h({constructOnly:!0})],Cm.prototype,"view",void 0),Cm=d([E("esri.views.2d.GoToManager")],Cm);function et(){return Promise.all([V(()=>import("./webglDeps-ZUjoJlnO.js"),__vite__mapDeps([178,179,180,39,181,182]),import.meta.url),V(()=>import("./mapViewDeps-LS2iBiBk.js"),__vite__mapDeps([183,184,109,72,12,73,74,39,40,75,102,116,185,103,2,186,187,188,115,180,189,190,191,70,160,148,149,30,120,192,179,181,3,105,104,108,14,15,145,146,119,90,82,55,193,101,178,182,194,195,57,196,197,198,106,21,69,199,111,71,27,24,23,200,201,202,203,204,205,19,9,206,207,208,209,80,210]),import.meta.url)])}const rd=()=>et().then(()=>V(()=>import("./TileLayerView2D-Rp24XbVa.js"),__vite__mapDeps([211,188,115,75,39,180,189,190,191,70,160,148,149,30,120,73,74,40,192,179,181,185,3,105,104,108,14,12,15,72,184,109,102,116,103,2,186,145,146,119,90,82,55,193,101,194,195,57,196,197,198,106,21,69,199,111,71,27,24,23,201,202,204,205,19,9,80,212,213,214,209,215,216,207,208,217,218,219,220,221]),import.meta.url)),ic=()=>et().then(()=>V(()=>import("./FeatureLayerView2D-onq_pH2e.js"),__vite__mapDeps([222,188,115,75,39,180,143,139,52,53,25,125,215,190,191,70,160,148,149,30,120,73,74,40,192,179,181,185,3,105,104,108,14,12,15,72,184,109,102,116,103,2,186,145,146,119,90,82,55,193,213,214,209,69,189,208,130,54,219,221,217]),import.meta.url)),UT={"base-dynamic":()=>et().then(()=>V(()=>import("./BaseDynamicLayerView2D-LaYxlAVC.js"),__vite__mapDeps([223,224,192,75,179,180,39,181,40,73,74,185,3,105,104,188,115,108,14,12,15,215,225,214,217]),import.meta.url)),"base-tile":rd,"bing-maps":rd,csv:ic,"geo-rss":()=>et().then(()=>V(()=>import("./GeoRSSLayerView2D-k75du2FM.js"),__vite__mapDeps([226,117,118,82,70,119,90,55,83,120,121,122,21,123,27,24,3,125,53,25,215,188,115,75,39,180,206,73,74,40,207,208,190,191,160,148,149,30,192,179,181,185,105,104,108,14,12,15,72,184,109,102,116,103,2,186,145,146,193,209,80,204,205,19,9,197,198,106,71,23]),import.meta.url)),feature:ic,geojson:ic,graphics:()=>et().then(()=>V(()=>import("./GraphicsLayerView2D-W1YTkOmp.js"),__vite__mapDeps([227,215,188,115,75,39,180,206,73,74,40,207,208,190,191,70,160,148,149,30,120,192,179,181,185,3,105,104,108,14,12,15,72,184,109,102,116,103,2,186,145,146,119,90,82,55,193,209,80,204,205,19,9,197,198,106,21,71,27,24,23]),import.meta.url)),group:()=>et().then(()=>V(()=>import("./GroupLayerView2D-vK8A-anV.js"),__vite__mapDeps([228,215,188,115,75,39,180]),import.meta.url)),imagery:()=>et().then(()=>V(()=>import("./ImageryLayerView2D-8hP1BX8N.js"),__vite__mapDeps([229,230,179,180,39,181,40,86,192,75,73,74,185,3,105,104,188,115,108,14,12,15,215,204,184,109,72,102,116,103,2,186,205,19,9,148,149,30,120,190,191,70,160,145,146,119,90,82,55,193,197,198,106,21,71,27,24,23,216,207,208,209,80,224,214,225,91,130,54,52,53,25,221,217]),import.meta.url)),"imagery-tile":()=>et().then(()=>V(()=>import("./ImageryTileLayerView2D-FK6Qbc4_.js"),__vite__mapDeps([231,232,230,179,180,39,181,40,86,192,75,73,74,185,3,105,104,188,115,108,14,12,15,215,233,191,209,234,91,193,130,54,55,221,217]),import.meta.url)),kml:()=>et().then(()=>V(()=>import("./KMLLayerView2D-aFFzQZdU.js"),__vite__mapDeps([235,236,117,118,82,70,119,90,55,83,120,121,122,21,123,27,24,3,125,53,25,214,188,115,75,39,180,224,192,179,181,40,73,74,185,105,104,108,14,12,15,215,206,207,208,190,191,160,148,149,30,72,184,109,102,116,103,2,186,145,146,193,209,80,204,205,19,9,197,198,106,71,23,91,200,178,182,201,202,199,203,233]),import.meta.url)),"knowledge-graph":()=>et().then(()=>V(()=>import("./KnowledgeGraphLayerView2D-6IrqUtMn.js"),__vite__mapDeps([237,215,188,115,75,39,180]),import.meta.url)),"link-chart":()=>et().then(()=>V(()=>import("./KnowledgeGraphLayerView2D-6IrqUtMn.js"),__vite__mapDeps([237,215,188,115,75,39,180]),import.meta.url)),"knowledge-graph-sublayer":ic,"map-image":()=>et().then(()=>V(()=>import("./MapImageLayerView2D-gWuPZ-7T.js"),__vite__mapDeps([238,224,192,75,179,180,39,181,40,73,74,185,3,105,104,188,115,108,14,12,15,215,204,184,109,72,102,116,103,2,186,205,19,9,148,149,30,120,190,191,70,160,145,146,119,90,82,55,193,197,198,106,21,71,27,24,23,216,207,208,209,80,225,214,130,54,239,219,220,217,218,221]),import.meta.url)),"map-notes":()=>et().then(()=>V(()=>import("./MapNotesLayerView2D-SXVKy3pv.js"),__vite__mapDeps([240,215,188,115,75,39,180,206,73,74,40,207,208,190,191,70,160,148,149,30,120,192,179,181,185,3,105,104,108,14,12,15,72,184,109,102,116,103,2,186,145,146,119,90,82,55,193,209,80,204,205,19,9,197,198,106,21,71,27,24,23]),import.meta.url)),media:()=>et().then(()=>V(()=>import("./MediaLayerView2D-ybHVX4A5.js"),__vite__mapDeps([241,118,82,70,119,90,55,83,120,121,117,122,21,123,27,24,3,242,205,43,188,115,75,39,180,189,190,191,160,148,149,30,73,74,40,192,179,181,185,105,104,108,14,12,15,72,184,109,102,116,103,2,186,145,146,193,101,194,195,57,196,197,198,106,69,199,111,71,23,201,202,204,19,9,80,215]),import.meta.url)),"ogc-feature":()=>et().then(()=>V(()=>import("./OGCFeatureLayerView2D-azhtdzfF.js"),__vite__mapDeps([243,222,188,115,75,39,180,143,139,52,53,25,125,215,190,191,70,160,148,149,30,120,73,74,40,192,179,181,185,3,105,104,108,14,12,15,72,184,109,102,116,103,2,186,145,146,119,90,82,55,193,213,214,209,69,189,208,130,54,219,221,217]),import.meta.url)),"open-street-map":rd,"oriented-imagery":ic,route:()=>et().then(()=>V(()=>import("./RouteLayerView2D-ZlIkRHOX.js"),__vite__mapDeps([244,245,215,188,115,75,39,180,206,73,74,40,207,208,190,191,70,160,148,149,30,120,192,179,181,185,3,105,104,108,14,12,15,72,184,109,102,116,103,2,186,145,146,119,90,82,55,193,209,80,204,205,19,9,197,198,106,21,71,27,24,23]),import.meta.url)),stream:()=>et().then(()=>V(()=>import("./StreamLayerView2D-fEgQ8VZl.js"),__vite__mapDeps([246,125,53,25,222,188,115,75,39,180,143,139,52,215,190,191,70,160,148,149,30,120,73,74,40,192,179,181,185,3,105,104,108,14,12,15,72,184,109,102,116,103,2,186,145,146,119,90,82,55,193,213,214,209,69,189,208,130,54,219,221,217]),import.meta.url)),"subtype-group":()=>et().then(()=>V(()=>import("./SubtypeGroupLayerView2D-SNnzt5gC.js"),__vite__mapDeps([247,143,139,115,52,53,25,222,188,75,39,180,125,215,190,191,70,160,148,149,30,120,73,74,40,192,179,181,185,3,105,104,108,14,12,15,72,184,109,102,116,103,2,186,145,146,119,90,82,55,193,213,214,209,69,189,208,130,54,219,221,217]),import.meta.url)),tile:rd,"vector-tile":()=>et().then(()=>V(()=>import("./VectorTileLayerView2D-0T-smFS0.js"),__vite__mapDeps([248,70,101,103,39,180,57,195,186,21,179,181,104,191,188,115,75,105,74,73,40,209,192,185,3,108,14,12,15,107,88,102,215]),import.meta.url)),video:()=>et().then(()=>V(()=>import("./VideoLayerView2D-B0uoYjWe.js"),__vite__mapDeps([249,250,138,139,115,155,54,55,215,188,75,39,180,206,73,74,40,207,208,190,191,70,160,148,149,30,120,192,179,181,185,3,105,104,108,14,12,15,72,184,109,102,116,103,2,186,145,146,119,90,82,193,209,80,204,205,19,9,197,198,106,21,71,27,24,23]),import.meta.url)),wcs:()=>et().then(()=>V(()=>import("./ImageryTileLayerView2D-FK6Qbc4_.js"),__vite__mapDeps([231,232,230,179,180,39,181,40,86,192,75,73,74,185,3,105,104,188,115,108,14,12,15,215,233,191,209,234,91,193,130,54,55,221,217]),import.meta.url)),"web-tile":rd,wfs:ic,wms:()=>et().then(()=>V(()=>import("./WMSLayerView2D-C1R82ORq.js"),__vite__mapDeps([251,224,192,75,179,180,39,181,40,73,74,185,3,105,104,188,115,108,14,12,15,215,225,214,217,130,54,55,252]),import.meta.url)),wmts:()=>et().then(()=>V(()=>import("./WMTSLayerView2D-LQC1SzoT.js"),__vite__mapDeps([253,212,213,214,188,115,75,39,180,191,192,179,181,40,73,74,185,3,105,104,108,14,12,15,209,215,217]),import.meta.url)),"line-of-sight":null,"base-elevation":null,"building-scene":null,dimension:null,elevation:null,"integrated-mesh":null,"point-cloud":null,voxel:null,scene:null,unknown:null,unsupported:null};function uK(t){const e=t.declaredClass?t.declaredClass.slice(t.declaredClass.lastIndexOf(".")+1):"Unknown",i=e.replaceAll(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return new D(`${i}:view-not-supported`,`${e} is not supported in 2D`)}const HT={hasLayerViewModule:t=>UT[t.type]!=null,importLayerView:t=>{const e=UT[t.type];if(e==null)throw uK(t);return e(t)}};function dK(t,e){const{spatialReference:i}=e,n=[e.x,e.y];let r=Number.POSITIVE_INFINITY,s=0,o=0;const a=[0,0],l=t.type==="extent"?[[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]]]:t.rings;for(const u of l)for(let p=0;p<u.length-1;p++){Z8(a,n,u,p);const f=l0(n,a);f<r&&(r=f,s=a[0],o=a[1])}return{coordinate:new ne({x:s,y:o,spatialReference:i}),distance:r}}var mw;let nl=mw=class extends yS(Q){constructor(t){super(t),this.geometry=null,this.spatialReference=null}get normalizedGeometry(){if(this.geometry==null||!this.spatialReference)return null;if(!this.spatialReference.equals(this.geometry.spatialReference))try{return Vl(this.geometry,this.spatialReference)}catch(t){return G.getLogger(this).error("#constraints.geometry","could not project the geometry to the view's spatial reference",{geometry:this.geometry,spatialReference:this.spatialReference,error:t}),null}return this.geometry}constrain(t,e){if(this.normalizedGeometry==null)return t;const i=t.targetGeometry;if(this.normalizedGeometry.type==="extent"?Ly(this.normalizedGeometry,i):_I(this.normalizedGeometry,i))return t;const{coordinate:n}=dK(this.normalizedGeometry,i);return n&&(t.targetGeometry=n),t}clone(){var t,e;return new mw({geometry:(t=this.geometry)==null?void 0:t.clone(),spatialReference:(e=this.spatialReference)==null?void 0:e.clone()})}};d([h({constructOnly:!0})],nl.prototype,"geometry",void 0),d([h({readOnly:!0})],nl.prototype,"normalizedGeometry",null),d([h({constructOnly:!0})],nl.prototype,"spatialReference",void 0),nl=mw=d([E("esri.views.2d.constraints.GeometryConstraint")],nl);var gw;let Bd=gw=class extends yS(Q){constructor(){super(...arguments),this.enabled=!0,this.rotationEnabled=!0}constrain(t,e){return this.enabled&&e&&(this.rotationEnabled||(t.rotation=e.rotation)),t}clone(){return new gw({enabled:this.enabled,rotationEnabled:this.rotationEnabled})}};d([h()],Bd.prototype,"enabled",void 0),d([h()],Bd.prototype,"rotationEnabled",void 0),Bd=gw=d([E("esri.views.2d.constraints.RotationConstraint")],Bd);const mP=Bd;var yw;let wi=yw=class extends yS(Q){constructor(t){super(t),this._lodByScale={},this._scales=[],this.effectiveLODs=null,this.effectiveMinZoom=-1,this.effectiveMaxZoom=-1,this.effectiveMinScale=0,this.effectiveMaxScale=0,this.lods=null,this.minZoom=-1,this.maxZoom=-1,this.minScale=0,this.maxScale=0,this.snapToZoom=!0}initialize(){let t,{lods:e,minScale:i,maxScale:n,minZoom:r,maxZoom:s}=this,o=-1,a=-1,l=!1,u=!1;if(i!==0&&n!==0&&i<n&&([i,n]=[n,i]),!(e!=null&&e.length))return this._set("effectiveMinScale",i),void this._set("effectiveMaxScale",n);e=e.map(p=>p.clone()),e.sort((p,f)=>f.scale-p.scale),e.forEach((p,f)=>p.level=f);for(const p of e)!l&&i>0&&i>=p.scale&&(o=p.level,l=!0),!u&&n>0&&n>=p.scale&&(a=t?t.level:-1,u=!0),t=p;r===-1&&(r=i===0?0:o),s===-1&&(s=n===0?e.length-1:a),r=Math.max(r,0),r=Math.min(r,e.length-1),s=Math.max(s,0),s=Math.min(s,e.length-1),r>s&&([r,s]=[s,r]),i=e[r].scale,n=e[s].scale,e.splice(0,r),e.splice(s-r+1,e.length),e.forEach((p,f)=>{this._lodByScale[p.scale]=p,this._scales[f]=p.scale}),this._set("effectiveLODs",e),this._set("effectiveMinZoom",r),this._set("effectiveMaxZoom",s),this._set("effectiveMinScale",i),this._set("effectiveMaxScale",n)}constrain(t,e){if(e&&t.scale===e.scale)return t;const i=this.effectiveMinScale,n=this.effectiveMaxScale,r=t.targetGeometry,s=e&&e.targetGeometry,o=n!==0&&t.scale<n,a=i!==0&&t.scale>i;if(o||a){const l=a?i:n;if(e&&s){const u=(l-e.scale)/(t.scale-e.scale);r.x=s.x+(r.x-s.x)*u,r.y=s.y+(r.y-s.y)*u}t.scale=l}return this.snapToZoom&&this.effectiveLODs&&(t.scale=this._getClosestScale(t.scale)),t}fit(t){if(!this.effectiveLODs||!this.snapToZoom)return this.constrain(t,null);const e=this.scaleToZoom(t.scale),i=Math.abs(e-Math.floor(e));return t.scale=this.zoomToScale(i>.99?Math.round(e):Math.floor(e)),t}zoomToScale(t){if(!this.effectiveLODs)return 0;t-=this.effectiveMinZoom,t=Math.max(0,t);const e=this._scales;if(t<=0)return e[0];if(t>=e.length)return e[e.length-1];const i=Math.round(t-.5),n=Math.round(t);return e[n]+(n-t)*(e[i]-e[n])}scaleToZoom(t){if(!this.effectiveLODs)return-1;const e=this._scales;let i,n;if(t>=e[0])return this.effectiveMinZoom;if(t<=e[e.length-1])return this.effectiveMaxZoom;for(let r=0;r<e.length-1;r++){if(i=e[r],n=e[r+1],n===t)return r+this.effectiveMinZoom+1;if(i>t&&n<t)return r+this.effectiveMinZoom+1-(t-n)/(i-n)}return-1}snapToClosestScale(t){if(!this.effectiveLODs)return t;const e=this.scaleToZoom(t);return this.zoomToScale(Math.round(e))}snapToNextScale(t,e=.5){if(!this.effectiveLODs)return t*e;const i=Math.round(this.scaleToZoom(t));return this.zoomToScale(i+1)}snapToPreviousScale(t,e=2){if(!this.effectiveLODs)return t*e;const i=Math.round(this.scaleToZoom(t));return this.zoomToScale(i-1)}clone(){return new yw({lods:this.lods,minZoom:this.minZoom,maxZoom:this.maxZoom,minScale:this.minScale,maxScale:this.maxScale})}_getClosestScale(t){return this._lodByScale[t]||(t=this._scales.reduce((e,i)=>Math.abs(i-t)<=Math.abs(e-t)?i:e,this._scales[0])),this._lodByScale[t].scale}};d([h({readOnly:!0})],wi.prototype,"effectiveLODs",void 0),d([h({readOnly:!0})],wi.prototype,"effectiveMinZoom",void 0),d([h({readOnly:!0})],wi.prototype,"effectiveMaxZoom",void 0),d([h({readOnly:!0})],wi.prototype,"effectiveMinScale",void 0),d([h({readOnly:!0})],wi.prototype,"effectiveMaxScale",void 0),d([h()],wi.prototype,"lods",void 0),d([h()],wi.prototype,"minZoom",void 0),d([h()],wi.prototype,"maxZoom",void 0),d([h()],wi.prototype,"minScale",void 0),d([h()],wi.prototype,"maxScale",void 0),d([h()],wi.prototype,"snapToZoom",void 0),wi=yw=d([E("esri.views.2d.constraints.ZoomConstraint")],wi);const gP=wi,hK={base:null,key:"type",typeMap:{extent:Le,polygon:Fr}};let rt=class extends Q{constructor(e){super(e),this.lods=null,this.minScale=0,this.maxScale=0,this.minZoom=-1,this.maxZoom=-1,this.rotationEnabled=!0,this.snapToZoom=!0,this.customConstraints=new ee}destroy(){this.view=null}get effectiveLODs(){return this._zoom.effectiveLODs}get effectiveMinScale(){return this._zoom.effectiveMinScale}get effectiveMaxScale(){return this._zoom.effectiveMaxScale}get effectiveMinZoom(){return this._zoom.effectiveMinZoom}get effectiveMaxZoom(){return this._zoom.effectiveMaxZoom}set geometry(e){e?this._set("geometry",e):this._set("geometry",null)}get version(){var e,i,n;return`${(e=this._zoom)==null?void 0:e.uid}/${(i=this._rotation)==null?void 0:i.uid}/${(n=this._geometry)==null?void 0:n.uid}`}get _geometry(){var i,n;const e=this._get("_geometry");return e&&this.geometry===e.geometry&&((i=this.view)==null?void 0:i.constraintsInfo.spatialReference)===e.spatialReference?e:new nl({geometry:this.geometry,spatialReference:(n=this.view)==null?void 0:n.constraintsInfo.spatialReference})}get _rotation(){return new mP({rotationEnabled:this.rotationEnabled})}get _zoom(){var l;const e=this._get("_zoom"),i=this.lods||((l=this.view)==null?void 0:l.constraintsInfo.lods),n=this.minZoom,r=this.maxZoom,s=this.minScale,o=this.maxScale,a=this.snapToZoom;return e&&e.lods===i&&e.minZoom===n&&e.maxZoom===r&&e.minScale===s&&e.maxScale===o&&e.snapToZoom===a?e:new gP({lods:i,minZoom:n,maxZoom:r,minScale:s,maxScale:o,snapToZoom:a})}canZoomInTo(e){const i=this.effectiveMaxScale;return i===0||e>=i}canZoomOutTo(e){const i=this.effectiveMinScale;return i===0||e<=i}constrain(e,i){return this._zoom.constrain(e,i),this._rotation.constrain(e,i),this._geometry.constrain(e,i),this.customConstraints.forEach(n=>n.constrain(e,i)),e}constrainByGeometry(e){return this._geometry.constrain(e),this.customConstraints.forEach(i=>{var n;return(n=i.applyPanConstraint)==null?void 0:n.call(i,e)}),e}fit(e){return this._zoom.fit(e)}zoomToScale(e){return this._zoom.zoomToScale(e)}scaleToZoom(e){return this._zoom.scaleToZoom(e)}snapScale(e){return this._zoom.snapToClosestScale(e)}snapToNextScale(e){return this._zoom.snapToNextScale(e)}snapToPreviousScale(e){return this._zoom.snapToPreviousScale(e)}};d([h({readOnly:!0})],rt.prototype,"effectiveLODs",null),d([h({readOnly:!0})],rt.prototype,"effectiveMinScale",null),d([h({readOnly:!0})],rt.prototype,"effectiveMaxScale",null),d([h({readOnly:!0})],rt.prototype,"effectiveMinZoom",null),d([h({readOnly:!0})],rt.prototype,"effectiveMaxZoom",null),d([h({types:hK,value:null})],rt.prototype,"geometry",null),d([h({type:[en]})],rt.prototype,"lods",void 0),d([h()],rt.prototype,"minScale",void 0),d([h()],rt.prototype,"maxScale",void 0),d([h()],rt.prototype,"minZoom",void 0),d([h()],rt.prototype,"maxZoom",void 0),d([h()],rt.prototype,"rotationEnabled",void 0),d([h()],rt.prototype,"snapToZoom",void 0),d([h({type:ee})],rt.prototype,"customConstraints",void 0),d([h()],rt.prototype,"view",void 0),d([h({readOnly:!0})],rt.prototype,"version",null),d([h({type:nl,readOnly:!0})],rt.prototype,"_geometry",null),d([h({type:mP})],rt.prototype,"_rotation",null),d([h({readOnly:!0,type:gP})],rt.prototype,"_zoom",null),rt=d([E("esri.views.2d.MapViewConstraints")],rt);const yP=rt;let Pl=class Ba{static getId(e,i,n,r){return typeof e=="object"?`${e.level}/${e.row}/${e.col}/${e.world}`:`${e}/${i}/${n}/${r}`}constructor(e,i,n,r){this.set(e,i,n,r)}get key(){return this}get id(){return this.toString()}set id(e){this.set(e)}get hash(){const e=4095&this.row,i=4095&this.col,n=63&this.level;return(3&this.world)<<30|i<<22|e<<8|n}acquire(e,i,n,r){this.set(e,i,n,r)}contains(e){const i=e.level-this.level;return i>=0&&this.row===e.row>>i&&this.col===e.col>>i&&this.world===e.world}equals(e){return this.level===e.level&&this.row===e.row&&this.col===e.col&&this.world===e.world}clone(){return new Ba(this)}release(){this.level=0,this.row=0,this.col=0,this.world=0}set(e,i,n,r){if(e==null)this.level=0,this.row=0,this.col=0,this.world=0;else if(typeof e=="object")this.level=e.level||0,this.row=e.row||0,this.col=e.col||0,this.world=e.world||0;else if(typeof e=="string"){const[s,o,a,l]=e.split("/");this.level=parseFloat(s),this.row=parseFloat(o),this.col=parseFloat(a),this.world=parseFloat(l)}else this.level=+e,this.row=+i,this.col=+n,this.world=+r||0;return this}toString(){return`${this.level}/${this.row}/${this.col}/${this.world}`}getParentKey(){return this.level<=0?null:new Ba(this.level-1,this.row>>1,this.col>>1,this.world)}getChildKeys(){const e=this.level+1,i=this.row<<1,n=this.col<<1,r=this.world;return[new Ba(e,i,n,r),new Ba(e,i,n+1,r),new Ba(e,i+1,n,r),new Ba(e,i+1,n+1,r)]}compareRowMajor(e){return this.row<e.row?-1:this.row>e.row?1:this.col<e.col?-1:this.col>e.col?1:0}};Pl.pool=new Hl(Pl,null,null,25,50);function Zs(t,e){return[t,e]}function ma(t,e,i){return t[0]=e,t[1]=i,t}function pK(t,e,i,n,r){return t[0]=e,t[1]=i,t[2]=n,t[3]=r,t}const bn=new Pl("0/0/0/0");let fK=class vP{static create(e,i,n=null){const r=Ni(e.spatialReference),s=i.origin||Zs(e.origin.x,e.origin.y),o=Zs(e.size[0]*i.resolution,e.size[1]*i.resolution),a=Zs(-1/0,-1/0),l=Zs(1/0,1/0),u=Zs(1/0,1/0);n!=null&&(ma(a,Math.max(0,Math.floor((n.xmin-s[0])/o[0])),Math.max(0,Math.floor((s[1]-n.ymax)/o[1]))),ma(l,Math.max(0,Math.floor((n.xmax-s[0])/o[0])),Math.max(0,Math.floor((s[1]-n.ymin)/o[1]))),ma(u,l[0]-a[0]+1,l[1]-a[1]+1));const{cols:p,rows:f}=i;let m,g,y,v;return!n&&p&&f&&(ma(a,p[0],f[0]),ma(l,p[1],f[1]),ma(u,p[1]-p[0]+1,f[1]-f[0]+1)),e.isWrappable?(m=Zs(Math.ceil(Math.round((r.valid[1]-r.valid[0])/i.resolution)/e.size[0]),u[1]),g=Zs(Math.floor((r.origin[0]-s[0])/o[0]),a[1]),y=Zs(m[0]+g[0]-1,l[1]),v=!0):(g=a,y=l,m=u,v=!1),new vP(i.level,i.resolution,i.scale,s,a,l,u,o,g,y,m,v)}constructor(e,i,n,r,s,o,a,l,u,p,f,m){this.level=e,this.resolution=i,this.scale=n,this.origin=r,this.first=s,this.last=o,this.size=a,this.norm=l,this.worldStart=u,this.worldEnd=p,this.worldSize=f,this.wrap=m}normalizeCol(e){if(!this.wrap)return e;const i=this.worldSize[0];return e<0?i-1-Math.abs((e+1)%i):e%i}denormalizeCol(e,i){return this.wrap?this.worldSize[0]*i+e:e}getWorldForColumn(e){return this.wrap?Math.floor(e/this.worldSize[0]):0}getFirstColumnForWorld(e){return e*this.worldSize[0]+this.first[0]}getLastColumnForWorld(e){return e*this.worldSize[0]+this.first[0]+this.size[0]-1}getColumnForX(e){return(e-this.origin[0])/this.norm[0]}getXForColumn(e){return this.origin[0]+e*this.norm[0]}getRowForY(e){return(this.origin[1]-e)/this.norm[1]}getYForRow(e){return this.origin[1]-e*this.norm[1]}getTileBounds(e,i,n=!1){bn.set(i);const r=n?bn.col:this.denormalizeCol(bn.col,bn.world),s=bn.row;return pK(e,this.getXForColumn(r),this.getYForRow(s+1),this.getXForColumn(r+1),this.getYForRow(s)),e}getTileCoords(e,i,n=!1){bn.set(i);const r=n?bn.col:this.denormalizeCol(bn.col,bn.world);return Array.isArray(e)?ma(e,this.getXForColumn(r),this.getYForRow(bn.row)):(e.x=this.getXForColumn(r),e.y=this.getYForRow(bn.row)),e}},Vh=class{constructor(){this.spans=[]}acquire(e){this.lodInfo=e}release(){this.lodInfo=null,this.spans.length=0}forEach(e,i){const{spans:n,lodInfo:r}=this,{level:s}=r;if(n.length!==0)for(const{row:o,colFrom:a,colTo:l}of n)for(let u=a;u<=l;u++)e.call(i,s,o,r.normalizeCol(u),r.getWorldForColumn(u))}};Vh.pool=new Hl(Vh);let pv=class{constructor(e,i,n){this.row=e,this.colFrom=i,this.colTo=n}};const We=new Pl("0/0/0/0");let mK=class bP{static create(e,i){e[1]>i[1]&&([e,i]=[i,e]);const[n,r]=e,[s,o]=i,a=s-n,l=o-r,u=l!==0?a/l:0,p=(Math.ceil(r)-r)*u,f=(Math.floor(r)-r)*u;return new bP(n,Math.floor(r),Math.ceil(o),u,a<0?p:f,a<0?f:p,a<0?s:n,a<0?n:s)}constructor(e,i,n,r,s,o,a,l){this.x=e,this.ymin=i,this.ymax=n,this.invM=r,this.leftAdjust=s,this.rightAdjust=o,this.leftBound=a,this.rightBound=l}incrRow(){this.x+=this.invM}getLeftCol(){return Math.max(this.x+this.leftAdjust,this.leftBound)}getRightCol(){return Math.min(this.x+this.rightAdjust,this.rightBound)}};const Ti=[[0,0],[0,0],[0,0],[0,0]],gK=1e-6;let yK=class{constructor(e,i=null,n=e.lods[0].level,r=e.lods[e.lods.length-1].level){this.tileInfo=e,this.fullExtent=i,this.scales=[],this._infoByScale={},this._infoByLevel={};const s=e.lods.filter(a=>a.level>=n&&a.level<=r);this.minScale=s[0].scale,this.maxScale=s[s.length-1].scale;const o=this._lodInfos=s.map(a=>fK.create(e,a,i));s.forEach((a,l)=>{this._infoByLevel[a.level]=o[l],this._infoByScale[a.scale]=o[l],this.scales[l]=a.scale},this),this._wrap=e.isWrappable}get spatialReference(){return this.tileInfo.spatialReference}getLODInfoAt(e){return this._infoByLevel[typeof e=="number"?e:e.level]}getTileBounds(e,i,n=!1){We.set(i);const r=this._infoByLevel[We.level];return r?r.getTileBounds(e,We,n):e}getTileCoords(e,i,n=!1){We.set(i);const r=this._infoByLevel[We.level];return r?r.getTileCoords(e,We,n):e}getTileCoverage(e,i=192,n=!0,r="closest"){if(!n&&(e.scale>this.minScale||e.scale<this.maxScale))return null;const s=r==="closest"?this.getClosestInfoForScale(e.scale):this.getSmallestInfoForScale(e.scale),o=Vh.pool.acquire(s),a=this._wrap;let l,u,p,f=1/0,m=-1/0;const g=o.spans;Ti[0][0]=Ti[0][1]=Ti[1][1]=Ti[3][0]=-i,Ti[1][0]=Ti[2][0]=e.size[0]+i,Ti[2][1]=Ti[3][1]=e.size[1]+i;for(const _ of Ti)e.toMap(_,_),_[0]=s.getColumnForX(_[0]),_[1]=s.getRowForY(_[1]);const y=[];let v=3;for(let _=0;_<4;_++){if(Ti[_][1]===Ti[v][1]){v=_;continue}const $=mK.create(Ti[_],Ti[v]);f=Math.min($.ymin,f),m=Math.max($.ymax,m),y[$.ymin]===void 0&&(y[$.ymin]=[]),y[$.ymin].push($),v=_}if(f==null||m==null||m-f>100)return null;let w=[];for(l=f;l<m;){y[l]!=null&&(w=w.concat(y[l])),u=1/0,p=-1/0;for(let _=w.length-1;_>=0;_--){const $=w[_];u=Math.min(u,$.getLeftCol()),p=Math.max(p,$.getRightCol())}if(u=Math.floor(u),p=Math.floor(p),l>=s.first[1]&&l<=s.last[1])if(a)if(s.size[0]<s.worldSize[0]){const _=Math.floor(p/s.worldSize[0]);for(let $=Math.floor(u/s.worldSize[0]);$<=_;$++)g.push(new pv(l,Math.max(s.getFirstColumnForWorld($),u),Math.min(s.getLastColumnForWorld($),p)))}else g.push(new pv(l,u,p));else u>s.last[0]||p<s.first[0]||(u=Math.max(u,s.first[0]),p=Math.min(p,s.last[0]),g.push(new pv(l,u,p)));l+=1;for(let _=w.length-1;_>=0;_--){const $=w[_];$.ymax>=l?$.incrRow():w.splice(_,1)}}return o}getTileParentId(e){We.set(e);const i=this._infoByLevel[We.level],n=this._lodInfos.indexOf(i)-1;return n<0?null:(this._getTileIdAtLOD(We,this._lodInfos[n],We),We.id)}getTileResolution(e){const i=this._infoByLevel[typeof e=="object"?e.level:e];return i?i.resolution:-1}getTileScale(e){const i=this._infoByLevel[e.level];return i?i.scale:-1}intersects(e,i){We.set(i);const n=this._infoByLevel[We.level],r=e.lodInfo;if(r.resolution>n.resolution){this._getTileIdAtLOD(We,r,We);const o=r.denormalizeCol(We.col,We.world);for(const a of e.spans)if(a.row===We.row&&a.colFrom<=o&&a.colTo>=o)return!0}if(r.resolution<n.resolution){const[o,a,l,u]=e.spans.reduce((v,w)=>(v[0]=Math.min(v[0],w.row),v[1]=Math.max(v[1],w.row),v[2]=Math.min(v[2],w.colFrom),v[3]=Math.max(v[3],w.colTo),v),[1/0,-1/0,1/0,-1/0]),p=n.denormalizeCol(We.col,We.world),f=r.getColumnForX(n.getXForColumn(p)),m=r.getRowForY(n.getYForRow(We.row)),g=r.getColumnForX(n.getXForColumn(p+1))-1,y=r.getRowForY(n.getYForRow(We.row+1))-1;return!(f>u||g<l||m>a||y<o)}const s=r.denormalizeCol(We.col,We.world);return e.spans.some(o=>o.row===We.row&&o.colFrom<=s&&o.colTo>=s)}normalizeBounds(e,i,n){if(e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],this._wrap){const r=Ni(this.tileInfo.spatialReference),s=-n*(r.valid[1]-r.valid[0]);e[0]+=s,e[2]+=s}return e}getSmallestInfoForScale(e){const i=this.scales;if(this._infoByScale[e])return this._infoByScale[e];if(e>i[0])return this._infoByScale[i[0]];for(let n=1;n<i.length-1;n++)if(e>i[n]+gK)return this._infoByScale[i[n-1]];return this._infoByScale[i[i.length-1]]}getClosestInfoForScale(e){const i=this.scales;return this._infoByScale[e]||(e=i.reduce((n,r)=>Math.abs(r-e)<Math.abs(n-e)?r:n,i[0])),this._infoByScale[e]}scaleToLevel(e){const i=this.scales;if(this._infoByScale[e])return this._infoByScale[e].level;for(let n=i.length-1;n>=0;n--)if(e<i[n])return n===i.length-1?this._infoByScale[i[i.length-1]].level:this._infoByScale[i[n]].level+(i[n]-e)/(i[n]-i[n+1]);return this._infoByScale[i[0]].level}scaleToZoom(e){return this.tileInfo.scaleToZoom(e)}_getTileIdAtLOD(e,i,n){const r=this._infoByLevel[n.level];return e.set(n),i.resolution<r.resolution?null:(i.resolution===r.resolution||(e.level=i.level,e.col=Math.floor(n.col*r.resolution/i.resolution+.01),e.row=Math.floor(n.row*r.resolution/i.resolution+.01)),e)}},fv=class{constructor(){this._map=new Map,this._observable=new mp}get size(){return X(this._observable),this._map.size}clear(){this._map.size>0&&(this._map.clear(),this._observable.notify())}delete(e){const i=this._map.delete(e);return i&&this._observable.notify(),i}entries(){return X(this._observable),this._map.entries()}forEach(e,i){X(this._observable),this._map.forEach((n,r)=>e.call(i,n,r,this),i)}get(e){return X(this._observable),this._map.get(e)}has(e){return X(this._observable),this._map.has(e)}keys(){return X(this._observable),this._map.keys()}set(e,i){return this._map.set(e,i),this._observable.notify(),this}values(){return X(this._observable),this._map.values()}[Symbol.iterator](){return X(this._observable),this._map[Symbol.iterator]()}get[Symbol.toStringTag](){return this._map[Symbol.toStringTag]}},vK=class{constructor(e,i){this.item=e,this.controller=i,this.promise=null}},bK=class{constructor(e){this._schedule=null,this._task=null,this._deferreds=new fv,this._controllers=new fv,this._processingItems=new fv,this._pausedSignal=zh(!1),this.concurrency=1,e.concurrency&&(this.concurrency=e.concurrency),this._queue=new fg(e.peeker),this.process=e.process;const i=e.scheduler;e.priority&&i&&(this._task=i.registerTask(e.priority,this))}destroy(){this.clear(),this._schedule=Ke(this._schedule),this._task=Ke(this._task)}get updating(){var e;return!!((e=this._task)!=null&&e.updating)||this.running}get length(){return this._processingItems.size+this._queue.length}abort(e){const i=this._controllers.get(e);i&&i.abort()}clear(){this._queue.clear();const e=[];this._controllers.forEach(i=>e.push(i)),this._controllers.clear(),e.forEach(i=>i.abort()),this._processingItems.clear(),this._cancelNext()}forEach(e){this._deferreds.forEach((i,n)=>e(n))}get(e){const i=this._deferreds.get(e);return i?i.promise:void 0}isOngoing(e){return this._processingItems.has(e)}has(e){return this._deferreds.has(e)}pause(){this._pausedSignal.value||(this._pausedSignal.value=!0,this._cancelNext())}push(e,i){const n=this.get(e);if(n)return n;const r=new AbortController;let s=null;i&&(s=on(i,()=>r.abort()));const o=()=>{const p=this._processingItems.get(e);p&&p.controller.abort(),a(),u.reject(Be())},a=()=>{l.remove(),s!=null&&s.remove(),this._deferreds.delete(e),this._controllers.delete(e),this._queue.remove(e),this._processingItems.delete(e),this._scheduleNext()},l=a_(r.signal,o),u=ln();return this._deferreds.set(e,u),this._controllers.set(e,r),u.promise.then(a,a),this._queue.push(e),this._scheduleNext(),u.promise}last(){return this._queue.last()}peek(){return this._queue.peek()}popLast(){return this._queue.popLast()}reset(){const e=[];this._processingItems.forEach(i=>e.push(i)),this._processingItems.clear();for(const i of e)this._queue.push(i.item),i.controller.abort();this._scheduleNext()}resume(){this._pausedSignal.value&&(this._pausedSignal.value=!1,this._scheduleNext())}takeAll(){const e=[];for(;this._queue.length;)e.push(this._queue.pop());return this.clear(),e}get running(){return!this._pausedSignal.value&&this._queue.length>0&&this._processingItems.size<this.concurrency}runTask(e){for(;!e.done&&this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop()),e.madeProgress()}_scheduleNext(){this._task||this._pausedSignal.value||this._schedule||(this._schedule=cp(()=>{this._schedule=null,this._next()}))}_next(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())}_cancelNext(){this._schedule&&(this._schedule.remove(),this._schedule=null)}_processResult(e,i){this._canProcessFulfillment(e)&&(this._scheduleNext(),this._deferreds.get(e.item).resolve(i))}_processError(e,i){this._canProcessFulfillment(e)&&(this._scheduleNext(),this._deferreds.get(e.item).reject(i))}_canProcessFulfillment(e){return!!this._deferreds.get(e.item)&&this._processingItems.get(e.item)===e}_process(e){if(e==null)return;let i;const n=new AbortController,r=new vK(e,n);this._processingItems.set(e,r);try{i=this.process(e,n.signal)}catch(s){this._processError(r,s)}Ns(i)?(r.promise=i,i.then(s=>this._processResult(r,s),s=>this._processError(r,s))):this._processResult(r,i)}get test(){return{update:e=>this.runTask(e)}}};function wK(t,e){return t.length=0,e.forEach(i=>t.push(i)),t}const mv=new Set,Ef=[],nc=new Map,BT=[0,0];let mo=class extends Q{constructor(e){super(e),this._keyToItem=new Map,this.concurrency=6,this.strategy="scale-first",this.tileInfoView=null}initialize(){const{concurrency:e,process:i,strategy:n}=this;this._queue=new bK({concurrency:e,process:(r,s)=>{const o=this._keyToItem.get(r);return i(o,{signal:s})},peeker:n==="scale-first"?r=>this._peekByScaleFirst(r):r=>this._peekByCenterFirst(r)})}destroy(){this.clear(),this._queue=ze(this._queue)}get length(){return this._queue?this._queue.length:0}get onGoingCount(){return this._keyToItem.size}abort(e){const i=typeof e=="string"?e:e.id;this._queue.abort(i)}clear(){this._queue.clear(),this._keyToItem.clear()}has(e){return typeof e=="string"?this._keyToItem.has(e):this._keyToItem.has(e.id)}isOngoing(e){const i=typeof e=="string"?e:e.id;return this.has(i)&&this._queue.isOngoing(i)}pause(){this._queue.pause()}push(e){const i=e.key.id;if(this._queue.has(i))return this._queue.get(i);const n=this._queue.push(i),r=()=>{this._keyToItem.delete(i)};return this._keyToItem.set(i,e),n.then(r,r),n}reset(){this._queue.reset()}resume(){this._queue.resume()}_peekByScaleFirst(e){if(!this.state)return e.values().next().value;const i=this.tileInfoView;let n=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;e.forEach(p=>{const f=this._keyToItem.get(p),m=this.tileInfoView.getTileScale(f.key);nc.has(m)||(nc.set(m,[]),n=Math.max(m,n),r=Math.min(m,r)),nc.get(m).push(f.key),mv.add(m)});let s=this.state.scale;nc.has(s)||(wK(Ef,mv),Ef.sort((p,f)=>p-f),s=Ef.reduce((p,f)=>Math.abs(f-s)<Math.abs(p-s)?f:p,Ef[0])),s=Math.min(s,n),s=Math.max(s,r);const o=nc.get(s),a=i.getClosestInfoForScale(s),l=a.getColumnForX(this.state.center[0]),u=a.getRowForY(this.state.center[1]);return o.sort((p,f)=>{const m=a.denormalizeCol(p.col,p.world),g=a.denormalizeCol(f.col,f.world);return Math.sqrt((l-m)*(l-m)+(u-p.row)*(u-p.row))-Math.sqrt((l-g)*(l-g)+(u-f.row)*(u-f.row))}),mv.clear(),nc.clear(),o[0].id}_peekByCenterFirst(e){if(!this.state)return e.values().next().value;const i=this.tileInfoView,n=this.state.center;let r,s=Number.POSITIVE_INFINITY;return e.forEach(o=>{const a=this._keyToItem.get(o);i.getTileCoords(BT,a.key);const l=l0(BT,n);l<s&&(s=l,r=a.key)}),r.id}};d([h({constructOnly:!0})],mo.prototype,"concurrency",void 0),d([h({constructOnly:!0})],mo.prototype,"process",void 0),d([h()],mo.prototype,"state",void 0),d([h({constructOnly:!0})],mo.prototype,"strategy",void 0),d([h({constructOnly:!0})],mo.prototype,"tileInfoView",void 0),mo=d([E("esri.views.2d.tiling.TileQueue")],mo);const Jpe=mo;let _K=class{constructor(e,i,n){this.maxSize=e,this._tileInfoView=i,this._removedFunc=n,this._tilePerId=new Map,this._tileKeysPerLevel=[]}clear(){this._tilePerId.clear(),this._tileKeysPerLevel=[]}has(e){return this._tilePerId.has(e)}get(e){return this._tilePerId.get(e)}pop(e){const i=this._tilePerId.get(e);if(!i)return;const n=i.key.level,r=this._tileKeysPerLevel[n];GT(this._tilePerId,e);for(let s=0;s<r.length;s++)if(r[s].id===e){r.splice(s,1);break}return i.visible=!0,i}add(e){e.visible=!1;const i=e.key,n=i.id;if(this._tilePerId.has(n))return;this._tilePerId.set(n,e);const r=i.level;this._tileKeysPerLevel[r]||(this._tileKeysPerLevel[r]=[]),this._tileKeysPerLevel[r].push(i)}prune(e,i,n){let r=this._tilePerId.size;if(r<=this.maxSize)return;let s=this._tileKeysPerLevel.length-1;for(;r>this.maxSize&&s>=0;)s!==e&&(r=this._pruneAroundCenterTile(r,i,n,s)),s--;r>this.maxSize&&(r=this._pruneAroundCenterTile(r,i,n,e))}_pruneAroundCenterTile(e,i,n,r){const s=this._tileKeysPerLevel[r];if(!s||s.length===0)return e;const{size:o,origin:a}=this._tileInfoView.tileInfo,l=n*o[0],u=n*o[1],p=[0,0],f=[0,0];for(s.sort((m,g)=>(p[0]=a.x+l*(m.col+.5),p[1]=a.y-u*(m.row+.5),f[0]=a.x+l*(g.col+.5),f[1]=a.y-u*(g.row+.5),Rg(p,i)-Rg(f,i)));s.length>0;){const m=s.pop();if(this._removeTile(m.id),--e===this.maxSize)break}return e}_removeTile(e){const i=this._tilePerId.get(e);this._removedFunc&&i&&this._removedFunc(i),GT(this._tilePerId,e)}};function GT(t,e){t.delete(e)}const ga=new Pl(0,0,0,0),Yr=new Map,ya=[],gv=[];let Ype=class{constructor(e){this._previousScale=Number.POSITIVE_INFINITY,this.cachePolicy="keep",this.coveragePolicy="closest",this.resampling=!0,this.tileIndex=new Map,this.tiles=[],this.buffer=192,this.acquireTile=e.acquireTile,this.releaseTile=e.releaseTile,this.tileInfoView=e.tileInfoView,e.resampling!=null&&(this.resampling=e.resampling),e.cachePolicy&&(this.cachePolicy=e.cachePolicy),e.coveragePolicy&&(this.coveragePolicy=e.coveragePolicy),e.buffer!=null&&(this.buffer=e.buffer),e.cacheSize&&(this._tileCache=new _K(e.cacheSize,this.tileInfoView,i=>{this.releaseTile(i)}))}destroy(){this.tileIndex.clear()}update(e){var _,$;const{resampling:i,tileIndex:n}=this,{scale:r,center:s,resolution:o}=e.state,{minScale:a,maxScale:l}=this.tileInfoView,u=!e.stationary&&r>this._previousScale;if(this._previousScale=r,!i&&(r>a||r<l))return this.tiles.length=0,void this.clear();const p=this.tileInfoView.getTileCoverage(e.state,this.buffer,this.resampling,this.coveragePolicy);if(!p)return this.tiles.length=0,void this.clear();const{spans:f,lodInfo:m}=p,{level:g}=m;this.tiles.length=0,n.forEach(x=>x.visible=!0);let y=0,v=0;if(f.length>0)for(const{row:x,colFrom:T,colTo:M}of f)for(let I=T;I<=M;I++){y++;const L=ga.set(g,x,m.normalizeCol(I),m.getWorldForColumn(I)).id;let N=n.get(L);if(N)N.isReady?(Yr.set(L,N),v++):u||this._addParentTile(L,Yr);else{if((_=this._tileCache)!=null&&_.has(L)){if(N=this._tileCache.pop(L),this.tileIndex.set(L,N),N.isReady){Yr.set(L,N),v++;continue}}else N=this.acquireTile(ga),this.tileIndex.set(L,N);u||this._addParentTile(L,Yr)}}const w=v===y;for(const[x,T]of n){if(Yr.has(x))continue;ga.set(x);const M=this.tileInfoView.intersects(p,ga),I=this.cachePolicy==="purge"?ga.level!==g:ga.level>g;!M||!u&&w?!I&&M||ya.push(T):T.isReady?I&&this.cachePolicy==="purge"&&this._hasReadyAncestor(ga,g)?ya.push(T):gv.push(T):I&&ya.push(T)}for(const x of gv)x.isReady&&Yr.set(x.key.id,x);for(const x of ya)this._tileCache?this._tileCache.add(x):this.releaseTile(x),n.delete(x.key.id);for(const x of Yr.values())this.tiles.push(x);for(const x of n.values())Yr.has(x.key.id)||(x.visible=!1);($=this._tileCache)==null||$.prune(g,s,o),Vh.pool.release(p),gv.length=0,ya.length=0,Yr.clear()}clear(){const{tileIndex:e}=this;for(const i of e.values())this.releaseTile(i);e.clear()}refresh(e){var i;for(const n of this.tileIndex.values())this.tiles.includes(n)?e(n):ya.push(n);for(const n of ya)this.releaseTile(n),this.tileIndex.delete(n.key.id);(i=this._tileCache)==null||i.clear()}updateCacheSize(e){this._tileCache&&(this._tileCache.maxSize=e)}_addParentTile(e,i){var s;let n=e,r=null;for(;n=this.tileInfoView.getTileParentId(n),n;)if(this.tileIndex.has(n)){if(r=this.tileIndex.get(n),r==null?void 0:r.isReady){i.has(r.key.id)||i.set(r.key.id,r);break}}else if((s=this._tileCache)!=null&&s.has(n)&&(r=this._tileCache.pop(n),this.tileIndex.set(n,r),r==null?void 0:r.isReady)){i.has(r.key.id)||i.set(r.key.id,r);break}}_hasReadyAncestor(e,i){const n=$i();this.tileInfoView.getTileBounds(n,e,!0);for(const r of this.tileIndex.values())if(r.isReady&&r.key.level>=i&&r.key.level<e.level){const s=$i();if(this.tileInfoView.getTileBounds(s,r.key,!0),h9(s,n))return!0}return!1}};function wP(){const t=new Float32Array(6);return t[0]=1,t[3]=1,t}function SK(t){const e=new Float32Array(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function xK(t,e,i,n,r,s){const o=new Float32Array(6);return o[0]=t,o[1]=e,o[2]=i,o[3]=n,o[4]=r,o[5]=s,o}function $K(t,e){return new Float32Array(t,e,6)}function _P(t,e,i,n){const r=e[n],s=e[n+1];t[n]=i[0]*r+i[2]*s+i[4],t[n+1]=i[1]*r+i[3]*s+i[5]}function TK(t,e,i,n=0,r=0,s=2){const o=r||e.length/s;for(let a=n;a<o;a++)_P(t,e,i,a*s)}Object.freeze(Object.defineProperty({__proto__:null,clone:SK,create:wP,createView:$K,fromValues:xK,transform:_P,transformMany:TK},Symbol.toStringTag,{value:"Module"}));function EK(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function kK(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function SP(t,e,i,n,r,s,o,a,l,u){return t[0]=e,t[1]=i,t[2]=n,t[3]=r,t[4]=s,t[5]=o,t[6]=a,t[7]=l,t[8]=u,t}function xP(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function MK(t,e){if(t===e){const i=e[1],n=e[2],r=e[5];t[1]=e[3],t[2]=e[6],t[3]=i,t[5]=e[7],t[6]=n,t[7]=r}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function CK(t,e){const i=e[0],n=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],p=e[8],f=p*o-a*u,m=-p*s+a*l,g=u*s-o*l;let y=i*f+n*m+r*g;return y?(y=1/y,t[0]=f*y,t[1]=(-p*n+r*u)*y,t[2]=(a*n-r*o)*y,t[3]=m*y,t[4]=(p*i-r*l)*y,t[5]=(-a*i+r*s)*y,t[6]=g*y,t[7]=(-u*i+n*l)*y,t[8]=(o*i-n*s)*y,t):null}function IK(t,e){const i=e[0],n=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],p=e[8];return t[0]=o*p-a*u,t[1]=r*u-n*p,t[2]=n*a-r*o,t[3]=a*l-s*p,t[4]=i*p-r*l,t[5]=r*s-i*a,t[6]=s*u-o*l,t[7]=n*l-i*u,t[8]=i*o-n*s,t}function OK(t){const e=t[0],i=t[1],n=t[2],r=t[3],s=t[4],o=t[5],a=t[6],l=t[7],u=t[8];return e*(u*s-o*l)+i*(-u*r+o*a)+n*(l*r-s*a)}function XS(t,e,i){const n=e[0],r=e[1],s=e[2],o=e[3],a=e[4],l=e[5],u=e[6],p=e[7],f=e[8],m=i[0],g=i[1],y=i[2],v=i[3],w=i[4],_=i[5],$=i[6],x=i[7],T=i[8];return t[0]=m*n+g*o+y*u,t[1]=m*r+g*a+y*p,t[2]=m*s+g*l+y*f,t[3]=v*n+w*o+_*u,t[4]=v*r+w*a+_*p,t[5]=v*s+w*l+_*f,t[6]=$*n+x*o+T*u,t[7]=$*r+x*a+T*p,t[8]=$*s+x*l+T*f,t}function vw(t,e,i){const n=e[0],r=e[1],s=e[2],o=e[3],a=e[4],l=e[5],u=e[6],p=e[7],f=e[8],m=i[0],g=i[1];return t[0]=n,t[1]=r,t[2]=s,t[3]=o,t[4]=a,t[5]=l,t[6]=m*n+g*o+u,t[7]=m*r+g*a+p,t[8]=m*s+g*l+f,t}function $P(t,e,i){const n=e[0],r=e[1],s=e[2],o=e[3],a=e[4],l=e[5],u=e[6],p=e[7],f=e[8],m=Math.sin(i),g=Math.cos(i);return t[0]=g*n+m*o,t[1]=g*r+m*a,t[2]=g*s+m*l,t[3]=g*o-m*n,t[4]=g*a-m*r,t[5]=g*l-m*s,t[6]=u,t[7]=p,t[8]=f,t}function AK(t,e,i){const n=i[0],r=i[1],s=i[2];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=r*e[3],t[4]=r*e[4],t[5]=r*e[5],t[6]=s*e[6],t[7]=s*e[7],t[8]=s*e[8],t}function LK(t,e,i){const n=i[0],r=i[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=r*e[3],t[4]=r*e[4],t[5]=r*e[5],t}function PK(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function RK(t,e){const i=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=i,t[2]=0,t[3]=-i,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function NK(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function DK(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function zK(t,e){const i=e[0],n=e[1],r=e[2],s=e[3],o=i+i,a=n+n,l=r+r,u=i*o,p=n*o,f=n*a,m=r*o,g=r*a,y=r*l,v=s*o,w=s*a,_=s*l;return t[0]=1-f-y,t[3]=p-_,t[6]=m+w,t[1]=p+_,t[4]=1-u-y,t[7]=g-v,t[2]=m-w,t[5]=g+v,t[8]=1-u-f,t}function FK(t,e){const i=e[0],n=e[1],r=e[2],s=e[4],o=e[5],a=e[6],l=e[8],u=e[9],p=e[10],f=p*o-a*u,m=-p*s+a*l,g=u*s-o*l,y=i*f+n*m+r*g;if(!y)return null;const v=1/y;return t[0]=f*v,t[1]=(-p*n+r*u)*v,t[2]=(a*n-r*o)*v,t[3]=m*v,t[4]=(p*i-r*l)*v,t[5]=(-a*i+r*s)*v,t[6]=g*v,t[7]=(-u*i+n*l)*v,t[8]=(o*i-n*s)*v,t}function jK(t,e){const i=e[0],n=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],p=e[8],f=e[9],m=e[10],g=e[11],y=e[12],v=e[13],w=e[14],_=e[15],$=i*a-n*o,x=i*l-r*o,T=i*u-s*o,M=n*l-r*a,I=n*u-s*a,L=r*u-s*l,N=p*v-f*y,B=p*w-m*y,F=p*_-g*y,U=f*w-m*v,O=f*_-g*v,A=m*_-g*w;let R=$*A-x*O+T*U+M*F-I*B+L*N;return R?(R=1/R,t[0]=(a*A-l*O+u*U)*R,t[1]=(l*F-o*A-u*B)*R,t[2]=(o*O-a*F+u*N)*R,t[3]=(r*O-n*A-s*U)*R,t[4]=(i*A-r*F+s*B)*R,t[5]=(n*F-i*O-s*N)*R,t[6]=(v*L-w*I+_*M)*R,t[7]=(w*T-y*L-_*x)*R,t[8]=(y*I-v*T+_*$)*R,t):null}function UK(t,e,i){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/i,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function HK(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function BK(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+t[6]**2+t[7]**2+t[8]**2)}function GK(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t[4]=e[4]+i[4],t[5]=e[5]+i[5],t[6]=e[6]+i[6],t[7]=e[7]+i[7],t[8]=e[8]+i[8],t}function TP(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t[4]=e[4]-i[4],t[5]=e[5]-i[5],t[6]=e[6]-i[6],t[7]=e[7]-i[7],t[8]=e[8]-i[8],t}function VK(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*i,t}function WK(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t[2]=e[2]+i[2]*n,t[3]=e[3]+i[3]*n,t[4]=e[4]+i[4]*n,t[5]=e[5]+i[5]*n,t[6]=e[6]+i[6]*n,t[7]=e[7]+i[7]*n,t[8]=e[8]+i[8]*n,t}function qK(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function ZK(t,e){const i=t[0],n=t[1],r=t[2],s=t[3],o=t[4],a=t[5],l=t[6],u=t[7],p=t[8],f=e[0],m=e[1],g=e[2],y=e[3],v=e[4],w=e[5],_=e[6],$=e[7],x=e[8],T=hn();return Math.abs(i-f)<=T*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(n-m)<=T*Math.max(1,Math.abs(n),Math.abs(m))&&Math.abs(r-g)<=T*Math.max(1,Math.abs(r),Math.abs(g))&&Math.abs(s-y)<=T*Math.max(1,Math.abs(s),Math.abs(y))&&Math.abs(o-v)<=T*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(a-w)<=T*Math.max(1,Math.abs(a),Math.abs(w))&&Math.abs(l-_)<=T*Math.max(1,Math.abs(l),Math.abs(_))&&Math.abs(u-$)<=T*Math.max(1,Math.abs(u),Math.abs($))&&Math.abs(p-x)<=T*Math.max(1,Math.abs(p),Math.abs(x))}function JK(t){const e=hn(),i=t[0],n=t[1],r=t[2],s=t[3],o=t[4],a=t[5],l=t[6],u=t[7],p=t[8];return Math.abs(1-(i*i+s*s+l*l))<=e&&Math.abs(1-(n*n+o*o+u*u))<=e&&Math.abs(1-(r*r+a*a+p*p))<=e}const KK=XS,YK=TP;Object.freeze(Object.defineProperty({__proto__:null,add:GK,adjoint:IK,copy:kK,determinant:OK,equals:ZK,exactEquals:qK,frob:BK,fromMat2d:DK,fromMat4:EK,fromQuat:zK,fromRotation:RK,fromScaling:NK,fromTranslation:PK,identity:xP,invert:CK,isOrthoNormal:JK,mul:KK,multiply:XS,multiplyScalar:VK,multiplyScalarAndAdd:WK,normalFromMat4:jK,normalFromMat4Legacy:FK,projection:UK,rotate:$P,scale:AK,scaleByVec2:LK,set:SP,str:HK,sub:YK,subtract:TP,translate:vw,transpose:MK},Symbol.toStringTag,{value:"Module"}));function Im(){const t=new Float32Array(9);return t[0]=1,t[4]=1,t[8]=1,t}function XK(t){const e=new Float32Array(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function QK(t,e,i,n,r,s,o,a,l){const u=new Float32Array(9);return u[0]=t,u[1]=e,u[2]=i,u[3]=n,u[4]=r,u[5]=s,u[6]=o,u[7]=a,u[8]=l,u}function eY(t,e){return new Float32Array(t,e,9)}Object.freeze(Object.defineProperty({__proto__:null,clone:XK,create:Im,createView:eY,fromValues:QK},Symbol.toStringTag,{value:"Module"}));function EP(){return new Float32Array(2)}function tY(t){const e=new Float32Array(2);return e[0]=t[0],e[1]=t[1],e}function bu(t,e){const i=new Float32Array(2);return i[0]=t,i[1]=e,i}function iY(t,e){return new Float32Array(t,e,2)}function kP(){return EP()}function MP(){return bu(1,1)}function CP(){return bu(1,0)}function IP(){return bu(0,1)}const nY=kP(),rY=MP(),sY=CP(),oY=IP();Object.freeze(Object.defineProperty({__proto__:null,ONES:rY,UNIT_X:sY,UNIT_Y:oY,ZEROS:nY,clone:tY,create:EP,createView:iY,fromValues:bu,ones:MP,unitX:CP,unitY:IP,zeros:kP},Symbol.toStringTag,{value:"Module"}));function aY(t){return t instanceof Float32Array&&t.length>=2}function lY(t){return Array.isArray(t)&&t.length>=2}function kf(t){return aY(t)||lY(t)}var bw;const zt=[0,0];let go=bw=class extends te{constructor(t){super(t),this._viewpoint2D={center:ot(),rotation:0,scale:0,spatialReference:void 0},this.center=[0,0],this.extent=new Le,this.id=0,this.inverseTransform=jo(),this.resolution=0,this.rotation=0,this.scale=0,this.transform=jo(),this.transformNoRotation=jo(),this.displayMat3=Im(),this.displayViewMat3=Im(),this.viewMat3=Im(),this.viewMat2d=wP(),this.worldScreenWidth=0,this.size=[0,0]}set pixelRatio(t){this._set("pixelRatio",t),this._update()}set size(t){this._set("size",t),this._update()}set viewpoint(t){if(t){const e=this._viewpoint2D,i=t.targetGeometry;e.center[0]=i.x,e.center[1]=i.y,e.rotation=t.rotation,e.scale=t.scale,e.spatialReference=i.spatialReference}this._update()}copy(t){const e=this.size,i=this.viewpoint;return i&&e?(this.viewpoint=Kn(i,t.viewpoint),this._set("size",Bh(e,t.size))):(this.viewpoint=t.viewpoint.clone(),this._set("size",[t.size[0],t.size[1]])),this._set("pixelRatio",t.pixelRatio),this}clone(){return new bw({size:this.size,viewpoint:this.viewpoint.clone(),pixelRatio:this.pixelRatio})}toMap(t,e,i){return kf(e)?Ln(t,e,this.inverseTransform):(zt[0]=e,zt[1]=i,Ln(t,zt,this.inverseTransform))}toScreen(t,e,i){return kf(e)?Ln(t,e,this.transform):(zt[0]=e,zt[1]=i,Ln(t,zt,this.transform))}toScreenNoRotation(t,e,i){return kf(e)?Ln(t,e,this.transformNoRotation):(zt[0]=e,zt[1]=i,Ln(t,zt,this.transformNoRotation))}toScreenClosest(t,e,i){kf(e)?(zt[0]=e[0],zt[1]=e[1]):(zt[0]=e,zt[1]=i);const[n]=zt,{center:r,extent:s,spatialReference:o,transform:a}=this;return(n<s.xmin||n>s.xmax)&&(zt[0]=oP(n,r[0],o)),Ln(t,zt,a)}getScreenTransform(t,e){const{center:i}=this._viewpoint2D,n=this._get("pixelRatio")||1,r=this._get("size");return KS(t,i,r,e,0,n),t}_update(){const{center:t,spatialReference:e,scale:i,rotation:n}=this._viewpoint2D,r=this._get("pixelRatio")||1,s=this._get("size"),o=new Nr({targetGeometry:new ne(t[0],t[1],e),scale:i,rotation:n});if(this._set("viewpoint",o),!s||!e||!i)return;this.resolution=Ru(o),this.rotation=n,this.scale=i,this.spatialReference=e,Bh(this.center,t);const a=s[0]!==0?2/s[0]:0,l=s[1]!==0?-2/s[1]:0;SP(this.displayMat3,a,0,0,0,l,0,-1,1,1);const u=xP(this.viewMat3),p=bu(s[0]/2,s[1]/2),f=bu(-s[0]/2,-s[1]/2),m=P_(n);vw(u,u,p),$P(u,u,m),vw(u,u,f),XS(this.displayViewMat3,this.displayMat3,u);const g=WS(this.viewMat2d,p);return a0(g,g,m),Hh(g,g,f),WJ(this.extent,o,s),YS(this.transform,o,s,r),GS(this.inverseTransform,this.transform),QJ(this.transformNoRotation,o,s,r),this.worldScreenWidth=tK(this.spatialReference,this.resolution),this._set("id",this.id+1),this}};d([h({readOnly:!0})],go.prototype,"id",void 0),d([h({value:1,json:{write:!0}})],go.prototype,"pixelRatio",null),d([h({json:{write:!0}})],go.prototype,"size",null),d([h()],go.prototype,"spatialReference",void 0),d([h({type:Nr,json:{write:!0}})],go.prototype,"viewpoint",null),go=bw=d([E("esri.views.2d.ViewState")],go);const VT=go;var ww,_w;let _s=ww=class extends Q{constructor(){super(...arguments),this.left=0,this.top=0,this.right=0,this.bottom=0}clone(){return new ww({left:this.left,top:this.top,right:this.right,bottom:this.bottom})}};d([h()],_s.prototype,"left",void 0),d([h()],_s.prototype,"top",void 0),d([h()],_s.prototype,"right",void 0),d([h()],_s.prototype,"bottom",void 0),_s=ww=d([E("esri.views.2d.PaddedViewState.Padding")],_s);let xc=_w=class extends VT{constructor(...t){super(...t),this.paddedViewState=new VT,this._updateContent=(()=>{const e=ot();return()=>{const i=this._get("size"),n=this._get("padding");if(!i||!n)return;const r=this.paddedViewState;Et(e,n.left+n.right,n.top+n.bottom),Gh(e,i,e),Bh(r.size,e);const s=r.viewpoint;s&&(this.viewpoint=s)}})(),this.addHandles(K(()=>[this.size,this.padding],()=>this._updateContent(),Cu)),this.padding=new _s,this.size=[0,0]}set padding(t){this._set("padding",t||new _s)}set viewpoint(t){if(t){const e=t.clone();this.paddedViewState.viewpoint=t,nK(e,t,this._get("size"),this._get("padding"));const i=this._viewpoint2D,n=e.targetGeometry;i.center[0]=n.x,i.center[1]=n.y,i.rotation=e.rotation,i.scale=e.scale,i.spatialReference=n.spatialReference,this._update()}}clone(){return new _w({padding:this.padding.clone(),size:this.size.slice(),viewpoint:this.paddedViewState.viewpoint.clone(),pixelRatio:this.pixelRatio})}};d([h()],xc.prototype,"paddedViewState",void 0),d([h({type:_s})],xc.prototype,"padding",null),d([h()],xc.prototype,"viewpoint",null),xc=_w=d([E("esri.views.2d.PaddedViewState")],xc);const cY=xc;let ri=class extends Q{constructor(e){super(e),this.constraints=null,this.ready=!1,this.resizeAlign="center",this.addHandles([K(()=>{var i;return(i=this.constraints)==null?void 0:i.version},i=>{this.constraints&&i&&this.ready&&(this.state.viewpoint=this.constraints.fit(this.state.paddedViewState.viewpoint))},Cu)])}get center(){if(!this.ready)return this._get("center");const{center:e,spatialReference:i}=this.state.paddedViewState;return this.state.commitProperty("id"),new ne({x:e[0],y:e[1],spatialReference:i})}set center(e){if(e==null)return;if(!this.ready)return void this._set("center",e);let i;try{i=this._project(e,this.state.spatialReference)}catch(r){return void G.getLogger(this).error(new D("mapview:invalid-center","could not project the value in the view's spatial reference",{input:e,error:r}))}const n=this.viewpoint;fw(n,n,i),this.viewpoint=n}get extent(){return this.ready?(this.state.commitProperty("id"),this.state.paddedViewState.extent.clone()):this._get("extent")}set extent(e){if(e==null)return;if(!e.width||!e.height)return void G.getLogger(this).error(new D("mapview:invalid-extent","invalid extent size"));if(!this.ready)return this._set("extent",e),this._set("center",void 0),this._set("viewpoint",void 0),this._set("scale",void 0),void this._set("zoom",void 0);let i;try{i=this._project(e,this.state.spatialReference)}catch(r){return void G.getLogger(this).error(new D("mapview:invalid-extent","could not project the value in the view's spatial reference",{error:r}))}const n=this.viewpoint;qJ(n,n,i,this.state.size,{constraints:this.constraints}),this.viewpoint=n}get padding(){return this.ready?this.state.padding:this._get("padding")}set padding(e){this.ready?(this.state.padding=e,this._set("padding",this.state.padding)):this._set("padding",e)}get resolution(){return this.ready?(this.state.commitProperty("id"),this.state.resolution):0}get rotation(){return this.ready?(this.state.commitProperty("id"),this.state.rotation):this._get("rotation")}set rotation(e){if(isNaN(e))return;if(!this.ready)return void this._set("rotation",e);const i=this.viewpoint;sK(i,i,e),this.viewpoint=i}get scale(){return this.ready?(this.state.commitProperty("id"),this.state.scale):this._get("scale")}set scale(e){if(!e||isNaN(e))return;if(!this.ready){this._set("scale",e),this._set("zoom",void 0);const n=this._get("extent");return void(n&&(this._set("extent",void 0),this._set("center",n.center)))}const i=this.viewpoint;jT(i,i,e),this.viewpoint=i}get viewpoint(){return this.ready?this.state.paddedViewState.viewpoint.clone():this._get("viewpoint")}set viewpoint(e){var s;if(e==null)return;if(!this.ready)return this._set("viewpoint",e),this._set("extent",void 0),this._set("center",void 0),this._set("zoom",void 0),void this._set("scale",void 0);let i,n;try{i=this._project(e,this.state.spatialReference),!e.scale||isNaN(e.scale)?n=new D("mapview:invalid-viewpoint",`invalid scale value of ${e.scale}`):e.targetGeometry==null&&(n=new D("mapview:invalid-viewpoint","geometry not defined"))}catch(o){n=new D("mapview:invalid-viewpoint","could not project the value in the view's spatial reference",{error:o})}if(n)return void G.getLogger(this).error(n);this._scaleBeforeChangingSpatialReference=null;const r=new Nr({targetGeometry:new ne,scale:0,rotation:0});Kn(r,i),(s=this.constraints)==null||s.constrain(r,this.state.paddedViewState.viewpoint),this.state.viewpoint=r,this._set("viewpoint",r)}get zoom(){var e;return this.ready?((e=this.constraints)==null?void 0:e.scaleToZoom(this.scale))??-1:this._get("zoom")}set zoom(e){var r,s;if(!(e>=0))return;if(!this.ready){this._set("zoom",e),this._set("scale",void 0);const o=this._get("extent");return void(o&&(this._set("extent",void 0),this._set("center",o.center)))}const i=((r=this.constraints)==null?void 0:r.zoomToScale(e))??0;if(!i)return void this._set("zoom",-1);const n=this.viewpoint;jT(n,n,i),this.viewpoint=n,this._set("zoom",((s=this.constraints)==null?void 0:s.scaleToZoom(this.scale))??-1)}getUserStartupOptions(e){if(!e[0]&&!e[1])return{center:void 0,rotation:void 0,scale:void 0};const{padding:i,constraints:n}=this,r=this._get("center"),s=this._get("extent"),o=this._get("scale"),a=this._get("rotation"),l=this._get("viewpoint"),u=this._get("zoom"),p=u!=null&&n!=null&&n.zoomToScale(u)||void 0;let f,m,g;const y=l==null?void 0:l.rotation,v=l==null?void 0:l.targetGeometry;(v==null?void 0:v.type)==="extent"?f=v:(v==null?void 0:v.type)==="point"&&(m=v,g=l==null?void 0:l.scale);const w=s??f;return{center:r??m??(w==null?void 0:w.center),rotation:a??y,scale:(o??p??g??(w&&Xc(w,[e[0]-i.left-i.right,e[1]-i.top-i.bottom])))||void 0}}startup(e,i,n,r){var o;const s=e.targetGeometry;try{this._project(e,n)}catch(a){G.getLogger(this).warn(new Is("mapview:startup-projection-error","projection of initial viewpoint to the view's spatial reference, defaulting to the initial viewpoint.",{center:s.toJSON(),spatialReference:n,error:a})),e.targetGeometry=r||new ne({x:0,y:0,spatialReference:n})}(o=this.constraints)==null||o.fit(e),this._set("state",new cY({padding:this.padding,size:i,viewpoint:e})),this._set("ready",!0)}teardown(){this._set("ready",!1);const{center:[e,i],spatialReference:n,rotation:r,scale:s}=this.state.paddedViewState,o=new ne({x:e,y:i,spatialReference:n});this._set("viewpoint",null),this._set("extent",null),this._set("center",o),this._set("zoom",-1),this._set("rotation",r),this._set("scale",s),this._set("state",null)}changeSpatialReference(e){var l;const i=this.state.paddedViewState.clone();if(this._scaleBeforeChangingSpatialReference==null)this._scaleBeforeChangingSpatialReference=i.scale;else{const u=i.viewpoint.clone();u.scale=this._scaleBeforeChangingSpatialReference,i.viewpoint=u}const n=i.clone(),[r,s]=i.center;let o=null;try{o=this._project(new ne({x:r,y:s,spatialReference:i.spatialReference}),e)}catch(u){E_()||G.getLogger(this).warn(new Is("mapview:spatial-reference-change","could not project the view's center to the new spatial reference",{center:o==null?void 0:o.toJSON(),spatialReference:e,error:u}))}o||(o=new ne({x:0,y:0,spatialReference:e}));const a=fw(new Nr({targetGeometry:new ne,scale:0,rotation:0}),i.viewpoint,o);n.viewpoint=a;try{const p=[i.size[0]/2,i.size[1]/2],f=[p[0]+20,p[1]],m=i.toMap([0,0],f),{x:g,y}=this._project(new ne({x:m[0],y:m[1],spatialReference:i.spatialReference}),e);m[0]=g,m[1]=y,n.toScreen(m,m);const v=iK(p,m,f),w=Math.hypot(m[0]-p[0],m[1]-p[1])/20;!Number.isFinite(w)||Math.abs(w)>4?(a.rotation=0,a.targetGeometry=new ne({x:0,y:0,spatialReference:e})):(a.scale*=w,a.scale>P("mapview-srswitch-adjust-rotation-scale-threshold")?a.rotation=0:a.rotation+=Number.isFinite(v)?v:0)}catch{}(l=this._get("constraints"))==null||l.constrain(a,void 0),this._get("state").viewpoint=a}resize(e,i){var o;if(!this.ready)return;const n=this.state;let r=this.state.paddedViewState.viewpoint;const s=this.state.paddedViewState.size.concat();n.size=[e,i],rK(r,r,s,this.state.paddedViewState.size,this.resizeAlign),r=((o=this.constraints)==null?void 0:o.constrain(r,void 0))??r,this.state.viewpoint=r}toMap(e){if(!this.ready)return null;const i=[0,0],[n,r]=this.state.toMap(i,[e.x,e.y]),s=this.state.spatialReference;return new ne({x:n,y:r,spatialReference:s})}toScreen(e,i){if(!this.ready)return null;const n=this._project(e,this.state.spatialReference),r=[n.x,n.y];return(i==null?void 0:i.pickClosestTarget)===!1?this.state.toScreen(r,r):this.state.toScreenClosest(r,r),ui(r[0],r[1])}_project(e,i){var s;const n=(e==null?void 0:e.targetGeometry)||e;if(!i)return e;if(!n)return null;if(i.imageCoordinateSystem||(s=n.spatialReference)!=null&&s.imageCoordinateSystem||it(i,n.spatialReference))return e;const r=Vl(n,i);if(!r)throw new D("mapview:projection-not-possible","projecting input geometry to target spatial reference returned a null value",{geometry:n,spatialReference:i});return uY(e)?(e.targetGeometry=r,e):r}};function uY(t){return(t==null?void 0:t.declaredClass)==="esri.Viewpoint"}d([h({type:ne})],ri.prototype,"center",null),d([h()],ri.prototype,"constraints",void 0),d([h({type:Le})],ri.prototype,"extent",null),d([h({value:{top:0,right:0,bottom:0,left:0},cast:t=>({top:0,right:0,bottom:0,left:0,...t})})],ri.prototype,"padding",null),d([h()],ri.prototype,"ready",void 0),d([h()],ri.prototype,"resizeAlign",void 0),d([h({readOnly:!0})],ri.prototype,"resolution",null),d([h({type:Number})],ri.prototype,"rotation",null),d([h({type:Number})],ri.prototype,"scale",null),d([h({readOnly:!0})],ri.prototype,"state",void 0),d([h({type:Nr})],ri.prototype,"viewpoint",null),d([h()],ri.prototype,"zoom",null),ri=d([E("esri.views.2d.ViewStateManager")],ri);function QS(t,e){switch(e){case"primary":return t.pointerType==="touch"||t.button===0;case"secondary":return t.pointerType!=="touch"&&t.button===2;case"tertiary":return t.pointerType!=="touch"&&t.button===1}}let WT=class extends xt{constructor(e,i){super(!0),this._view=e,this.registerIncoming("double-click",i,n=>this._handleDoubleClick(n,i))}_handleDoubleClick(e,i){QS(e.data,"primary")&&(e.stopPropagation(),i?this._view.mapViewNavigation.zoomOut([e.data.x,e.data.y]):this._view.mapViewNavigation.zoomIn([e.data.x,e.data.y]))}},dY=class extends xt{constructor(e,i,n){super(!0),this.view=e,this.pointerType=i,this.registerIncoming("double-tap-drag",n,r=>this._handleDoubleTapDrag(r))}_handleDoubleTapDrag(e){const{data:i}=e,{pointerType:n}=i;if(n!==this.pointerType)return;e.stopPropagation();const{action:r,delta:s}=i,{view:o}=this,{mapViewNavigation:a}=o;switch(r){case"begin":{const{scale:l}=o;this._startScale=l,this._currentScale=l,this._previousDelta=s,a.begin();break}case"update":{if(this._previousDelta.y===s.y)return;this._previousDelta=s;const l=1.015**s.y,u=this._startScale*l,p=u/this._currentScale;a.setViewpointImmediate(p),this._currentScale=u;break}case"end":{const{constraints:l}=o,{effectiveLODs:u,snapToZoom:p}=l;if(!p||!u)return void a.end();const f=l.snapScale(this._currentScale),m=(s.y>0?Math.max(f,l.snapToPreviousScale(this._startScale)):Math.min(f,l.snapToNextScale(this._startScale)))/this._currentScale;a.zoom(m);break}}}},h0=class{constructor(e){this._callbacks=e,this._currentCount=0,this._callbacks.condition||(this._callbacks.condition=()=>!0)}handle(e){const i=e.data,n=i.pointers.size;switch(i.action){case"start":this._currentCount=n,this._emitStart(e);break;case"added":this._emitEnd(this._previousEvent),this._currentCount=n,this._emitStart(e);break;case"update":this._emitUpdate(e);break;case"removed":this._startEvent&&this._emitEnd(this._previousEvent),this._currentCount=n,this._emitStart(e);break;case"end":this._emitEnd(e),this._currentCount=0}this._previousEvent=e}_emitStart(e){var i,n;this._startEvent=e,(n=(i=this._callbacks).condition)!=null&&n.call(i,this._currentCount,e)&&this._callbacks.start(this._currentCount,e,this._startEvent)}_emitUpdate(e){var i,n;(n=(i=this._callbacks).condition)!=null&&n.call(i,this._currentCount,e)&&this._callbacks.update(this._currentCount,e,this._startEvent)}_emitEnd(e){var i,n;(n=(i=this._callbacks).condition)!=null&&n.call(i,this._currentCount,e)&&this._callbacks.end(this._currentCount,e,this._startEvent),this._startEvent=null}},hY=class extends xt{constructor(e,i,n){super(!0),this.view=e,this.pointerAction=i,this.registerIncoming("drag",n,r=>this._handleDrag(r)),this.registerIncoming("pointer-down",()=>this.stopMomentumNavigation())}onInstall(e){super.onInstall(e),this._dragEventSeparator=new h0({start:(i,n)=>{this.view.mapViewNavigation.pan.begin(this.view,n.data),n.stopPropagation()},update:(i,n)=>{this.view.mapViewNavigation.pan.update(this.view,n.data),n.stopPropagation()},end:(i,n)=>{this.view.mapViewNavigation.pan.end(this.view,n.data),n.stopPropagation()},condition:(i,n)=>i===1&&QS(n.data,this.pointerAction)})}_handleDrag(e){const i=this.view.mapViewNavigation;i.pinch.zoomMomentum||i.pinch.rotateMomentum?this.stopMomentumNavigation():this._dragEventSeparator.handle(e)}stopMomentumNavigation(){this.view.mapViewNavigation.pan.stopMomentumNavigation()}},pY=class extends xt{constructor(e,i,n){super(!0),this._view=e,this.pointerAction=i;const r=this._view.mapViewNavigation;this._dragEventSeparator=new h0({start:(s,o)=>{r.rotate.begin(this._view,o.data),o.stopPropagation()},update:(s,o)=>{r.rotate.update(this._view,o.data),o.stopPropagation()},end:(s,o)=>{r.rotate.end(),o.stopPropagation()},condition:(s,o)=>s===1&&QS(o.data,this.pointerAction)}),this.registerIncoming("drag",n,s=>this._dragEventSeparator.handle(s))}};function wn(t){let e=t*t;return t<0&&(e*=-1),e}function fY(t){return t.translation[0]=0,t.translation[1]=0,t.translation[2]=0,t.heading=0,t.tilt=0,t}function mY(t,e,i){const n=i,r=t.state,s=t.device,o=e.tiltDirection==="forward-down"?1:-1,a=1;return s.deviceType==="standard"?(n.translation[0]=wn(r.axes[0]),n.translation[1]=wn(r.axes[1]),n.translation[2]=wn(r.buttons[7])-wn(r.buttons[6]),n.heading=wn(r.axes[2]),n.tilt=wn(r.axes[3])):s.deviceType==="spacemouse"&&(n.translation[0]=1.2*wn(r.axes[0]),n.translation[1]=1.2*wn(r.axes[1]),n.translation[2]=2*-wn(r.axes[2]),n.heading=1.2*wn(r.axes[5]),n.tilt=1.2*wn(r.axes[3])),n.tilt*=o,N_(n.translation,n.translation,a),n}function gY(t){return t.translation[0]===0&&t.translation[1]===0&&t.translation[2]===0&&t.heading===0&&t.tilt===0&&t.zoom===0}let yY=class extends xt{constructor(e){super(!0),this._view=e,this._frameTask=null,this._watchHandles=new Sy,this._currentDevice=null,this._transformation={translation:[0,0,0],heading:0,tilt:0,zoom:0},this._handle=this.registerIncoming("gamepad",i=>this._handleGamePadEvent(i)),this._handle.pause()}onInstall(e){super.onInstall(e),this._watchHandles.add([K(()=>{var i;return(i=this._view.navigation.gamepad)==null?void 0:i.enabled},i=>{i?(this._handle.resume(),this._frameTask||(this._frameTask=au({update:n=>this._frameUpdate(n.deltaTime)}))):(this._handle.pause(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null))},yt)])}onUninstall(){this._watchHandles.removeAll(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null),super.onUninstall()}_handleGamePadEvent(e){const i=this._view.navigation.gamepad.device;i&&e.data.device!==i||this._currentDevice&&this._currentDevice!==e.data.device||(e.data.action==="end"?(this._currentDevice=null,fY(this._transformation)):(this._currentDevice=e.data.device,mY(e.data,this._view.navigation.gamepad,this._transformation)))}_frameUpdate(e){const i=this._transformation;if(gY(i))return;const n=this._view.viewpoint.clone(),r=this._view.navigation.gamepad.velocityFactor,s=bY*r*e;d0(n,n,[i.translation[0]*s,-i.translation[1]*s]);const o=1+i.translation[2]*wY*e,a=this._view.constraints.rotationEnabled?-i.heading*vY*e:0,l=this._view.size,u=[l[0]/2,l[1]];hP(n,n,o,a,u,l);const p=this._view.constraints.constrain(n,this._view.viewpoint);this._view.viewpoint=p}};const vY=.06,bY=.7,wY=6e-4;function OP(t){const e=()=>t(document.visibilityState==="visible");return document.addEventListener("visibilitychange",e),{remove:()=>document.addEventListener("visibilitychange",e)}}let _Y=class extends xt{constructor(e,i,n){super(!0),this.view=e,this.keys=i,this._isSticky=!1,this._pressedKeys=new Set,this._timeout=void 0,this._currentDirection=void 0,this._stickyKeyDuration=200,this._handleKey=r=>{const s=this._keyMap[r.data.key];if(r.modifiers.has("Meta")||r.modifiers.has("Ctrl"))return void this._stopMovement();if(s==null)return;r.stopPropagation(),r.preventDefault();const o=r.type==="key-down";if(this._pressedKeys[o?"add":"delete"](s),o){if(this._direction===s)return;this._direction=s,this._isSticky=!1,this._setTimeout(()=>{this._isSticky&&this._handlePopKey()})}else{const a=this._timeout===void 0,l=this._pressedKeys.size>0;a||l?this._handlePopKey():this._isSticky=!0}},this._handlePopKey=()=>{this._direction=Array.from(this._pressedKeys).pop(),this._direction==null&&this._stopMovement()},this._stopMovement=()=>{this._isSticky=!1,this._direction=void 0,this._pressedKeys.clear(),this._setTimeout(void 0)},this._keyMap={[i.left]:"left",[i.right]:"right",[i.up]:"up",[i.down]:"down"},this.registerIncoming("key-down",n,this._handleKey),this.registerIncoming("key-up",n,this._handleKey),this.registerIncoming("blur",n,this._stopMovement),this._visibilityHandle=OP(r=>r?null:this._stopMovement())}onUninstall(){var e;this._stopMovement(),(e=this._visibilityHandle)==null||e.remove()}get _direction(){return this._currentDirection}set _direction(e){const i=this._currentDirection!=null;if(e!=null){if(i||this.view.mapViewNavigation.begin(),this._currentDirection!==e)switch(e){case"left":this.view.mapViewNavigation.continousPanLeft();break;case"right":this.view.mapViewNavigation.continousPanRight();break;case"up":this.view.mapViewNavigation.continousPanUp();break;case"down":this.view.mapViewNavigation.continousPanDown()}}else i&&this.view.mapViewNavigation.stop();this._currentDirection=e}_setTimeout(e){clearTimeout(this._timeout),this._timeout=e===void 0?void 0:setTimeout(()=>{this._timeout=void 0,e()},this._stickyKeyDuration)}},SY=class extends xt{constructor(e,i,n){super(!0),this.view=e,this.keys=i,this._pressed=!1,this._keyToDirection={[i.clockwiseOption1]:"clockwise",[i.clockwiseOption2]:"clockwise",[i.counterClockwiseOption1]:"counterClockwise",[i.counterClockwiseOption2]:"counterClockwise",[i.resetOption1]:"reset",[i.resetOption2]:"reset"},this.registerIncoming("key-down",n,r=>this._handleKeyDown(r)),this.registerIncoming("key-up",n,r=>this._handleKeyUp(r)),this.registerIncoming("blur",n,()=>this._handleStop()),this._visibilityHandle=OP(r=>r?null:this._handleStop())}onUninstall(){var e;(e=this._visibilityHandle)==null||e.remove(),this._handleStop()}_handleKeyDown(e){e.data.repeat||this._handleKey(e,!0)}_handleKeyUp(e){this._handleKey(e,!1)}_handleStop(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(e,i){const n=e.modifiers;if(n.size>0&&!n.has("Shift")||!this.view.constraints.rotationEnabled)return;const r=this._keyToDirection[e.data.key];if(this._pressed=r!=null,this._pressed){if(e.preventDefault(),i)switch(this.view.mapViewNavigation.begin(),r){case"clockwise":this.view.mapViewNavigation.continousRotateClockwise();break;case"counterClockwise":this.view.mapViewNavigation.continousRotateCounterclockwise();break;case"reset":this.view.mapViewNavigation.resetRotation()}else this._pressed=!1,this.view.mapViewNavigation.stop();e.stopPropagation()}}};var Hc;(function(t){t[t.IN=0]="IN",t[t.OUT=1]="OUT"})(Hc||(Hc={}));let xY=class extends xt{constructor(e,i,n){super(!0),this.view=e,this.keys=i,this._keysToZoomAction={},this.registerIncoming("key-down",n,r=>this._handleKeyDown(r)),i.zoomIn.forEach(r=>this._keysToZoomAction[r]=Hc.IN),i.zoomOut.forEach(r=>this._keysToZoomAction[r]=Hc.OUT)}_handleKeyDown(e){this._handleKey(e)}_handleKey(e){const i=e.modifiers;if(i.size>0&&!i.has("Shift"))return;const{key:n}=e.data;if(!(n in this._keysToZoomAction))return;const r=this._keysToZoomAction[n],{mapViewNavigation:s}=this.view;let o=null;switch(r){case Hc.IN:o=s.zoomIn();break;case Hc.OUT:o=s.zoomOut();break;default:return}s.begin(),o.then(()=>s.end()),e.stopPropagation()}};const $Y=.6;let TY=class extends xt{constructor(e,i){super(!0),this._view=e,this._canZoom=!0,this.registerIncoming("mouse-wheel",i,n=>this._handleMouseWheel(n))}_handleMouseWheel(e){if(!this._view.navigation.mouseWheelZoomEnabled||(e.preventDefault(),e.stopPropagation(),!this._canZoom))return;const i=this._view.mapViewNavigation,{x:n,y:r,deltaY:s}=e.data,o=1/$Y**(1/60*s),a=i.zoom(o,[n,r]);a&&(this._canZoom=!1,a.catch(()=>{}).then(()=>{this._canZoom=!0,i.end()}))}},EY=class extends xt{constructor(e){super(!0),this.view=e,this.registerIncoming("drag",n=>this._handleDrag(n)),this.registerIncoming("pointer-down",()=>this._stopMomentumNavigation());const i=this.view.mapViewNavigation;this._dragEventSeparator=new h0({start:(n,r)=>{i.pinch.begin(this.view,r.data),r.stopPropagation()},update:(n,r)=>{i.pinch.update(this.view,r.data),r.stopPropagation()},end:(n,r)=>{i.pinch.end(this.view),r.stopPropagation()},condition:n=>n>=2})}_handleDrag(e){this._dragEventSeparator.handle(e)}_stopMomentumNavigation(){this.view.mapViewNavigation.pinch.stopMomentumNavigation()}};function qT(t){const e=t.native;return e?{buttons:e.buttons.map(i=>i.pressed?i.value||1:0),axes:e.axes.map(i=>CY(i,t.axisThreshold))}:{buttons:[],axes:[]}}function kY(t,e){if(t.axes.length!==e.axes.length||t.buttons.length!==e.buttons.length)return!1;for(let i=0;i<t.axes.length;i++)if(t.axes[i]!==e.axes[i])return!1;for(let i=0;i<t.buttons.length;i++)if(t.buttons[i]!==e.buttons[i])return!1;return!0}function MY(t){for(let e=0;e<t.axes.length;e++)if(t.axes[e]!==0)return!1;for(let e=0;e<t.buttons.length;e++)if(t.buttons[e]!==0)return!1;return!0}function CY(t,e){const i=Math.abs(t);return i<e?0:Math.sign(t)*(i-e)/(1-e)}let IY=class{constructor(e,i){this._element=e,this._input=i,this._hasEventListeners=!1,this._onConnectGamepad=s=>{this._connectGamepad(s.gamepad)},this._onDisconnectGamepad=s=>{const o=s.gamepad,a=o.index,l=this._inputDevices[a];l&&(this._emitGamepadEvent(o,qT(l),!1),this._inputDevices.splice(a,1),this._latestUpdate.splice(a,1),this._input.gamepad.devices.remove(l),this.ensurePollingState())},this._frameTask=null,this._latestUpdate=new Array,this._inputDevices=new Array,this._callback=null;const n="getGamepads"in window.navigator,r=window.isSecureContext;this.supported=n&&r,this.supported&&(this._forEachGamepad(s=>this._connectGamepad(s)),window.addEventListener("gamepadconnected",this._onConnectGamepad),window.addEventListener("gamepaddisconnected",this._onDisconnectGamepad),this.ensurePollingState())}destroy(){this.hasEventListeners=!1,this.supported&&(window.removeEventListener("gamepadconnected",this._onConnectGamepad),window.removeEventListener("gamepaddisconnected",this._onDisconnectGamepad))}set hasEventListeners(e){this._hasEventListeners!==e&&(this._hasEventListeners=e,this.ensurePollingState())}get _eventsEnabled(){return this.supported&&this._inputDevices.length>0&&this._hasEventListeners}set onEvent(e){this._callback=e}_connectGamepad(e){const i=new HS(e);i.deviceType!=="unknown"&&(this._inputDevices[e.index]=i,this._input.gamepad.devices.add(i)),this.ensurePollingState()}ensurePollingState(){this._eventsEnabled?this._startPolling():this._stopPolling()}_startPolling(){this._frameTask==null&&(this._frameTask=au({update:()=>this._readGamepadState()}))}_stopPolling(){this._frameTask!=null&&(this._frameTask.remove(),this._frameTask=null,this._latestUpdate=new Array)}_readGamepadState(){const e=document.hasFocus(),i=this._element.contains(document.activeElement),n=this._input.gamepad.enabledFocusMode==="document"&&!e||this._input.gamepad.enabledFocusMode==="view"&&!i;this._forEachGamepad(r=>{const s=this._inputDevices[r.index];if(!s)return;const o=this._latestUpdate[r.index],a=qT(s),l=n||MY(a);o&&(o.timestamp===r.timestamp||!o.active&&l||kY(o.state,a))||this._emitGamepadEvent(r,a,!l)})}_forEachGamepad(e){const i=window.navigator.getGamepads();for(let n=0;n<i.length;n++){const r=i[n];this._validate(r)&&e(r)}}_emitGamepadEvent(e,i,n){const r=this._latestUpdate[e.index],s=r&&r.active;if(!s&&!n)return;const o=!s&&n?"start":s&&n?"update":"end";this._latestUpdate[e.index]={timestamp:e.timestamp,state:i,active:n},this._callback&&this._callback({device:this._inputDevices[e.index],state:i,action:o})}_validate(e){if(!e||!e.connected)return!1;for(let i=0;i<e.axes.length;i++)if(isNaN(e.axes[i]))return!1;return!0}};const ZT=P("edge"),OY=P("chrome"),AY=P("ff"),LY=P("safari"),JT="esri-view-surface",rc={touchNone:`${JT}--touch-none`,touchPan:`${JT}--touch-pan`};let AP=class LP{constructor(e,i){this._input=i,this._active={},this._callback=()=>{},this._activePointerCaptures=new Set,this._keyDownState=new Set,this._eventId=1,this._browserTouchPanningEnabled=!1,this._element=e,e.getAttribute("tabindex")||e.setAttribute("tabindex","0"),this._eventHandlers={"key-down":this._handleKey,"key-up":this._handleKey,"pointer-down":this._handlePointer,"pointer-move":this._handlePointerPreventDefault,"pointer-up":this._handlePointerPreventDefault,"pointer-enter":this._handlePointer,"pointer-leave":this._handlePointer,"pointer-cancel":this._handlePointer,"mouse-wheel":this._handleMouseWheel,"pointer-capture-lost":this._handlePointerCaptureLost},this._updateTouchAction(),this._element.addEventListener("keydown",this._preventAltKeyDefault),this._gamepadSource=new IY(e,this._input),this._gamepadSource.onEvent=n=>this._callback("gamepad",n)}destroy(){this._callback=()=>{},this.activeEvents=null,this._activePointerCaptures.forEach(e=>{this._releasePointerCaptureSafe(e)}),this._gamepadSource=ze(this._gamepadSource),this._activePointerCaptures=null,this._removeTouchAction(),this._element.removeEventListener("keydown",this._preventAltKeyDefault)}get browserTouchPanningEnabled(){return this._browserTouchPanningEnabled}set browserTouchPanningEnabled(e){this._browserTouchPanningEnabled=e,this._updateTouchAction(),this._updateTouchEventHandling()}set onEventReceived(e){this._callback=e}set activeEvents(e){for(const i in this._active)if(!e||!e.has(i)){const n=this._active[i];this._element.removeEventListener(yv[i],n),delete this._active[i]}e&&e.forEach(i=>{if(!this._active[i]&&yv[i]){const n=(this._eventHandlers[i]||this._handleDefault).bind(this,i);this._element.addEventListener(yv[i],n),this._active[i]=n}}),this._gamepadSource.hasEventListeners=(e==null?void 0:e.has("gamepad"))??!1}setPointerCapture(e,i){i?this._setPointerCatpureSafe(e.pointerId):(this._releasePointerCaptureSafe(e.pointerId),this._activePointerCaptures.delete(e.pointerId))}_updateTouchAction(){this._element.classList.remove(this._browserTouchPanningEnabled?rc.touchNone:rc.touchPan),this._element.classList.add(this._browserTouchPanningEnabled?rc.touchPan:rc.touchNone)}_updateTouchEventHandling(){this._browserTouchPanningEnabled?this._element.addEventListener("touchmove",this._preventMultiTouchPanning):this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_removeTouchAction(){this._element.classList.remove(rc.touchNone),this._element.classList.remove(rc.touchPan),this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_setPointerCatpureSafe(e){try{this._element.setPointerCapture(e),this._activePointerCaptures.add(e)}catch{}}_releasePointerCaptureSafe(e){try{if(this._element.hasPointerCapture&&!this._element.hasPointerCapture(e))return;this._element.releasePointerCapture(e)}catch{}}_updateNormalizedPointerLikeEvent(e,i){const n=CL(this._element,e);return LP.test.disableSubpixelCoordinates&&(n.x=Math.round(n.x),n.y=Math.round(n.y)),i.x=n.x,i.y=n.y,i}_handleKey(e,i){const n=AB(i);n&&e==="key-up"&&this._keyDownState.delete(n);const r={native:i,key:n,repeat:!!n&&this._keyDownState.has(n)};n&&e==="key-down"&&this._keyDownState.add(r.key),this._callback(e,r)}_handlePointer(e,i){const n=this._updateNormalizedPointerLikeEvent(i,{native:i,x:0,y:0,pointerType:i.pointerType,button:i.button,buttons:i.buttons,eventId:this._eventId++});this._callback(e,n)}_handlePointerPreventDefault(e,i){const n=this._updateNormalizedPointerLikeEvent(i,{native:i,x:0,y:0,pointerType:i.pointerType,button:i.button,buttons:i.buttons,eventId:this._eventId++});i.preventDefault(),this._callback(e,n)}_handleMouseWheel(e,i){let n=i.deltaY;switch(i.deltaMode){case 0:ZT&&(n=n/document.documentElement.clientHeight*600);break;case 1:n*=30;break;case 2:n*=900}ZT?n*=.7:OY||LY?n*=.6:AY&&(n*=1.375);const r=100,s=Math.abs(n);s>r&&(n=n/s*200/(1+Math.exp(-.02*(s-r))));const o=this._updateNormalizedPointerLikeEvent(i,{native:i,x:0,y:0,deltaY:n});this._callback(e,o)}_handlePointerCaptureLost(e,i){this._activePointerCaptures.delete(i.pointerId),this._handleDefault(e,i)}_handleDefault(e,i){const n={native:i};i.preventDefault(),this._callback(e,n)}_preventAltKeyDefault(e){e.key==="Alt"&&e.preventDefault()}_preventMultiTouchPanning(e){e.touches.length>1&&e.preventDefault()}};AP.test={disableSubpixelCoordinates:!1};const yv={"key-down":"keydown","key-up":"keyup","pointer-down":"pointerdown","pointer-up":"pointerup","pointer-move":"pointermove","mouse-wheel":"wheel","pointer-capture-got":"gotpointercapture","pointer-capture-lost":"lostpointercapture","context-menu":"contextmenu","pointer-enter":"pointerenter","pointer-leave":"pointerleave","pointer-cancel":"pointercancel",focus:"focus",blur:"blur"};let PY=class extends xt{constructor(){super(!0),this.registerIncoming("context-menu",e=>{e.data.native.preventDefault()})}};const Dt={maximumClickDelay:300,movementUntilMouseDrag:1.5,movementUntilPenDrag:6,movementUntilTouchDrag:6,holdDelay:500,maximumDoubleClickDelay:250,maximumDoubleClickDistance:10,maximumDoubleTouchDelay:350,maximumDoubleTouchDistance:35};function Dg(t,e){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)}function RY(t,e){const i=e.x-t.x,n=e.y-t.y;return Math.sqrt(i*i+n*n)}function NY(t,e){if(e?(e.radius=0,e.center.x=0,e.center.y=0):e={radius:0,center:ui()},t.length===0)return e;if(t.length===1)return e.center.x=t[0].x,e.center.y=t[0].y,e;if(t.length===2){const[x,T]=t,[M,I]=[T.x-x.x,T.y-x.y];return e.radius=Math.sqrt(M*M+I*I)/2,e.center.x=(x.x+T.x)/2,e.center.y=(x.y+T.y)/2,e}let i=0,n=0;for(let x=0;x<t.length;x++)i+=t[x].x,n+=t[x].y;i/=t.length,n/=t.length;const r=t.map(x=>x.x-i),s=t.map(x=>x.y-n);let o=0,a=0,l=0,u=0,p=0,f=0,m=0;for(let x=0;x<r.length;x++){const T=r[x],M=s[x],I=T*T,L=M*M;o+=I,a+=L,l+=T*M,u+=I*T,p+=L*M,f+=T*L,m+=M*I}const g=.5*(u+f),y=.5*(p+m),v=o*a-l*l,w=(g*a-y*l)/v,_=(o*y-l*g)/v,$=ui(w+i,_+n);return{radius:Math.sqrt(w*w+_*_+(o+a)/t.length),center:$}}function wl(t){const{native:e}=t,{pointerId:i,button:n,pointerType:r}=e;return r==="mouse"?`${i}:${n}`:`${r}`}let DY=class extends xt{constructor(e=Dt.maximumDoubleClickDelay,i=Dt.maximumDoubleClickDistance,n=Dt.maximumDoubleTouchDelay,r=Dt.maximumDoubleTouchDistance,s=ku){super(!1),this._maximumDoubleClickDelay=e,this._maximumDoubleClickDistance=i,this._maximumDoubleTouchDelay=n,this._maximumDoubleTouchDistance=r,this._clock=s,this._doubleTapDragReady=!1,this._doubleTapDragActive=!1,this._dragStartCenter=ui(0,0),this._pointerState=new Map,this._doubleTapDrag=this.registerOutgoing("double-tap-drag"),this._dragEventSeparator=new h0({start:(o,a)=>this._dragStart(o,a),update:(o,a)=>this._dragUpdate(a),end:(o,a)=>this._dragEnd(a)}),this.registerIncoming("drag",o=>this._dragEventSeparator.handle(o)),this.registerIncoming("pointer-down",o=>this._handlePointerDown(o)),this.registerIncoming("pointer-up",()=>this._handlePointerUp())}onUninstall(){this._pointerState.forEach(e=>{e.doubleTapTimeout=Ke(e.doubleTapTimeout)})}get hasPendingInputs(){return ky(this._pointerState,e=>e.doubleTapTimeout!=null)}_clearPointerDown(e){const i=this._pointerState.get(e);i&&(i.doubleTapTimeout=Ke(i.doubleTapTimeout),this._pointerState.delete(e),this.refreshHasPendingInputs())}_createDoubleTapDragData(e,i,n){const{button:r,buttons:s,pointer:o,pointers:a,pointerType:l,timestamp:u}=n;return{action:e,delta:i,button:r,buttons:s,pointer:o,pointers:a,pointerType:l,timestamp:u}}_dragStart(e,i){if(!this._doubleTapDragReady||e!==1)return;this._doubleTapDragReady=!1,this._doubleTapDragActive=!0;const{data:n,modifiers:r}=i,{center:s}=n;this._dragStartCenter=s;const o=this._createDoubleTapDragData("begin",ui(0,0),n);this._doubleTapDrag.emit(o,void 0,r),i.stopPropagation()}_dragUpdate(e){if(!this._doubleTapDragActive)return;const{data:i,modifiers:n}=e,{center:r}=i,s=ui(r.x-this._dragStartCenter.x,r.y-this._dragStartCenter.y),o=this._createDoubleTapDragData("update",s,i);this._doubleTapDrag.emit(o,void 0,n),e.stopPropagation()}_dragEnd(e){if(!this._doubleTapDragActive)return;const{data:i,modifiers:n}=e,{center:r}=i,s=ui(r.x-this._dragStartCenter.x,r.y-this._dragStartCenter.y),o=this._createDoubleTapDragData("end",s,i);this._doubleTapDrag.emit(o,void 0,n),this._doubleTapDragActive=!1,e.stopPropagation()}_handlePointerDown(e){const{data:i}=e,n=wl(i),r=this._pointerState.get(n),{pointerType:s}=i.native;if(r){const o=s==="touch"?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;this._clearPointerDown(n),Dg(r.event.data,i)>o?this._storePointerDown(e):this._doubleTapDragReady=!0}else this._storePointerDown(e)}_handlePointerUp(){this._doubleTapDragReady=!1}_storePointerDown(e){const{data:i}=e,{pointerType:n}=i.native,r=wl(i),s=n==="touch"?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay,o=this._clock.setTimeout(()=>this._clearPointerDown(r),s);this._pointerState.set(r,{event:e,doubleTapTimeout:o}),this.refreshHasPendingInputs()}},zY=class extends xt{constructor(e){super(!1),this._navigationTouch=e,this._startStateModifiers=new Set,this._activePointerMap=new Map,this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._drag=this.registerOutgoing("drag"),this.registerIncoming("pointer-drag",this._handlePointerDrag.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-capture-lost",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-cancel",this._handlePointerUpAndPointerLost.bind(this))}_createPayload(e,i,n,r){return{action:e,pointerType:this._pointerType,button:this._mouseButton,buttons:i.buttons,timestamp:r,pointers:FY(this._activePointerMap),pointer:i,angle:n.angle,radius:n.radius,center:n.center}}_addPointer(e){const i=e.native.pointerId,n=Mf(this._activePointerMap).angle,r={event:e,initialAngle:0,lastAngle:0};this._activePointerMap.set(i,r);const s=Om(r,PP(this._activePointerMap));r.initialAngle=s,r.lastAngle=s,this._updatePointerAngles(n)}_updatePointer(e){if(e&&e.x==null&&e.y==null)return;const i=e.native.pointerId,n=this._activePointerMap.get(i);n?n.event=e:this._addPointer(e)}_removePointer(e){const i=Mf(this._activePointerMap).angle;this._activePointerMap.delete(e),this._updatePointerAngles(i)}_updatePointerAngles(e){const i=Mf(this._activePointerMap);this._activePointerMap.forEach(n=>{n.initialAngle=Om(n,i)-e,n.lastAngle=Om(n,i)-e})}_emitEvent(e,i,n){const r=Mf(this._activePointerMap);this._drag.emit(this._createPayload(e,i,r,n),void 0,this._startStateModifiers)}_handlePointerUpAndPointerLost(e){const i=e.data.native.pointerId,n=e.timestamp;this._activePointerMap.get(i)&&(this._activePointerMap.size===1?(this._updatePointer(e.data),!this._isCurrentDragSuppressed&&this._emitEvent("end",e.data,n),this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._removePointer(i)):(this._removePointer(i),this._emitEvent("removed",e.data,e.timestamp)))}_handlePointerDrag(e){const i=e.data,n=i.currentEvent,r=e.timestamp;switch(i.action){case"start":case"update":this._isDragging?this._activePointerMap.has(n.native.pointerId)?(this._updatePointer(n),!this._isCurrentDragSuppressed&&this._emitEvent("update",n,r)):(this._addPointer(n),this._emitEvent("added",n,r),this._isCurrentDragSuppressed=this._isSuppressed):(this._updatePointer(n),this._pointerType=e.data.startEvent.pointerType,this._mouseButton=e.data.startEvent.button,this._startStateModifiers=e.modifiers,this._isDragging=!0,this._isCurrentDragSuppressed=this._isSuppressed,!this._isCurrentDragSuppressed&&this._emitEvent("start",n,r))}}get _isSuppressed(){return!!this._navigationTouch&&!this._navigationTouch.browserTouchPanEnabled&&this._pointerType==="touch"&&this._activePointerMap.size===1}};function PP(t){const e=[];return t.forEach(i=>{e.push(ui(i.event.x,i.event.y))}),NY(e)}function Mf(t){const e=PP(t);let i=0;return t.forEach(n=>{let r=Om(n,e),s=r-n.lastAngle;for(;s>Math.PI;)s-=2*Math.PI;for(;s<-Math.PI;)s+=2*Math.PI;r=n.lastAngle+s,n.lastAngle=r;const o=r-n.initialAngle;i+=o}),i/=t.size||1,{angle:i,radius:e.radius,center:e.center}}function FY(t){const e=new Map;return t.forEach((i,n)=>e.set(n,i.event)),e}function Om(t,e){const i=t.event,n=i.x-e.center.x,r=i.y-e.center.y;return Math.atan2(r,n)}var KT;(function(t){t[t.Left=0]="Left",t[t.Middle=1]="Middle",t[t.Right=2]="Right",t[t.Back=3]="Back",t[t.Forward=4]="Forward",t[t.Undefined=-1]="Undefined"})(KT||(KT={}));let jY=class extends xt{constructor(e=Dt.maximumDoubleClickDelay,i=Dt.maximumDoubleClickDistance,n=Dt.maximumDoubleTouchDelay,r=Dt.maximumDoubleTouchDistance,s=ku){super(!1),this._maximumDoubleClickDelay=e,this._maximumDoubleClickDistance=i,this._maximumDoubleTouchDelay=n,this._maximumDoubleTouchDistance=r,this._clock=s,this._pointerState=new Map,this._immediateDoubleClick=this.registerOutgoing("immediate-double-click"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUp.bind(this))}onUninstall(){this._pointerState.forEach(e=>{e.immediateDoubleClick&&e.immediateDoubleClick.timeoutHandle.remove()}),super.onUninstall()}_handlePointerDown(e){const i=e.data,n=wl(i);if(!this._pointerState.has(n)){const r={downButton:i.native.button,x:i.x,y:i.y,immediateDoubleClick:null};this._pointerState.set(n,r),this.startCapturingPointer(i.native)}}_handlePointerUp(e){const i=e.data,n=wl(i),r=this._pointerState.get(n);if(r&&r.downButton===i.native.button){const s=r.immediateDoubleClick,o=e.data.native.pointerType==="touch"?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;s?(s.timeoutHandle.remove(),Dg(s,e.data)>o?this._startImmediateDoubleClick(e,r):(this._immediateDoubleClick.emit(e.data,void 0,s.modifiers),this._removeState(i))):Dg(r,e.data)>o?this._removeState(i):this._startImmediateDoubleClick(e,r)}}_startImmediateDoubleClick(e,i){const n=e.data.native.pointerType==="touch"?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay;i.immediateDoubleClick={x:e.data.x,y:e.data.y,modifiers:e.modifiers,timeoutHandle:this._clock.setTimeout(()=>this._removeState(e.data),n)}}_removeState(e){const i=wl(e);this._pointerState.delete(i),this.stopCapturingPointer(e.native),this.refreshHasPendingInputs()}},UY=class extends xt{constructor(e=Dt.maximumClickDelay,i=Dt.movementUntilMouseDrag,n=Dt.movementUntilPenDrag,r=Dt.movementUntilTouchDrag,s=Dt.holdDelay,o=ku){super(!1),this._maximumClickDelay=e,this._movementUntilMouseDrag=i,this._movementUntilPenDrag=n,this._movementUntilTouchDrag=r,this._holdDelay=s,this._clock=o,this._pointerState=new Map,this._pointerDrag=this.registerOutgoing("pointer-drag"),this._immediateClick=this.registerOutgoing("immediate-click"),this._pointerHold=this.registerOutgoing("hold"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",a=>{this._handlePointerLoss(a,"pointer-up")}),this.registerIncoming("pointer-capture-lost",a=>{this._handlePointerLoss(a,"pointer-capture-lost")}),this.registerIncoming("pointer-cancel",a=>{this._handlePointerLoss(a,"pointer-cancel")}),this._moveHandle=this.registerIncoming("pointer-move",this._handlePointerMove.bind(this)),this._moveHandle.pause()}onUninstall(){this._pointerState.forEach(e=>{e.holdTimeout=Ke(e.holdTimeout)}),super.onUninstall()}_handlePointerDown(e){const i=e.data,n=i.native.pointerId;let r=null;this._pointerState.size===0&&(r=this._clock.setTimeout(()=>{const o=this._pointerState.get(n);if(o){if(!o.isDragging){const a=o.previousEvent;this._pointerHold.emit(a,void 0,e.modifiers),o.holdEmitted=!0}o.holdTimeout=null}},this._holdDelay));const s={startEvent:i,previousEvent:i,startTimestamp:e.timestamp,isDragging:!1,downButton:i.native.button,holdTimeout:r,modifiers:new Set};this._pointerState.set(n,s),this.startCapturingPointer(i.native),this._moveHandle.resume(),this._pointerState.size>1&&this._startDragging(e)}_createPointerDragData(e,i,n){return{action:e,startEvent:i.startEvent,previousEvent:i.previousEvent,currentEvent:n}}_handlePointerMove(e){const i=e.data,n=i.native.pointerId,r=this._pointerState.get(n);r&&(r.isDragging?this._pointerDrag.emit(this._createPointerDragData("update",r,i),void 0,r.modifiers):RY(i,r.startEvent)>this._getDragThreshold(i.native.pointerType)&&this._startDragging(e),r.previousEvent=i)}_getDragThreshold(e){switch(e){case"touch":return this._movementUntilTouchDrag;case"pen":return this._movementUntilPenDrag;default:return this._movementUntilMouseDrag}}_startDragging(e){const i=e.data,n=i.native.pointerId;this._pointerState.forEach(r=>{r.holdTimeout!=null&&(r.holdTimeout.remove(),r.holdTimeout=null),r.isDragging||(r.modifiers=e.modifiers,r.isDragging=!0,n===r.startEvent.native.pointerId?this._pointerDrag.emit(this._createPointerDragData("start",r,i)):this._pointerDrag.emit(this._createPointerDragData("start",r,r.previousEvent),e.timestamp))})}_handlePointerLoss(e,i){const n=e.data,r=n.native.pointerId,s=this._pointerState.get(r);s&&(s.holdTimeout!=null&&(s.holdTimeout.remove(),s.holdTimeout=null),s.isDragging?this._pointerDrag.emit(this._createPointerDragData("end",s,i==="pointer-up"?n:s.previousEvent),void 0,s.modifiers):i==="pointer-up"&&s.downButton===n.native.button&&e.timestamp-s.startTimestamp<=this._maximumClickDelay&&!s.holdEmitted&&this._immediateClick.emit(n),this._pointerState.delete(r),this.stopCapturingPointer(n.native),this._pointerState.size===0&&this._moveHandle.pause())}},HY=class extends xt{constructor(e=Dt.maximumDoubleClickDelay,i=Dt.maximumDoubleClickDistance,n=Dt.maximumDoubleTouchDelay,r=Dt.maximumDoubleTouchDistance,s=ku){super(!1),this._maximumDoubleClickDelay=e,this._maximumDoubleClickDistance=i,this._maximumDoubleTouchDelay=n,this._maximumDoubleTouchDistance=r,this._clock=s,this._pointerState=new Map,this._click=this.registerOutgoing("click"),this._doubleClick=this.registerOutgoing("double-click"),this.registerIncoming("immediate-click",this._handleImmediateClick.bind(this)),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this))}onUninstall(){this._pointerState.forEach(e=>e.doubleClickTimer=Ke(e.doubleClickTimer))}get hasPendingInputs(){return ky(this._pointerState,e=>e.doubleClickTimer!=null)}_clearDoubleClickTimer(e,i){const n=this._pointerState.get(e);n&&(n.doubleClickTimer=Ke(n.doubleClickTimer),i&&this._click.emit(n.event.data,void 0,n.event.modifiers),this._pointerState.delete(e),this.refreshHasPendingInputs())}_doubleClickTimeoutExceeded(e){const i=this._pointerState.get(e);i.pointerDownCount===1&&this._click.emit(i.event.data,void 0,i.event.modifiers),i.doubleClickTimer=null,this._pointerState.delete(e),this.refreshHasPendingInputs()}_getPointerId(e){const{pointerId:i,pointerType:n,button:r}=e.native;return n==="mouse"?`${i}:${r}`:`${n}`}_handleImmediateClick(e){const i=e.data,{pointerType:n}=i.native,r=this._getPointerId(i);if(!this._pointerState.has(r))return void this._startClick(e);const s=this._pointerState.get(r),{data:o,modifiers:a}=s.event,l=n==="touch"?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;Dg(o,i)>l?(this._clearDoubleClickTimer(r,!0),this._startClick(e)):(this._clearDoubleClickTimer(r,!1),s.pointerDownCount===2&&this._doubleClick.emit(o,void 0,a))}_handlePointerDown(e){const i=wl(e.data),n=this._pointerState.get(i);n&&(n.pointerDownCount+=1)}_startClick(e){const{data:i}=e,{native:{pointerType:n}}=i,r=wl(i),s=n==="touch"?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay,o=this._clock.setTimeout(()=>this._doubleClickTimeoutExceeded(r),s),a=1;this._pointerState.set(r,{event:e,doubleClickTimer:o,pointerDownCount:a}),this.refreshHasPendingInputs()}};const Cf={counter:"Ctrl",pan:{left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown"},zoom:{zoomIn:["=","+"],zoomOut:["-","_"]},rotate:{clockwiseOption1:"a",clockwiseOption2:"A",counterClockwiseOption1:"d",counterClockwiseOption2:"D",resetOption1:"n",resetOption2:"N"}};let Ga=class extends Q{initialize(){const e=()=>{var i;return(i=this.view)==null?void 0:i.ready};this.addHandles([cn(()=>!e(),()=>this._disconnect()),cn(e,()=>this._connect())])}destroy(){this._disconnect()}get latestPointerType(){var e;return(e=this._inputManager)==null?void 0:e.latestPointerType}get latestPointerLocation(){var e;return(e=this._inputManager)==null?void 0:e.latestPointerLocation}get multiTouchActive(){var e;return((e=this._inputManager)==null?void 0:e.multiTouchActive)??!1}_disconnect(){this.view.viewEvents.disconnect(),this._inputManager=ze(this._inputManager)}_connect(){const e=this.view.surface,i=new AP(e,this.view.input),n=[new jY,new UY,new HY,new zY(this.view.navigation),new DY],r=new qi({eventSource:i,recognizers:n});r.installHandlers("prevent-context-menu",[new PY],zo.INTERNAL),r.installHandlers("navigation",[new EY(this.view),new yY(this.view),new TY(this.view),new WT(this.view),new WT(this.view,[Cf.counter]),new hY(this.view,"primary"),new _Y(this.view,Cf.pan),new xY(this.view,Cf.zoom),new SY(this.view,Cf.rotate),new pY(this.view,"secondary"),new dY(this.view,"touch")],zo.INTERNAL),this.view.viewEvents.connect(r),this._source=i,this._inputManager=r,K(()=>{var s,o;return(o=(s=this.view)==null?void 0:s.navigation)==null?void 0:o.browserTouchPanEnabled},s=>{this._source&&(this._source.browserTouchPanningEnabled=!s)},yt)}get test(){return{inputManager:this._inputManager}}};d([h()],Ga.prototype,"view",void 0),d([h()],Ga.prototype,"latestPointerType",null),d([h()],Ga.prototype,"latestPointerLocation",null),d([h()],Ga.prototype,"multiTouchActive",null),Ga=d([E("esri.views.2d.input.MapViewInputManager")],Ga);const BY=Ga;var bfe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function GY(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var YT,XT,QT,Sw={exports:{}};Sw.exports,YT=Sw,XT=function(){function t(r,s,o,a,l){e(r,s,o||0,a||r.length-1,l||n)}function e(r,s,o,a,l){for(;a>o;){if(a-o>600){var u=a-o+1,p=s-o+1,f=Math.log(u),m=.5*Math.exp(2*f/3),g=.5*Math.sqrt(f*m*(u-m)/u)*(p-u/2<0?-1:1);e(r,s,Math.max(o,Math.floor(s-p*m/u+g)),Math.min(a,Math.floor(s+(u-p)*m/u+g)),l)}var y=r[s],v=o,w=a;for(i(r,o,s),l(r[a],y)>0&&i(r,o,a);v<w;){for(i(r,v,w),v++,w--;l(r[v],y)<0;)v++;for(;l(r[w],y)>0;)w--}l(r[o],y)===0?i(r,o,w):i(r,++w,a),w<=s&&(o=w+1),s<=w&&(a=w-1)}}function i(r,s,o){var a=r[s];r[s]=r[o],r[o]=a}function n(r,s){return r<s?-1:r>s?1:0}return t},(QT=XT())!==void 0&&(YT.exports=QT);const VY=GY(Sw.exports);function zg(t,e){if(!(this instanceof zg))return new zg(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&(typeof e=="function"?this.toBBox=e:this._initFormat(e)),this.clear()}function WY(t,e,i){if(!i)return e.indexOf(t);for(var n=0;n<e.length;n++)if(i(t,e[n]))return n;return-1}function sc(t,e){Gd(t,0,t.children.length,e,t)}function Gd(t,e,i,n,r){r||(r=$c(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var s,o=e;o<i;o++)s=t.children[o],Vd(r,t.leaf?n(s):s);return r}function Vd(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function eE(t,e){return t.minX-e.minX}function tE(t,e){return t.minY-e.minY}function vv(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function If(t){return t.maxX-t.minX+(t.maxY-t.minY)}function qY(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function ZY(t,e){var i=Math.max(t.minX,e.minX),n=Math.max(t.minY,e.minY),r=Math.min(t.maxX,e.maxX),s=Math.min(t.maxY,e.maxY);return Math.max(0,r-i)*Math.max(0,s-n)}function bv(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function Of(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function $c(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function iE(t,e,i,n,r){for(var s,o=[e,i];o.length;)(i=o.pop())-(e=o.pop())<=n||(s=e+Math.ceil((i-e)/n/2)*n,VY(t,s,e,i,r),o.push(e,s,s,i))}zg.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,i=[],n=this.toBBox;if(!Of(t,e))return i;for(var r,s,o,a,l=[];e;){for(r=0,s=e.children.length;r<s;r++)o=e.children[r],Of(t,a=e.leaf?n(o):o)&&(e.leaf?i.push(o):bv(t,a)?this._all(o,i):l.push(o));e=l.pop()}return i},collides:function(t){var e=this.data,i=this.toBBox;if(!Of(t,e))return!1;for(var n,r,s,o,a=[];e;){for(n=0,r=e.children.length;n<r;n++)if(s=e.children[n],Of(t,o=e.leaf?i(s):s)){if(e.leaf||bv(t,o))return!0;a.push(s)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,i=t.length;e<i;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=$c([]),this},remove:function(t,e){if(!t)return this;for(var i,n,r,s,o=this.data,a=this.toBBox(t),l=[],u=[];o||l.length;){if(o||(o=l.pop(),n=l[l.length-1],i=u.pop(),s=!0),o.leaf&&(r=WY(t,o.children,e))!==-1)return o.children.splice(r,1),l.push(o),this._condense(l),this;s||o.leaf||!bv(o,a)?n?(i++,o=n.children[i],s=!1):o=null:(l.push(o),u.push(i),i=0,n=o,o=o.children[0])}return this},toBBox:function(t){return t},compareMinX:eE,compareMinY:tE,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var i=[];t;)t.leaf?e.push.apply(e,t.children):i.push.apply(i,t.children),t=i.pop();return e},_build:function(t,e,i,n){var r,s=i-e+1,o=this._maxEntries;if(s<=o)return sc(r=$c(t.slice(e,i+1)),this.toBBox),r;n||(n=Math.ceil(Math.log(s)/Math.log(o)),o=Math.ceil(s/Math.pow(o,n-1))),(r=$c([])).leaf=!1,r.height=n;var a,l,u,p,f=Math.ceil(s/o),m=f*Math.ceil(Math.sqrt(o));for(iE(t,e,i,m,this.compareMinX),a=e;a<=i;a+=m)for(iE(t,a,u=Math.min(a+m-1,i),f,this.compareMinY),l=a;l<=u;l+=f)p=Math.min(l+f-1,u),r.children.push(this._build(t,l,p,n-1));return sc(r,this.toBBox),r},_chooseSubtree:function(t,e,i,n){for(var r,s,o,a,l,u,p,f;n.push(e),!e.leaf&&n.length-1!==i;){for(p=f=1/0,r=0,s=e.children.length;r<s;r++)l=vv(o=e.children[r]),(u=qY(t,o)-l)<f?(f=u,p=l<p?l:p,a=o):u===f&&l<p&&(p=l,a=o);e=a||e.children[0]}return e},_insert:function(t,e,i){var n=this.toBBox,r=i?t:n(t),s=[],o=this._chooseSubtree(r,this.data,e,s);for(o.children.push(t),Vd(o,r);e>=0&&s[e].children.length>this._maxEntries;)this._split(s,e),e--;this._adjustParentBBoxes(r,s,e)},_split:function(t,e){var i=t[e],n=i.children.length,r=this._minEntries;this._chooseSplitAxis(i,r,n);var s=this._chooseSplitIndex(i,r,n),o=$c(i.children.splice(s,i.children.length-s));o.height=i.height,o.leaf=i.leaf,sc(i,this.toBBox),sc(o,this.toBBox),e?t[e-1].children.push(o):this._splitRoot(i,o)},_splitRoot:function(t,e){this.data=$c([t,e]),this.data.height=t.height+1,this.data.leaf=!1,sc(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,i){var n,r,s,o,a,l,u,p;for(l=u=1/0,n=e;n<=i-e;n++)o=ZY(r=Gd(t,0,n,this.toBBox),s=Gd(t,n,i,this.toBBox)),a=vv(r)+vv(s),o<l?(l=o,p=n,u=a<u?a:u):o===l&&a<u&&(u=a,p=n);return p},_chooseSplitAxis:function(t,e,i){var n=t.leaf?this.compareMinX:eE,r=t.leaf?this.compareMinY:tE;this._allDistMargin(t,e,i,n)<this._allDistMargin(t,e,i,r)&&t.children.sort(n)},_allDistMargin:function(t,e,i,n){t.children.sort(n);var r,s,o=this.toBBox,a=Gd(t,0,e,o),l=Gd(t,i-e,i,o),u=If(a)+If(l);for(r=e;r<i-e;r++)s=t.children[r],Vd(a,t.leaf?o(s):s),u+=If(a);for(r=i-e-1;r>=e;r--)s=t.children[r],Vd(l,t.leaf?o(s):s),u+=If(l);return u},_adjustParentBBoxes:function(t,e,i){for(var n=i;n>=0;n--)Vd(e[n],t)},_condense:function(t){for(var e,i=t.length-1;i>=0;i--)t[i].children.length===0?i>0?(e=t[i-1].children).splice(e.indexOf(t[i]),1):this.clear():sc(t[i],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}};var xw;const nE=new Gn({upperLeft:"upper-left",lowerLeft:"lower-left"});let Va=xw=class extends te{constructor(t){super(t),this.extent=null,this.mode="view",this.originPosition="upper-left",this.tolerance=1}clone(){return new xw(z({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};d([h({type:Le,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],Va.prototype,"extent",void 0),d([h({type:["view","edit"],json:{write:!0}})],Va.prototype,"mode",void 0),d([h({type:String,json:{read:nE.read,write:nE.write}})],Va.prototype,"originPosition",void 0),d([h({type:Number,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],Va.prototype,"tolerance",void 0),Va=xw=d([E("esri.rest.support.QuantizationParameters")],Va);const JY=Va;let rE=class RP{constructor(e,i){this.key=new Pl(0,0,0,0),this.bounds=$i(),this.objectIds=new Set,this.key.set(i);const n=e.getLODInfoAt(this.key);this.tileInfoView=e,this.tileInfoView.getTileBounds(this.bounds,this.key,!0),this.resolution=n.resolution,this.scale=n.scale,this.level=n.level}get id(){return this.key.id}get extent(){return Le.fromBounds(this.bounds,this.tileInfoView.tileInfo.spatialReference)}get transform(){return{originPosition:"upperLeft",scale:[this.resolution,this.resolution],translate:[this.bounds[0],this.bounds[3]]}}createChildTiles(){const e=this.key.getChildKeys(),i=ci.acquire();for(let n=0;n<e.length;n++)i[n]=new RP(this.tileInfoView,e[n]);return i}getQuantizationParameters(){return JY.fromJSON({mode:"view",originPosition:"upperLeft",tolerance:this.resolution,extent:{xmin:this.bounds[0],ymin:this.bounds[1],xmax:this.bounds[2],ymax:this.bounds[3],spatialReference:this.tileInfoView.tileInfo.spatialReference}})}};const va={added:[],removed:[]},wv=new Set,KY=new Pl(0,0,0,0);let YY=class extends ea{constructor(e){super(),this._tiles=new Map,this._index=zg(9,P("esri-csp-restrictions")?i=>({minX:i.bounds[0],minY:i.bounds[1],maxX:i.bounds[2],maxY:i.bounds[3]}):[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),this.tiles=[],this.tileScheme=e}destroy(){this.clear()}clear(){this.tiles.length=0,this._tiles.clear(),this._index.clear()}has(e){return this._tiles.has(e)}get(e){return this._tiles.get(e)}boundsIntersections(e){return this._index.search({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]})}updateTiles(e){const i={added:[],removed:[]};for(const n of e.added)if(!this.has(n)){const r=new rE(this.tileScheme,n);this._tiles.set(n,r),this._index.insert(r),i.added.push(r)}for(const n of e.removed)if(this.has(n)){const r=this.get(n);this._tiles.delete(n),this._index.remove(r),i.removed.push(r)}this.tiles.length=0,this._tiles.forEach(n=>this.tiles.push(n)),(i.added.length||i.removed.length)&&this.emit("update",i)}setViewState(e){const i=this.tileScheme.getTileCoverage(e,0);if(!i)return;const{spans:n,lodInfo:r}=i,{level:s}=r;if(n.length>0)for(const{row:o,colFrom:a,colTo:l}of n)for(let u=a;u<=l;u++){const p=KY.set(s,o,r.normalizeCol(u),r.getWorldForColumn(u)).id;if(wv.add(p),!this.has(p)){const f=new rE(this.tileScheme,p);this._tiles.set(p,f),this._index.insert(f),this.tiles.push(f),va.added.push(f)}}for(let o=this.tiles.length-1;o>=0;o--){const a=this.tiles[o];wv.has(a.id)||(this._tiles.delete(a.id),this.tiles.splice(o,1),this._index.remove(a),va.removed.push(a))}(va.added.length||va.removed.length)&&this.emit("update",va),Vh.pool.release(i),wv.clear(),va.added.length=0,va.removed.length=0}},Wa=class extends Q{constructor(){super(...arguments),this.color=new ve([0,255,255]),this.haloOpacity=1,this.fillOpacity=.25}equals(e){return this.color.equals(e.color)&&(this.haloColor||this.color).equals(e.haloColor||e.color)&&this.haloOpacity===e.haloOpacity&&this.fillOpacity===e.fillOpacity}};d([h({type:ve})],Wa.prototype,"color",void 0),d([h({type:ve})],Wa.prototype,"haloColor",void 0),d([h()],Wa.prototype,"haloOpacity",void 0),d([h()],Wa.prototype,"fillOpacity",void 0),Wa=d([E("esri.views.2d.support.HighlightOptions")],Wa);const NP=Wa;async function XY(t,e,i){const n=OL(e)?IL(t,e):e;if(!t.ready||isNaN(n.x)||isNaN(n.y))return{screenPoint:n,results:[]};let r=new Set;const s=new Set;let o=!1,a=null,l=null;i!=null&&i.include?oE(i.include,sE(t,m=>{r.add(m),_v(m,g=>s.add(g))},(m,g)=>{s.add(m),r.add(g)},m=>{a||(a=new Set),a.add(m)},m=>r.add(m),()=>o=!0)):(o=!0,r=new Set(t.allLayerViews),r.forEach(m=>{_v(m,g=>s.add(g))})),i!=null&&i.exclude&&oE(i.exclude,sE(t,m=>{r.delete(m),_v(m,g=>s.delete(g))},m=>s.delete(m),m=>{l||(l=new Set),l.add(m)}));const u=t.allLayerViews.filter(m=>!m.suspended&&r.has(m)).reverse(),p=t.toMap(n);let f=[...o?t.graphicsView.hitTest(p).map(m=>({type:"graphic",graphic:m,layer:null,mapPoint:p})):[],...await Promise.all(u.map(m=>m.hitTest(p,n)).toArray())].filter(Ro).flat().filter(Ro);return f=f.filter(m=>{var g;return m.type!=="graphic"||((g=m.layer)==null?void 0:g.type)!=="subtype-group"||s.has(m.graphic.layer)}),a&&(f=f.filter(m=>!("graphic"in m)||!m.graphic||(a==null?void 0:a.has($w(m.graphic))))),l&&(f=f.filter(m=>!("graphic"in m)||!m.graphic||!(l!=null&&l.has($w(m.graphic))))),{screenPoint:n,results:f}}function sE(t,e,i,n,r,s){return o=>{if(o instanceof vu){if(o.layer===t)s==null||s();else{const a=t.allLayerViews.find(l=>l.layer===o.layer);a&&(r==null||r(a))}n($w(o))}else if(o.type==="subtype-sublayer"){const a=t.allLayerViews.find(l=>l.layer===o.parent);a&&i(o,a)}else{const a=t.allLayerViews.find(l=>l.layer===o);a&&e(a)}}}function oE(t,e){if(t)if(Fm(t))for(const i of t)if(Fm(i))for(const n of i)e(n);else e(i);else e(t)}function $w(t){var i,n;const e=t.getObjectId();return e?`${((i=t.layer)==null?void 0:i.uid)??((n=t.sourceLayer)==null?void 0:n.uid)??"MapView"}/${e}`:`"MapView/${t.uid}`}function _v({layer:t},e){t.type==="subtype-group"&&t.sublayers.forEach(i=>{e(i)})}function QY(t,e,i){const{ctx:n,canvas:r}=DP(t,i),s=n.getImageData(0,0,t.width,t.height),o=iX(r,e);return zP(r),{dataUrl:o,data:s}}function eX(t,e){const{ctx:i,canvas:n}=DP(t,e),r=i.getImageData(0,0,t.width,t.height);return zP(n),r}function DP(t,e){const i=tX();e.premultipliedAlpha&&aX(t),i.width=t.width,i.height=t.height;const n=i.getContext("2d",{willReadFrequently:!0});return n.putImageData(t,0,0),e.flipY&&oX(n),{ctx:n,canvas:i}}function zP(t){t.width=0,t.height=0}function tX(){return Sv==null&&(Sv=document.createElement("canvas")),Sv}let Sv=null;function iX(t,e){const i=lX[e.format],n=e.quality/100;return t.toDataURL(i,n)}function nX(t,e){const i=sX(t),n=uX[i];return{format:i,quality:Vn(e??n,0,100)}}function rX(t,e){return e/Math.max(t[0],t[1])}function Sfe(t,e,i,n=0,r=0,s=t.width-n,o=t.height-r,a=!1){const{data:l}=t,{width:u,height:p,data:f}=e,m=s/u,g=o/p,y=Math.ceil(m/2),v=Math.ceil(g/2),w=t.width;for(let _=0;_<p;_++)for(let $=0;$<u;$++){const x=4*($+(a?p-_-1:_)*u);let T=0,M=0,I=0,L=0,N=0,B=0;const F=(_+.5)*g;for(let U=Math.floor(_*g);U<(_+1)*g;U++){const O=Math.abs(F-(U+.5))/v,A=($+.5)*m,R=O*O;for(let Z=Math.floor($*m);Z<($+1)*m;Z++){const se=Math.abs(A-(Z+.5))/y,re=Math.sqrt(R+se*se);if(re>=1)continue;let ie=2*re*re*re-3*re*re+1;const we=4*(n+Z+(r+U)*w);B+=ie*l[we+3],M+=ie,!i&&l[we+3]<255&&(ie=ie*l[we+3]/255),I+=ie*l[we],L+=ie*l[we+1],N+=ie*l[we+2],T+=ie}}f[x]=I/T,f[x+1]=L/T,f[x+2]=N/T,f[x+3]=B/M}return e}function sX(t){switch(t){case"png":case"jpg":case"jpeg":return t;default:return cX}}function oX(t){t.save(),t.globalCompositeOperation="copy",t.scale(1,-1),t.translate(0,-t.canvas.height),t.drawImage(t.canvas,0,0),t.restore()}function aX(t){const e=t.data,i=e.length;for(let n=0;n<i;n+=4){const r=e[n+3];if(r!==255&&r>0){const s=255/r;e[n]=e[n]*s,e[n+1]=e[n+1]*s,e[n+2]=e[n+2]*s}}}const lX={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},aE=98,cX="png",uX={png:100,jpg:aE,jpeg:aE},FP={flipY:!0,premultipliedAlpha:!0};async function dX(t,e){const i=await jP(t,e),{format:n,quality:r}=nX(e==null?void 0:e.format,e==null?void 0:e.quality);return QY(i,{format:n,quality:r,rotation:0,disableDecorations:!1},FP)}async function hX(t,e){const i=await jP(t,e);return eX(i,FP)}function jP(t,e){const i=mX(e||{},fX(t.stage,t.size),t.size,t.padding),n=pX(e,t.allLayerViews);return t.stage.takeScreenshot(i,n,t.backgroundColor,e==null?void 0:e.rotation)}function pX(t={},e){if(!t.layers)return;const i=[];return t.layers.forEach(n=>{const r=e.find(s=>s.layer.id===n.id);r!=null&&r.container&&i.push(r.container)}),i}function fX(t,e){return Math.min(4,rX(e,Math.min(4096,t.context.parameters.maxTextureSize)))}function mX(t,e,i,n){t.ignorePadding&&(n={left:0,right:0,top:0,bottom:0});let r=null;t.width!=null&&t.height!=null?r=[t.width,t.height]:t.width==null&&t.height!=null?r=[t.height,t.height]:t.width!=null&&t.height==null?r=[t.width,t.width]:t.width==null&&t.height==null&&(r=null);const s=i[0]-(n.left+n.right),o=i[1]-(n.top+n.bottom);let a,l,u=t.area||{x:0,y:0,width:s,height:o};if(r){const p=s/o,f=r[0]/r[1];if(f>p){const m=u.width/f;u={x:u.x,y:Math.round(u.y+(u.height-m)/2),width:u.width,height:Math.round(m)}}else{const m=u.height*f;u={x:Math.round(u.x+(u.width-m)/2),y:u.y,width:Math.round(m),height:u.height}}}else r=[u.width,u.height];return r[0]>u.width?(a=Math.min(r[0]/u.width,e),l=r[0]/u.width/a):(a=1,l=r[0]/u.width),{cropArea:{x:Math.round((u.x+n.left)*a),y:Math.round((u.y+n.top)*a),width:Math.round(u.width*a),height:Math.round(u.height*a)},outputScale:l,resolutionScale:a}}const lE=160;let Wd=class extends Q{constructor(){super(...arguments),this._timer=void 0}get stationary(){return!this._timer}flip(){this._timestamp=performance.now(),this._timer==null&&(this._timer=setInterval(()=>{performance.now()-this._timestamp>=lE&&this.clear()},lE))}clear(){this._timer&&(clearInterval(this._timer),this._timer=void 0)}};d([h()],Wd.prototype,"_timer",void 0),d([h()],Wd.prototype,"stationary",null),Wd=d([E("esri.views.2d.support.StationaryManager")],Wd);const gX=t=>t.includes("Brush");let UP=class{constructor(){this._names=new Map}begin(e){this._names.has(e)||(this._names.set(e,!1),gX(e)&&this.record("Esri.FirstDraw"),performance.mark(`Esri.${e}.Start`))}end(e){this._names.has(e)&&!this._names.get(e)&&(this._names.set(e,!0),performance.mark(`Esri.${e}.End`))}record(e){this._names.has(e)||(this._names.set(e,!0),performance.mark(`Esri.${e}`))}};var mt;function Tw(t,e,i={}){const n=e===mt.WEBGL1?"webgl":"webgl2";return t.getContext(n,i)||null}function Tfe(t,e,i={}){const n=HP(t);for(const r of n){const s=Tw(e,r,i);if(s)return s}return null}function HP(t){if(t==="3d")return[mt.WEBGL2];const e=P("esri-force-webgl");return e===mt.WEBGL1||e===mt.WEBGL2?[e]:P("mac")&&P("chrome")?[mt.WEBGL1,mt.WEBGL2]:[mt.WEBGL2,mt.WEBGL1]}(function(t){t[t.WEBGL1=1]="WEBGL1",t[t.WEBGL2=2]="WEBGL2"})(mt||(mt={}));let xv,$v;function yX(t){const e=HP(t);for(;e.length>1;){const i=cE(e.shift());if(i.available)return i}return cE(e.shift())}function cE(t){switch(t){case mt.WEBGL1:return vX();case mt.WEBGL2:return bX()}}function vX(){return xv||(xv=SX()),xv}function bX(){return $v||($v=xX()),$v}let BP=class{constructor(){this.available=!1,this.majorPerformanceCaveat=!1,this.maxTextureSize=0,this.supportsVertexShaderSamplers=!1,this.supportsHighPrecisionFragment=!1,this.supportsElementIndexUint=!1,this.supportsStandardDerivatives=!1,this.supportsInstancedArrays=!1,this.supportsTextureFloat=!1,this.supportsTextureHalfFloat=!1,this.supportsColorBufferFloat=!1,this.supportsColorBufferFloatBlend=!1,this.supportsColorBufferHalfFloat=!1}},wX=class extends BP{constructor(){super(...arguments),this.type=mt.WEBGL1}},_X=class extends BP{constructor(){super(...arguments),this.type=mt.WEBGL2,this.supportsElementIndexUint=!0,this.supportsStandardDerivatives=!0,this.supportsInstancedArrays=!0,this.supportsTextureFloat=!0,this.supportsTextureHalfFloat=!0}};function GP(t,e){if(t===mt.WEBGL1&&typeof WebGLRenderingContext>"u"||t===mt.WEBGL2&&typeof WebGL2RenderingContext>"u")return null;const i=document.createElement("canvas");if(!i)return null;let n=Tw(i,t,{failIfMajorPerformanceCaveat:!0});if(n==null&&(n=Tw(i,t),n!=null&&(e.majorPerformanceCaveat=!0)),n==null)return n;if(t===mt.WEBGL1){const s=n.getParameter(n.VERSION),o=s==null?void 0:s.match(/^WebGL\s+([\d.]*)/);if(o){const a=parseFloat(o[1]);e.available=a>=.94}}else e.available=!0;e.maxTextureSize=n.getParameter(n.MAX_TEXTURE_SIZE),e.supportsVertexShaderSamplers=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0;const r=n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT);return r&&(e.supportsHighPrecisionFragment=r.precision>0),n}function SX(){const t=new wX,e=GP(mt.WEBGL1,t);return e==null||(t.supportsElementIndexUint=e.getExtension("OES_element_index_uint")!==null,t.supportsStandardDerivatives=e.getExtension("OES_standard_derivatives")!==null,t.supportsInstancedArrays=e.getExtension("ANGLE_instanced_arrays")!==null,t.supportsTextureFloat=e.getExtension("OES_texture_float")!==null,t.supportsTextureHalfFloat=e.getExtension("OES_texture_half_float")!==null,t.supportsColorBufferFloat=e.getExtension("WEBGL_color_buffer_float")!==null,t.supportsColorBufferFloatBlend=e.getExtension("EXT_float_blend")!==null,t.supportsColorBufferHalfFloat=e.getExtension("EXT_color_buffer_half_float")!==null),t}function xX(){const t=new _X,e=GP(mt.WEBGL2,t);return e==null||(t.supportsColorBufferFloat=e.getExtension("EXT_color_buffer_float")!==null,t.supportsColorBufferFloatBlend=e.getExtension("EXT_float_blend")!==null,t.supportsColorBufferHalfFloat=t.supportsColorBufferFloat||e.getExtension("EXT_color_buffer_half_float")!==null),t}function $X(t){const e=yX(t);if(!e.available)return new D("webgl:required",t==="3d"?"WebGL2 is required but not supported.":"WebGL is required but not supported.",new Error().stack);if(t==="3d"&&e.majorPerformanceCaveat)return new D("webgl:major-performance-caveat-detected","Your WebGL implementation doesn't seem to support hardware accelerated rendering. Check your browser settings or if your GPU is in a blocklist.");if(!e.supportsHighPrecisionFragment)return new D("webgl:high-precision-fragment-required","WebGL support for high precision fragment shaders is required but not supported.");if(!e.supportsVertexShaderSamplers)return new D("webgl:vertex-shader-samplers-required","WebGL support for vertex shader samplers is required but not supported.");if(e.type===mt.WEBGL1){if(!e.supportsElementIndexUint)return new D("webgl:element-index-uint-required","WebGL support for uint vertex indices is required but not supported.");if(!e.supportsStandardDerivatives)return new D("webgl:standard-derivatives-required","WebGL support for standard derivatives is required but not supported.");if(!e.supportsInstancedArrays)return new D("webgl:instanced-arrays-required","WebGL support for instanced rendering is required but not supported.")}return null}function TX(t){return t&&"nodeType"in t}function EX(t){return t&&typeof t.render=="function"}const uE={component:"esri-component"};let qa=class extends Q{constructor(){super(...arguments),this.widget=null}destroy(){var e;this.node=null,(e=this.widget)==null||e.destroy()}get id(){var e,i;return this._get("id")??((e=this.widget)==null?void 0:e.id)??((i=this.node)==null?void 0:i.id)}set id(e){this._set("id",e)}set node(e){const i=this._get("node");e!==i&&(e&&e.classList.add(uE.component),i&&i.classList.remove(uE.component),this._set("node",e))}castNode(e){var i;return(i=this.widget)==null||i.destroy(),e?typeof e=="string"||TX(e)?(this._set("widget",null),uS(e)):(EX(e)&&!e.domNode&&(e.domNode=document.createElement("div")),this._set("widget",e),e.domNode):(this._set("widget",null),null)}};d([h()],qa.prototype,"id",null),d([h()],qa.prototype,"node",null),d([ei("node")],qa.prototype,"castNode",null),d([h({readOnly:!0})],qa.prototype,"widget",void 0),qa=d([E("esri.views.ui.Component")],qa);const Am=qa,VP="calcite-mode-";function kX(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-mode-name").replaceAll(/\s|'|"/g,"")}function MX(){return kX().startsWith("dark")}function CX(){return`${VP}${MX()?"dark":"light"}`}function IX(t){OX(t),t.classList.add(CX())}function OX(t){Array.from(t.classList).forEach(e=>{e.startsWith(VP)&&t.classList.remove(e)})}const AX={left:0,top:0,bottom:0,right:0},WP={bottom:30,top:15,right:15,left:15},Xr="esri-ui",pi={ui:Xr,corner:`${Xr}-corner`,innerContainer:`${Xr}-inner-container`,manualContainer:`${Xr}-manual-container`,cornerContainer:`${Xr}-corner-container`,topLeft:`${Xr}-top-left`,topRight:`${Xr}-top-right`,bottomLeft:`${Xr}-bottom-left`,bottomRight:`${Xr}-bottom-right`};function LX(t){return t&&!t._started&&typeof t.postMixInProperties=="function"&&typeof t.buildRendering=="function"&&typeof t.postCreate=="function"&&typeof t.startup=="function"}function Af(t){return t===0?"0":`${t}px`}function Tv(t){const e=typeof t=="object"&&t!==null&&Object.getPrototypeOf(t);return(e===null||e===Object.prototype)&&("component"in t||"index"in t||"position"in t)?t:null}function Ev(t,{top:e,bottom:i,left:n,right:r}){t.style.top=e,t.style.bottom=i,t.style.left=n,t.style.right=r}let Er=class extends ea.EventedAccessor{constructor(e){super(e),this._cornerNameToContainerLookup={},this._positionNameToContainerLookup={},this._components=new Array,this._componentMap=new Map,this._locale=Di(),this.view=null,this._applyViewPadding=()=>{const i=this.container;i&&Ev(i,this._toPixelPosition(this._getViewPadding()))},this._applyUIPadding=()=>{const i=this._innerContainer;i&&Ev(i,this._toPixelPosition(this.padding))},this._initContainers()}initialize(){this.addHandles([K(()=>{var e;return[(e=this.view)==null?void 0:e.padding,this.container]},this._applyViewPadding,yt),K(()=>this.padding,this._applyUIPadding,yt),K(()=>[this.container,this._locale],([e,i])=>{e&&e.setAttribute("lang",i)},yt),Ry(e=>{this._locale=e})])}destroy(){this.container=null;for(const e of this._components)e.destroy();this._components.length=0,this._componentMap.clear()}set container(e){const i=this._get("container");e!==i&&(e&&(e.classList.add(pi.ui),IX(e),this._attachContainers(e)),i&&(i.classList.remove(pi.ui),Ev(i,{top:"",bottom:"",left:"",right:""}),TO(i)),this._set("container",e))}get height(){var s;const e=((s=this.view)==null?void 0:s.height)??0;if(e===0)return e;const i=this._getViewPadding(),{top:n,bottom:r}=i;return Math.max(e-n-r,0)}get padding(){return this._get("padding")}set padding(e){this._overrideIfSome("padding",e)}castPadding(e){return typeof e=="number"?{bottom:e,top:e,right:e,left:e}:{...WP,...e}}get width(){var s;const e=((s=this.view)==null?void 0:s.width)??0;if(e===0)return e;const i=this._getViewPadding(),{left:n,right:r}=i;return Math.max(e-n-r,0)}add(e,i){let n,r,s;if(Array.isArray(e))return void e.forEach(a=>this.add(a,i));const o=Tv(e);o&&({index:n,position:i,component:e,key:r}=o),i&&typeof i=="object"&&({index:n,key:r,position:i,internal:s}=i),!e||i&&!this._isValidPosition(i)||this._add(e,i,n,r,s)}remove(e,i){var r;if(!e)return;if(Array.isArray(e))return e.map(s=>this.remove(s,i));const n=this._find(e);if(n){if(this._componentMap.has(n)&&((r=this._componentMap.get(n))==null?void 0:r.key)!==i)return;const s=this._components.indexOf(n),o=n.node.parentNode;return o==null||o.removeChild(n.node),this._componentMap.delete(n),this._components.splice(s,1)[0]}}empty(e,i={removeInternal:!1}){if(Array.isArray(e)){for(const s of e)this.empty(s,i);return}const n=this._positionNameToContainerLookup[e??"manual"],r=Array.prototype.slice.call(n.children).map(s=>this._findByNode(s)).filter(s=>{var o;return s==null?!1:!(((o=this._componentMap.get(s))==null?void 0:o.internal)??!1)||i.removeInternal});for(const s of r)this.remove(s)}move(e,i){if(Array.isArray(e)&&e.forEach(o=>this.move(o,i)),!e)return;let n;const r=Tv(e)||Tv(i);if(r&&(n=r.index,i=r.position,e=r.component||e),i&&!this._isValidPosition(i))return;const s=this.remove(e);s&&this.add(s,{position:i,index:n})}find(e){if(!e)return null;const i=this._findById(e);return i&&(i.widget||i.node)}getComponents(e,i={includeInternal:!1}){return e?Array.isArray(e)?e.flatMap(n=>this._getComponentsAtPosition(n,i)):this._getComponentsAtPosition(e,i):this._components.filter(n=>{var r;return i.includeInternal||!((r=this._componentMap.get(n))!=null&&r.internal)}).map(({widget:n,node:r})=>n??r)}getPosition(e){for(const i in this._positionNameToContainerLookup)if(this._positionNameToContainerLookup[i].contains(e))return i;return null}_add(e,i,n,r,s){e instanceof Am||(e=new Am({node:e})),this._place({component:e,position:i,index:n}),this._components.push(e),this._componentMap.set(e,{key:r,internal:s})}_find(e){return e?e instanceof Am?this._findByComponent(e):typeof e=="string"?this._findById(e):this._findByNode(e.domNode||e):null}_getViewPadding(){var e;return((e=this.view)==null?void 0:e.padding)??AX}_attachContainers(e){e.appendChild(this._innerContainer),e.appendChild(this._manualContainer)}_initContainers(){const e=document.createElement("div");e.classList.add(pi.innerContainer,pi.cornerContainer);const i=document.createElement("div");i.classList.add(pi.innerContainer,pi.manualContainer);const n=document.createElement("div");n.classList.add(pi.topLeft,pi.corner),e.appendChild(n);const r=document.createElement("div");r.classList.add(pi.topRight,pi.corner),e.appendChild(r);const s=document.createElement("div");s.classList.add(pi.bottomLeft,pi.corner),e.appendChild(s);const o=document.createElement("div");o.classList.add(pi.bottomRight,pi.corner),e.appendChild(o),this._innerContainer=e,this._manualContainer=i;const a=uB();this._cornerNameToContainerLookup={"top-left":n,"top-right":r,"bottom-left":s,"bottom-right":o,"top-leading":a?r:n,"top-trailing":a?n:r,"bottom-leading":a?o:s,"bottom-trailing":a?s:o},this._positionNameToContainerLookup={manual:i,...this._cornerNameToContainerLookup}}_isValidPosition(e){return!!this._positionNameToContainerLookup[e]}_place(e){const i=e.position??"manual",{component:n,index:r}=e,s=this._positionNameToContainerLookup[i],o=r!=null&&r>-1;if(LX(n.widget)&&n.widget.startup(),!o)return void s.appendChild(n.node);const a=Array.from(s.children);if(r===0)return void(s.firstChild?z2(n.node,s.firstChild):s.appendChild(n.node));r>=a.length?s.appendChild(n.node):z2(n.node,a[r])}_toPixelPosition(e){return{top:Af(e.top),left:Af(e.left),right:Af(e.right),bottom:Af(e.bottom)}}_findByComponent(e){return this._components.find(i=>i===e)??null}_findById(e){return this._components.find(({id:i})=>i===e)??null}_findByNode(e){return this._components.find(({node:i})=>i===e)??null}_getComponentsAtPosition(e,i){const n=this._positionNameToContainerLookup[e];return Array.prototype.slice.call(n.children).map(r=>this._findByNode(r)).filter(Ro).filter(r=>{var s;return i.includeInternal||!((s=this._componentMap.get(r))!=null&&s.internal)}).map(({widget:r,node:s})=>r??s)}};d([h()],Er.prototype,"_locale",void 0),d([h()],Er.prototype,"container",null),d([h()],Er.prototype,"height",null),d([h({value:WP})],Er.prototype,"padding",null),d([ei("padding")],Er.prototype,"castPadding",null),d([h()],Er.prototype,"view",void 0),d([h()],Er.prototype,"width",null),Er=d([E("esri.views.ui.UI")],Er);const PX=Er,RX="randomUUID"in crypto;function ex(){if(RX)return crypto.randomUUID();const t=crypto.getRandomValues(new Uint16Array(8));t[3]=4095&t[3]|16384,t[4]=16383&t[4]|32768;const e=i=>t[i].toString(16).padStart(4,"0");return e(0)+e(1)+"-"+e(2)+"-"+e(3)+"-"+e(4)+"-"+e(5)+e(6)+e(7)}function Ofe(){return`{${ex().toUpperCase()}}`}function Afe(){return`{${ex()}}`}const NX={handleInterceptedEvent:(t,e,i,n)=>(t.scheduleRender(),e.properties[`on${n.type}`].apply(e.properties.bind||i,[n]))},DX={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(t,e,i)=>{e.charAt(0)==="-"?t.style.setProperty(e,i):t.style[e]=i}},zX=t=>({...DX,...t}),FX=(t,e)=>{const i=[];for(;t&&t!==e;)i.push(t),t=t.parentNode;return i},jX=(t,e)=>t.find(e),dE=(t,e,i=!1)=>{let n=t;return e.forEach((r,s)=>{const o=n!=null&&n.children?jX(n.children,a=>a.domNode===r):void 0;i&&!o&&s!==e.length-1||(n=o)}),n},UX=t=>{let e;const i={...NX,...t},n=zX(i),r=n.performanceLogger;let s,o=!0,a=!1;const l=[],u=[],p=(m,g,y)=>{var _;let v;n.eventHandlerInterceptor=($,x,T,M)=>function(I){let L;r("domEvent",I);const N=FX(I.currentTarget,v.domNode),B=N.some(U=>{var O;return customElements.get((O=U==null?void 0:U.tagName)==null?void 0:O.toLowerCase())});if(I.eventPhase===Event.CAPTURING_PHASE||!B)N.reverse(),L=dE(v.getLastRender(),N);else{const U=I.composedPath(),O=U.slice(U.indexOf(I.currentTarget),U.indexOf(v.domNode)).reverse();L=dE(v.getLastRender(),O,!0)}let F;return L&&(F=i.handleInterceptedEvent(e,L,this,I)),r("domEventProcessed",I),F},(_=i.postProcessProjectionOptions)==null||_.call(i,n);const w=y();v=m(g,w,n),n.eventHandlerInterceptor=void 0,l.push(v),u.push(y),i.afterFirstVNodeRendered&&i.afterFirstVNodeRendered(v,w)};let f=()=>{if(s=void 0,o){o=!1,r("renderStart",void 0);for(let m=0;m<l.length;m++){const g=u[m]();r("rendered",void 0),l[m].update(g),r("patched",void 0)}r("renderDone",void 0),o=!0}};return i.modifyDoRenderImplementation&&(f=i.modifyDoRenderImplementation(f,l,u)),e={renderNow:f,scheduleRender:()=>{s||a||(s=requestAnimationFrame(f))},stop:()=>{s&&(cancelAnimationFrame(s),s=void 0),a=!0},resume:()=>{a=!1,o=!0,e.scheduleRender()},append:(m,g)=>{p(Po.append,m,g)},insertBefore:(m,g)=>{p(Po.insertBefore,m,g)},merge:(m,g)=>{p(Po.merge,m,g)},replace:(m,g)=>{p(Po.replace,m,g)},detach:m=>{for(let g=0;g<u.length;g++)if(u[g]===m)return u.splice(g,1),l.splice(g,1)[0];throw new Error("renderFunction was not found")}},e},Tc={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,safari10:!1,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,cssVarShim:!1,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,dynamicImportShim:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0};let Ec,qP,p0,ZP=!1,Fg=!1,tx=!1,Li=!1,hE=null,Ew=!1;const HX=t=>{const e=new URL(t,Ot.$resourcesUrl$);return e.origin!==Ap.location.origin?e.href:e.pathname},BX=t=>Ot.$resourcesUrl$=t,Rl=(t,e="")=>()=>{},pE="http://www.w3.org/1999/xlink",fE={},GX="http://www.w3.org/2000/svg",VX="http://www.w3.org/1999/xhtml",WX=t=>t!=null,ix=t=>(t=typeof t,t==="object"||t==="function");function qX(t){var e,i,n;return(n=(i=(e=t.head)===null||e===void 0?void 0:e.querySelector('meta[name="csp-nonce"]'))===null||i===void 0?void 0:i.getAttribute("content"))!==null&&n!==void 0?n:void 0}const JP=(t,e,...i)=>{let n=null,r=null,s=null,o=!1,a=!1;const l=[],u=f=>{for(let m=0;m<f.length;m++)n=f[m],Array.isArray(n)?u(n):n!=null&&typeof n!="boolean"&&((o=typeof t!="function"&&!ix(n))&&(n=String(n)),o&&a?l[l.length-1].$text$+=n:l.push(o?jg(null,n):n),a=o)};if(u(i),e){e.key&&(r=e.key),e.name&&(s=e.name);{const f=e.className||e.class;f&&(e.class=typeof f!="object"?f:Object.keys(f).filter(m=>f[m]).join(" "))}}if(typeof t=="function")return t(e===null?{}:e,l,KX);const p=jg(t,null);return p.$attrs$=e,l.length>0&&(p.$children$=l),p.$key$=r,p.$name$=s,p},jg=(t,e)=>{const i={$flags$:0,$tag$:t,$text$:e,$elm$:null,$children$:null};return i.$attrs$=null,i.$key$=null,i.$name$=null,i},ZX={},JX=t=>t&&t.$tag$===ZX,KX={forEach:(t,e)=>t.map(mE).forEach(e),map:(t,e)=>t.map(mE).map(e).map(YX)},mE=t=>({vattrs:t.$attrs$,vchildren:t.$children$,vkey:t.$key$,vname:t.$name$,vtag:t.$tag$,vtext:t.$text$}),YX=t=>{if(typeof t.vtag=="function"){const i=Object.assign({},t.vattrs);return t.vkey&&(i.key=t.vkey),t.vname&&(i.name=t.vname),JP(t.vtag,i,...t.vchildren||[])}const e=jg(t.vtag,t.vtext);return e.$attrs$=t.vattrs,e.$children$=t.vchildren,e.$key$=t.vkey,e.$name$=t.vname,e},XX=t=>TQ.map(e=>e(t)).find(e=>!!e),QX=(t,e)=>t!=null&&!ix(t)?e&4?t==="false"?!1:t===""||!!t:e&2?parseFloat(t):e&1?String(t):t:t,eQ=t=>t,Lfe=(t,e,i)=>{const n=eQ(t);return{emit:r=>tQ(n,e,{bubbles:!!(i&4),composed:!!(i&2),cancelable:!!(i&1),detail:r})}},tQ=(t,e,i)=>{const n=Ot.ce(e,i);return t.dispatchEvent(n),n},gE=new WeakMap,iQ=(t,e,i)=>{let n=Hg.get(t);MQ&&i?(n=n||new CSSStyleSheet,typeof n=="string"?n=e:n.replaceSync(e)):n=e,Hg.set(t,n)},nQ=(t,e,i,n)=>{var r;let s=KP(e,i);const o=Hg.get(s);if(t=t.nodeType===11?t:jn,o)if(typeof o=="string"){t=t.head||t;let a=gE.get(t),l;if(a||gE.set(t,a=new Set),!a.has(s)){{l=jn.createElement("style"),l.innerHTML=o;const u=(r=Ot.$nonce$)!==null&&r!==void 0?r:qX(jn);u!=null&&l.setAttribute("nonce",u),t.insertBefore(l,t.querySelector("link"))}a&&a.add(s)}}else t.adoptedStyleSheets.includes(o)||(t.adoptedStyleSheets=[...t.adoptedStyleSheets,o]);return s},rQ=t=>{const e=t.$cmpMeta$,i=t.$hostElement$,n=e.$flags$,r=Rl("attachStyles",e.$tagName$),s=nQ(i.shadowRoot?i.shadowRoot:i.getRootNode(),e,t.$modeName$);n&10&&(i["s-sc"]=s,i.classList.add(s+"-h"),n&2&&i.classList.add(s+"-s")),r()},KP=(t,e)=>"sc-"+(e&&t.$flags$&32?t.$tagName$+"-"+e:t.$tagName$),yE=(t,e,i,n,r,s)=>{if(i!==n){let o=_E(t,e),a=e.toLowerCase();if(e==="class"){const l=t.classList,u=vE(i),p=vE(n);l.remove(...u.filter(f=>f&&!p.includes(f))),l.add(...p.filter(f=>f&&!u.includes(f)))}else if(e==="style"){for(const l in i)(!n||n[l]==null)&&(l.includes("-")?t.style.removeProperty(l):t.style[l]="");for(const l in n)(!i||n[l]!==i[l])&&(l.includes("-")?t.style.setProperty(l,n[l]):t.style[l]=n[l])}else if(e!=="key")if(e==="ref")n&&n(t);else if(!t.__lookupSetter__(e)&&e[0]==="o"&&e[1]==="n")e[2]==="-"?e=e.slice(3):_E(Ap,a)?e=a.slice(2):e=a[2]+e.slice(3),i&&Ot.rel(t,e,i,!1),n&&Ot.ael(t,e,n,!1);else{const l=ix(n);if((o||l&&n!==null)&&!r)try{if(t.tagName.includes("-"))t[e]=n;else{const p=n??"";e==="list"?o=!1:(i==null||t[e]!=p)&&(t[e]=p)}}catch{}let u=!1;a!==(a=a.replace(/^xlink\:?/,""))&&(e=a,u=!0),n==null||n===!1?(n!==!1||t.getAttribute(e)==="")&&(u?t.removeAttributeNS(pE,e):t.removeAttribute(e)):(!o||s&4||r)&&!l&&(n=n===!0?"":n,u?t.setAttributeNS(pE,e,n):t.setAttribute(e,n))}}},sQ=/\s/,vE=t=>t?t.split(sQ):[],YP=(t,e,i,n)=>{const r=e.$elm$.nodeType===11&&e.$elm$.host?e.$elm$.host:e.$elm$,s=t&&t.$attrs$||fE,o=e.$attrs$||fE;for(n in s)n in o||yE(r,n,s[n],void 0,i,e.$flags$);for(n in o)yE(r,n,s[n],o[n],i,e.$flags$)},Ug=(t,e,i,n)=>{const r=e.$children$[i];let s=0,o,a,l;if(ZP||(tx=!0,r.$tag$==="slot"&&(Ec&&n.classList.add(Ec+"-s"),r.$flags$|=r.$children$?2:1)),r.$text$!==null)o=r.$elm$=jn.createTextNode(r.$text$);else if(r.$flags$&1)o=r.$elm$=jn.createTextNode("");else{if(Li||(Li=r.$tag$==="svg"),o=r.$elm$=jn.createElementNS(Li?GX:VX,r.$flags$&2?"slot-fb":r.$tag$),Li&&r.$tag$==="foreignObject"&&(Li=!1),YP(null,r,Li),WX(Ec)&&o["s-si"]!==Ec&&o.classList.add(o["s-si"]=Ec),r.$children$)for(s=0;s<r.$children$.length;++s)a=Ug(t,r,s,o),a&&o.appendChild(a);r.$tag$==="svg"?Li=!1:o.tagName==="foreignObject"&&(Li=!0)}return o["s-hn"]=p0,r.$flags$&3&&(o["s-sr"]=!0,o["s-cr"]=qP,o["s-sn"]=r.$name$||"",l=t&&t.$children$&&t.$children$[i],l&&l.$tag$===r.$tag$&&t.$elm$&&Wh(t.$elm$,!1)),o},Wh=(t,e)=>{Ot.$flags$|=1;const i=t.childNodes;for(let n=i.length-1;n>=0;n--){const r=i[n];r["s-hn"]!==p0&&r["s-ol"]&&(eR(r).insertBefore(r,nx(r)),r["s-ol"].remove(),r["s-ol"]=void 0,tx=!0),e&&Wh(r,e)}Ot.$flags$&=-2},XP=(t,e,i,n,r,s)=>{let o=t["s-cr"]&&t["s-cr"].parentNode||t,a;for(o.shadowRoot&&o.tagName===p0&&(o=o.shadowRoot);r<=s;++r)n[r]&&(a=Ug(null,i,r,t),a&&(n[r].$elm$=a,o.insertBefore(a,nx(e))))},QP=(t,e,i,n,r)=>{for(;e<=i;++e)(n=t[e])&&(r=n.$elm$,nR(n),Fg=!0,r["s-ol"]?r["s-ol"].remove():Wh(r,!0),r.remove())},oQ=(t,e,i,n)=>{let r=0,s=0,o=0,a=0,l=e.length-1,u=e[0],p=e[l],f=n.length-1,m=n[0],g=n[f],y,v;for(;r<=l&&s<=f;)if(u==null)u=e[++r];else if(p==null)p=e[--l];else if(m==null)m=n[++s];else if(g==null)g=n[--f];else if(Lf(u,m))kc(u,m),u=e[++r],m=n[++s];else if(Lf(p,g))kc(p,g),p=e[--l],g=n[--f];else if(Lf(u,g))(u.$tag$==="slot"||g.$tag$==="slot")&&Wh(u.$elm$.parentNode,!1),kc(u,g),t.insertBefore(u.$elm$,p.$elm$.nextSibling),u=e[++r],g=n[--f];else if(Lf(p,m))(u.$tag$==="slot"||g.$tag$==="slot")&&Wh(p.$elm$.parentNode,!1),kc(p,m),t.insertBefore(p.$elm$,u.$elm$),p=e[--l],m=n[++s];else{for(o=-1,a=r;a<=l;++a)if(e[a]&&e[a].$key$!==null&&e[a].$key$===m.$key$){o=a;break}o>=0?(v=e[o],v.$tag$!==m.$tag$?y=Ug(e&&e[s],i,o,t):(kc(v,m),e[o]=void 0,y=v.$elm$),m=n[++s]):(y=Ug(e&&e[s],i,s,t),m=n[++s]),y&&eR(u.$elm$).insertBefore(y,nx(u.$elm$))}r>l?XP(t,n[f+1]==null?null:n[f+1].$elm$,i,n,s,f):s>f&&QP(e,r,l)},Lf=(t,e)=>t.$tag$===e.$tag$?t.$tag$==="slot"?t.$name$===e.$name$:t.$key$===e.$key$:!1,nx=t=>t&&t["s-ol"]||t,eR=t=>(t["s-ol"]?t["s-ol"]:t).parentNode,kc=(t,e)=>{const i=e.$elm$=t.$elm$,n=t.$children$,r=e.$children$,s=e.$tag$,o=e.$text$;let a;o===null?(Li=s==="svg"?!0:s==="foreignObject"?!1:Li,s==="slot"||YP(t,e,Li),n!==null&&r!==null?oQ(i,n,e,r):r!==null?(t.$text$!==null&&(i.textContent=""),XP(i,null,e,r,0,r.length-1)):n!==null&&QP(n,0,n.length-1),Li&&s==="svg"&&(Li=!1)):(a=i["s-cr"])?a.parentNode.textContent=o:t.$text$!==o&&(i.data=o)},tR=t=>{const e=t.childNodes;let i,n,r,s,o,a;for(n=0,r=e.length;n<r;n++)if(i=e[n],i.nodeType===1){if(i["s-sr"]){for(o=i["s-sn"],i.hidden=!1,s=0;s<r;s++)if(a=e[s].nodeType,e[s]["s-hn"]!==i["s-hn"]||o!==""){if(a===1&&o===e[s].getAttribute("slot")){i.hidden=!0;break}}else if(a===1||a===3&&e[s].textContent.trim()!==""){i.hidden=!0;break}}tR(i)}},Rn=[],iR=t=>{let e,i,n,r,s,o,a=0;const l=t.childNodes,u=l.length;for(;a<u;a++){if(e=l[a],e["s-sr"]&&(i=e["s-cr"])&&i.parentNode)for(n=i.parentNode.childNodes,r=e["s-sn"],o=n.length-1;o>=0;o--)i=n[o],!i["s-cn"]&&!i["s-nr"]&&i["s-hn"]!==e["s-hn"]&&(bE(i,r)?(s=Rn.find(p=>p.$nodeToRelocate$===i),Fg=!0,i["s-sn"]=i["s-sn"]||r,s?s.$slotRefNode$=e:Rn.push({$slotRefNode$:e,$nodeToRelocate$:i}),i["s-sr"]&&Rn.map(p=>{bE(p.$nodeToRelocate$,i["s-sn"])&&(s=Rn.find(f=>f.$nodeToRelocate$===i),s&&!p.$slotRefNode$&&(p.$slotRefNode$=s.$slotRefNode$))})):Rn.some(p=>p.$nodeToRelocate$===i)||Rn.push({$nodeToRelocate$:i}));e.nodeType===1&&iR(e)}},bE=(t,e)=>t.nodeType===1?t.getAttribute("slot")===null&&e===""||t.getAttribute("slot")===e:t["s-sn"]===e?!0:e==="",nR=t=>{t.$attrs$&&t.$attrs$.ref&&t.$attrs$.ref(null),t.$children$&&t.$children$.map(nR)},aQ=(t,e)=>{const i=t.$hostElement$,n=t.$cmpMeta$,r=t.$vnode$||jg(null,null),s=JX(e)?e:JP(null,null,e);p0=i.tagName,n.$attrsToReflect$&&(s.$attrs$=s.$attrs$||{},n.$attrsToReflect$.map(([o,a])=>s.$attrs$[a]=i[o])),s.$tag$=null,s.$flags$|=4,t.$vnode$=s,s.$elm$=r.$elm$=i.shadowRoot||i,Ec=i["s-sc"],qP=i["s-cr"],ZP=(n.$flags$&1)!==0,Fg=!1,kc(r,s);{if(Ot.$flags$|=1,tx){iR(s.$elm$);let o,a,l,u,p,f,m=0;for(;m<Rn.length;m++)o=Rn[m],a=o.$nodeToRelocate$,a["s-ol"]||(l=jn.createTextNode(""),l["s-nr"]=a,a.parentNode.insertBefore(a["s-ol"]=l,a));for(m=0;m<Rn.length;m++)if(o=Rn[m],a=o.$nodeToRelocate$,o.$slotRefNode$){for(u=o.$slotRefNode$.parentNode,p=o.$slotRefNode$.nextSibling,l=a["s-ol"];l=l.previousSibling;)if(f=l["s-nr"],f&&f["s-sn"]===a["s-sn"]&&u===f.parentNode&&(f=f.nextSibling,!f||!f["s-nr"])){p=f;break}(!p&&u!==a.parentNode||a.nextSibling!==p)&&a!==p&&(!a["s-hn"]&&a["s-ol"]&&(a["s-hn"]=a["s-ol"].parentNode.nodeName),u.insertBefore(a,p))}else a.nodeType===1&&(a.hidden=!0)}Fg&&tR(s.$elm$),Ot.$flags$&=-2,Rn.length=0}},lQ=(t,e)=>{},rx=(t,e)=>(t.$flags$|=16,lQ(t,t.$ancestorComponent$),IQ(()=>cQ(t,e))),cQ=(t,e)=>{const i=t.$hostElement$,n=Rl("scheduleUpdate",t.$cmpMeta$.$tagName$),r=i;let s;return e?s=Qc(r,"componentWillLoad"):s=Qc(r,"componentWillUpdate"),s=wE(s,()=>Qc(r,"componentWillRender")),n(),wE(s,()=>uQ(t,r,e))},uQ=async(t,e,i)=>{const n=t.$hostElement$,r=Rl("update",t.$cmpMeta$.$tagName$);n["s-rc"],i&&rQ(t);const s=Rl("render",t.$cmpMeta$.$tagName$);dQ(t,e,n),s(),r(),hQ(t)},dQ=(t,e,i)=>{try{hE=e,e=e.render&&e.render(),t.$flags$&=-17,t.$flags$|=2,(Tc.hasRenderFn||Tc.reflect)&&(Tc.vdomRender||Tc.reflect)&&(Tc.hydrateServerSide||aQ(t,e))}catch(a){Op(a,t.$hostElement$)}return hE=null,null},hQ=t=>{const e=t.$cmpMeta$.$tagName$,i=t.$hostElement$,n=Rl("postUpdate",e),r=i;t.$ancestorComponent$,Qc(r,"componentDidRender"),t.$flags$&64?(Qc(r,"componentDidUpdate"),n()):(t.$flags$|=64,Qc(r,"componentDidLoad"),n())},Pfe=t=>{{const e=Ip(t),i=e.$hostElement$.isConnected;return i&&(e.$flags$&18)===2&&rx(e,!1),i}},Qc=(t,e,i)=>{if(t&&t[e])try{return t[e](i)}catch(n){Op(n)}},wE=(t,e)=>t&&t.then?t.then(e):e(),pQ=(t,e)=>Ip(t).$instanceValues$.get(e),fQ=(t,e,i,n)=>{const r=Ip(t),s=t,o=r.$instanceValues$.get(e),a=r.$flags$,l=s;i=QX(i,n.$members$[e][0]);const u=Number.isNaN(o)&&Number.isNaN(i);if(i!==o&&!u){r.$instanceValues$.set(e,i);{if(n.$watchers$&&a&128){const f=n.$watchers$[e];f&&f.map(m=>{try{l[m](i,o,e)}catch(g){Op(g,s)}})}if((a&18)===2){if(l.componentShouldUpdate&&l.componentShouldUpdate(i,o,e)===!1)return;rx(r,!1)}}}},mQ=(t,e,i)=>{if(e.$members$){t.watchers&&(e.$watchers$=t.watchers);const n=Object.entries(e.$members$),r=t.prototype;n.map(([s,[o]])=>{(o&31||o&32)&&Object.defineProperty(r,s,{get(){return pQ(this,s)},set(a){fQ(this,s,a,e)},configurable:!0,enumerable:!0})});{const s=new Map;r.attributeChangedCallback=function(o,a,l){Ot.jmp(()=>{const u=s.get(o);if(this.hasOwnProperty(u))l=this[u],delete this[u];else if(r.hasOwnProperty(u)&&typeof this[u]=="number"&&this[u]==l)return;this[u]=l===null&&typeof this[u]=="boolean"?!1:l})},t.observedAttributes=n.filter(([o,a])=>a[0]&15).map(([o,a])=>{const l=a[1]||o;return s.set(l,o),a[0]&512&&e.$attrsToReflect$.push([o,l]),l})}}return t},gQ=async(t,e,i,n,r)=>{if(!(e.$flags$&32)&&(r=t.constructor,e.$flags$|=32,customElements.whenDefined(i.$tagName$).then(()=>e.$flags$|=128),r.style)){let o=r.style;typeof o!="string"&&(o=o[e.$modeName$=XX(t)]);const a=KP(i,e.$modeName$);if(!Hg.has(a)){const l=Rl("registerStyles",i.$tagName$);iQ(a,o,!!(i.$flags$&1)),l()}}e.$ancestorComponent$,rx(e,!0)},yQ=t=>{},vQ=t=>{if(!(Ot.$flags$&1)){const e=Ip(t),i=e.$cmpMeta$,n=Rl("connectedCallback",i.$tagName$);e.$flags$&1?(rR(t,e,i.$listeners$),yQ(e.$lazyInstance$)):(e.$flags$|=1,i.$flags$&12&&bQ(t),i.$members$&&Object.entries(i.$members$).map(([r,[s]])=>{if(s&31&&t.hasOwnProperty(r)){const o=t[r];delete t[r],t[r]=o}}),gQ(t,e,i)),n()}},bQ=t=>{const e=t["s-cr"]=jn.createComment("");e["s-cn"]=!0,t.insertBefore(e,t.firstChild)},wQ=t=>{if(!(Ot.$flags$&1)){const e=Ip(t);e.$rmListeners$&&(e.$rmListeners$.map(i=>i()),e.$rmListeners$=void 0)}},Rfe=(t,e)=>{const i={$flags$:e[0],$tagName$:e[1]};i.$members$=e[2],i.$listeners$=e[3],i.$watchers$=t.$watchers$,i.$attrsToReflect$=[];const n=t.prototype.connectedCallback,r=t.prototype.disconnectedCallback;return Object.assign(t.prototype,{__registerHost(){$Q(this,i)},connectedCallback(){vQ(this),n&&n.call(this)},disconnectedCallback(){wQ(this),r&&r.call(this)},__attachShadow(){this.attachShadow({mode:"open",delegatesFocus:!!(i.$flags$&16)})}}),t.is=i.$tagName$,mQ(t,i)},Nfe=(t,e)=>e,rR=(t,e,i,n)=>{i&&i.map(([r,s,o])=>{const a=SQ(t,r),l=_Q(e,o),u=xQ(r);Ot.ael(a,s,l,u),(e.$rmListeners$=e.$rmListeners$||[]).push(()=>Ot.rel(a,s,l,u))})},_Q=(t,e)=>i=>{try{Tc.lazyLoad||t.$hostElement$[e](i)}catch(n){Op(n)}},SQ=(t,e)=>e&4?jn:e&8?Ap:e&16?jn.body:t,xQ=t=>EQ?{passive:(t&1)!==0,capture:(t&2)!==0}:(t&2)!==0,sR=new WeakMap,Ip=t=>sR.get(t),$Q=(t,e)=>{const i={$flags$:0,$hostElement$:t,$cmpMeta$:e,$instanceValues$:new Map};return rR(t,i,e.$listeners$),sR.set(t,i)},_E=(t,e)=>e in t,Op=(t,e)=>(0,console.error)(t,e),Hg=new Map,TQ=[],Ap=typeof window<"u"?window:{},jn=Ap.document||{head:{}},Dfe=Ap.HTMLElement||class{},Ot={$flags$:0,$resourcesUrl$:"",jmp:t=>t(),raf:t=>requestAnimationFrame(t),ael:(t,e,i,n)=>t.addEventListener(e,i,n),rel:(t,e,i,n)=>t.removeEventListener(e,i,n),ce:(t,e)=>new CustomEvent(t,e)},EQ=(()=>{let t=!1;try{jn.addEventListener("e",null,Object.defineProperty({},"passive",{get(){t=!0}}))}catch{}return t})(),kQ=t=>Promise.resolve(t),MQ=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1})(),kw=[],oR=[],aR=(t,e)=>i=>{t.push(i),Ew||(Ew=!0,e&&Ot.$flags$&4?CQ(Mw):Ot.raf(Mw))},SE=t=>{for(let e=0;e<t.length;e++)try{t[e](performance.now())}catch(i){Op(i)}t.length=0},Mw=()=>{SE(kw),SE(oR),(Ew=kw.length>0)&&Ot.raf(Mw)},CQ=t=>kQ().then(t),zfe=aR(kw,!1),IQ=aR(oR,!0);/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v1.11.0
 */const lR="calcite-mode-auto",cR="calcite-mode-dark",OQ="calcite-mode-light",Ffe={autoMode:lR,darkMode:cR,lightMode:OQ,rtl:"calcite--rtl",calciteAnimate:"calcite-animate",calciteAnimateIn:"calcite-animate__in",calciteAnimateInUp:"calcite-animate__in-up",calciteAnimateInDown:"calcite-animate__in-down",calciteAnimateInRight:"calcite-animate__in-right",calciteAnimateInLeft:"calcite-animate__in-left",calciteAnimateInScale:"calcite-animate__in-scale"};/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var uR=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Bg=uR.join(","),dR=typeof Element>"u",Nl=dR?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Gg=!dR&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},Vg=function t(e,i){var n;i===void 0&&(i=!0);var r=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"inert"),s=r===""||r==="true",o=s||i&&e&&t(e.parentNode);return o},AQ=function(e){var i,n=e==null||(i=e.getAttribute)===null||i===void 0?void 0:i.call(e,"contenteditable");return n===""||n==="true"},hR=function(e,i,n){if(Vg(e))return[];var r=Array.prototype.slice.apply(e.querySelectorAll(Bg));return i&&Nl.call(e,Bg)&&r.unshift(e),r=r.filter(n),r},pR=function t(e,i,n){for(var r=[],s=Array.from(e);s.length;){var o=s.shift();if(!Vg(o,!1))if(o.tagName==="SLOT"){var a=o.assignedElements(),l=a.length?a:o.children,u=t(l,!0,n);n.flatten?r.push.apply(r,u):r.push({scopeParent:o,candidates:u})}else{var p=Nl.call(o,Bg);p&&n.filter(o)&&(i||!e.includes(o))&&r.push(o);var f=o.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(o),m=!Vg(f,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(o));if(f&&m){var g=t(f===!0?o.children:f.children,!0,n);n.flatten?r.push.apply(r,g):r.push({scopeParent:o,candidates:g})}else s.unshift.apply(s,o.children)}}return r},fR=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},mR=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||AQ(e))&&!fR(e)?0:e.tabIndex},LQ=function(e,i){var n=mR(e);return n<0&&i&&!fR(e)?0:n},PQ=function(e,i){return e.tabIndex===i.tabIndex?e.documentOrder-i.documentOrder:e.tabIndex-i.tabIndex},gR=function(e){return e.tagName==="INPUT"},RQ=function(e){return gR(e)&&e.type==="hidden"},NQ=function(e){var i=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(n){return n.tagName==="SUMMARY"});return i},DQ=function(e,i){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===i)return e[n]},zQ=function(e){if(!e.name)return!0;var i=e.form||Gg(e),n=function(a){return i.querySelectorAll('input[type="radio"][name="'+a+'"]')},r;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")r=n(window.CSS.escape(e.name));else try{r=n(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var s=DQ(r,e.form);return!s||s===e},FQ=function(e){return gR(e)&&e.type==="radio"},jQ=function(e){return FQ(e)&&!zQ(e)},UQ=function(e){var i,n=e&&Gg(e),r=(i=n)===null||i===void 0?void 0:i.host,s=!1;if(n&&n!==e){var o,a,l;for(s=!!((o=r)!==null&&o!==void 0&&(a=o.ownerDocument)!==null&&a!==void 0&&a.contains(r)||e!=null&&(l=e.ownerDocument)!==null&&l!==void 0&&l.contains(e));!s&&r;){var u,p,f;n=Gg(r),r=(u=n)===null||u===void 0?void 0:u.host,s=!!((p=r)!==null&&p!==void 0&&(f=p.ownerDocument)!==null&&f!==void 0&&f.contains(r))}}return s},xE=function(e){var i=e.getBoundingClientRect(),n=i.width,r=i.height;return n===0&&r===0},HQ=function(e,i){var n=i.displayCheck,r=i.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var s=Nl.call(e,"details>summary:first-of-type"),o=s?e.parentElement:e;if(Nl.call(o,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="legacy-full"){if(typeof r=="function"){for(var a=e;e;){var l=e.parentElement,u=Gg(e);if(l&&!l.shadowRoot&&r(l)===!0)return xE(e);e.assignedSlot?e=e.assignedSlot:!l&&u!==e.ownerDocument?e=u.host:e=l}e=a}if(UQ(e))return!e.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return xE(e);return!1},BQ=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var i=e.parentElement;i;){if(i.tagName==="FIELDSET"&&i.disabled){for(var n=0;n<i.children.length;n++){var r=i.children.item(n);if(r.tagName==="LEGEND")return Nl.call(i,"fieldset[disabled] *")?!0:!r.contains(e)}return!0}i=i.parentElement}return!1},Wg=function(e,i){return!(i.disabled||Vg(i)||RQ(i)||HQ(i,e)||NQ(i)||BQ(i))},Cw=function(e,i){return!(jQ(i)||mR(i)<0||!Wg(e,i))},GQ=function(e){var i=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(i)||i>=0)},VQ=function t(e){var i=[],n=[];return e.forEach(function(r,s){var o=!!r.scopeParent,a=o?r.scopeParent:r,l=LQ(a,o),u=o?t(r.candidates):a;l===0?o?i.push.apply(i,u):i.push(a):n.push({documentOrder:s,tabIndex:l,item:r,isScope:o,content:u})}),n.sort(PQ).reduce(function(r,s){return s.isScope?r.push.apply(r,s.content):r.push(s.content),r},[]).concat(i)},WQ=function(e,i){i=i||{};var n;return i.getShadowRoot?n=pR([e],i.includeContainer,{filter:Cw.bind(null,i),flatten:!1,getShadowRoot:i.getShadowRoot,shadowRootFilter:GQ}):n=hR(e,i.includeContainer,Cw.bind(null,i)),VQ(n)},jfe=function(e,i){i=i||{};var n;return i.getShadowRoot?n=pR([e],i.includeContainer,{filter:Wg.bind(null,i),flatten:!0,getShadowRoot:i.getShadowRoot}):n=hR(e,i.includeContainer,Wg.bind(null,i)),n},Ufe=function(e,i){if(i=i||{},!e)throw new Error("No node provided");return Nl.call(e,Bg)===!1?!1:Cw(i,e)},qQ=uR.concat("iframe").join(","),Hfe=function(e,i){if(i=i||{},!e)throw new Error("No node provided");return Nl.call(e,qQ)===!1?!1:Wg(i,e)};const ZQ={getShadowRoot:!0};function Bfe(t){const e="dir",i=`[${e}]`,n=JQ(t,i);return n?n.getAttribute(e):"ltr"}function yR(t){return t.getRootNode()}function vR(t){return t.host||null}function Gfe(t,{selector:e,id:i}){function n(r){if(!r)return null;r.assignedSlot&&(r=r.assignedSlot);const s=yR(r),o=i?"getElementById"in s?s.getElementById(i):null:e?s.querySelector(e):null,a=vR(s);return o||(a?n(a):null)}return n(t)}function JQ(t,e){function i(n){return n?n.closest(e)||i(vR(yR(n))):null}return i(t)}function KQ(t,e){return bR(t,e)}function bR(t,e){if(!t)return;const i=e(t);if(i!==void 0)return i;const{parentNode:n}=t;return bR(n instanceof ShadowRoot?n.host:n,e)}function Vfe(t,e){return!!KQ(e,i=>i===t?!0:void 0)}function YQ(t){return typeof(t==null?void 0:t.setFocus)=="function"}async function Wfe(t){if(t)return YQ(t)?t.setFocus():t.focus()}function qfe(t){t&&(WQ(t,ZQ)[0]||t).focus()}const qh=":not([slot])";function Zfe(t,e,i){e&&!Array.isArray(e)&&typeof e!="string"&&(i=e,e=null);const n=e?Array.isArray(e)?e.map(r=>`[slot="${r}"]`).join(","):`[slot="${e}"]`:qh;return i!=null&&i.all?XQ(t,n,i):QQ(t,n,i)}function wR(t,e){return t?Array.from(t.children||[]).filter(i=>i==null?void 0:i.matches(e)):[]}function XQ(t,e,i){let n=e===qh?wR(t,qh):Array.from(t.querySelectorAll(e));n=i&&i.direct===!1?n:n.filter(s=>s.parentElement===t),n=i!=null&&i.matches?n.filter(s=>s==null?void 0:s.matches(i.matches)):n;const r=i==null?void 0:i.selector;return r?n.map(s=>Array.from(s.querySelectorAll(r))).reduce((s,o)=>[...s,...o],[]).filter(s=>!!s):n}function QQ(t,e,i){let n=e===qh?wR(t,qh)[0]||null:t.querySelector(e);n=i&&i.direct===!1||(n==null?void 0:n.parentElement)===t?n:null,n=i!=null&&i.matches?n!=null&&n.matches(i.matches)?n:null:n;const r=i==null?void 0:i.selector;return r?n==null?void 0:n.querySelector(r):n}function Jfe(t,e,i){if(typeof e=="string"&&e!=="")return e;if(e==="")return t[i]}function Kfe(t){return(!!t).toString()}function Yfe(t){return nee(t)||tee(t)}function eee(t){return iee(t).filter(e=>e.nodeType===Node.TEXT_NODE).map(e=>e.textContent).join("").trim()}function tee(t){return!!eee(t)}function iee(t){return t.target.assignedNodes({flatten:!0})}function nee(t){return!!ree(t).length}function ree(t){return t.target.assignedElements({flatten:!0})}function Xfe(t){return!!(t.isPrimary&&t.button===0)}function Qfe(t,e){if(t.parentNode!==e.parentNode)return!1;const i=Array.from(t.parentNode.children);return i.indexOf(t)<i.indexOf(e)}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v1.11.0
 */function $E(){const{classList:t}=document.body,e=window.matchMedia("(prefers-color-scheme: dark)").matches,i=()=>t.contains(cR)||t.contains(lR)&&e?"dark":"light",n=o=>document.body.dispatchEvent(new CustomEvent("calciteModeChange",{bubbles:!0,detail:{mode:o}})),r=o=>{s!==o&&n(o),s=o};let s=i();n(s),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",o=>r(o.matches?"dark":"light")),new MutationObserver(()=>r(i())).observe(document.body,{attributes:!0,attributeFilter:["class"]})}function see(){typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document&&(document.readyState==="interactive"?$E():document.addEventListener("DOMContentLoaded",()=>$E(),{once:!0}))}const oee=see;oee();let _R;function aee(){try{HX(".")}catch{BX(tn(ke(_R)))}}function sx(t){var i;const e=[];for(const n of Object.keys(t))customElements.get(`calcite-${n}`)||e.push((i=t[n])==null?void 0:i.call(t));return e.length>0?Promise.all(e):null}_R="components/assets";const SR=Symbol("widget"),xR=Symbol("widget-test-data"),lee=[],cee={},qg=new WeakMap;function $R(t,e){let i=e.children;if(i!=null&&i.length)for(let r=0;r<i.length;++r)i[r]=$R(t,i[r]);else i=lee;const n=e.vnodeSelector;if(Zg(n)){const r=e.properties||cee,s=r.key||n;return{vnodeSelector:"div",properties:{key:s,afterCreate:uee,afterUpdate:dee,afterRemoved:TR,parentWidget:t,widgetConstructor:n,widgetProperties:{...r,key:s,children:i}},children:void 0,text:void 0,domNode:null}}return e}function uee(t,e,i,{parentWidget:n,widgetConstructor:r,widgetProperties:s}){var a;const o=new r(s);o.container=t,qg.set(t,o),(a=o.afterCreate)==null||a.call(o,o,t),n.addHandles(je(()=>TR(t))),queueMicrotask(()=>{o[xR].projector.renderNow()})}function dee(t,e,i,{widgetProperties:n}){var s;const r=qg.get(t);r&&(r.set(n),(s=r.afterUpdate)==null||s.call(r,r,t))}function TR(t){var i;const e=qg.get(t);e&&((i=e.afterRemoved)==null||i.call(e,e,t),e.destroy(),qg.delete(t))}function Zg(t){return typeof t=="function"&&t[SR]}const tt={arrowDown:"esri-icon-arrow-down",arrowUp:"esri-icon-arrow-up",basemap:"esri-icon-basemap",bookmark:"esri-icon-bookmark",calendar:"esri-icon-calendar",checkMark:"esri-icon-check-mark",checkboxUnchecked:"esri-icon-checkbox-unchecked",close:"esri-icon-close",collapse:"esri-icon-collapse",defaultAction:"esri-icon-default-action",description:"esri-icon-description",directions:"esri-icon-directions",dockBottom:"esri-icon-dock-bottom",dockLeft:"esri-icon-dock-left",dockRight:"esri-icon-dock-right",down:"esri-icon-down",downArrow:"esri-icon-down-arrow",download:"esri-icon-download",dragHorizontal:"esri-icon-drag-horizontal",dragVertical:"esri-icon-drag-vertical",duplicate:"esri-icon-duplicate",edit:"esri-icon-edit",elevationProfile:"esri-icon-elevation-profile",environmentSettings:"esri-icon-environment-settings",erase:"esri-icon-erase",error:"esri-icon-error",expand:"esri-icon-expand",fontFallbackText:"esri-icon-font-fallback-text",forward:"esri-icon-forward",gear:"esri-icon-gear",handleHorizontal:"esri-icon-handle-horizontal",handleVertical:"esri-icon-handle-vertical",home:"esri-icon-home",icon:"esri-icon",launchLinkExternal:"esri-icon-launch-link-external",layerList:"esri-icon-layer-list",layers:"esri-icon-layers",left:"esri-icon-left",leftArrows:"esri-icon-left-arrow",leftTriangleArrow:"esri-icon-left-triangle-arrow",lineOfSight:"esri-icon-line-of-sight",link:"esri-icon-link",linkExternal:"esri-icon-link-external",linkHorizontal:"esri-icon-link-horizontal",loadingIndicator:"esri-icon-loading-indicator",locate:"esri-icon-locate",locateCircled:"esri-icon-locate-circled",locked:"esri-icon-locked",mapPin:"esri-icon-map-pin",maximize:"esri-icon-maximize",measure:"esri-icon-measure",measureArea:"esri-icon-measure-area",measureBuildingHeightShadow:"esri-icon-measure-building-height-shadow",measureLine:"esri-icon-measure-line",menu:"esri-icon-menu",minimize:"esri-icon-minimize",minus:"esri-icon-minus",nonVisible:"esri-icon-non-visible",northNavigation:"esri-icon-north-navigation",noticeTriangle:"esri-icon-notice-triangle",organization:"esri-icon-organization",pan:"esri-icon-pan",pan2:"esri-icon-pan2",partlyCloudy:"esri-icon-partly-cloudy",pause:"esri-icon-pause",play:"esri-icon-play",playCircled:"esri-icon-play-circled",plus:"esri-icon-plus",polyline:"esri-icon-polyline",printer:"esri-icon-printer",radioChecked:"esri-icon-radio-checked",radioUnchecked:"esri-icon-radio-unchecked",refresh:"esri-icon-refresh",reverse:"esri-icon-reverse",right:"esri-icon-right",rightArrow:"esri-icon-right-arrow",rightTriangleArrow:"esri-icon-right-triangle-arrow",rotate:"esri-icon-rotate",save:"esri-icon-save",search:"esri-icon-search",settings2:"esri-icon-settings2",slice:"esri-icon-slice",swap:"esri-icon-swap",table:"esri-icon-table",timeClock:"esri-icon-time-clock",tracking:"esri-icon-tracking",trash:"esri-icon-trash",unlockedLinkHorizontal:"esri-icon-unlocked-link-horizontal",up:"esri-icon-up",upArrow:"esri-icon-up-arrow",upDownArrows:"esri-icon-up-down-arrows",urbanModel:"esri-icon-urban-model",vertexGps:"esri-icon-vertex-gps",visible:"esri-icon-visible",zoomInFixed:"esri-icon-zoom-in-fixed",zoomInMagnifyingGlass:"esri-icon-zoom-in-magnifying-glass",zoomOutFixed:"esri-icon-zoom-out-fixed",zoomToObject:"esri-icon-zoom-to-object"},TE=new Set;function hee(t){TE.add(t),t.finally(()=>TE.delete(t))}var ER;const pee="esri.widgets.Widget";let fee=0;const mee={widgetIcon:tt.checkboxUnchecked};function kR(t,e){for(const i in e)t[i]!=null&&(typeof t[i]=="object"&&typeof e[i]=="object"?kR(t[i],e==null?void 0:e[i]):t[i]=e[i]);return t}const gee=UX({postProcessProjectionOptions(t){const e=t.eventHandlerInterceptor,i=/capture$/i;t.eventHandlerInterceptor=(n,r,s,o)=>{const a=e==null?void 0:e(n,r,s,o),l=i.test(n);if(!((n=n.replace(i,"")).toLowerCase()in s)||l){const u=n[2].toLowerCase()+n.slice(3),p=g=>a==null?void 0:a.call(s,g);s.addEventListener(u,p,l);const f=()=>s.removeEventListener(u,p,l),m=o.afterRemoved;o.afterRemoved=g=>{m==null||m(g),f()}}return a}},handleInterceptedEvent(t,e,i,n){const{eventPhase:r,type:s}=n,o=r===Event.CAPTURING_PHASE;let a=`on${s}${o?"capture":""}`;const l=e.properties;(l&&a in l||(a=`on${s[0].toUpperCase()}${s.slice(1)}${o?"Capture":""}`,l&&a in l))&&(jO(),t.scheduleRender(),l[a].call(l.bind||i,n))}});let kv=!1,pt=class extends Jy(ea.EventedAccessor){constructor(e,i){super(e,i),this._attached=!1,this._projector=gee,this._readyForTrueRender=!1,this.iconClass=mee.widgetIcon,this.icon=null,this.key=this,this._loadLocale=sD(async()=>{var a;if((a=this._messageBundleProps)!=null&&a.length){const l=await Promise.allSettled(this._messageBundleProps.map(async({bundlePath:u,propertyName:p})=>{if(this.destroyed)return;let f=await Hy(u);this.uiStrings&&Object.keys(this.uiStrings)&&(f=kR(z(f),this.uiStrings)),this[p]=f}));if(this.destroyed)return;for(const u of l)u.status==="rejected"&&G.getLogger(this).error("widget-intl:locale-error",this.declaredClass,u.reason)}await this.loadLocale()}),aee();const n="esri-widget-uid-"+ex(),r=this.render.bind(this);this._trackingTarget=new Ey(()=>this.scheduleRender());const s=()=>{var f;if(!this._readyForTrueRender||this.destroyed)return null;const a=r();let{properties:l}=a;l||(a.properties=l={});const{key:u}=l;if(u||(l.key=n),Zg(a.vnodeSelector)){if(!this.visible)return{vnodeSelector:"div",properties:{key:`${n}-hidden`,class:"",styles:{display:"none"}},domNode:null,children:void 0,text:void 0}}else this.visible?l.styles||(l.styles={}):(l.class="",l.styles={display:"none"}),l.styles.display||(l.styles.display="");let p=0;return(f=a.children)==null||f.forEach(m=>{if(Zg(m.vnodeSelector))return;let{properties:g}=m;g||(m.properties=g={}),g.key||(g.key=`${this.id}--${p++}`)}),$R(this,a)};this.render=()=>{if(kv)return s();let a=oB(this)??null;if(a)return a;this._trackingTarget.clear(),kv=!0;try{a=Cs(this._trackingTarget,s)}catch(l){throw console.error(l),l}finally{kv=!1}return a&&aB(this,a),a};const o=this.beforeFirstRender();o?this._resourcesFetch=o.then(()=>{this._readyForTrueRender=!0,this._postInitialize()}):(this._resourcesFetch=Promise.resolve().then(()=>{this._postInitialize()}),this._readyForTrueRender=!0),this.addResolvingPromise(this._resourcesFetch),hee(this._resourcesFetch)}normalizeCtorArgs(e,i){const n={...e};return i&&(n.container=i),n}postInitialize(){}beforeFirstRender(){var i;const e=this.loadDependencies();return(i=this._messageBundleProps)!=null&&i.length||e?Promise.all([e,this._loadLocale()]).then(()=>{}).catch(i$):null}loadDependencies(){return null}loadLocale(){return null}destroy(){this.destroyed||(ze(this._trackingTarget),ze(this.viewModel),this._detach(this.container),this._set("container",null),this._emitter.clear(),this.render=()=>null,this._projector=null,K0(this))}set container(e){this._get("container")||this._set("container",e)}castContainer(e){return uS(e)}get domNode(){return this.container}set domNode(e){this.container=e}get id(){var e;return this._get("id")||((e=this.container)==null?void 0:e.id)||Date.now().toString(16)+"-widget-"+fee++}set id(e){e&&this._set("id",e)}get label(){return this.declaredClass.split(".").pop()}set label(e){this._overrideIfSome("label",e)}get renderable(){return this._resourcesFetch}get visible(){return this._get("visible")}set visible(e){this._set("visible",e)}get[(ER=SR,xR)](){return{projector:this._projector}}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||(K0(this),this._projector.scheduleRender())}own(e){IM(G.getLogger(this.declaredClass),"`Widget.own()` is deprecated in favor of Widget.addHandles()'",{replacement:"Widget.addHandles()",version:"4.28"}),this.addHandles(e)}classes(...e){return UO.apply(this,e)}renderNow(){K0(this),this._projector.renderNow()}_postInitialize(){var i;if(this.destroyed)return;this.scheduleRender(),(i=this._delegatedEventNames)!=null&&i.length&&this.addHandles(K(()=>this.viewModel,(n,r)=>{r&&this.removeHandles("delegated-events"),n&&$y(n)&&this.addHandles(this._delegatedEventNames.map(s=>lp(n,s,o=>{this.emit(s,o)})),"delegated-events")},ws)),this.postInitialize();const e=async()=>{await this._loadLocale().catch(i$),this.scheduleRender()};this.addHandles([Ry(e),K(()=>this.uiStrings,e),cn(()=>this.container,n=>{this.destroyed||this._attach(n)},{initial:!0,once:!0})])}_attach(e){e&&(this._projector.merge(e,this.render),this._attached=!0)}_detach(e){var i;this._attached&&(this._projector.detach(this.render),this._attached=!1),(i=e==null?void 0:e.parentNode)==null||i.removeChild(e)}};pt[ER]=!0,d([h()],pt.prototype,"_readyForTrueRender",void 0),d([h({value:null})],pt.prototype,"container",null),d([ei("container")],pt.prototype,"castContainer",null),d([h()],pt.prototype,"iconClass",void 0),d([h()],pt.prototype,"icon",void 0),d([h()],pt.prototype,"id",null),d([h()],pt.prototype,"label",null),d([h()],pt.prototype,"renderable",null),d([h()],pt.prototype,"uiStrings",void 0),d([h()],pt.prototype,"viewModel",void 0),d([h({value:!0})],pt.prototype,"visible",null),d([h()],pt.prototype,"key",void 0),d([h()],pt.prototype,"children",void 0),d([h()],pt.prototype,"afterCreate",void 0),d([h()],pt.prototype,"afterUpdate",void 0),d([h()],pt.prototype,"afterRemoved",void 0),pt=d([E(pee)],pt);const Ds=pt;function EE(t,e){return t&&"copyright"in t&&(!e||typeof t.originOf=="function"&&t.originOf("copyright")==="user")}function yee(t,e){return t.length!==e.length||t.some((i,n)=>i.text!==e[n].text)}function Pf(t,e,i){!i||!e||t.find(n=>n.layerView===e&&n.text===i)||t.push({text:i,layerView:e})}function vee(t){return t.type==="bing-maps"}const Js=[];let Mc=class extends Q{constructor(e){super(e),this._clear=()=>{this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.removeHandles("suspension"),this.notifyChange("state")},this._pendingAttributions=new Set,this._fetchedAttributionData=new Map,this.items=new ee,this.view=null,this._allLayerViewsChange=i=>{var r;this.removeHandles("suspension");const n=(r=this.view)==null?void 0:r.allLayerViews;n&&this.addHandles(n.map(s=>K(()=>{var o;return[s.suspended,(o=s.layer)==null?void 0:o.attributionVisible]},()=>this._updateAttributionItems())).toArray(),"suspension"),i!=null&&i.removed&&i.removed.forEach(s=>{this._pendingAttributions.delete(s),this._fetchedAttributionData.delete(s)}),this._updateAttributionItems()},this.addHandles([Os(()=>{var i;return(i=this.view)==null?void 0:i.allLayerViews},"change",i=>this._allLayerViewsChange(i),{onListenerAdd:()=>this._allLayerViewsChange(),onListenerRemove:this._clear}),cn(()=>{var i;return((i=this.view)==null?void 0:i.stationary)===!0},()=>this._updateAttributionItems())])}destroy(){this.view=null,this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.items.removeAll()}get state(){var e;return(e=this.view)!=null&&e.ready?this._pendingAttributions.size>0?"loading":"ready":"disabled"}_updateAttributionItems(){const e=this.view,i=e==null?void 0:e.allLayerViews;Js.length=0,e&&i?(i.forEach(n=>{var o,a;if(n.suspended||!((o=n.layer)!=null&&o.attributionVisible))return;const r=n.layer;if(EE(r,"user"))return void Pf(Js,n,r.copyright);if(r.hasAttributionData){if(this._fetchedAttributionData.has(n)){const l=this._fetchedAttributionData.get(n);return void(l?Pf(Js,n,this._getDynamicAttribution(l,e,r)):EE(r)&&Pf(Js,n,r.copyright))}return void this._fetchAttributionData(n)}const s="portalItem"in r?(a=r.portalItem)==null?void 0:a.accessInformation:void 0;Pf(Js,n,s||r.copyright)}),yee(this.items,Js)&&(this.items.removeAll(),this.items.addMany(Js)),Js.length=0,this.notifyChange("state")):this._clear()}async _fetchAttributionData(e){if(this._pendingAttributions.has(e))return;this._pendingAttributions.add(e);const i=await KI(e.layer.fetchAttributionData());if(this._pendingAttributions.has(e)){const n=i.ok?this._createContributionIndex(i.value,vee(e.layer)):null;this._pendingAttributions.delete(e),this._fetchedAttributionData.set(e,n)}this._updateAttributionItems()}_createContributionIndex(e,i){const n=e.contributors,r={};if(!n)return r;for(let s=0;s<n.length;s++){const o=n[s],a=o.coverageAreas;if(!a)return;for(const l of a){const u=l.bbox,p=l.zoomMin-(i&&l.zoomMin?1:0),f=l.zoomMax-(i&&l.zoomMax?1:0),m=new Le({xmin:u[1],ymin:u[0],xmax:u[3],ymax:u[2],spatialReference:ge.WGS84}),g={extent:No(m),attribution:o.attribution||"",score:l.score!=null?l.score:100,id:s};for(let y=p;y<=f;y++)r[y]??(r[y]=[]),r[y].push(g)}}return r.maxKey=Math.max.apply(null,Object.keys(r)),r}_getDynamicAttribution(e,i,n){var p;const{extent:r,scale:s}=i;let o=((p=n.tileInfo)==null?void 0:p.scaleToZoom(s))??0;if(o=Math.min(e.maxKey??0,Math.round(o)),!r||o==null||o<=-1)return"";const a=e[o],l=Oy(r.center.clone().normalize(),i.spatialReference),u=new Set;return a?a.filter(f=>{const m=f.id,g=!u.has(m)&&l&&f.extent&&Ly(f.extent,l);return g&&u.add(m),g}).sort((f,m)=>m.score-f.score||f.objectId-m.objectId).map(f=>f.attribution).join(", "):""}};d([h({readOnly:!0,type:ee})],Mc.prototype,"items",void 0),d([h({readOnly:!0})],Mc.prototype,"state",null),d([h()],Mc.prototype,"view",void 0),Mc=d([E("esri.widgets.Attribution.AttributionViewModel")],Mc);const MR=Mc,le={anchor:"esri-widget__anchor",anchorDisabled:"esri-widget__anchor--disabled",button:"esri-button",buttonDisabled:"esri-button--disabled",buttonHalf:"esri-button--half",buttonSecondary:"esri-button--secondary",buttonSmall:"esri-button--small",buttonTertiary:"esri-button--tertiary",buttonThird:"esri-button--third",disabled:"esri-disabled",disabledElement:"esri-disabled-element",empty:"esri-widget__content--empty",emptyIllustration:"esri-widget__content-illustration--empty",heading:"esri-widget__heading",hidden:"esri-hidden",input:"esri-input",interactive:"esri-interactive",loader:"esri-widget__loader",loaderAnimation:"esri-widget__loader-animation",loaderText:"esri-widget__loader-text",menu:"esri-menu",menuHeader:"esri-menu__header",menuItem:"esri-menu__list-item",menuItemActive:"esri-menu__list-item--active",menuItemFocus:"esri-menu__list-item--focus",menuList:"esri-menu__list",noBookmarksIcon:"esri-widget__no-bookmark-icon",panel:"esri-widget--panel",panelHeightOnly:"esri-widget--panel-height-only",primaryTick:"primary-tick",primaryTickAmPm:"primary-tick__ampm",primaryTickLabel:"primary-tick__label",rotating:"esri-rotating",secondaryTick:"secondary-tick",select:"esri-select",table:"esri-widget__table",widget:"esri-widget",widgetButton:"esri-widget--button",widgetButtonActive:"esri-widget--button-active",widgetDisabled:"esri-widget--disabled"};function Dl(){return function(t,e){if(!t[e])throw new TypeError(`Cannot auto bind undefined function '${String(e)}'`);return{value:wee(t[e])}}}function bee(t){const e=t==null?void 0:t.type;return t instanceof KeyboardEvent||e==="keyup"||e==="keydown"||e==="keypress"}function wee(t){return function(e,...i){bee(e)?BO(e.key)&&(e.preventDefault(),e.stopPropagation(),e.target.click()):t.call(this,e,...i)}}function Br(t){return(e,i)=>{e.hasOwnProperty("_messageBundleProps")||(e._messageBundleProps=e._messageBundleProps?e._messageBundleProps.slice():[]),e._messageBundleProps.push({bundlePath:t,propertyName:i})}}var _ee=function(t){return{vnodeSelector:"",properties:void 0,children:void 0,text:t.toString(),domNode:null}},CR=function(t,e){for(var i=0,n=t.length;i<n;i++){var r=t[i];Array.isArray(r)?CR(r,e):r!=null&&r!==!1&&(r.hasOwnProperty("vnodeSelector")||(r=_ee(r)),e.push(r))}},See=function(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];if(i.length===1&&typeof i[0]=="string")return{vnodeSelector:t,properties:e||void 0,children:void 0,text:i[0],domNode:null};var r=[];return CR(i,r),{vnodeSelector:t,properties:e||void 0,children:r,text:void 0,domNode:null}};function j(t,e,...i){return typeof t!="function"||Zg(t)?See(t,e,...i):t(e,...i)}function ime(...t){return t}const oc="esri-attribution",ba={base:oc,poweredBy:`${oc}__powered-by`,sources:`${oc}__sources`,open:`${oc}--open`,sourcesOpen:`${oc}__sources--open`,link:`${oc}__link`,widgetIcon:tt.description};let Wt=class extends Ds{constructor(e,i){super(e,i),this._isOpen=!1,this._attributionTextOverflowed=!1,this._prevSourceNodeHeight=0,this._resizeObserver=new ResizeObserver(n=>n.forEach(({target:r})=>this._checkSourceTextOverflow(r))),this.iconClass=ba.widgetIcon,this.icon=null,this.itemDelimiter=" | ",this.messages=null,this.viewModel=new MR}initialize(){this.addHandles(Os(()=>{var e;return(e=this.viewModel)==null?void 0:e.items},"change",()=>this.scheduleRender()))}destroy(){var e;(e=this._resizeObserver)==null||e.disconnect()}get _isInteractive(){return this._isOpen||this._attributionTextOverflowed}get attributionText(){return this.viewModel.items.reduce((e,i)=>(e.includes(i.text)||e.push(i.text),e),[]).join(this.itemDelimiter)}get label(){var e;return((e=this.messages)==null?void 0:e.widgetLabel)??""}set label(e){this._overrideIfSome("label",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}render(){const e={[ba.open]:this._isOpen};return j("div",{bind:this,class:this.classes(ba.base,le.widget,e),dir:"ltr",onclick:this._toggleState,onkeydown:this._toggleState},this._renderSourcesNode(),this._renderPoweredBy())}_renderPoweredBy(){return j("div",{class:ba.poweredBy},"Powered by"," ",j("a",{class:ba.link,href:"http://www.esri.com/",rel:"noreferrer",target:"_blank"},"Esri"))}_renderSourcesNode(){const e=this._isOpen,i=this._isInteractive,n=i?0:void 0,{attributionText:r}=this,s={[ba.sourcesOpen]:e,[le.interactive]:i};return j("div",{afterCreate:this._afterSourcesNodeCreate,bind:this,class:this.classes(ba.sources,s),innerHTML:r,tabIndex:n})}_afterSourcesNodeCreate(e){this._prevSourceNodeHeight=e.clientWidth,this._resizeObserver.observe(e)}_checkSourceTextOverflow(e){let i=!1;const{clientHeight:n,clientWidth:r,scrollWidth:s}=e,o=s>r,a=this._attributionTextOverflowed!==o;if(this._attributionTextOverflowed=o,a&&(i=!0),this._isOpen){const l=n<this._prevSourceNodeHeight;this._prevSourceNodeHeight=n,l&&(this._isOpen=!1,i=!0)}i&&this.scheduleRender()}_toggleState(){this._isInteractive&&(this._isOpen=!this._isOpen)}};d([h()],Wt.prototype,"_isOpen",void 0),d([h()],Wt.prototype,"_isInteractive",null),d([h()],Wt.prototype,"_attributionTextOverflowed",void 0),d([h()],Wt.prototype,"_prevSourceNodeHeight",void 0),d([h({readOnly:!0,dependsOn:["viewModel.items.length","itemDelimiter"]})],Wt.prototype,"attributionText",null),d([h()],Wt.prototype,"iconClass",void 0),d([h()],Wt.prototype,"icon",void 0),d([h()],Wt.prototype,"itemDelimiter",void 0),d([h()],Wt.prototype,"label",null),d([h(),Br("esri/widgets/Attribution/t9n/Attribution")],Wt.prototype,"messages",void 0),d([h()],Wt.prototype,"view",null),d([h({type:MR})],Wt.prototype,"viewModel",void 0),d([Dl()],Wt.prototype,"_toggleState",null),Wt=d([E("esri.widgets.Attribution")],Wt);const xee=Wt;function $ee(t){var e,i;return((e=t==null?void 0:t.spatialReference)==null?void 0:e.isWebMercator)||((i=t==null?void 0:t.spatialReference)==null?void 0:i.isGeographic)||!1}const IR=t=>{let e=class extends t{constructor(...i){super(...i),this.goToOverride=null,this.view=null}callGoTo(i){const{view:n}=this;return PM(n),this.goToOverride?this.goToOverride(n,i):n.goTo(i.target,i.options)}};return d([h()],e.prototype,"goToOverride",void 0),d([h()],e.prototype,"view",void 0),e=d([E("esri.widgets.support.GoTo")],e),e},Tee="esri.widgets.CompassViewModel";let Za=class extends IR(Q){constructor(e){super(e),this.orientation={x:0,y:0,z:0},this.view=null,this._updateForCamera=this._updateForCamera.bind(this),this._updateForRotation=this._updateForRotation.bind(this),this._updateRotationWatcher=this._updateRotationWatcher.bind(this)}initialize(){this.addHandles(K(()=>this.view,this._updateRotationWatcher,yt))}destroy(){this.view=null}get canShowNorth(){return $ee(this.view)}get state(){var e;return!((e=this.view)!=null&&e.ready)||this.view.type==="2d"&&!this.view.constraints.rotationEnabled?"disabled":this.canShowNorth?"compass":"rotation"}reset(){var i,n;if(!((i=this.view)!=null&&i.ready))return;const e={};((n=this.view)==null?void 0:n.type)==="2d"?e.rotation=0:e.heading=0,this.callGoTo({target:e})}_updateForRotation(e){e!=null&&(this.orientation={z:e})}_updateForCamera(e){if(!e)return;const i=-e.heading;this.orientation={x:0,y:0,z:i}}_updateRotationWatcher(e){this.removeAllHandles(),e&&this.addHandles(e.type==="2d"?K(()=>e==null?void 0:e.rotation,this._updateForRotation,yt):K(()=>e==null?void 0:e.camera,this._updateForCamera,yt))}};d([h({readOnly:!0})],Za.prototype,"canShowNorth",null),d([h()],Za.prototype,"orientation",void 0),d([h({readOnly:!0})],Za.prototype,"state",null),d([h()],Za.prototype,"view",void 0),Za=d([E(Tee)],Za);const OR=Za,kE="esri-compass",Mv={base:kE,widgetIcon:tt.locateCircled,iconContainer:`${kE}__icon-container`};let kr=class extends Ds{constructor(e,i){super(e,i),this.iconClass=Mv.widgetIcon,this.icon=null,this.messages=null,this.viewModel=new OR,this._reset=()=>{this.viewModel.reset()},this._toRotationTransform=n=>({transform:`rotateZ(${n.z}deg)`})}loadDependencies(){return sx({button:()=>V(()=>import("./calcite-button-w7JwNzf7.js"),__vite__mapDeps([254,255,256,257,258,259,260,261,262]),import.meta.url),icon:()=>V(()=>import("./calcite-icon-1a_NVDvt.js"),__vite__mapDeps([263,261,259]),import.meta.url)})}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(e){this.viewModel.goToOverride=e}get label(){var e;return((e=this.messages)==null?void 0:e.widgetLabel)??""}set label(e){this._overrideIfSome("label",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}reset(){return this.viewModel.reset()}render(){const{orientation:e,state:i}=this.viewModel,n=i==="rotation"?"arrow-up":"compass-needle",{messages:r}=this;return j("div",{class:this.classes(Mv.base,le.widget)},j("calcite-button",{"aria-label":r.reset,class:le.widgetButton,disabled:i==="disabled",kind:"neutral",onclick:this._reset,round:!0,scale:"s",title:r.reset},j("div",{"aria-hidden":"true",class:Mv.iconContainer,title:r.reset},j("calcite-icon",{icon:n,scale:"m",styles:this._toRotationTransform(e)}))))}};d([h()],kr.prototype,"goToOverride",null),d([h()],kr.prototype,"iconClass",void 0),d([h()],kr.prototype,"icon",void 0),d([h()],kr.prototype,"label",null),d([h(),Br("esri/widgets/Compass/t9n/Compass")],kr.prototype,"messages",void 0),d([h()],kr.prototype,"view",null),d([h({type:OR})],kr.prototype,"viewModel",void 0),kr=d([E("esri.widgets.Compass")],kr);const Eee=kr,ac="esri-navigation-toggle",Qr={base:ac,widgetIcon:tt.pan2,button:`${ac}__button`,activeButton:`${ac}__button--active`,panButton:`${ac}__button--pan`,rotateButton:`${ac}__button--rotate`,isLayoutHorizontal:`${ac}--horizontal`};let Cc=class extends Q{constructor(e){super(e),this.navigationMode="pan",this.view=null}initialize(){this.addHandles(cn(()=>{var e;return(e=this.view)==null?void 0:e.inputManager},()=>this._setNavigationMode()))}destroy(){this.view=null}get state(){var e,i;return(e=this.view)!=null&&e.ready&&((i=this.view)==null?void 0:i.type)==="3d"?"ready":"disabled"}toggle(){this.state!=="disabled"&&(this.navigationMode=this.navigationMode!=="pan"?"pan":"rotate",this._setNavigationMode())}_setNavigationMode(){var i;const e=(i=this.view)==null?void 0:i.inputManager;e&&(e.primaryDragAction=this.navigationMode==="pan"?"pan":"rotate")}};d([h({readOnly:!0})],Cc.prototype,"state",null),d([h()],Cc.prototype,"navigationMode",void 0),d([h()],Cc.prototype,"view",void 0),Cc=d([E("esri.widgets.NavigationToggleViewModel")],Cc);const AR=Cc;let Cn=class extends Ds{constructor(e,i){super(e,i),this.iconClass=Qr.widgetIcon,this.icon=null,this.messages=null,this.viewModel=new AR}get label(){var e;return((e=this.messages)==null?void 0:e.widgetLabel)??""}set label(e){this._overrideIfSome("label",e)}set layout(e){e!=="horizontal"&&(e="vertical"),this._set("layout",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}toggle(){return this.viewModel.toggle()}render(){var l,u;const e=((l=this.viewModel)==null?void 0:l.state)==="disabled",i=((u=this.viewModel)==null?void 0:u.navigationMode)==="pan",n={[le.disabled]:e,[Qr.isLayoutHorizontal]:this.layout==="horizontal"},r={[Qr.activeButton]:i},s={[Qr.activeButton]:!i},o=e?-1:0,a=this.messages.toggle;return j("div",{"aria-label":a,bind:this,class:this.classes(Qr.base,le.widget,n),onclick:this._toggle,onkeydown:this._toggle,tabIndex:o,title:a},j("div",{class:this.classes(Qr.button,le.widgetButton,Qr.panButton,r)},j("span",{class:tt.pan})),j("div",{class:this.classes(Qr.button,le.widgetButton,Qr.rotateButton,s)},j("span",{class:tt.rotate})))}_toggle(){this.toggle()}};d([h()],Cn.prototype,"iconClass",void 0),d([h()],Cn.prototype,"icon",void 0),d([h()],Cn.prototype,"label",null),d([h({value:"vertical"})],Cn.prototype,"layout",null),d([h(),Br("esri/widgets/NavigationToggle/t9n/NavigationToggle")],Cn.prototype,"messages",void 0),d([h()],Cn.prototype,"view",null),d([h({type:AR})],Cn.prototype,"viewModel",void 0),d([Dl()],Cn.prototype,"_toggle",null),Cn=d([E("esri.widgets.NavigationToggle")],Cn);const kee=Cn,Tt="esri-feature",Mee={base:Tt,container:`${Tt}__size-container`,title:`${Tt}__title`,main:`${Tt}__main-container`,btn:`${Tt}__button`,icon:`${Tt}__icon`,content:`${Tt}__content`,contentNode:`${Tt}__content-node`,contentNodeText:`${Tt}__content-node--text`,contentElement:`${Tt}__content-element`,text:`${Tt}__text`,lastEditedInfo:`${Tt}__last-edited-info`,fields:`${Tt}__fields`,fieldHeader:`${Tt}__field-header`,fieldData:`${Tt}__field-data`,fieldDataDate:`${Tt}__field-data--date`,loadingSpinnerContainer:`${Tt}__loading-container`,spinner:`${Tt}__loading-spinner`};let gs=class extends Ds{constructor(){super(...arguments),this.enabled=!0,this.iconClass=null,this.icon=null,this.title=""}render(){const e=this.enabled?0:-1,i={[le.disabled]:!this.enabled,[le.interactive]:this.enabled};return j("div",{bind:this,class:this.classes(le.widgetButton,le.widget,i),onclick:this._triggerAction,onkeydown:this._triggerAction,role:"button",tabIndex:e,title:this.title},j("span",{"aria-hidden":"true",class:this.classes(Mee.icon,this.iconClass??""),role:"presentation"}),j("span",{class:tt.fontFallbackText},this.title))}_triggerAction(){this.action.call(this)}};d([h()],gs.prototype,"action",void 0),d([h()],gs.prototype,"enabled",void 0),d([h()],gs.prototype,"iconClass",void 0),d([h()],gs.prototype,"icon",void 0),d([h()],gs.prototype,"title",void 0),d([Dl()],gs.prototype,"_triggerAction",null),gs=d([E("esri.widgets.IconButton")],gs);const ME=gs;let Ja=class extends Q{get canZoomIn(){var n,r,s;if(!((n=this.view)==null?void 0:n.ready))return!1;const i=(s=(r=this.view)==null?void 0:r.constraints)==null?void 0:s.effectiveMaxScale;return i===0||this._scale>i}get canZoomOut(){var r;const{view:e}=this;if(!(e==null?void 0:e.ready))return!1;const n=(r=e.constraints)==null?void 0:r.effectiveMinScale;return n===0||this._scale<n}get _scale(){var i,n,r;const e=(n=(i=this.view)==null?void 0:i.animation)==null?void 0:n.target;return(e&&"then"in e||e==null?void 0:e.scale)??((r=this.view)==null?void 0:r.scale)??0}};d([h({readOnly:!0})],Ja.prototype,"canZoomIn",null),d([h({readOnly:!0})],Ja.prototype,"canZoomOut",null),d([h()],Ja.prototype,"view",void 0),d([h()],Ja.prototype,"_scale",null),Ja=d([E("esri.widgets.Zoom.ZoomConditions2D")],Ja);const Cee=Ja;let Ic=class extends Q{get canZoomIn(){return!!this.view.ready}get canZoomOut(){return!!this.view.ready}};d([h({readOnly:!0})],Ic.prototype,"canZoomIn",null),d([h({readOnly:!0})],Ic.prototype,"canZoomOut",null),d([h()],Ic.prototype,"view",void 0),Ic=d([E("esri.widgets.Zoom.ZoomConditions3D")],Ic);const Iee=Ic;let yo=class extends Q{constructor(e){super(e)}destroy(){this.view=null}get canZoomIn(){return this._zoomConditions!=null&&this._zoomConditions.canZoomIn}get canZoomOut(){var e;return this._zoomConditions!=null&&((e=this._zoomConditions)==null?void 0:e.canZoomOut)}get state(){var e;return(e=this.view)!=null&&e.ready?"ready":"disabled"}set view(e){e?e.type==="2d"?this._zoomConditions=new Cee({view:e}):e.type==="3d"&&(this._zoomConditions=new Iee({view:e})):this._zoomConditions=null,this._set("view",e)}zoomIn(){if(!this.canZoomIn)return;const e=this.view;e.type==="2d"?e.mapViewNavigation.zoomIn():n$(e.goTo({zoomFactor:2}))}zoomOut(){if(!this.canZoomOut)return;const e=this.view;e.type==="2d"?e.mapViewNavigation.zoomOut():n$(e.goTo({zoomFactor:.5}))}};d([h()],yo.prototype,"_zoomConditions",void 0),d([h()],yo.prototype,"canZoomIn",null),d([h()],yo.prototype,"canZoomOut",null),d([h({readOnly:!0})],yo.prototype,"state",null),d([h()],yo.prototype,"view",null),yo=d([E("esri.widgets.Zoom.ZoomViewModel")],yo);const LR=yo,Cv={base:"esri-zoom",widgetIcon:tt.zoomInMagnifyingGlass,horizontalLayout:"esri-zoom--horizontal"};let Mr=class extends Ds{constructor(e,i){super(e,i),this.iconClass=Cv.widgetIcon,this.icon=null,this.messages=null,this.viewModel=new LR}initialize(){this._zoomInButton=new ME({action:this.zoomIn.bind(this),iconClass:tt.plus}),this._zoomOutButton=new ME({action:this.zoomOut.bind(this),iconClass:tt.minus})}destroy(){this._zoomInButton=ze(this._zoomInButton),this._zoomOutButton=ze(this._zoomOutButton)}get label(){var e;return((e=this.messages)==null?void 0:e.widgetLabel)??""}set label(e){this._overrideIfSome("label",e)}set layout(e){e!=="horizontal"&&(e="vertical"),this._set("layout",e)}set view(e){this.viewModel.view=e}get view(){return this.viewModel.view}render(){const e=this.viewModel,i={[Cv.horizontalLayout]:this.layout==="horizontal"},{canZoomIn:n,canZoomOut:r}=e;this._zoomInButton.enabled=n,this._zoomOutButton.enabled=r;const{zoomIn:s,zoomOut:o}=this.messages;return this._zoomInButton.title=s,this._zoomOutButton.title=o,j("div",{class:this.classes(Cv.base,le.widget,i)},this._zoomInButton.render(),this._zoomOutButton.render())}zoomIn(){return this.viewModel.zoomIn()}zoomOut(){return this.viewModel.zoomOut()}};d([h()],Mr.prototype,"iconClass",void 0),d([h()],Mr.prototype,"icon",void 0),d([h()],Mr.prototype,"label",null),d([h({value:"vertical"})],Mr.prototype,"layout",null),d([h(),Br("esri/widgets/Zoom/t9n/Zoom")],Mr.prototype,"messages",void 0),d([h()],Mr.prototype,"view",null),d([h({type:LR})],Mr.prototype,"viewModel",void 0),Mr=d([E("esri.widgets.Zoom")],Mr);const Oee=Mr;function Aee(t){return(t==null?void 0:t.view)!==void 0}let Lm=class extends PX{constructor(e){super(e),this._defaultPositionLookup={attribution:"manual",compass:"top-left","navigation-toggle":"top-left",zoom:"top-left"},this.components=[],this._updateViewAwareWidgets=i=>{this.components.forEach(n=>{const r=this._find(n),s=r==null?void 0:r.widget;Aee(s)&&(s.view=i)})},this._componentsWatcher=(i,n)=>{this._removeComponents(n),this._addComponents(i),this._adjustPadding(i)}}initialize(){this.addHandles([K(()=>this.components,this._componentsWatcher,yt),K(()=>this.view,this._updateViewAwareWidgets,yt)])}_add(e,i,n,r,s){let o=e;if(typeof e=="string"&&this._defaultPositionLookup[e]){if(this._find(e))return;o=this._createComponent(e)}super._add(o,i,n,r,s)}_removeComponents(e){e.forEach(i=>{const n=this._find(i);n&&(this.remove(n),n.destroy())})}_adjustPadding(e){if(!e.includes("attribution")&&!this._isOverridden("padding")){const{top:i}=this.padding;this.padding=i}}_addComponents(e){this.constructed&&e.forEach(i=>this.add(this._createComponent(i),this._defaultPositionLookup[i]))}_createComponent(e){const i=this._createWidget(e);return new Am({id:e,node:i})}_createWidget(e){const{view:i}=this;switch(e){case"attribution":return new xee({view:i});case"compass":return new Eee({view:i});case"navigation-toggle":return new kee({view:i});case"zoom":return new Oee({view:i})}}};d([h()],Lm.prototype,"components",void 0),Lm=d([E("esri.views.ui.DefaultUI")],Lm);const PR=Lm;let Pm=class extends PR{constructor(e){super(e),this.components=["attribution","zoom"]}};d([h()],Pm.prototype,"components",void 0),Pm=d([E("esri.views.ui.2d.DefaultUI2D")],Pm);const RR=Pm;var Iw;let Rm=Iw=class extends te{constructor(t){super(t),this.color=new ve([0,0,0,1])}clone(){return new Iw(z({color:this.color}))}};d([h({type:ve,json:{write:!0}})],Rm.prototype,"color",void 0),Rm=Iw=d([E("esri.webmap.background.ColorBackground")],Rm);const Lee=Rm;let NR,DR,zR,FR,jR,UR;async function Pee(){const[,{GraphicsView2D:t,GraphicContainer:e,LabelManager:i,MapViewNavigation:n,MagnifierView2D:r,Stage:s}]=await Promise.all([V(()=>import("./webglDeps-ZUjoJlnO.js"),__vite__mapDeps([178,179,180,39,181,182]),import.meta.url),V(()=>import("./mapViewDeps-LS2iBiBk.js"),__vite__mapDeps([183,184,109,72,12,73,74,39,40,75,102,116,185,103,2,186,187,188,115,180,189,190,191,70,160,148,149,30,120,192,179,181,3,105,104,108,14,15,145,146,119,90,82,55,193,101,178,182,194,195,57,196,197,198,106,21,69,199,111,71,27,24,23,200,201,202,203,204,205,19,9,206,207,208,209,80,210]),import.meta.url)]);DR=t,zR=e,FR=i,jR=n,UR=r,NR=s}let ae=class extends pH(BB(CB(RZ))){constructor(e){super(e),this._magnifierView=null,this.stage=null,this._resolveWhenReady=[],this.rootLayerViews=new Ih({getCollections:()=>{var i,n;return[(i=this.basemapView)==null?void 0:i.baseLayerViews,this.layerViews,(n=this.basemapView)==null?void 0:n.referenceLayerViews]},getChildrenFunction:()=>null}),this.featuresTilingScheme=null,this.fullOpacity=1,this.goToManager=new Cm({view:this}),this.graphicsView=null,this.stateManager=new ri({constraints:new yP({view:this})}),this.stationaryManager=new Wd,this.labelManager=null,this.mapViewNavigation=null,this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!0,labelsAnimationTime:125,labelCollisionsEnabled:!0},this.supersampleScreenshotsEnabled=!0,this.supportsGround=!1,this.frameTask=new cK(this),this.floors=new ee,this.highlightOptions=new NP,this.inputManager=new BY({view:this}),this.map=null,this.spatialReferenceLocked=!1,this.timeline=new UP,this.type="2d",this.ui=new RR,this.test={takeScreenshot:async i=>hX(this._getScreenshotView(i),i)},this.padding={top:0,right:0,bottom:0,left:0},this.addHandles([K(()=>this.viewpoint,()=>this.stationaryManager.flip(),Cu),this.on("resize",i=>this.stateManager.resize(i.width,i.height)),K(()=>{var i;return(i=this.animationManager)==null?void 0:i.animation},i=>{this.animation=i})]),IU()}destroy(){this._set("preconditionsReady",!1),this.frameTask=ze(this.frameTask),this.goToManager.destroy(),this.rootLayerViews.destroy(),this.inputManager.destroy(),this._set("inputManager",null)}get graphicsTileStore(){return new YY(this.featuresTilingScheme)}get constraintsInfo(){var n,r;const e=(n=this.defaultsFromMap)==null?void 0:n.tileInfo,i=this.spatialReference;return{lods:(r=e==null?void 0:e.spatialReference)!=null&&r.equals(i)?e.lods:null,spatialReference:i}}get state(){return this.stateManager.state}get initialExtentRequired(){var a;if(!this.stateManager)return!1;const{scale:e,constraints:i,center:n,viewpoint:r,extent:s}=this;let o=this.zoom;return!(this.map&&"initialViewProperties"in this.map&&((a=this.map.initialViewProperties)!=null&&a.viewpoint))&&!s&&(i!=null&&i.effectiveLODs||(o=-1),(!n||e===0&&o===-1)&&((r==null?void 0:r.targetGeometry)==null||r.targetGeometry.type!=="extent"&&!r.scale))}get _defaultsFromMapSettings(){return{required:{tileInfo:!0,heightModelInfo:!1,extent:!1},requiresExtentInSpatialReference:this.spatialReferenceLocked}}get typeSpecificPreconditionsReady(){const e=this._getDefaultViewpoint();if(!e)return!1;const i=this.spatialReference,n=e.targetGeometry;return!!Ur(n.spatialReference,i)||mO()}set animation(e){const i=this._get("animation");if(e===i)return;if(i&&i.stop(),!e||e.isFulfilled())return this._set("animation",null),void(this.frameTask.animationInProgress=!1);this._set("animation",e),this.frameTask.animationInProgress=!0;const n=()=>{var r;e===this._get("animation")&&(this._set("animation",null),(r=this.frameTask)==null||r.requestFrame()),this.frameTask.animationInProgress=!1};e.when(n,n)}get background(){return CE(this.map)?this.map.initialViewProperties.background:null}set background(e){this._override("background",e)}get center(){var e;return((e=this.stateManager)==null?void 0:e.center)??null}set center(e){this.stateManager.center=e}get constraints(){var e;return(e=this.stateManager)==null?void 0:e.constraints}set constraints(e){e.view=this;const i=this.stateManager.constraints;this.stateManager.constraints=e,i==null||i.destroy()}get extent(){var e;return((e=this.stateManager)==null?void 0:e.extent)??null}set extent(e){this.stateManager.extent=e}get padding(){var e;return(e=this.stateManager)==null?void 0:e.padding}set padding(e){this.stateManager&&(this.stateManager.padding=e)}get rendering(){var e;return((e=this.stage)==null?void 0:e.renderRequested)??!1}get resizeAlign(){return this.stateManager.resizeAlign}set resizeAlign(e){this.stateManager.resizeAlign=e}get resolution(){return this.stateManager.resolution??0}get rotation(){return this.stateManager.rotation??0}set rotation(e){const{rotationEnabled:i}=this.constraints;this.constraints.rotationEnabled=!0,this.stateManager.rotation=e,this.constraints.rotationEnabled=i}get scale(){var e;return((e=this.stateManager)==null?void 0:e.scale)??0}set scale(e){this.stateManager&&(this.stateManager.scale=e)}get stationary(){return!this.animation&&!this.navigating&&!this.resizing&&this.stationaryManager.stationary}get updating(){var i,n,r;const e=!this.destroyed&&(!this.layerViewManager||!this.labelManager||!this.graphicsView||this.layerViewManager.updating===!0||this.labelManager.updating===!0||this.graphicsView.updating===!0||this.allLayerViews.some(s=>!s.destroyed&&!("layerViews"in s)&&s.updating===!0));if(P("esri-2d-log-updating")){const s=this.allLayerViews.reduce((o,a)=>({...o,[a.layer.id]:!a.destroyed&&!("layerViews"in a)&&a.updating}),{});console.log(`Updating MapView: ${e}
-> Null LayerViewManager: ${!this.layerViewManager}
-> Null LabelManager: ${!this.labelManager}
-> Null GraphicsView: ${!this.graphicsView}
-> layerViewManager.updating: ${(i=this.layerViewManager)==null?void 0:i.updating}
-> labelManager.updating: ${(n=this.labelManager)==null?void 0:n.updating}
-> graphicsView.updating: ${(r=this.graphicsView)==null?void 0:r.updating}
-> allLayerViews: ${JSON.stringify(s)}
`)}return e}get viewpoint(){return this.stateManager.viewpoint??null}set viewpoint(e){this.stateManager.viewpoint=e,this.frameTask.requestFrame()}get zoom(){return this.stateManager.zoom??-1}set zoom(e){this.stateManager.zoom=e}get navigating(){var e;return((e=this.mapViewNavigation)==null?void 0:e.interacting)??!1}goTo(e,i){return this.goToManager.goTo(e,i)}async hitTest(e,i){return XY(this,e,i)}async takeScreenshot(e){return dX(this._getScreenshotView(e),e)}toMap(e){if(!this.ready)return null;const i=OL(e)?IL(this,e):e;return this.stateManager.toMap(i)}toScreen(e,i){return this.stateManager.toScreen(e,i)}on(e,i,n,r){return this.inputManager&&this.viewEvents.on(e,i,n,r)||super.on(e,i)}hasEventListener(e){return super.hasEventListener(e)||this.viewEvents.hasHandler(e)}whenLayerView(e){return super.whenLayerView(e)}graphicChanged(e){this.graphicsView&&this.graphicsView.graphicUpdateHandler(e)}whenReady(){return new Promise(e=>{this.ready?e(this):this._resolveWhenReady.push(e)})}forceDOMReadyCycle(){this.forceReadyCycle()}getDefaultSpatialReference(){var e,i,n;return this.map&&"initialViewProperties"in this.map&&((i=(e=this.map)==null?void 0:e.initialViewProperties)==null?void 0:i.spatialReference)||((n=this.defaultsFromMap)==null?void 0:n.spatialReference)||null}getDefaultTimeZone(){return CE(this.map)?this.map.initialViewProperties.timeZone:null}hasLayerViewModule(e){return HT.hasLayerViewModule(e)}importLayerView(e){return HT.importLayerView(e)}pixelSizeAt(){return this.ready?this.resolution:(G.getLogger(this).error("#pixelSizeAt()","Map view cannot be used before it is ready"),null)}popupHitTest(e){return this.hitTest(e).then(i=>({...i,mapPoint:this.toMap(e)}))}requestUpdate(){this.ready&&this.frameTask.requestUpdate()}async validate(){let e=$X(this.type);if(P("safari")&&P("safari")<9&&(e=new D("mapview:browser-not-supported","This browser is not supported by MapView (Safari < 9)",{type:"safari",requiredVersion:9,detectedVersion:P("safari")})),e!=null)throw G.getLogger(this).warn("#validate()",e.message),e}loadAsyncDependencies(){return Pee()}_getDefaultViewpoint(){var w;const{constraints:e,initialExtent:i,map:n,padding:r,size:s}=this;if(!e)return null;const o=n&&"initialViewProperties"in n?n.initialViewProperties:void 0,a=this.stateManager.getUserStartupOptions(this.size),l=o==null?void 0:o.viewpoint,u=((w=l==null?void 0:l.targetGeometry)==null?void 0:w.extent)??i,p=u==null?void 0:u.center,f=(l==null?void 0:l.rotation)??0,m=(l==null?void 0:l.scale)||u&&Xc(u,[s[0]-r.left-r.right,s[1]-r.top-r.bottom]),g=a.center??p,y=a.rotation??f,v=a.scale??m;return g&&v?new Nr({targetGeometry:g,scale:v,rotation:y}):null}_startup(){var a;this.timeline.begin("MapView Startup");const e=this._getDefaultViewpoint();this.stateManager.startup(e,this.size,this.spatialReference,(a=this.defaultsFromMap.extent)==null?void 0:a.center),this.graphics.owner=this;const i=new NR(this.surface,{canvas:this.renderCanvas,contextOptions:{disabledExtensions:this.deactivatedWebGLExtensions,debugWebGLExtensions:this.debugWebGLExtensions},renderingOptions:this.renderingOptions,timeline:this.timeline});this.stage=i,this._magnifierView=new UR,this._magnifierView.magnifier=this.magnifier;const n=new FR({view:this});this._set("labelManager",n);const r=new lK({view:this});this._set("animationManager",r);const s=new jR({view:this,animationManager:r});this._set("mapViewNavigation",s),this._setupSpatialReferenceDependentProperties(),this.addHandles([this.rootLayerViews.on("change",()=>this._updateStageChildren()),i.on("webgl-error",l=>this.fatalError=l.error),K(()=>this.stationary,l=>i.stationary=l,ws),K(()=>this.background,l=>{i.backgroundColor=l==null?void 0:l.color,this._magnifierView.backgroundColor=l==null?void 0:l.color},ws),K(()=>this.magnifier,l=>this._magnifierView.magnifier=l,ws),K(()=>this.renderingOptions,l=>i.renderingOptions=l,ws),K(()=>this.highlightOptions,l=>i.highlightOptions=l,ws),K(()=>this.state.id,()=>i.state=this.state,ws)],"map-view"),this._updateStageChildren();const o=this._resolveWhenReady;this._resolveWhenReady=[],o.forEach(l=>l(this)),this.timeline.end("MapView Startup"),this.frameTask.start(),this._set("ready",!0)}_teardown(){this._destroySpatialReferenceDependentProperties(),this.removeHandles("map-view"),this.mapViewNavigation.destroy(),this._set("mapViewNavigation",null),this.animationManager.destroy(),this._set("animationManager",null),this.layerViewManager.clear(),this.labelManager.destroy(),this._magnifierView.destroy(),this.stage.destroy(),this.stage=null,this._set("graphicsView",null),this._magnifierView=null,this._set("labelManager",null),this._set("mapViewNavigation",null),this.graphics.owner=null,this.frameTask.stop(),this.stationaryManager.clear(),this._set("ready",!1),this.stateManager.teardown(),this.animation=null}_updateStageChildren(){this.stage.removeAllChildren(),this.rootLayerViews.forEach(i=>{this.stage.addChild(i.container)});const e=this.graphicsView;this.stage.addChild(e.container),this.stage.addChild(this._magnifierView)}_setupSpatialReferenceDependentProperties(){const e=new yK(lh.create({spatialReference:this.spatialReference,size:512,numLODs:36}));this._set("featuresTilingScheme",e);const i=new DR({view:this,graphics:this.graphics,requestUpdateCallback:()=>this.requestUpdate(),container:new zR(e)});this._set("graphicsView",i)}_destroySpatialReferenceDependentProperties(){const e=this.graphicsView;this._set("graphicsView",null),e.destroy(),this._set("featuresTilingScheme",null)}_getScreenshotView(e){var o;const{allLayerViews:i,padding:n,size:r,stage:s}=this;return{allLayerViews:i,backgroundColor:e!=null&&e.ignoreBackground?null:(o=this.background)==null?void 0:o.color,padding:n,size:r,stage:s}}_spatialReferenceChanged(e){if(this.ready){this.frameTask.stop();for(const i of this.allLayerViews)i.processDetach();this._destroySpatialReferenceDependentProperties(),this.stateManager.changeSpatialReference(e),this.stage.state=this.state,this._setupSpatialReferenceDependentProperties();for(const i of this.allLayerViews)i.processAttach();this.frameTask.requestFrame(),this.frameTask.start(),this._updateStageChildren()}}};ae.type="2d",d([h({readOnly:!0})],ae.prototype,"animationManager",void 0),d([h({constructOnly:!0})],ae.prototype,"deactivatedWebGLExtensions",void 0),d([h({constructOnly:!0})],ae.prototype,"debugWebGLExtensions",void 0),d([h({readOnly:!0})],ae.prototype,"featuresTilingScheme",void 0),d([h({readOnly:!0})],ae.prototype,"fullOpacity",void 0),d([h()],ae.prototype,"goToManager",void 0),d([h({readOnly:!0})],ae.prototype,"graphicsTileStore",null),d([h()],ae.prototype,"graphicsView",void 0),d([h()],ae.prototype,"stateManager",void 0),d([h()],ae.prototype,"constraintsInfo",null),d([h({readOnly:!0})],ae.prototype,"state",null),d([h()],ae.prototype,"initialExtentRequired",null),d([h()],ae.prototype,"labelManager",void 0),d([h({readOnly:!0})],ae.prototype,"mapViewNavigation",void 0),d([h({constructOnly:!0})],ae.prototype,"renderCanvas",void 0),d([h()],ae.prototype,"renderingOptions",void 0),d([h({constructOnly:!0})],ae.prototype,"supersampleScreenshotsEnabled",void 0),d([h({readOnly:!0})],ae.prototype,"supportsGround",void 0),d([h()],ae.prototype,"_defaultsFromMapSettings",null),d([h({readOnly:!0})],ae.prototype,"typeSpecificPreconditionsReady",null),d([h()],ae.prototype,"animation",null),d([h({type:Lee})],ae.prototype,"background",null),d([h()],ae.prototype,"center",null),d([h({type:yP})],ae.prototype,"constraints",null),d([h()],ae.prototype,"extent",null),d([h()],ae.prototype,"floors",void 0),d([h({type:NP})],ae.prototype,"highlightOptions",void 0),d([h({readOnly:!0})],ae.prototype,"inputManager",void 0),d([h()],ae.prototype,"map",void 0),d([h()],ae.prototype,"padding",null),d([h({readOnly:!0})],ae.prototype,"rendering",null),d([h()],ae.prototype,"resizeAlign",null),d([h({readOnly:!0})],ae.prototype,"resolution",null),d([h()],ae.prototype,"rotation",null),d([h()],ae.prototype,"scale",null),d([h({constructOnly:!0})],ae.prototype,"spatialReferenceLocked",void 0),d([h()],ae.prototype,"stationary",null),d([h({type:UP,readOnly:!0})],ae.prototype,"timeline",void 0),d([h({readOnly:!0})],ae.prototype,"type",void 0),d([h({readOnly:!0})],ae.prototype,"updating",null),d([h()],ae.prototype,"viewpoint",null),d([h()],ae.prototype,"zoom",null),d([h({readOnly:!0})],ae.prototype,"navigating",null),d([h(),ei(t=>t instanceof PR?t:u_(RR,t))],ae.prototype,"ui",void 0),ae=d([E("esri.views.MapView")],ae);const Ree=ae;function CE(t){return(t==null?void 0:t.declaredClass)==="esri.WebMap"}function ox(){return[0,0,0,0]}function Nee(t){return[t[0],t[1],t[2],t[3]]}function Nu(t,e,i,n){return[t,e,i,n]}function Dee(t,e=ox()){const i=Math.min(4,t.length);for(let n=0;n<i;++n)e[n]=t[n];return e}function zee(t,e){return new Float64Array(t,e,4)}function HR(){return ox()}function BR(){return Nu(1,1,1,1)}function GR(){return Nu(1,0,0,0)}function VR(){return Nu(0,1,0,0)}function WR(){return Nu(0,0,1,0)}function qR(){return Nu(0,0,0,1)}const Fee=HR(),jee=BR(),Uee=GR(),Hee=VR(),Bee=WR(),Gee=qR();Object.freeze(Object.defineProperty({__proto__:null,ONES:jee,UNIT_W:Gee,UNIT_X:Uee,UNIT_Y:Hee,UNIT_Z:Bee,ZEROS:Fee,clone:Nee,create:ox,createView:zee,fromArray:Dee,fromValues:Nu,ones:BR,unitW:qR,unitX:GR,unitY:VR,unitZ:WR,zeros:HR},Symbol.toStringTag,{value:"Module"}));let Vee=class{constructor(e){this.message=e}toString(){return`AssertException: ${this.message}`}};function ZR(t,e){if(!t){e=e||"Assertion";const i=new Error(e).stack;throw new Vee(`${e} at ${i}`)}}function yme(t,e,i,n){let r,s=(i[0]-t[0])/e[0],o=(n[0]-t[0])/e[0];s>o&&(r=s,s=o,o=r);let a=(i[1]-t[1])/e[1],l=(n[1]-t[1])/e[1];if(a>l&&(r=a,a=l,l=r),s>l||a>o)return!1;a>s&&(s=a),l<o&&(o=l);let u=(i[2]-t[2])/e[2],p=(n[2]-t[2])/e[2];return u>p&&(r=u,u=p,p=r),!(s>p||u>o)&&(p<o&&(o=p),!(o<0))}let Wee=class{constructor(e){this.client=e,this._cancelled=!1,this.size=0,this.duration=0}},qee=class{constructor(e){this.typeWorkerQuota=e,this.tasks=new Array,this.numWorkers=0,this.statistics=new Zee}},Zee=class{constructor(){this.requests=0,this.size=0,this.duration=0,this.speed=0}},Jee=class{constructor(e,i,n,r){this._workerFunc=e,this._callbackFunc=i,this._maxTotalNumWorkers=n,this._totalNumWorkers=0,this._clients=r.map(s=>new qee(s))}destroy(){this._clients.length=0}hasQuota(e){const i=this._clients[e];return!!i&&(this._totalNumWorkers<this._maxTotalNumWorkers||i.numWorkers+i.tasks.length<i.typeWorkerQuota)}push(e){const i=this._clients[e.client];i&&(this._totalNumWorkers<this._maxTotalNumWorkers?(i.numWorkers++,this._totalNumWorkers++,this._workerFunc(e,(n,r)=>this._taskCallback(n,r))):i.tasks.push(e))}cancel(e){this._taskFinished(e),e._cancelled=!0}_taskFinished(e){const i=this._clients[e.client];this._totalNumWorkers--,i&&(i.numWorkers--,i.statistics.requests++,i.statistics.size+=e.size||0,i.statistics.duration+=e.duration||0,i.statistics.speed=i.statistics.duration>0?i.statistics.size/i.statistics.duration:0,ZR(i.numWorkers>=0)),this._next()}_next(){for(const e of this._clients)if(e&&e.numWorkers<e.typeWorkerQuota&&this._processQueue(e))return;for(const e of this._clients)if(e&&this._processQueue(e))return}_processQueue(e){for(;e.tasks.length>0;)if(this._workerFunc(e.tasks.shift(),(i,n)=>this._taskCallback(i,n)))return e.numWorkers++,this._totalNumWorkers++,!0;return!1}_taskCallback(e,i){e._cancelled||(this._callbackFunc(e,i),this._taskFinished(e))}getStatsForType(e){const i=this._clients[e];return i?{quota:i.typeWorkerQuota,workers:i.numWorkers,queueSize:i.tasks.length,requestStats:i.statistics}:null}get test(){const e=this;return{set workerFunc(i){e._workerFunc=i}}}},Kee=class{constructor(){this._tasks=new Array,this._running=zh(!1)}get length(){return this._tasks.length}get running(){return this._running.value}destroy(){this.cancelAll()}runTask(e){for(;!e.done&&this._process(e);)e.madeProgress()}push(e,i,n){return this._running.value=!0,new Promise((r,s)=>this._tasks.push(new IE(r,s,e,i,n)))}unshift(e,i,n){return this._running.value=!0,new Promise((r,s)=>this._tasks.unshift(new IE(r,s,e,i,n)))}_process(e){var n;if(this._tasks.length===0)return!1;const i=this._tasks.shift();try{const r=Bn(i.signal);if(r&&!i.abortCallback)i.reject(Be());else{const s=r?(n=i.abortCallback)==null?void 0:n.call(i,Be()):i.callback(e);Ns(s)?s.then(i.resolve,i.reject):i.resolve(s)}}catch(r){i.reject(r)}return this._running.value=this._tasks.length>0,!0}cancelAll(){const e=Be();for(const i of this._tasks)if(i.abortCallback){const n=i.abortCallback(e);i.resolve(n)}else i.reject(e);this._tasks.length=0,this._running.value=!1}},IE=class{constructor(e,i,n,r=void 0,s=void 0){this.resolve=e,this.reject=i,this.callback=n,this.signal=r,this.abortCallback=s}},qd=class extends Q{constructor(){super(...arguments),this.SCHEDULER_LOG_SLOW_TASKS=!1,this.FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES=!1}};d([h()],qd.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0),d([h()],qd.prototype,"FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES",void 0),qd=d([E("esri.views.support.DebugFlags")],qd);const Yee=new qd;var Oi;(function(t){t[t.ANIMATING=0]="ANIMATING",t[t.INTERACTING=1]="INTERACTING",t[t.IDLE=2]="IDLE"})(Oi||(Oi={}));var Ow,me;(function(t){t[t.YIELD=1]="YIELD"})(Ow||(Ow={})),function(t){t.RESOURCE_CONTROLLER_IMMEDIATE="immediate",t.RESOURCE_CONTROLLER="schedule",t.SLIDE="slide",t.STREAM_DATA_LOADER="stream loader",t.ELEVATION_QUERY="elevation query",t.TERRAIN_SURFACE="terrain",t.SURFACE_GEOMETRY_UPDATES="surface geometry updates",t.LOD_RENDERER="LoD renderer",t.GRAPHICS_CORE="Graphics3D",t.I3S_CONTROLLER="I3S",t.POINT_CLOUD_LAYER="point cloud",t.FEATURE_TILE_FETCHER="feature fetcher",t.OVERLAY="overlay",t.STAGE="stage",t.GRAPHICS_DECONFLICTOR="graphics deconflictor",t.FILTER_VISIBILITY="Graphics3D filter visibility",t.SCALE_VISIBILITY="Graphics3D scale visibility",t.FRUSTUM_VISIBILITY="Graphics3D frustum visibility",t.POINT_OF_INTEREST_FREQUENT="POI frequent",t.POINT_OF_INTEREST_INFREQUENT="POI infrequent",t.LABELER="labeler",t.FEATURE_QUERY_ENGINE="feature query",t.FEATURE_TILE_TREE="feature tile tree",t.FEATURE_TILE_TREE_ACTIVE="fast feature tile tree",t.ELEVATION_ALIGNMENT="elevation alignment",t.TEXT_TEXTURE_ATLAS="text texture atlas",t.TEXTURE_UNLOAD="texture unload",t.LINE_OF_SIGHT_TOOL="line of sight tool",t.LINE_OF_SIGHT_TOOL_INTERACTIVE="interactive line of sight tool",t.ELEVATION_PROFILE="elevation profile",t.SNAPPING="snapping",t.SHADOW_ACCUMULATOR="shadow accumulator",t.CLOUDS_GENERATOR="clouds generator",t[t.NONE=0]="NONE",t[t.TEST_PRIO=1]="TEST_PRIO"}(me||(me={}));const Or=0,OE=new Map([[me.RESOURCE_CONTROLLER_IMMEDIATE,Or],[me.RESOURCE_CONTROLLER,4],[me.SLIDE,Or],[me.STREAM_DATA_LOADER,Or],[me.ELEVATION_QUERY,Or],[me.TERRAIN_SURFACE,1],[me.SURFACE_GEOMETRY_UPDATES,1],[me.LOD_RENDERER,2],[me.GRAPHICS_CORE,2],[me.I3S_CONTROLLER,2],[me.POINT_CLOUD_LAYER,2],[me.FEATURE_TILE_FETCHER,2],[me.OVERLAY,4],[me.STAGE,4],[me.GRAPHICS_DECONFLICTOR,4],[me.FILTER_VISIBILITY,4],[me.SCALE_VISIBILITY,4],[me.FRUSTUM_VISIBILITY,4],[me.CLOUDS_GENERATOR,4],[me.POINT_OF_INTEREST_FREQUENT,6],[me.POINT_OF_INTEREST_INFREQUENT,30],[me.LABELER,8],[me.FEATURE_QUERY_ENGINE,8],[me.FEATURE_TILE_TREE,16],[me.FEATURE_TILE_TREE_ACTIVE,Or],[me.ELEVATION_ALIGNMENT,12],[me.TEXT_TEXTURE_ATLAS,12],[me.TEXTURE_UNLOAD,12],[me.LINE_OF_SIGHT_TOOL,16],[me.LINE_OF_SIGHT_TOOL_INTERACTIVE,Or],[me.SNAPPING,Or],[me.SHADOW_ACCUMULATOR,30]]);function AE(t){return OE.has(t)?OE.get(t):typeof t=="number"?t:1}const LE=6.5,PE=1,Xee=30,RE=1e3/30,NE=100,DE=.9;var Aw,wa;(function(t){class e{get updating(){return this._updating.value}_updatingChanged(){this._updating.value=this._tasks.some(s=>s.needsUpdate)}constructor(){this._updating=zh(!0),this._microTaskQueued=!1,this._frameNumber=0,this.performanceInfo={total:new Xd("total"),tasks:new Map},this._frameTaskTimes=new Map,this._budget=new n,this._state=Oi.INTERACTING,this._tasks=new Qd,this._runQueue=new Qd,this._load=0,this._idleStateCallbacks=new Qd,this._idleUpdatesStartFired=!1,this._forceTask=!1,this._debug=!1,this._debugHandle=K(()=>Yee.SCHEDULER_LOG_SLOW_TASKS,o=>this._debug=o,yt);for(const o of Object.keys(me))this.performanceInfo.tasks.set(me[o],new Xd(me[o]));const s=this;this._test={FRAME_SAFETY_BUDGET:LE,INTERACTING_BUDGET:RE,IDLE_BUDGET:NE,get availableBudget(){return s._budget.budget},usedBudget:0,getBudget:()=>s._budget,setBudget:o=>s._budget=o,updateTask:o=>this._updateTask(o),getState:o=>this._getState(o),getRuntime:o=>this._getRuntime(o),frameTaskTimes:this._frameTaskTimes,resetRuntimes:()=>this._resetRuntimes(),getRunning:()=>this._getRunning()}}destroy(){this._tasks.toArray().forEach(s=>s.remove()),this._tasks.clear(),Ke(this._debugHandle),this._microTaskQueued=!1,this._updatingChanged()}taskRunningChanged(s){this._updatingChanged(),s&&this._budget.remaining>0&&!this._microTaskQueued&&(this._microTaskQueued=!0,queueMicrotask(()=>{this._microTaskQueued&&(this._microTaskQueued=!1,this._budget.remaining>0&&this._schedule()&&this.frame())}))}registerTask(s,o){const a=AE(s),l=new i(this,s,o,a);return this._tasks.push(l),this._updatingChanged(),this.performanceInfo.tasks.has(s)||this.performanceInfo.tasks.set(s,new Xd(s)),l}registerIdleStateCallbacks(s,o){const a={idleBegin:s,idleEnd:o};this._idleStateCallbacks.push(a),this.state===Oi.IDLE&&this._idleUpdatesStartFired&&a.idleBegin();const l=this;return{remove:()=>this._removeIdleStateCallbacks(a),set idleBegin(u){l._idleUpdatesStartFired&&(a.idleEnd(),l._state===Oi.IDLE&&u()),a.idleBegin=u},set idleEnd(u){a.idleEnd=u}}}get load(){return this._load}set state(s){this._state!==s&&(this._state=s,this.state!==Oi.IDLE&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forAll(o=>o.idleEnd())))}get state(){return this._state}updateBudget(s){this._test.usedBudget=0,++this._frameNumber;let o=LE,a=s.frameDuration,l=PE;switch(this.state){case Oi.IDLE:o=0,a=Math.max(NE,s.frameDuration),l=Xee;break;case Oi.INTERACTING:a=Math.max(RE,s.frameDuration);case Oi.ANIMATING:}return a=a-s.elapsedFrameTime-o,this.state!==Oi.IDLE&&a<PE&&!this._forceTask?(this._forceTask=!0,!1):(a=Math.max(a,l),this._budget.reset(a,this.state),this._updateLoad(),this._schedule())}frame(){switch(this._forceTask=!1,this._microTaskQueued=!1,this.state){case Oi.IDLE:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forAll(s=>s.idleBegin())),this._runIdle();break;case Oi.INTERACTING:this._runInteracting();break;default:this._runAnimating()}this._test.usedBudget=this._budget.elapsed}stopFrame(){this._budget.reset(0,this._state),this._budget.madeProgress()}_removeIdleStateCallbacks(s){this._idleUpdatesStartFired&&s.idleEnd(),this._idleStateCallbacks.removeUnordered(s)}removeTask(s){this._tasks.removeUnordered(s),this._runQueue.removeUnordered(s),this._updatingChanged()}_updateTask(s){this._tasks.forAll(o=>{o.name===s&&o.setPriority(s)})}_getState(s){if(this._runQueue.some(a=>a.name===s))return wa.SCHEDULED;let o=wa.IDLE;return this._tasks.forAll(a=>{a.name===s&&a.needsUpdate&&(a.schedulePriority<=1?o=wa.READY:o!==wa.READY&&(o=wa.WAITING))}),o}_getRuntime(s){let o=0;return this._tasks.forAll(a=>{a.name===s&&(o+=a.runtime)}),o}_resetRuntimes(){this._tasks.forAll(s=>s.runtime=0)}_getRunning(){const s=new Map;if(this._tasks.forAll(a=>{a.needsUpdate&&s.set(a.name,(s.get(a.name)||0)+1)}),s.size===0)return null;let o="";return s.forEach((a,l)=>{o+=a>1?` ${a}x ${l}`:` ${l}`}),o}_runIdle(){this._run()}_runInteracting(){this._run()}_runAnimating(){this._run()}_updateLoad(){const s=this._tasks.reduce((o,a)=>a.needsUpdate?++o:o,0);this._load=this._load*DE+s*(1-DE)}_schedule(){for(this._runQueue.filterInPlace(s=>!!s.needsUpdate||(s.schedulePriority=s.basePriority,!1)),this._tasks.forAll(s=>{s.basePriority===Or&&s.needsUpdate&&!this._runQueue.includes(s)&&s.blockFrame!==this._frameNumber&&this._runQueue.unshift(s)});this._runQueue.length===0;){let s=!1,o=0;if(this._tasks.forAll(a=>{a.needsUpdate&&a.schedulePriority!==0&&a.basePriority!==Or&&a.blockFrame!==this._frameNumber&&(s=!0,o=Math.max(o,a.basePriority),a.schedulePriority===1?(a.schedulePriority=0,this._runQueue.push(a)):--a.schedulePriority)}),!s)return this._updatingChanged(),!1}return this._updatingChanged(),!0}_run(){const s=this._budget.now();this._startFrameTaskTimes();do for(;this._runQueue.length>0;){const o=this._budget.now(),a=this._runQueue.pop();this._budget.resetProgress();try{a.task.runTask(this._budget)===Ow.YIELD&&(a.blockFrame=this._frameNumber)}catch(u){G.getLogger("esri.views.support.Scheduler").error(`Exception in task "${a.name}"`,u),a.blockFrame=this._frameNumber}!this._budget.hasProgressed&&a.blockFrame!==this._frameNumber&&a.needsUpdate&&(a.name,me.I3S_CONTROLLER,a.blockFrame=this._frameNumber),a.schedulePriority=a.basePriority;const l=this._budget.now()-o;if(a.runtime+=l,this._frameTaskTimes.set(a.priority,this._frameTaskTimes.get(a.priority)+l),this._debug&&l>2*this._budget.budget&&console.log("Task",a.name,"used",l,"of max",this._budget.budget,"ms"),this._budget.remaining<=0)return this._updatingChanged(),void this._recordFrameTaskTimes(this._budget.now()-s)}while(this._schedule());this._updatingChanged(),this._recordFrameTaskTimes(this._budget.now()-s)}_startFrameTaskTimes(){for(const s of Object.keys(me))this._frameTaskTimes.set(me[s],0)}_recordFrameTaskTimes(s){this._frameTaskTimes.forEach((o,a)=>this.performanceInfo.tasks.get(a).record(o)),this.performanceInfo.total.record(s)}get test(){return this._test}}t.Scheduler=e;class i{get task(){return this._task.value}get updating(){return this._queue.running}constructor(s,o,a,l){this._scheduler=s,this.name=o,this._basePriority=l,this.blockFrame=0,this.runtime=0,this._queue=new Kee,this._handles=new Sy,this.schedulePriority=this._basePriority,this._task=zh(a??this._queue),this._handles.add(cn(()=>this.task.running,u=>s.taskRunningChanged(u)))}remove(){this.processQueue(JR),this._scheduler.removeTask(this),this.schedule=zE.schedule,this.reschedule=zE.reschedule,this._handles.destroy()}get basePriority(){return this._basePriority}setPriority(s){this.name=s;const o=AE(s);this._basePriority!==Or&&this.schedulePriority===0||(this.schedulePriority=o),this._basePriority=o}get priority(){return this.name}set priority(s){this.setPriority(s)}get needsUpdate(){return this.updating||this.task.running}schedule(s,o,a){return this._queue.push(s,o,a)}reschedule(s,o,a){return this._queue.unshift(s,o,a)}processQueue(s){this._queue.runTask(s)}}class n{constructor(){this._begin=typeof performance<"u"?performance.now():0,this._budget=0,this._state=Oi.IDLE,this._done=!1,this._progressed=!1,this._enabled=!0}run(s){return!this.done&&(s()===!0&&this.madeProgress(),!0)}get done(){return this._done}get budget(){return this._budget}madeProgress(){return this._progressed=!0,this._done=this.elapsed>=this._budget&&this._enabled,this._done}get state(){return this._state}get enabled(){return this._enabled}set enabled(s){this._enabled=s}reset(s,o){this._begin=this.now(),this._budget=s,this._state=o,this.resetProgress()}get remaining(){return Math.max(this._budget-this.elapsed,0)}now(){return performance.now()}get elapsed(){return performance.now()-this._begin}resetProgress(){this._progressed=!1,this._done=!1}get hasProgressed(){return this._progressed}}t.Budget=n})(Aw||(Aw={})),function(t){t.SCHEDULED="s",t.READY="r",t.WAITING="w",t.IDLE="i"}(wa||(wa={}));const JR=(()=>{const t=new Aw.Budget;return t.enabled=!1,t})();class Qee{remove(){}processQueue(){}schedule(e,i,n){try{if(Bn(i)){const r=Be();return n?Promise.resolve(n(r)):Promise.reject(r)}return Yv(e(JR))}catch(r){return Promise.reject(r)}}reschedule(e,i,n){return this.schedule(e,i,n)}}const zE=new Qee;let Iv=class extends Q{constructor(){super(...arguments),this._tasks=new Map,this._onLoadQueue=new Array,this._doneQueue=new Array,this.updating=!1}setup(e,i,n){this._loadQueue=new Jee((r,s)=>this._startLoading(r,s),(r,s)=>this._doneLoadingCB(r,s),e,i),n&&(this._frameTask=n.registerTask(me.STREAM_DATA_LOADER,this))}destroy(){this._frameTask=Ke(this._frameTask),this._tasks.forEach(e=>Uo(e.abortController)),this._loadQueue=ze(this._loadQueue),this._onLoadQueue=null,this._doneQueue=null,this._tasks=null}hasDownloadSlots(e){return this._loadQueue.hasQuota(e)}request(e,i,n,r={}){const s=ln();s.__signal=r!=null?r.signal:null;const o=this._createOrUpdateTask(e,i,n,r,s);return on(r,()=>this._cancelRequest(o,s)),s.promise}_createTask(e,i,n,r,s,o){const a=new nte(e,i,n,r,s);return this._updateTask(a,o),this._tasks.set(s,a),this._tasks.size===1&&this._set("updating",!0),this._loadQueue.push(a),a}_cancelRequest(e,i){var n;gM(e.resolvers,i),i.reject(Be()),e.resolvers.length===0&&(e.status===Xi.DOWNLOADING&&(e.status=Xi.CANCELLED,this._loadQueue.cancel(e),(n=e.abortController)==null||n.abort(),e.request=null,e.abortController=null),e.status=Xi.CANCELLED,this._tasks.delete(e.key),this._tasks.size===0&&this._set("updating",!1))}_updateTask(e,i){e.resolvers.push(i)}_createOrUpdateTask(e,i,n,r,s){const o=rte((r==null?void 0:r.uid)||e,i,n),a=this._tasks.get(o);return a?(this._updateTask(a,s),a):this._createTask(e,r,i,n,o,s)}_doneLoadingCB(e,i){this._loadQueue&&(ZR(e.status===Xi.DOWNLOADING),e.status=Xi.DOWNLOADED,this._frameTask?this._doneQueue.push({task:e,err:i}):this._doneLoading(e,i))}get running(){return this._doneQueue.length>0||this._onLoadQueue.length>0}runTask(e){for(;!e.done&&this._onLoadQueue.length>0;){const i=this._onLoadQueue.shift();Ge(i.task.abortController),i.task.abortController=null,i.callback(i.task),e.madeProgress()}for(;!e.done&&this._doneQueue.length>0;){const i=this._doneQueue.shift();i.task.status!==Xi.DOWNLOADED&&(i.err=i.err||Be()),this._doneLoading(i.task,i.err),e.madeProgress()}}_doneLoading(e,i){if(i&&!di(i)&&e.numRetries>0)return--e.numRetries,void this._loadQueue.push(e);let n=e.result instanceof HTMLImageElement?0:e.resolvers.length;for(const r of e.resolvers)if(i)di(i)?r.reject(i):r.reject(new D("stream-data-loader:request-error",`Failed to request resource at '${e.url}'. ${i}`,{url:e.url,error:i}));else{--n;const s=n>0?z(e.result):e.result;r.resolve(s)}this._tasks.delete(e.key),this._tasks.size===0&&this._set("updating",!1)}_startLoading(e,i){if(e.status===Xi.CANCELLED)return!1;let n,r;switch(e.startTime=performance.now(),e.status=Xi.DOWNLOADING,e.docType){case"binary":r="array-buffer",n=0;break;case"image":r="image";break;case"image+type":r="array-buffer";break;default:r="json"}e.abortController=new AbortController;const s=e.abortController.signal;e.request=Ye(e.url,{...e.options,responseType:r,timeout:n,signal:s});let o=()=>{};const a=u=>{e.duration=performance.now()-e.startTime,e.size=u instanceof ArrayBuffer?u.byteLength:e.size||0,e.result=u,this._frameTask?this._onLoadQueue.push({callback:i,task:e}):(e.abortController=null,i(e))},l=u=>{e.status===Xi.DOWNLOADING&&i(e,u),o()};return e.docType!=="image+type"?(e.request.then(u=>a(u.data),l),!0):(e.request.then(u=>{const p=u.data,f=tte(p);if(r="image",e.size=p.byteLength,f==="unknown")return e.request=Ye(e.url,{responseType:r,timeout:n,signal:s}),void e.request.then(y=>a(y.data),l);const m=new Blob([p],{type:f}),g=window.URL.createObjectURL(m);o=()=>window.URL.revokeObjectURL(g),e.request=Ye(g,{responseType:r,timeout:n,signal:s}),e.request.then(y=>a(new ite(y.data,f,o)),l)},l),!0)}get test(){return{loadQueue:this._loadQueue}}};d([h({readOnly:!0})],Iv.prototype,"updating",void 0),Iv=d([E("esri.views.3d.support.StreamDataLoader")],Iv);const ete={numRetries:0};function tte(t){if(t.byteLength<2)return"unknown";const e=new Uint8Array(t,0,t.byteLength);return e[0]===137&&e[1]===80?"image/png":e[0]===71&&e[1]===73?"image/gif":e[0]===66&&e[1]===77?"image/bmp":e[0]===255&&e[1]===216?"image/jpeg":"unknown"}let ite=class{constructor(e,i,n){this.image=e,this.type=i,this.release=n}get isOpaque(){return this.type==="image/jpeg"}},nte=class extends Wee{constructor(e,i,n,r,s){super(r),this.url=e,this.options=i,this.docType=n,this.key=s,this.result=null,this.status=Xi.QUEUED,this.request=null,this.abortController=null,this.resolvers=new Array,this.startTime=0,this.numRetries=ete.numRetries}};function rte(t,e,i){return`${t}:${e}:${i}`}var Xi;(function(t){t[t.QUEUED=1]="QUEUED",t[t.DOWNLOADING=2]="DOWNLOADING",t[t.DOWNLOADED=3]="DOWNLOADED",t[t.CANCELLED=4]="CANCELLED"})(Xi||(Xi={}));var FE,Lr;(function(t){t[t.INSIDE=0]="INSIDE",t[t.INTERSECTS=1]="INTERSECTS",t[t.OUTSIDE=2]="OUTSIDE"})(FE||(FE={})),function(t){t[t.NORTH=0]="NORTH",t[t.NORTH_EAST=1]="NORTH_EAST",t[t.EAST=2]="EAST",t[t.SOUTH_EAST=3]="SOUTH_EAST",t[t.SOUTH=4]="SOUTH",t[t.SOUTH_WEST=5]="SOUTH_WEST",t[t.WEST=6]="WEST",t[t.NORTH_WEST=7]="NORTH_WEST"}(Lr||(Lr={}));const ste=12;let Ms=class si{constructor(e){const i=si.checkUnsupported(e);if(i!=null)throw i;const n=e;this.spatialReference=n.spatialReference,this._isWebMercator=this.spatialReference.isWebMercator,this._isGCS=Gy(this.spatialReference)||dp(this.spatialReference)||hp(this.spatialReference),this.origin=[n.origin.x,n.origin.y],this.pixelSize=n.size[0],this.dpi=n.dpi;const r=n.lods.reduce((u,p,f)=>(p.level<u.min&&(u.min=p.level,u.minIndex=f),u.max=Math.max(u.max,p.level),u),{min:1/0,minIndex:0,max:-1/0}),s=n.lods[r.minIndex],o=2**s.level;let a=s.resolution*o,l=s.scale*o;this.levels=new Array(r.max+1);for(let u=0;u<this.levels.length;u++)this.levels[u]={resolution:a,scale:l,tileSize:[a*n.size[0],a*n.size[1]]},a/=2,l/=2}clone(){return new si(this.toTileInfo())}toTileInfo(){return new lh({dpi:this.dpi,origin:new ne({x:this.origin[0],y:this.origin[1],spatialReference:this.spatialReference}),size:[this.pixelSize,this.pixelSize],spatialReference:this.spatialReference,lods:this.levels.map((e,i)=>new en({level:i,scale:e.scale,resolution:e.resolution}))})}getExtent(e,i,n,r){const s=this.levels[e],o=s.tileSize[0],a=s.tileSize[1];r[0]=this.origin[0]+n*o,r[2]=this.origin[0]+(n+1)*o,r[3]=this.origin[1]-i*a,r[1]=this.origin[1]-(i+1)*a}convertExtentToRadians(e,i){this._isWebMercator?(i[0]=C$(e[0]),i[1]=I$(e[1]),i[2]=C$(e[2]),i[3]=I$(e[3])):this._isGCS&&(i[0]=hd(e[0]),i[1]=hd(e[1]),i[2]=hd(e[2]),i[3]=hd(e[3]))}getExtentGeometry(e,i,n,r=new Le){return this.getExtent(e,i,n,dr),r.spatialReference=this.spatialReference,r.xmin=dr[0],r.ymin=dr[1],r.xmax=dr[2],r.ymax=dr[3],r.zmin=void 0,r.zmax=void 0,r}ensureMaxLod(e){if(e==null)return!1;let i=!1;for(;this.levels.length<=e;){const n=this.levels[this.levels.length-1],r=n.resolution/2;this.levels.push({resolution:r,scale:n.scale/2,tileSize:[r*this.pixelSize,r*this.pixelSize]}),i=!0}return i}capMaxLod(e){this.levels.length>e+1&&(this.levels.length=e+1)}getMaxLod(){return this.levels.length-1}scaleAtLevel(e){return this.levels[0].scale/2**e}levelAtScale(e){const i=this.levels[0].scale;return e>=i?0:Math.log(i/e)*Math.LOG2E}resolutionAtLevel(e){return this.levels[0].resolution/2**e}compatibleWith(e){if(!(e instanceof si)){if(si.checkUnsupported(e))return!1;e=new si(e)}if(!e.spatialReference.equals(this.spatialReference)||e.pixelSize!==this.pixelSize)return!1;const i=Math.min(this.levels.length,e.levels.length)-1,n=this.levels[i].resolution;let r=.5*n;return!Do(e.origin[0],this.origin[0],r)||!Do(e.origin[1],this.origin[1],r)?!1:(r=.5*n/2**i/this.pixelSize*ste,Do(n,e.levels[i].resolution,r))}rootTilesInExtent(e,i=null,n=1/0){const r=new Array,s=this.levels[0].tileSize;if(e==null||s[0]===0||s[1]===0)return r;si.computeRowColExtent(e,s,this.origin,dr);let o=dr[1],a=dr[3],l=dr[0],u=dr[2];const p=u-l,f=a-o;if(p*f>n){const m=Math.floor(Math.sqrt(n));f>m&&(o=o+Math.floor(.5*f)-Math.floor(.5*m),a=o+m),p>m&&(l=l+Math.floor(.5*p)-Math.floor(.5*m),u=l+m)}for(let m=o;m<a;m++)for(let g=l;g<u;g++)r.push([0,m,g]);return i!=null&&(i[0]=this.origin[0]+l*s[0],i[1]=this.origin[1]-a*s[1],i[2]=this.origin[0]+u*s[0],i[3]=this.origin[1]-o*s[1]),r}static computeRowColExtent(e,i,n,r){const s=.001*(e[2]-e[0]+(e[3]-e[1]));r[0]=Math.max(0,Math.floor((e[0]+s-n[0])/i[0])),r[2]=Math.max(0,Math.ceil((e[2]-s-n[0])/i[0])),r[1]=Math.max(0,Math.floor((n[1]-e[3]+s)/i[1])),r[3]=Math.max(0,Math.ceil((n[1]-e[1]-s)/i[1]))}static isPowerOfTwo(e){const i=e.lods,n=i[0].resolution*2**i[0].level;return!i.some(r=>!S8(r.resolution,n/2**r.level))}static hasGapInLevels(e){const i=e.lods.map(n=>n.level);i.sort((n,r)=>n-r);for(let n=1;n<i.length;n++)if(i[n]!==i[0]+n)return!0;return!1}static tileSizeSupported(e){const i=e.size[1];return i===e.size[0]&&(i&i-1)==0&&i>=128&&i<=512}static hasOriginPerLODs(e){const i=e.origin;return e.lods.some(n=>n.origin!=null&&(n.origin[0]!==i.x||n.origin[1]!==i.y))}static getMissingTileInfoError(){return new D("tilingscheme:tile-info-missing","Tiling scheme must have tiling information")}static checkUnsupported(e){return e==null?ax():e.lods.length<1?new D("tilingscheme:generic","Tiling scheme must have at least one level"):si.isPowerOfTwo(e)?si.hasGapInLevels(e)?new D("tilingscheme:gaps","Tiling scheme levels must not have gaps between min and max level"):si.tileSizeSupported(e)?si.hasOriginPerLODs(e)?new D("tilingscheme:multiple-origin","Tiling scheme levels must not have their own origin"):null:new D("tilingscheme:tile-size","Tiles must be square and size must be one of [128, 256, 512]"):new D("tilingscheme:power-of-two","Tiling scheme must be power of two")}static fromExtent(e,i){const n=e[2]-e[0],r=e[3]-e[1],s=Jn(i),o=1.2*Math.max(n,r),a=256,l=96,u=.0254,p=new si(new lh({size:[a,a],origin:new ne({x:e[0]-.5*(o-n),y:e[3]+.5*(o-r)}),lods:[new en({level:0,resolution:o/a,scale:1/(a/l*u/(o*s))})],spatialReference:i}));return p.ensureMaxLod(20),p}static makeWebMercatorAuxiliarySphere(e){const i=new si(si.WebMercatorAuxiliarySphereTileInfo);return i.ensureMaxLod(e),i}static makeGCSWithTileSize(e,i=256,n=16){const r=256/i,s=new si(new lh({size:[i,i],origin:new ne({x:-180,y:90,spatialReference:e}),spatialReference:e,lods:[new en({level:0,resolution:.703125*r,scale:295497598570834e-6*r})]}));return s.ensureMaxLod(n),s}get test(){return{isWebMercator:this._isWebMercator,isGCS:this._isGCS}}};function ax(){return new D("tilingscheme:tile-info-missing","Tiling scheme must have tiling information")}Ms.WebMercatorAuxiliarySphereTileInfo=new lh({size:[256,256],origin:new ne({x:-20037508342787e-6,y:20037508342787e-6,spatialReference:ge.WebMercator}),spatialReference:ge.WebMercator,lods:[new en({level:0,resolution:156543.03392800014,scale:591657527591555e-6})]}),Ms.WebMercatorAuxiliarySphere=Ms.makeWebMercatorAuxiliarySphere(19);const dr=$i(),jE=64;x8(Tb/10);const ote=$i();Ms.WebMercatorAuxiliarySphere.getExtent(0,0,0,ote);$i([-180,-90,180,90]);const lc=dn(),ate=dn(),es=dn(),ts=dn();function lte(t,e,i=0){const n=t.extent;if(n==null)return!1;if(i===0)return c9(n,e);const r=Math.min(n[2]-n[0],n[3]-n[1]);return d9(n,e,i*r)}function Rf(t,e,i,n){ug(lc,i),lc[n]=e[n];const r=nh(lc,lc,e),s=nh(ate,t,e),o=dg(s,r),a=dg(r,r);let l;l=o<=0?e:a<=o?i:sI(lc,e,N_(r,r,o/a));const u=nh(lc,t,l);return Math.PI/2-Math.atan(u[2]/Math.sqrt(u[0]*u[0]+u[1]*u[1]))}function cte(t,e,i){const n=t.extent;if(n==null)return 0;es[0]=n[0],es[1]=n[1],es[2]=i,ts[0]=n[2],ts[1]=n[3],ts[2]=i;let r=1/0,s=1/0;return e[0]<es[0]?r=Rf(e,es,ts,0):e[0]>ts[0]&&(r=Rf(e,ts,es,0)),e[1]<es[1]?s=Rf(e,es,ts,1):e[1]>ts[1]&&(s=Rf(e,ts,es,1)),Math.min(r,s)}function ute(t,e,i){if(t==null)return ax();if(t.spatialReference.isGeographic&&!Gy(t.spatialReference))return new D("tilingscheme:local-unsupported-spatial-reference","The tiling scheme spatial reference is not supported in local scenes");const n=Ms.checkUnsupported(t);if(n!=null)return n;if(i==null)return new D("tilingscheme:extent-not-exist","The layer does not provide a layer extent.");const r=dte(t,i);if(r)return r;const s=t.spatialReference;return e==null||s.equals(e)||e.isWGS84&&s.isWebMercator?null:new D("tilingscheme:spatial-reference-mismatch","The tiling scheme does not match the spatial reference of the local scene")}function dte(t,e){const i=t.lods,n=i[0].resolution*2**i[0].level,r=[n*t.size[0],n*t.size[1]],s=[t.origin.x,t.origin.y],o=o9(e),a=$i();Ms.computeRowColExtent(o,r,s,a);const l=(a[2]-a[0])*(a[3]-a[1]);if(l>jE){const u=i[0].scale*2**i[0].level;let p=Math.max((o[3]-o[1])/t.size[1],(o[2]-o[0])/t.size[0])*u/n;const f=Math.floor(Math.log(p)/Math.log(10));return p=Math.ceil(p/10**f)*10**f,new D("tilingscheme:too-many-root-tiles","Scale of level 0 of the tiling scheme (1:"+Math.floor(u).toLocaleString()+") is too large for the layer's extent. Suggested scale: 1:"+p.toLocaleString()+".",{level0Scale:u,suggestedLevel0Scale:p,requiredNumRootTiles:l,allowedNumRootTiles:jE})}return null}const hte=Object.freeze(Object.defineProperty({__proto__:null,checkIfTileInfoSupportedForViewSR:ute,isInsideExtent:lte,tiltToExtentEdge:cte},Symbol.toStringTag,{value:"Module"}));function pte(){return!0}function fte(){return 0}function mte(t,e){if(t==null)return ax();const i=t.lods.length-1,n=t.spatialReference,r=Gy(n)||dp(n)||hp(n);if(n.isWebMercator){if(!Ms.makeWebMercatorAuxiliarySphere(i).compatibleWith(t))return new D("tilingscheme:incompatible-global-web-mercator","The tiling scheme is not compatible with the ArcGIS Online Web Mercator tiling scheme")}else{if(!r)return new D("tilingscheme:global-unsupported-spatial-reference","The tiling scheme spatial reference is not supported in global scenes");if(!Ms.makeGCSWithTileSize(t.spatialReference,t.size[0],i).compatibleWith(t))return t.spatialReference.isWGS84?new D("tilingscheme:incompatible-global-wgs84","The tiling scheme is not compatible with the ArcGIS Online WGS84 tiling scheme"):new D("tilingscheme:incompatible-global","The tiling scheme is not compatible with the ArcGIS Online tiling scheme")}return e==null||t.spatialReference.equals(e)?void 0:new D("tilingscheme:spatial-reference-mismatch","The tiling scheme does not match the spatial reference of the global scene")}const gte=Object.freeze(Object.defineProperty({__proto__:null,checkIfTileInfoSupportedForViewSR:mte,isInsideExtent:pte,tiltToExtentEdge:fte},Symbol.toStringTag,{value:"Module"})),yte={[Ls.Global]:gte,[Ls.Local]:hte};function Lw(t,e,i,n){return yte[n].checkIfTileInfoSupportedForViewSR(t,i,e)}function vte(t,e,i){const n=dG(t);if(n!=null){if(!ee.isCollection(n))return{tileInfo:n.tileInfo,fullExtent:n.fullExtent};{const r=n.find(s=>Lw(s.tileInfo,s.fullExtent,e,i)==null);if(r)return{tileInfo:r.tileInfo,fullExtent:r.fullExtent}}}return{tileInfo:null,fullExtent:null}}Lr.NORTH,Lr.EAST,Lr.SOUTH,Lr.WEST;Lr.NORTH_EAST,Lr.SOUTH_EAST,Lr.SOUTH_WEST,Lr.NORTH_WEST;function bte(t,e){return t!=null&&(e==null||(e===Ls.Local?!t.isGeographic||t.isWGS84||t.wkid===nn.CGCS2000:t.isWebMercator||t.isWGS84||t.wkid===nn.CGCS2000||t.wkid===nn.GCSMARS2000||t.wkid===nn.GCSMARS2000_SPHERE||t.wkid===nn.GCSMOON2000))}async function wte(t,e={}){const{basemap:i,view:n}=t;await i.load(e),Ste(i),await $te(i,n,e),Ge(e)}async function _te(t,e={}){var o;const{basemap:i,view:n}=t;if(Ge(e),!n||"spatialReferenceLocked"in n&&!n.spatialReferenceLocked||(await i.load(e),Ge(e),i.baseLayers.length===0))return;const r=i.baseLayers.at(0);if(!uG(r))return;if(i.spatialReference){if(n.spatialReference.equals(i.spatialReference))return;UE()}await r.load(e),Ge(e);const s=(("supportedSpatialReferences"in r?r.supportedSpatialReferences:null)||["tileInfo"in r?(o=r.tileInfo)==null?void 0:o.spatialReference:null]).filter(Ro);s.length!==0&&s.every(a=>!n.spatialReference.equals(a))&&UE()}function UE(){throw new D("basemap-compatibility:incompatible-spatial-reference","Basemap spatial reference is not compatible with the view")}function Ste(t){if(t.baseLayers.length===0&&t.referenceLayers.length===0)return;const e=t.baseLayers.concat(t.referenceLayers).toArray().filter(i=>!lG(i)).map(i=>xte(i));if(e.length)throw e[0]}function xte(t){return new D("basemap-compatibility:unsupported-basemap-layer-type","Unsupported basemap layer type ${operationalLayerType}",{layer:t,operationalLayerType:t.operationalLayerType||"unknown"})}async function $te(t,e,i){if(t.baseLayers.length===0)return;const n=t.baseLayers.at(0);if(iA(n)){try{await n.load(i)}catch(r){const s="basemap-compatibility:unknown-error",o="Unknown basemap compatibility error",{name:a=s,message:l=o,details:u}=r;throw new D(a,l,u)}Tte(n,e)}}function Tte(t,e){var l;const i=e.state.viewingMode;if(!i)return;let n,r;if((t==null?void 0:t.type)==="wmts"){const u=vte(t,e.spatialReference,i);if(u.tileInfo==null)throw new D("basemapgalleryitem:tiling-scheme-incompatible","Basemap tiling scheme is incompatible with the view");n=u.tileInfo,r=u.fullExtent}else n=t.tileInfo,r=t.fullExtent;if(n==null)return;if(!bte(n.spatialReference,i))throw new D(`basemapgalleryitem:spatial-reference-unsupported-${NT(i)}`,`Basemap spatial reference is unsupported in ${NT(i)} mode`);const s=n.spatialReference.isGeographic,o=(t==null?void 0:t.type)==="vector-tile"?n.getOrCreateCompatible(256,s?1:2):null;if(i===Ls.Global){let u=Lw(n,r,null,i);if(u&&(t==null?void 0:t.type)==="vector-tile"&&r!=null&&o&&!Lw(o,r,null,i)&&(u=null),u){const p=n.spatialReference.isWebMercator?"web-mercator":"wgs84";throw new D(`basemapgalleryitem:tiling-scheme-unsupported-${p}-global`,"Basemap tiling scheme is unsupported in global mode",{error:u})}}else if(Ms.checkUnsupported(n))throw new D("basemapgalleryitem:tiling-scheme-unsupported-local","Basemap tiling scheme is unsupported in local mode");const a=(l=e.basemapTerrain)==null?void 0:l.tilingScheme;if(a&&!a.compatibleWith(n)&&((t==null?void 0:t.type)!=="vector-tile"||!o||!a.compatibleWith(o)))throw new D("basemapgalleryitem:tiling-scheme-incompatible","Basemap tiling scheme is incompatible with the view")}let Cr=class extends _p(Q){constructor(e){super(e),this.compatibilityFunction=null,this.error=null,this.state="loading",this.view=null}initialize(){const e=()=>this.refresh();this.addHandles([K(()=>{var i;return(i=this.basemap)==null?void 0:i.loadStatus},e),K(()=>this.compatibilityFunction,e),K(()=>{var i;return this.view&&"basemapTerrain"in this.view&&((i=this.view.basemapTerrain)==null?void 0:i.tilingScheme)},e),K(()=>{var i;return(i=this.view)==null?void 0:i.ready},e),K(()=>{var i;return(i=this.view)==null?void 0:i.spatialReference},e)]),this.refresh()}destroy(){this._cancelRefresh(),this.basemap=null,this.compatibilityFunction=null,this.view=null}get _spatialReferenceTask(){return XV(this.view,this.basemap)}set basemap(e){e&&e.load().catch(()=>{}),this._set("basemap",e)}get spatialReference(){return this._spatialReferenceTask.spatialReference}refresh(){var r;this._cancelRefresh(),this._set("state","loading");const e=(r=this.basemap)==null?void 0:r.loadStatus;if(e!=="loaded"&&e!=="failed")return;if(!this.compatibilityFunction)return void(e==="loaded"?(this._set("state","ready"),this._set("error",null)):(this._set("state","error"),this._set("error",this.basemap.loadError)));const i=new AbortController,{signal:n}=i;this.compatibilityFunction(this,{signal:n}).then(()=>Ol(()=>!this._spatialReferenceTask.updating,n)).then(()=>{this._set("state","ready"),this._set("error",null)}).catch(s=>{di(s)||(this._set("state","error"),this._set("error",s))}),this._refreshController=i}_cancelRefresh(){this._refreshController&&(this._refreshController.abort(),this._refreshController=null)}};d([h({readOnly:!0})],Cr.prototype,"_spatialReferenceTask",null),d([h()],Cr.prototype,"basemap",null),d([h()],Cr.prototype,"compatibilityFunction",void 0),d([h({readOnly:!0})],Cr.prototype,"error",void 0),d([h({readOnly:!0})],Cr.prototype,"spatialReference",null),d([h({readOnly:!0})],Cr.prototype,"state",void 0),d([h()],Cr.prototype,"view",void 0),Cr=d([E("esri.widgets.BasemapGallery.support.BasemapGalleryItem")],Cr);const KR=Cr,YR=ee.ofType(Fo);let Zd=class extends Q{constructor(e){super(e),this.basemaps=new YR}destroy(){this.basemaps.forEach(e=>e.destroy())}get state(){return"ready"}refresh(){}};d([h({type:YR})],Zd.prototype,"basemaps",void 0),d([h({readOnly:!0})],Zd.prototype,"state",null),Zd=d([E("esri.widgets.BasemapGallery.support.LocalBasemapsSource")],Zd);const XR=Zd,QR=ee.ofType(Fo);let Ir=class extends Zn.LoadableMixin(Jy(XR)){constructor(e){super(e),this._lastPortalBasemapFetchController=null,this.basemaps=new QR,this.filterFunction=null,this.portal=ji.getDefault(),this.query=null,this.updateBasemapsCallback=null,this.viewType=null}initialize(){this.addHandles([K(()=>{var e,i,n;return[this.filterFunction,this.loadStatus,(e=this.portal)==null?void 0:e.basemapGalleryGroupQuery,(i=this.portal)==null?void 0:i.basemapGalleryGroupQuery3D,(n=this.portal)==null?void 0:n.user,this.query,this.updateBasemapsCallback]},()=>this.refresh(),yt)])}destroy(){this.filterFunction=null,this.portal=null,this.basemaps.forEach(e=>e.destroy())}get state(){return this.loadStatus==="not-loaded"?"not-loaded":this.loadStatus==="loading"||this._lastPortalBasemapFetchController?"loading":"ready"}load(e){return this.addResolvingPromise(this.portal.load(e)),Promise.resolve(this)}async refresh(){if(this.loadStatus!=="loaded")return;this._lastPortalBasemapFetchController&&(this._lastPortalBasemapFetchController.abort(),this._lastPortalBasemapFetchController=null);const e=this.portal,i=new AbortController;this._lastPortalBasemapFetchController=i,this.notifyChange("state");try{const n=await e.fetchBasemaps(this._toQueryString(this.query),{signal:i.signal,include3d:this.viewType==="3d"||void 0});await this._updateBasemaps(n)}catch(n){if(di(n))throw n;G.getLogger(this).warn(new D("basemap-source:fetch-basemaps-error","Could not fetch basemaps from portal.",{error:n})),await this._updateBasemaps()}this._lastPortalBasemapFetchController=null,this.notifyChange("state")}_toQueryString(e){return e&&typeof e!="string"?Object.keys(e).map(i=>`${i}:${e[i]}`).join(" AND "):e}async _updateBasemaps(e=[]){let i=await this._filterBasemaps(e);i=this.updateBasemapsCallback?this.updateBasemapsCallback(i):i,this.basemaps.removeAll(),this.basemaps.addMany(i)}async _filterBasemaps(e){if(!this.filterFunction)return e;const i=e.map(this.filterFunction),n=await Promise.all(i);return e.filter((r,s)=>n[s])}};d([h({readOnly:!0,type:QR})],Ir.prototype,"basemaps",void 0),d([h()],Ir.prototype,"filterFunction",void 0),d([h({type:ji})],Ir.prototype,"portal",void 0),d([h()],Ir.prototype,"query",void 0),d([h({readOnly:!0})],Ir.prototype,"state",null),d([h()],Ir.prototype,"updateBasemapsCallback",void 0),d([h()],Ir.prototype,"viewType",void 0),Ir=d([E("esri.widgets.BasemapGallery.support.PortalBasemapsSource")],Ir);const Jd=Ir,e5=ee.ofType(KR);function Ete(t){return t&&t.declaredClass==="esri.portal.Portal"}function kte(t){return t&&!(t instanceof Jd)&&(!!t.portal||!!t.query)}function Mte(t){return t&&"basemaps"in t&&"state"in t&&"refresh"in t}let oi=class extends Zn{constructor(e){super(e),this._loadingProjectionEngine=!1,this._originalActiveBasemap=null,this.includeCurrentBasemap=!1,this.items=new e5,this.source=new Jd,this.view=null}initialize(){const e=()=>this._recreateItems();this.addHandles([K(()=>{var i;return[this.view,(i=this.view)==null?void 0:i.ready]},()=>{var i;(i=this.view)!=null&&i.ready&&(this._originalActiveBasemap=this.activeBasemap)},{initial:!0}),K(()=>this.state==="ready"?this.compatibilityFunction:null,()=>this._updateItems()),K(()=>[this._effectiveIncludeCurrentBasemap,this._originalActiveBasemap],e),Os(()=>{var i;return(i=this.source)==null?void 0:i.basemaps},"change",e,{onListenerAdd:e}),cn(()=>this.view,()=>{var i;this.source instanceof Jd&&(this.source.viewType=(i=this.view)==null?void 0:i.type)},{once:!0})])}destroy(){var i;const e=this.source.basemaps.find(n=>n===this.activeBasemap);e&&this.source.basemaps.remove(e),(i=this.source)==null||i.destroy()}get _effectiveIncludeCurrentBasemap(){var e;return this.includeCurrentBasemap&&((e=this.source)==null?void 0:e.basemaps.every(i=>i.loadStatus!=="loading"))}get activeBasemap(){var e,i;return((i=(e=this.view)==null?void 0:e.map)==null?void 0:i.basemap)??null}set activeBasemap(e){var s,o;const i=this.view;if(!(i!=null&&i.map))return;const n=typeof e=="string"?Fo.fromId(e):e;if(!n||!i.ready)return i.map.basemap=n,void this._clearOverride("activeBasemap");const r=n.spatialReference||((o=(s=this.items)==null?void 0:s.find(a=>this.basemapEquals(n,a.basemap)))==null?void 0:o.spatialReference);if(r&&"spatialReferenceLocked"in i&&!i.spatialReferenceLocked){const a=i.spatialReference;if(r!=null&&!it(a,r)&&!Ur(i.spatialReference,r)&&!ta())return this._override("activeBasemap",n),this._loadingProjectionEngine=!0,void As().then(()=>{this._get("activeBasemap")===e&&(i.map.basemap=e,i.spatialReference=r,this._clearOverride("activeBasemap"))},()=>{}).then(()=>{this._loadingProjectionEngine=!1});i.map.basemap=n,this._clearOverride("activeBasemap"),r==null||it(i.spatialReference,r)||(i.spatialReference=r)}else i.map.basemap=n,this._clearOverride("activeBasemap")}get activeBasemapIndex(){const{state:e,activeBasemap:i}=this;return e!=="ready"?-1:this._findBasemapIndex(i)}get compatibilityFunction(){var e;return((e=this.view)==null?void 0:e.type)==="3d"?wte:_te}set compatibilityFunction(e){this._overrideIfSome("compatibilityFunction",e)}castSource(e){return Array.isArray(e)||ee.isCollection(e)?new XR({basemaps:e}):Ete(e)?new Jd({portal:e}):kte(e)?new Jd(e):Mte(e)?e:null}get state(){var e;return(e=this.view)!=null&&e.ready&&this.source?this._loadingProjectionEngine?"loading":"ready":"disabled"}basemapEquals(e,i){return YV(e,i)}refresh(){this._recreateItems()}load(e){return this.addResolvingPromise(Zn.isLoadable(this.source)?this.source.load(e):null),Promise.resolve(this)}_findBasemapIndex(e){const{items:i}=this,n=i.findIndex(r=>r.basemap===e);return n===-1?i.findIndex(r=>this.basemapEquals(r.basemap,e)):n}_recreateItems(){var a;const e=(a=this.source)==null?void 0:a.basemaps,{view:i,compatibilityFunction:n}=this,r=new Map(this.items.map(l=>[l.basemap,l]));function s(l){const u=r.get(l);return u?(r.delete(l),u):new KR({basemap:l,compatibilityFunction:n,view:i})}this.items.removeAll(),e&&this.items.addMany(e.map(s));const o=this._findBasemapIndex(this._originalActiveBasemap)!==-1;this._effectiveIncludeCurrentBasemap&&!o&&this._originalActiveBasemap!=null&&this.items.unshift(s(this._originalActiveBasemap)),r.forEach(l=>l.destroy())}_updateItems(){for(const e of this.items)e.compatibilityFunction=this.compatibilityFunction,e.view=this.view}};d([h()],oi.prototype,"_effectiveIncludeCurrentBasemap",null),d([h()],oi.prototype,"_loadingProjectionEngine",void 0),d([h()],oi.prototype,"_originalActiveBasemap",void 0),d([h()],oi.prototype,"activeBasemap",null),d([h({readOnly:!0})],oi.prototype,"activeBasemapIndex",null),d([h()],oi.prototype,"compatibilityFunction",null),d([h()],oi.prototype,"includeCurrentBasemap",void 0),d([h({readOnly:!0,type:e5})],oi.prototype,"items",void 0),d([h()],oi.prototype,"source",void 0),d([ei("source")],oi.prototype,"castSource",null),d([h({readOnly:!0})],oi.prototype,"state",null),d([h()],oi.prototype,"view",void 0),oi=d([E("esri.widgets.BasemapGallery.BasemapGalleryViewModel")],oi);const Cte=oi,Ei="esri-basemap-gallery",fi={base:Ei,widgetIcon:tt.basemap,sourceLoading:`${Ei}--source-loading`,layoutGrid:`${Ei}--grid`,narrowItems:`${Ei}--narrow-items`,loader:`${Ei}__loader`,item:`${Ei}__item`,itemContainer:`${Ei}__item-container`,itemContent:`${Ei}__item-content`,itemTitle:`${Ei}__item-title`,itemTagsContainer:`${Ei}__item-tags-container`,itemThumbnail:`${Ei}__item-thumbnail`,selectedItem:`${Ei}__item--selected`,itemError:`${Ei}__item--error`};function Ite({level:t,class:e,...i},n){const r=Ote(t);return j(`h${r}`,{...i,"aria-level":String(r),class:UO(le.heading,e),role:"heading"},n)}function Ote(t){return Vn(Math.ceil(t),1,6)}const Ov={small:200,default:280,wide:420};let Pt=class extends Ds{constructor(e,i){super(e,i),this.disabled=!1,this.headingLevel=2,this.iconClass=fi.widgetIcon,this.icon=null,this.messages=null,this.viewModel=new Cte,this._focusBasemapItemEnabled=!1,this._container=null,this._width=0,this._onContainerCreated=n=>{this._container=n}}initialize(){this.addHandles([cB(()=>this._container,({contentRect:e})=>{this._width=e.width}),cn(()=>this.source,()=>this.viewModel.load(),{sync:!0,initial:!0,once:!0})])}loadDependencies(){return sx({scrim:()=>V(()=>import("./calcite-scrim-CRXSHOVX.js"),__vite__mapDeps([264,265,258,259,262]),import.meta.url),chip:()=>V(()=>import("./calcite-chip-puVR2h-I.js"),__vite__mapDeps([266,267,259,257,258,256,260,261]),import.meta.url)})}get activeBasemap(){return this.viewModel.activeBasemap}set activeBasemap(e){this.viewModel.activeBasemap=e}get includeCurrentBasemap(){return this.viewModel.includeCurrentBasemap}set includeCurrentBasemap(e){this.viewModel.includeCurrentBasemap=e}get label(){var e;return((e=this.messages)==null?void 0:e.widgetLabel)??""}set label(e){this._overrideIfSome("label",e)}get source(){return this.viewModel.source}set source(e){this.viewModel.source=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}render(){const e=this.source.state==="loading",i=this.disabled||this.viewModel.state==="disabled",n=this.viewModel.items,r={[fi.sourceLoading]:e,[le.disabled]:i},s=this._width;s<=Ov.small||s>=Ov.wide?r[fi.layoutGrid]=!0:s<Ov.default&&(r[fi.narrowItems]=!0);const o=e?j("div",{class:fi.loader,key:"loader"}):null,a=e?null:n.length>0?j("ul",{"aria-disabled":this.disabled,"aria-label":this.label,bind:this,class:fi.itemContainer,key:"item-container",onkeydown:this._handleKeyDown,role:"radiogroup"},n.map((l,u)=>this._renderBasemapGalleryItem(l,u)).toArray()):j("div",{class:le.empty,key:"empty-message"},j(Ite,{level:this.headingLevel},this.messages.noBasemaps));return j("div",{afterCreate:this._onContainerCreated,class:this.classes(fi.base,le.widget,le.panelHeightOnly,r),key:"container"},this._width===0?null:[o,a])}_getRoundRobinIndex(e,i){return(e+i)%i}_handleKeyDown(e){const{key:i}=e;if(!["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(i))return;e.preventDefault();const{items:n,activeBasemapIndex:r}=this.viewModel,s=i==="ArrowUp"||i==="ArrowLeft"?this._getRoundRobinIndex(Math.max(r-1,-1),n.length):this._getRoundRobinIndex(r+1,n.length),o=n.at(s);(o==null?void 0:o.state)==="ready"&&(this.viewModel.activeBasemap=o.basemap),this._focusBasemapItemEnabled=!0}_focusBasemapItem(e){this._focusBasemapItemEnabled&&e.tabIndex===0&&(e.focus(),this._focusBasemapItemEnabled=!1)}_handleClick(e){const i=e.currentTarget["data-item"];i.state==="ready"&&(this.viewModel.activeBasemap=i.basemap)}_renderBasemapGalleryItem(e,i){var v,w;const n=iW(e.basemap)||ke("esri/themes/base/images/basemap-toggle-64.svg"),r=e.basemap.title,s=(v=e.basemap.portalItem)==null?void 0:v.snippet,o=((w=e.error)==null?void 0:w.message)||s||r,{viewModel:{state:a,activeBasemapIndex:l}}=this,u=this.disabled||a==="disabled",p=l===i,f=p||l===-1&&i===0?0:-1,m=a==="loading",g={[fi.selectedItem]:p,[fi.itemError]:e.state==="error"},y=`basemapgallery-item-${e.uid}`;return j("li",{afterUpdate:this._focusBasemapItem,"aria-checked":p.toString(),"aria-disabled":u.toString(),"aria-labelledby":y,bind:this,class:this.classes(fi.item,g),"data-item":e,key:e.uid,onclick:this._handleClick,onkeydown:this._handleClick,role:"radio",tabIndex:f,title:o},j("img",{alt:"",class:fi.itemThumbnail,src:n}),j("div",{class:fi.itemContent,key:"content"},j("div",{class:fi.itemTitle,key:"title"},j("span",{id:y},r)),ZV(e.basemap)?this._renderTags(e.basemap):null),e.state==="loading"||p&&m?j("calcite-scrim",null,j("span",{"aria-hidden":"true",class:le.loaderAnimation,key:"loader",role:"presentation"})):null)}_renderTags(e){return j("div",{class:fi.itemTagsContainer,key:"tag"},this._render3DTag(),JV(e)?this._renderBetaTag():null)}_render3DTag(){const{messages:e}=this;return j("calcite-chip",{key:"tag-3d",scale:"s",value:e.tag3D},this.messages.tag3D)}_renderBetaTag(){const{messages:e}=this;return j("calcite-chip",{appearance:"outline-fill",key:"tag-beta",scale:"s",value:e.tagBeta},this.messages.tagBeta)}};d([h()],Pt.prototype,"activeBasemap",null),d([h()],Pt.prototype,"disabled",void 0),d([h()],Pt.prototype,"headingLevel",void 0),d([h()],Pt.prototype,"iconClass",void 0),d([h()],Pt.prototype,"icon",void 0),d([h()],Pt.prototype,"label",null),d([h(),Br("esri/widgets/BasemapGallery/t9n/BasemapGallery")],Pt.prototype,"messages",void 0),d([h()],Pt.prototype,"source",null),d([h()],Pt.prototype,"view",null),d([h()],Pt.prototype,"viewModel",void 0),d([h()],Pt.prototype,"_focusBasemapItemEnabled",void 0),d([h()],Pt.prototype,"_container",void 0),d([h()],Pt.prototype,"_width",void 0),d([Dl()],Pt.prototype,"_handleClick",null),Pt=d([E("esri.widgets.BasemapGallery")],Pt);const Ate=Pt;let vo=class extends Q{constructor(e){super(e),this._viewpointHandle=null,this.group=null}initialize(){this.addHandles(Os(()=>{var e;return(e=this.view)==null?void 0:e.ui},"expand",e=>{const{target:i}=e;i&&i!==this&&i.expanded&&i.group&&i.group===this.group&&this._collapse()}))}destroy(){this._viewpointHandle=null,this.view=null}set autoCollapse(e){this._set("autoCollapse",e),this._watchViewpoint()}set expanded(e){var r;const i=!!e;this._set("expanded",i);const n=(r=this.view)==null?void 0:r.ui;n&&n.emit("expand",{target:this}),this._viewpointHandleChange(i)}get state(){var e;return(e=this.view)!=null&&e.ready?"ready":"disabled"}set view(e){this._get("view")!==e&&(this._set("view",e),e&&cn(()=>e.ready,()=>{this.view===e&&this._watchViewpoint()},{once:!0,initial:!0}))}_viewpointHandleChange(e){this._viewpointHandle&&(e?cn(()=>{var i;return(i=this.view)==null?void 0:i.stationary},()=>{var i;return(i=this._viewpointHandle)==null?void 0:i.resume()},{once:!0,initial:!0}):this._viewpointHandle.pause())}_watchViewpoint(){const e="viewpoint";this.removeHandles(e),this._viewpointHandle=null;const{autoCollapse:i,view:n}=this;if(!n||!i)return;const r=L9(()=>n.type==="3d"?n.camera:n.viewpoint,()=>this._collapse());this.addHandles(r,e),this._viewpointHandle=r}_collapse(){this.expanded=!1}};d([h({value:!1})],vo.prototype,"autoCollapse",null),d([h({value:!1})],vo.prototype,"expanded",null),d([h()],vo.prototype,"group",void 0),d([h({readOnly:!0})],vo.prototype,"state",null),d([h({value:null})],vo.prototype,"view",null),vo=d([E("esri.widgets.Expand.ExpandViewModel")],vo);const t5=vo;function Lte(t){return e=>{e.hasOwnProperty("_delegatedEventNames")||(e._delegatedEventNames=e._delegatedEventNames?e._delegatedEventNames.slice():[]);const i=e._delegatedEventNames,n=Array.isArray(t)?t:Pte(t);i.push(...n)}}function Pte(t){return t.split(",").map(e=>e.trim())}function Av(t){return t&&typeof t.render=="function"}function Rte(t){return t&&typeof t.postMixInProperties=="function"&&typeof t.buildRendering=="function"&&typeof t.postCreate=="function"&&typeof t.startup=="function"}const mi="esri-expand",Ft={base:mi,modeAuto:`${mi}--auto`,modeDrawer:`${mi}--drawer`,modeFloating:`${mi}--floating`,container:`${mi}__container`,containerExpanded:`${mi}__container--expanded`,panel:`${mi}__panel`,icon:"esri-collapse__icon",iconExpanded:`${mi}__icon--expanded`,iconNumber:`${mi}__icon-number`,iconNumberExpanded:`${mi}__icon-number--expanded`,content:`${mi}__content`,contentExpanded:`${mi}__content--expanded`,expandMask:`${mi}__mask`,expandMaskExpanded:`${mi}__mask--expanded`};let He=class extends Ds{constructor(e,i){super(e,i),this.closeOnEsc=!0,this.collapseIcon=null,this.collapseTooltip="",this.content="",this.expandTooltip="",this.iconClass=null,this.icon=null,this.iconNumber=0,this.messages=null,this.messagesCommon=null,this.mode="auto",this.viewModel=new t5,this._handleKeyDown=n=>{const{closeOnEsc:r,_toggleButtonEl:s,expanded:o}=this;!o||!r||n.target===s||n.key!=="Escape"||(typeof r=="function"?r(n):r)&&(this.expanded=!1,s==null||s.focus())}}loadDependencies(){return sx({icon:()=>V(()=>import("./calcite-icon-1a_NVDvt.js"),__vite__mapDeps([263,261,259]),import.meta.url)})}get contentId(){return`${this.id}_controls_content`}get expandTitle(){const{expanded:e,messagesCommon:i,collapseTooltip:n,expandTooltip:r}=this;return(e?n||(i==null?void 0:i.collapse):r||(i==null?void 0:i.expand))??""}get autoCollapse(){return this.viewModel.autoCollapse}set autoCollapse(e){this.viewModel.autoCollapse=e}get collapseIconClass(){return tt.collapse}set collapseIconClass(e){this._overrideIfSome("collapseIconClass",e)}get expanded(){return this.viewModel.expanded}set expanded(e){this.viewModel.expanded=e}get expandIconClass(){return Av(this.content)?this.content.iconClass:tt.expand}set expandIconClass(e){this._overrideIfSome("expandIconClass",e)}get expandIcon(){return Av(this.content)?this.content.icon:void 0}set expandIcon(e){this._overrideIfSome("expandIcon",e)}get group(){return this.viewModel.group}set group(e){this.viewModel.group=e}get label(){var e;return((e=this.messages)==null?void 0:e.widgetLabel)??""}set label(e){this._overrideIfSome("label",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}expand(){this.viewModel.expanded=!0}collapse(){this.viewModel.expanded=!1}toggle(){this.viewModel.expanded=!this.viewModel.expanded}render(){const{mode:e}=this,i={[Ft.modeAuto]:e==="auto",[Ft.modeDrawer]:e==="drawer",[Ft.modeFloating]:e==="floating"};return j("div",{class:this.classes(Ft.base,le.widget,i),onkeydown:this._handleKeyDown},this._renderMask(),this._renderContainer())}_renderContainer(){const{expanded:e}=this,i={[Ft.containerExpanded]:e};return j("div",{class:this.classes(Ft.container,i)},this._renderPanel(),this._renderContent())}_renderMask(){const{expanded:e}=this,i={[Ft.expandMaskExpanded]:e};return j("div",{bind:this,class:this.classes(Ft.expandMask,i),onclick:this._toggle})}_renderBadgeNumber(){const{expanded:e,iconNumber:i}=this;return i&&!e?j("span",{class:Ft.iconNumber,key:"expand__icon-number"},i):null}_renderPanelNumber(){const{iconNumber:e,expanded:i}=this;return e&&i?j("span",{class:this.classes(Ft.iconNumber,Ft.iconNumberExpanded),key:"expand__expand-icon-number"},e):null}_renderIcon(){const e=(this.expanded?this.collapseIcon:this.expandIcon)??"";return j("calcite-icon",{icon:e,key:"icon",scale:"s"})}_renderLegacyIcon(){const{collapseIconClass:e,expandIconClass:i,expanded:n}=this,r={[Ft.iconExpanded]:n};return i!=null&&(r[i]=!n),e!=null&&(r[e]=e===i||n),j("span",{"aria-hidden":"true",class:this.classes(Ft.icon,r),key:"legacy-icon"})}_renderTitle(){return j("span",{class:tt.fontFallbackText},this.expandTitle)}_renderExpandButton(){const{expanded:e,expandTitle:i,expandIcon:n,collapseIcon:r,contentId:s}=this;return j("div",{afterCreate:this._storeToggleButtonEl,"aria-controls":s,"aria-expanded":e?"true":"false",bind:this,class:le.widgetButton,onclick:this._toggle,onkeydown:this._toggle,role:"button",tabIndex:0,title:i},this._renderBadgeNumber(),!e&&n!=null||e&&r!=null?this._renderIcon():this._renderLegacyIcon(),this._renderTitle())}_renderPanel(){return j("div",{class:Ft.panel},this._renderExpandButton(),this._renderPanelNumber())}_renderContent(){const{expanded:e,contentId:i,content:n}=this,r={[Ft.contentExpanded]:e},s={id:i,role:"region",class:this.classes(Ft.content,r)};return typeof n=="string"?j("div",{innerHTML:n,key:"content__string",...s}):Av(n)?j("div",{key:"content__widget",...s},n.render()):n instanceof HTMLElement?j("div",{afterCreate:this._attachToNode,bind:n,key:"content__html-element",...s}):Rte(n)?j("div",{afterCreate:this._attachToNode,bind:n.domNode,key:"content__node",...s}):null}_toggle(){this.toggle()}_attachToNode(e){const i=this;e.appendChild(i)}_storeToggleButtonEl(e){this._toggleButtonEl=e}};d([h({readOnly:!0})],He.prototype,"contentId",null),d([h({readOnly:!0})],He.prototype,"expandTitle",null),d([h()],He.prototype,"autoCollapse",null),d([h()],He.prototype,"closeOnEsc",void 0),d([h()],He.prototype,"collapseIconClass",null),d([h()],He.prototype,"collapseIcon",void 0),d([h()],He.prototype,"collapseTooltip",void 0),d([h()],He.prototype,"content",void 0),d([h()],He.prototype,"expanded",null),d([h()],He.prototype,"expandIconClass",null),d([h()],He.prototype,"expandIcon",null),d([h()],He.prototype,"expandTooltip",void 0),d([h()],He.prototype,"group",null),d([h()],He.prototype,"iconClass",void 0),d([h()],He.prototype,"icon",void 0),d([h()],He.prototype,"iconNumber",void 0),d([h()],He.prototype,"label",null),d([h(),Br("esri/widgets/Expand/t9n/Expand")],He.prototype,"messages",void 0),d([h(),Br("esri/t9n/common")],He.prototype,"messagesCommon",void 0),d([h()],He.prototype,"mode",void 0),d([h()],He.prototype,"view",null),d([h({type:t5})],He.prototype,"viewModel",void 0),d([Dl()],He.prototype,"_toggle",null),He=d([E("esri.widgets.Expand")],He);const HE=He,Ne="esri-search",Ce={base:Ne,widgetIcon:tt.search,hasMultipleSources:`${Ne}--multiple-sources`,isLoading:`${Ne}--loading`,isSearching:`${Ne}--searching`,showSuggestions:`${Ne}--show-suggestions`,showSources:`${Ne}--sources`,showWarning:`${Ne}--warning`,container:`${Ne}__container`,input:`${Ne}__input`,inputContainer:`${Ne}__input-container`,form:`${Ne}__form`,submitButton:`${Ne}__submit-button`,sourcesButton:`${Ne}__sources-button`,sourcesButtonDown:`${Ne}__sources-button--down`,sourcesButtonUp:`${Ne}__sources-button--up`,clearButton:`${Ne}__clear-button`,sourceName:`${Ne}__source-name`,suggestionsMenu:`${Ne}__suggestions-menu`,suggestionList:`${Ne}__suggestions-list`,suggestionListCurrentLocation:`${Ne}__suggestions-list--current-location`,sourcesMenu:`${Ne}__sources-menu`,source:`${Ne}__source`,warningMenu:`${Ne}__warning-menu`,warningMenuBody:`${Ne}__warning-body`,warningMenuHeader:`${Ne}__warning-header`,warningMenuText:`${Ne}__warning-text`,noValueText:`${Ne}__no-value-text`},_a="esri-search-result-renderer",Sa={base:_a,showMoreResults:`${_a}__more-results--show-more-results`,moreResults:`${_a}__more-results`,moreResultsList:`${_a}__more-results-list`,moreResultsHeader:`${_a}__more-results-header`,moreResultsItem:`${_a}__more-results-item`,moreResultsListHeader:`${_a}__more-results-list-header`};function Nte(t){return t&&typeof t.highlight=="function"}let lt=class extends _p(te){constructor(e){super(e),this.autoNavigate=null,this.filter=null,this.getResults=null,this.getSuggestions=null,this.maxResults=null,this.maxSuggestions=null,this.minSuggestCharacters=null,this.outFields=null,this.placeholder="",this.popupEnabled=null,this.popupTemplate=null,this.prefix="",this.resultGraphicEnabled=null,this.resultSymbol=null,this.suggestionsEnabled=null,this.suffix="",this.withinViewEnabled=!1,this.zoomScale=null}};d([h()],lt.prototype,"autoNavigate",void 0),d([h()],lt.prototype,"filter",void 0),d([h()],lt.prototype,"getResults",void 0),d([h()],lt.prototype,"getSuggestions",void 0),d([h()],lt.prototype,"maxResults",void 0),d([h()],lt.prototype,"maxSuggestions",void 0),d([h()],lt.prototype,"minSuggestCharacters",void 0),d([h()],lt.prototype,"outFields",void 0),d([h()],lt.prototype,"placeholder",void 0),d([h()],lt.prototype,"popupEnabled",void 0),d([h()],lt.prototype,"popupTemplate",void 0),d([h()],lt.prototype,"prefix",void 0),d([h()],lt.prototype,"resultGraphicEnabled",void 0),d([h()],lt.prototype,"resultSymbol",void 0),d([h()],lt.prototype,"suggestionsEnabled",void 0),d([h()],lt.prototype,"suffix",void 0),d([h()],lt.prototype,"withinViewEnabled",void 0),d([h()],lt.prototype,"zoomScale",void 0),lt=d([E("esri.widgets.Search.SearchSource")],lt);const lx=lt;let Ka=class extends Vr(te){constructor(e){super(e),this.onFields=null,this.operator=null,this.searchTerm=null,this.searchType=null}};d([h({type:[String],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.onFields!=null&&this.onFields.length>0}}}}})],Ka.prototype,"onFields",void 0),d([h({type:String,json:{write:!0}})],Ka.prototype,"operator",void 0),d([h({type:String,json:{write:!0}})],Ka.prototype,"searchTerm",void 0),d([h({type:String,json:{write:!0}})],Ka.prototype,"searchType",void 0),Ka=d([E("esri.rest.support.FullTextSearch")],Ka);const Dte=Ka,i5=96;function Dme(t,e){const i=e||t.extent,n=t.width,r=Jn(i==null?void 0:i.spatialReference);return i&&n?i.width/n*r*GC*i5:0}function zte(t,e){return t/(Jn(e)*GC*i5)}function Fte(t,e){const i=t.extent,n=t.width-(t.padding?t.padding.left+t.padding.right:0),r=zte(e,i.spatialReference);return i.clone().expand(r*n/i.width)}function zme(t,e,i){return jte(t,e)&&Ute(t,i)}function jte(t,e){return e===0||Do(t,e)||t<e}function Ute(t,e){return e===0||Do(t,e)||t>e}const BE=G.getLogger("esri.widgets.Search.support.geometryUtils");function Hte(t,e){var n,r;if(!e)return BE.error("missing-parameter: view is missing."),Promise.reject(new D("searchgeometryutils:missing-parameter","view is missing."));if(!t)return BE.error("missing-parameter: point is missing."),Promise.reject(new D("searchgeometryutils:missing-parameter","point is missing."));if(t.hasZ||e.type==="2d")return Promise.resolve(t);const i=(n=e==null?void 0:e.map)==null?void 0:n.ground;return i!=null&&i.layers.length?i.queryElevation(t,{cache:(r=e.basemapTerrain)==null?void 0:r.elevationQueryCache}).then(s=>s.geometry):Promise.resolve(t)}function GE(t){if(t==null)return null;switch(t.type){case"point":return t;case"extent":return t.center;case"polygon":return t.centroid;case"multipoint":return t.getPoint(0);case"polyline":return t.getPoint(0,0)}return null}function cx(t,e,i){return t==null?null:t.type==="extent"?t:t.type==="multipoint"||t.type==="polygon"||t.type==="polyline"?t.extent:t.type==="point"?n5(t,e,i):void 0}function Pw(t,e,i){return t==null||e==null?null:n5(t.center,e,i)}function n5(t,e,i){const n=t.hasZ?t.z:void 0;return e!=null&&e.map?(i!=null?Fte(e,i):e.extent).clone().centerAt(t).set({zmax:n,zmin:n}):new Le({xmin:t.x-.25,ymin:t.y-.25,xmax:t.x+.25,ymax:t.y+.25,spatialReference:t.spatialReference,zmin:n,zmax:n})}const Bte=/https?:\/\/services.*\.arcgis\.com/i,Gte=/(?:\{([^}]+)\})/g,eu=G.getLogger("esri.widgets.Search.support.layerSearchUtils");function Vte(t,e){const{exactMatch:i=!1,location:n,maxResults:r,spatialReference:s,source:o,sourceIndex:a,suggestResult:l,view:u}=t,{layer:p,filter:f,zoomScale:m}=o,g=u==null?void 0:u.scale,y=r5(o,u),v=e==null?void 0:e.signal;return o5(p).then(()=>{const w=p.popupTemplate;return w?w.getRequiredFields(p.fieldsIndex):null}).then(w=>{var U,O,A,R;const{objectIdField:_,returnZ:$}=p,x=h5(o);if(!ux(p,x))throw eu.error("invalid-field: displayField is invalid."),new D("getResults():invalid-field","displayField is invalid.");const T=w&&w.length?w:[x],M=o.outFields||T,I=s5(M);if(M.includes(_)||I||M.push(_),(U=p.floorInfo)!=null&&U.floorField&&M.push(p.floorInfo.floorField),!(I||Jg(p,M)))throw eu.error("invalid-field: outField is invalid."),new D("getResults():invalid-field","outField is invalid.");const L=p.createQuery(),{orderByFields:N}=o;if(N&&(L.orderByFields=N),s){L.outSpatialReference=s;const Z=1/Jn(s);Z&&(L.maxAllowableOffset=Z)}const B=p.geometryType==="mesh"||p.geometryType==="multipatch",F=((A=(O=p.capabilities)==null?void 0:O.data)==null?void 0:A.supportsZ)&&!B;if(L.returnZ=F&&$!==!1,L.returnGeometry=!0,L.multipatchOption=B?"xyFootprint":null,M&&(L.outFields=M),n)L.geometry=n;else if(l.key)L.objectIds=[l.key];else{const Z=o.searchFields||[x];if(!Jg(p,Z))throw eu.error("invalid-field: search field is invalid."),new D("getResults():invalid-field","search field is invalid.");if(d5(p)&&(L.num=r),y&&(L.geometry=y),!((R=l.text)==null?void 0:R.trim()))return[];const re=l.text,{prefix:ie="",suffix:we=""}=o,at=p5(`${ie}${re}${we}`);u5(p)&&l5(p,Z)&&!i&&re&&(L.fullText=c5({text:re,searchFields:Z}));const vt=f5({searchTerm:at,layer:p,searchFields:Z,filter:f,exactMatch:i,query:L,type:"search"});if(L.where=vt,!a5(L))return[]}return p.queryFeatures(L,{signal:v}).then(Z=>rie(Z,u,o,a,x,g,m))})}function Wte(t,e){const{source:i,spatialReference:n,view:r,suggestTerm:s,maxSuggestions:o,sourceIndex:a,exactMatch:l}=t,{layer:u,filter:p}=i,f=e==null?void 0:e.signal,m=r5(i,r);return o5(u).then(()=>{if(!d5(u))return[];const g=h5(i),y=i.searchFields||[g],v=[];i.suggestionTemplate?i.suggestionTemplate.replaceAll(Gte,(F,U)=>(v.push(U),F)):v.push(g);const w=s5(v);v.includes(u.objectIdField)||w||v.push(u.objectIdField);const _=ux(u,g),$=w||Jg(u,v),x=Jg(u,y);if(!_)throw eu.error("invalid-field: displayField is invalid."),new D("getSuggestions():invalid-field","displayField is invalid.");if(!$)throw eu.error("invalid-field: outField is invalid."),new D("getSuggestions():invalid-field","outField is invalid.");if(!x)throw eu.error("invalid-field: search field is invalid."),new D("getSuggestions():invalid-field","search field is invalid.");const T=u.createQuery(),{orderByFields:M}=i;if(M&&(T.orderByFields=M),T.outSpatialReference=n,T.returnGeometry=!1,T.num=o,T.outFields=v,m&&(T.geometry=m),!s.trim())return[];const{prefix:I="",suffix:L=""}=i,N=p5(`${I}${s}${L}`);u5(u)&&l5(u,y)&&!l&&s&&(T.fullText=c5({text:s,searchFields:y}));const B=f5({searchTerm:N,layer:u,searchFields:y,filter:p,exactMatch:l,query:T,type:"suggest"});return T.where=B,a5(T)?u.queryFeatures(T,{signal:f}).then(F=>tie(F,i,a,g)):[]})}function r5(t,e){const{filter:i,withinViewEnabled:n}=t,r=e==null?void 0:e.extent;return(i==null?void 0:i.geometry)??(n&&r?r:void 0)}function s5(t){return t&&t.includes("*")}async function o5(t){t&&await t.load()}function a5(t){return!(!t.fullText&&!t.where)}function l5(t,e){const i=t==null?void 0:t.indexes;return!i||!(e!=null&&e.length)?!1:i.filter(n=>n.indexType==="FullText").some(n=>{var s;const r=((s=n.fields)==null?void 0:s.split(",").map(o=>o.trim().toLowerCase()))||[];return e.every(o=>r.includes(o.toLowerCase()))})}function c5({text:t,searchFields:e}){return t.trim().split(" ").filter(i=>!!i.trim()).map(i=>new Dte({onFields:e,searchTerm:i,searchType:"prefix"}))}function u5(t){var e,i;return((i=(e=t==null?void 0:t.capabilities)==null?void 0:e.query)==null?void 0:i.supportsFullTextSearch)??!1}function d5(t){var e,i;return((i=(e=t==null?void 0:t.capabilities)==null?void 0:e.query)==null?void 0:i.supportsPagination)??!1}function qte(t){var e,i,n;return((n=(i=(e=t==null?void 0:t.fieldsIndex)==null?void 0:e.fields)==null?void 0:i.find(r=>r.type==="string"))==null?void 0:n.name)??""}function h5(t){return t.displayField||t.layer.displayField||qte(t.layer)}function Jg(t,e){return!(!t||!(e!=null&&e.length))&&e.every(i=>ux(t,i))}function ux(t,e){return!!t.getField(e)}function Zte(t){for(let e=0;e<t.length;e++)if(t.charCodeAt(e)>255)return!0;return!1}function Jte(t,e,i){let n=null;const{codedValues:r}=t;return r&&r.some(s=>{const o=s.name,a=i?o:o.toLowerCase();return(i?e:e.toLowerCase())===a&&(n=s.code.toString(),!0)}),n}function p5(t){return t.replaceAll("'","''")}function sd(t,e){const i=e==null?void 0:e.where;return i?`(${t}) AND (${i})`:t}function Kte({currentTerm:t,field:e,filter:i,exactMatch:n,url:r,type:s}){const o=e==null?void 0:e.type,a=e==null?void 0:e.name;if(o==="string"||o==="date"||o==="global-id"){const l=Bte.test(r??""),u=l&&Zte(t)?"N":"";return sd(n&&s==="search"?`${a} = ${u}'${t}'`:l?`${a} LIKE ${u}${`'${t}%'`}`:`${`LOWER(${a})`} LIKE ${u}${`'${t.toLowerCase()}%'`}`,i)}if(o==="oid"||o==="small-integer"||o==="integer"||o==="single"||o==="double"){const l=Number(t);return isNaN(l)?null:sd(`${a} = ${l}`,i)}return sd(`${a} = ${t}`,i)}function Yte(t,e){return t?` OR (${e})`:`(${e})`}function f5({searchTerm:t,layer:e,searchFields:i,filter:n,exactMatch:r,query:s,type:o}){const{definitionExpression:a,url:l}=e;let u="";return!s.fullText&&t&&i&&i.forEach(p=>{const f=e.getField(p),m=typeof e.getFieldDomain=="function"&&e.getFieldDomain(p),g=(m&&m.type==="coded-value"?Jte(m,t,r):null)||t||null;if(g!==null){const y=Kte({currentTerm:g,field:f,filter:n,exactMatch:r,url:l,type:o});y&&(u+=Yte(u,y))}}),a&&u?`(${a}) AND (${u})`:a||u}function Xte(t,e){let i=null;const{codedValues:n}=t;return n&&n.length&&n.some(r=>r.code===e&&(i=r.name,!0)),i}function Qte(t,e){return t[Object.keys(t).find(i=>i.toLowerCase()===e.toLowerCase())]}function m5(t,e,i){const n=t.sourceLayer,{attributes:r}=t,s=typeof n.getFieldDomain=="function"&&n.getFieldDomain(i);if(e)return aO(e,r);if(i&&r){const o=n.getField(i),a=Qte(r,i);return a==null?"":s&&s.type==="coded-value"?Xte(s,a)??"":(o==null?void 0:o.type)==="date"?qo(new Date(a)):typeof a=="number"?a.toString():typeof a!="string"?"":a.trim()}return""}function eie(t,e,i,n){const r=t.sourceLayer,{attributes:s}=t,{objectIdField:o}=r,a=o?s[o]:null;return{text:m5(t,e.suggestionTemplate,n),key:a,sourceIndex:i}}function tie(t,e,i,n){return t.features.map(r=>eie(r,e,i,n))}function iie(t){return t!=null&&t.minScale!=null&&t.maxScale!=null}function nie(t,e,i,n,r,s,o){const a=t.clone(),l=t.sourceLayer,u=l==null?void 0:l.objectIdField,p=u?t.attributes[u]:null,f=m5(t,i.searchTemplate,r);s!=null&&iie(l)&&(l.minScale&&l.minScale<s?s=l.minScale:l.maxScale&&l.maxScale>s&&(s=l.maxScale));const m=cx(a.geometry,e,s),g=typeof o=="number"?Pw(z(m),e,o):m,y=t.clone();return g!=null&&(y.geometry=Fr.fromExtent(g)),{extent:g,target:y,feature:a,key:p,name:f,sourceIndex:n}}function rie(t,e,i,n,r,s,o){return t.features.map(a=>nie(a,e,i,n,r,s,o))}var Rw;let In=Rw=class extends lx{constructor(t){super(t),this.displayField=null,this.exactMatch=null,this.orderByFields=null,this.searchFields=null,this.searchTemplate=null,this.suggestionTemplate=null,this.getResults=(e,i)=>Vte({source:this,...e},i),this.getSuggestions=(e,i)=>Wte({source:this,...e},i)}set layer(t){this._set("layer",t),t&&t.load().catch(()=>{})}get name(){return this._getLayerTitle()??""}set name(t){this._overrideIfSome("name",t)}clone(){return new Rw({autoNavigate:this.autoNavigate,filter:this.filter,maxResults:this.maxResults,maxSuggestions:this.maxSuggestions,minSuggestCharacters:this.minSuggestCharacters,outFields:this.outFields?z(this.outFields):null,placeholder:this.placeholder,popupEnabled:this.popupEnabled,prefix:this.prefix,resultGraphicEnabled:this.resultGraphicEnabled,resultSymbol:this.resultSymbol?this.resultSymbol.clone():null,suggestionsEnabled:this.suggestionsEnabled,suffix:this.suffix,withinViewEnabled:this.withinViewEnabled,displayField:this.displayField,exactMatch:this.exactMatch,layer:this.layer,searchFields:this.searchFields?z(this.searchFields):null,suggestionTemplate:this.suggestionTemplate,zoomScale:this.zoomScale})}_getFirstStringField(){var t,e;return((e=(t=this.layer.fieldsIndex)==null?void 0:t.fields.find(i=>i.type==="string"))==null?void 0:e.name)??""}_getDisplayField(){return this.displayField||this.layer.displayField||this._getFirstStringField()}_getSearchFieldsString(){const{layer:t,searchFields:e}=this;return t.loaded?`: ${(e||[this._getDisplayField()]).map(i=>{const n=t.getField(i);return(n==null?void 0:n.alias)||i}).join(", ")}`:""}_getLayerTitle(){const{layer:t}=this;if(!t)return;const{title:e}=t;return e?`${e}${this._getSearchFieldsString()}`:void 0}};d([h({json:{read:{source:"field.name"},write:{target:"field.name"}}})],In.prototype,"displayField",void 0),d([h({json:{read:{source:"field.exactMatch"},write:{target:"field.exactMatch"}}})],In.prototype,"exactMatch",void 0),d([h({value:null})],In.prototype,"layer",null),d([h()],In.prototype,"name",null),d([h({type:[String],json:{write:!0}})],In.prototype,"orderByFields",void 0),d([h()],In.prototype,"searchFields",void 0),d([h()],In.prototype,"searchTemplate",void 0),d([h()],In.prototype,"suggestionTemplate",void 0),In=Rw=d([E("esri.widgets.Search.LayerSearchSource")],In);const Oc=In;function sie(t){return!!t&&typeof t.x=="number"&&typeof t.y=="number"}function oie(t){return t&&typeof t.xmin=="number"&&typeof t.ymin=="number"&&typeof t.xmax=="number"&&typeof t.ymax=="number"}let bo=class extends te{constructor(e){super(e),this.address=null,this.attributes=null,this.extent=null,this.location=null,this.score=null}};d([h({type:String,json:{write:!0}})],bo.prototype,"address",void 0),d([h({type:Object,json:{write:!0}})],bo.prototype,"attributes",void 0),d([h({type:Le,json:{write:!0}})],bo.prototype,"extent",void 0),d([h({type:ne,json:{write:!0}})],bo.prototype,"location",void 0),d([h({type:Number,json:{write:!0}})],bo.prototype,"score",void 0),bo=d([E("esri.rest.support.AddressCandidate")],bo);const g5=bo,dx={type:String,json:{read:{source:"token"},write:{target:"token"}}};let Rt=class extends te{constructor(e){super(e),this.address=null,this.apiKey=null,this.categories=null,this.countryCode=null,this.forStorage=null,this.location=null,this.locationType=null,this.magicKey=null,this.maxLocations=null,this.outFields=null,this.outSpatialReference=null,this.searchExtent=null}};d([h({type:Object,json:{write:!0}})],Rt.prototype,"address",void 0),d([h(dx)],Rt.prototype,"apiKey",void 0),d([h({type:[String],json:{read:{source:"category",reader:t=>t?t.split(","):null},write:{target:"category",writer:(t,e)=>{e.category=t?t.join(","):null}}}})],Rt.prototype,"categories",void 0),d([h({type:String,json:{write:!0}})],Rt.prototype,"countryCode",void 0),d([h({type:Boolean,json:{write:!0}})],Rt.prototype,"forStorage",void 0),d([h({type:ne,json:{write:{writer:(t,e)=>{e.location=t?t.clone().normalize():null}}}})],Rt.prototype,"location",void 0),d([h({type:String,json:{write:!0}})],Rt.prototype,"locationType",void 0),d([h({type:String,json:{write:!0}})],Rt.prototype,"magicKey",void 0),d([h({type:Number,json:{write:!0}})],Rt.prototype,"maxLocations",void 0),d([h({type:[String],json:{write:{writer:(t,e)=>{e.outFields=t?t.join(","):null}}}})],Rt.prototype,"outFields",void 0),d([h({type:ge,json:{read:{source:"outSR"},write:{target:"outSR"}}})],Rt.prototype,"outSpatialReference",void 0),d([h({type:Le,json:{write:{writer:(t,e)=>{const i=t?t.shiftCentralMeridian():null;e.searchExtent=i}}}})],Rt.prototype,"searchExtent",void 0),Rt=d([E("esri.rest.support.AddressToLocationsParameters")],Rt),Rt.from=It(Rt);const y5=Rt;async function aie(t,e,i){e=y5.from(e);const n=Cp(t),{address:r,...s}=e.toJSON(),o={...r,...s,f:"json"},a=u0({...n.query,...o}),l=c0(a,i),u=`${n.path}/findAddressCandidates`;return Ye(u,l).then(lie)}function lie({data:t}){if(!t)return[];const{candidates:e,spatialReference:i}=t;return e?e.map(n=>{if(!n)return;const{extent:r,location:s}=n,o=!r||oie(r);return sie(s)&&o?(r&&(r.spatialReference=i),s&&(s.spatialReference=i),g5.fromJSON(n)):void 0}):[]}let ys=class extends te{constructor(e){super(e),this.apiKey=null,this.location=null,this.locationType=null,this.outSpatialReference=null}};d([h(dx)],ys.prototype,"apiKey",void 0),d([h({type:ne,json:{write:{writer:(t,e)=>{const i=t?t.clone().normalize():null,n=i!==void 0;e.location=n?i:null}}}})],ys.prototype,"location",void 0),d([h({type:String,json:{write:!0}})],ys.prototype,"locationType",void 0),d([h({type:ge,json:{read:{source:"outSR"},write:{target:"outSR"}}})],ys.prototype,"outSpatialReference",void 0),ys=d([E("esri.rest.support.LocationToAddressParameters")],ys),ys.from=It(ys);const v5=ys;async function cie(t,e,i){e=v5.from(e);const n=Cp(t),r={...e.toJSON(),f:"json"},s=u0({...n.query,...r}),o=c0(s,i),a=`${n.path}/reverseGeocode`;return Ye(a,o).then(uie)}function uie({data:t}){if(!t)return;const{address:e,location:i}=t,n=(e==null?void 0:e.Match_addr)||"";return g5.fromJSON({address:n,attributes:e||{},location:i,score:100})}let Ac=class extends te{constructor(t){super(t),this.isCollection=null,this.magicKey=null,this.text=null}};d([h({type:Boolean,json:{write:!0}})],Ac.prototype,"isCollection",void 0),d([h({type:String,json:{write:!0}})],Ac.prototype,"magicKey",void 0),d([h({type:String,json:{write:!0}})],Ac.prototype,"text",void 0),Ac=d([E("esri.rest.support.SuggestionCandidate")],Ac);const die=Ac;let Ii=class extends te{constructor(e){super(e),this.apiKey=null,this.categories=null,this.countryCode=null,this.location=null,this.maxSuggestions=null,this.outSpatialReference=null,this.searchExtent=null,this.text=null}};d([h(dx)],Ii.prototype,"apiKey",void 0),d([h({type:[String],json:{read:{source:"category",reader:t=>t?t.split(","):null},write:{target:"category",writer:(t,e)=>{e.category=t?t.join(","):null}}}})],Ii.prototype,"categories",void 0),d([h({type:String,json:{write:!0}})],Ii.prototype,"countryCode",void 0),d([h({type:ne,json:{write:{writer:(t,e)=>{e.location=t?t.clone().normalize():null}}}})],Ii.prototype,"location",void 0),d([h({type:Number,json:{write:!0}})],Ii.prototype,"maxSuggestions",void 0),d([h({type:ge,json:{read:{source:"outSR"},write:{target:"outSR"}}})],Ii.prototype,"outSpatialReference",void 0),d([h({type:Le,json:{write:{writer:(t,e)=>{const i=t?t.shiftCentralMeridian():null;e.searchExtent=JSON.stringify(i)}}}})],Ii.prototype,"searchExtent",void 0),d([h({type:String,json:{write:!0}})],Ii.prototype,"text",void 0),Ii=d([E("esri.rest.support.SuggestLocationsParameters")],Ii),Ii.from=It(Ii);const b5=Ii;async function hie(t,e,i){const n=Cp(t),r={...(e=b5.from(e)).toJSON(),f:"json"},s=u0({...n.query,...r}),o=c0(s,i),a=`${n.path}/suggest`;return Ye(a,o).then(pie)}function pie(t){const{data:e}=t;if(!e)return[];const{suggestions:i}=e;return i?i.map(n=>new die(n)):[]}const fie="Single Line Input",mie=3e5;function gie(t,e){return t.location?_ie(t,e):Sie(t,e)}function w5(t,e){var n;if(e.localSearchDisabled)return null;const i=t==null?void 0:t.scale;return typeof i=="number"&&i<=mie?(n=t==null?void 0:t.extent)==null?void 0:n.center:null}async function yie(t,e){const{source:i,spatialReference:n,view:r,suggestTerm:s,maxSuggestions:o,sourceIndex:a}=t,l=new b5,{apiKey:u,url:p}=i,f=_5(i,r),m=e==null?void 0:e.signal;if(!p)return null;u&&(l.apiKey=u),i.categories&&(l.categories=i.categories),n&&(l.outSpatialReference=n);const g=w5(r,i);if(g&&(l.location=g),!s.trim())return null;const{prefix:y="",suffix:v=""}=i,w=`${y}${s}${v}`;return l.text=w,f&&(l.searchExtent=f),l.maxSuggestions=o,i.countryCode&&(l.countryCode=i.countryCode),hie(p,l,{signal:m}).then(_=>$ie(_,a))}function vie(t){return!!t&&/(?:geocode\-api\.arcgis\.com\/arcgis\/rest\/services\/world\/geocodeserver).*/i.test(t)}function bie(t){return!!t&&/(?:\/servers\/[\da-z\.-]+\/rest\/services\/world\/geocodeserver).*/i.test(t)}function VE(t){return!!t&&/(?:arcgis\.com\/arcgis\/rest\/services\/world\/geocodeserver).*/i.test(t)}const wie="https://geocode-api.arcgis.com/arcgis/rest/services/World/GeocodeServer";async function _ie(t,e){const{source:i,spatialReference:n,location:r,sourceIndex:s,view:o}=t,{apiKey:a,url:l,zoomScale:u,defaultZoomScale:p}=i;if(l==null)return[];const f=o==null?void 0:o.scale,m=e==null?void 0:e.signal,g=new v5;g.location=r,a&&(g.apiKey=a),n&&(g.outSpatialReference=n);try{return S5([await cie(l,g,{signal:m})],{sourceIndex:s,scale:f,view:o,zoomScale:u,defaultZoomScale:p})}catch{return[]}}function _5(t,e){const{filter:i,withinViewEnabled:n}=t,r=e==null?void 0:e.scale,s=e==null?void 0:e.extent,o=i==null?void 0:i.geometry;return cx(o,e,r)||(n&&s?s:void 0)}async function Sie(t,e){var L;const{source:i,suggestResult:n,spatialReference:r,view:s,maxResults:o,sourceIndex:a}=t,l=i==null?void 0:i.zoomScale,u=i==null?void 0:i.defaultZoomScale;if(!((L=n.text)==null?void 0:L.trim()))return null;const f=!n.key&&i.prefix?i.prefix:"",m=!n.key&&i.suffix?i.suffix:"",g=`${f}${n.text}${m}`,y=new y5,{apiKey:v,url:w}=i,_=s==null?void 0:s.scale,$=_5(i,s),x=e==null?void 0:e.signal;if(v&&(y.apiKey=v),!w)return null;i.categories&&(y.categories=i.categories),i.locationType&&(y.locationType=i.locationType),r&&(y.outSpatialReference=r);const T=w5(s,i);T&&(y.location=T),y.maxLocations=o,$&&(y.searchExtent=$),i.countryCode&&(y.countryCode=i.countryCode);const{key:M}=n,I=`${M}`;return M&&(y.magicKey=I),y.address={},y.address[i.singleLineFieldName||fie]=g,i.outFields&&(y.outFields=i.outFields),aie(w,y,{signal:x}).then(N=>S5(N,{key:I,scale:_,sourceIndex:a,view:s,zoomScale:l,defaultZoomScale:u}))}function xie(t,e){return{text:t.text,key:t.magicKey,sourceIndex:e}}function $ie(t,e){return t.map(i=>xie(i,e))}function Tie(t,e){const{key:i,scale:n,sourceIndex:r,view:s,zoomScale:o,defaultZoomScale:a}=e,{attributes:l,extent:u,location:p,address:f}=t,m=new vu({geometry:p,attributes:l}),g=u||p,y=cx(g,s,n),v=typeof o=="number"?Pw(y,s,o):typeof a=="number"&&(g==null?void 0:g.type)==="point"?Pw(y,s,a):y,w=p?`${p.x},${p.y}`:"",_=f||w,$=m.clone();return v!=null&&($.geometry=Fr.fromExtent(v)),{extent:v,feature:m,target:$,key:i,name:_,sourceIndex:r}}function S5(t,e){return t.filter(Boolean).map(i=>Tie(i,e))}var Nw;const Eie="esri.widgets.Search.LocatorSearchSource";let qt=Nw=class extends lx{constructor(t){super(t),this.apiKey=null,this.categories=null,this.countryCode=null,this.defaultZoomScale=null,this.localSearchDisabled=!1,this.locationType=null,this.name="",this.placeholder="",this.searchTemplate="",this.singleLineFieldName=null,this.suggestionsEnabled=null,this.url=null,this.zoomScale=null,this.getResults=(e,i)=>gie({source:this,...e},i),this.getSuggestions=(e,i)=>yie({source:this,...e},i)}clone(){return new Nw({apiKey:this.apiKey,autoNavigate:this.autoNavigate,filter:this.filter,maxResults:this.maxResults,maxSuggestions:this.maxSuggestions,minSuggestCharacters:this.minSuggestCharacters,outFields:this.outFields?z(this.outFields):null,placeholder:this.placeholder,popupEnabled:this.popupEnabled,prefix:this.prefix,resultGraphicEnabled:this.resultGraphicEnabled,resultSymbol:this.resultSymbol?this.resultSymbol.clone():null,suggestionsEnabled:this.suggestionsEnabled,suffix:this.suffix,withinViewEnabled:this.withinViewEnabled,categories:this.categories?z(this.categories):null,countryCode:this.countryCode,locationType:this.locationType,searchTemplate:this.searchTemplate,singleLineFieldName:this.singleLineFieldName,zoomScale:this.zoomScale})}};d([h()],qt.prototype,"apiKey",void 0),d([h()],qt.prototype,"categories",void 0),d([h()],qt.prototype,"countryCode",void 0),d([h({json:{write:!0}})],qt.prototype,"defaultZoomScale",void 0),d([h()],qt.prototype,"localSearchDisabled",void 0),d([h()],qt.prototype,"locationType",void 0),d([h({json:{write:!0}})],qt.prototype,"name",void 0),d([h({json:{write:!0}})],qt.prototype,"placeholder",void 0),d([h()],qt.prototype,"searchTemplate",void 0),d([h({json:{write:!0}})],qt.prototype,"singleLineFieldName",void 0),d([h({json:{read:{source:"suggest"},write:{target:"suggest"}}})],qt.prototype,"suggestionsEnabled",void 0),d([h({json:{write:!0}})],qt.prototype,"url",void 0),d([h({json:{write:!0}})],qt.prototype,"zoomScale",void 0),qt=Nw=d([E(Eie)],qt);const x5=qt;let Ya=class extends te{constructor(e){super(e),this.geometries=[],this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const e=this.geometries.map(r=>r.toJSON()),i=this.geometries[0],n={};return n.outSR=ag(this.outSpatialReference),n.inSR=ag(i.spatialReference),n.geometries=JSON.stringify({geometryType:fp(i),geometries:e}),this.transformation&&(n.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),this.transformForward!=null&&(n.transformForward=this.transformForward),n}};d([h()],Ya.prototype,"geometries",void 0),d([h({json:{read:{source:"outSR"}}})],Ya.prototype,"outSpatialReference",void 0),d([h()],Ya.prototype,"transformation",void 0),d([h()],Ya.prototype,"transformForward",void 0),Ya=d([E("esri.rest.support.ProjectParameters")],Ya);const $5=Ya,kie=It($5);async function Mie(t,e,i){e=kie(e);const n=Cp(t),r={...n.query,f:"json",...e.toJSON()},s=e.outSpatialReference,o=fp(e.geometries[0]),a=c0(r,i);return Ye(n.path+"/project",a).then(({data:{geometries:l}})=>rP(l,o,s))}const T5=G.getLogger("esri.widgets.support.geolocationUtils"),Cie={maximumAge:0,timeout:15e3,enableHighAccuracy:!0};function Iie(){const t=P("esri-geolocation");return t||T5.warn("geolocation-unsupported","Geolocation unsupported."),t}function Oie(){const t=window.isSecureContext;return t||T5.warn("insecure-context","Geolocation requires a secure origin."),t}function WE(){return Iie()&&Oie()}function Aie(t){return t||(t=Cie),new Promise((i,n)=>{setTimeout(()=>n(new D("geolocation:timeout","getting the current geolocation position timed out")),15e3),navigator.geolocation.getCurrentPosition(i,n,t??void 0)})}function Lie(t,e){const{position:i,view:n}=t,r=Pie(i),s=r==null?void 0:r.coords;if(!s)throw new D("geometry-service:no-coords","Geolocation has no coordinates");return Nie(Rie(s),n,e)}function Pie(t){const e=t&&t.coords||{},i={accuracy:e.accuracy,altitude:e.altitude,altitudeAccuracy:e.altitudeAccuracy,heading:e.heading,latitude:e.latitude,longitude:e.longitude,speed:e.speed};return t&&{coords:i,timestamp:t.timestamp}}function Rie({longitude:t,latitude:e,altitude:i}){return new ne({longitude:t,latitude:e,z:i||void 0,spatialReference:{wkid:4326}})}function Nie(t,e,i){if(!e)return Promise.resolve(t);const n=e.spatialReference;return n.isWGS84?Promise.resolve(t):n.isWebMercator?Promise.resolve(No(t)):Die(i).then(r=>{if(!r)throw new D("geometry-service:missing-url","Geometry service URL is missing");const s=new $5({geometries:[t],outSpatialReference:n});return Mie(r,s,i).then(o=>o[0])})}function Die(t){if(ye.geometryServiceUrl)return Promise.resolve(ye.geometryServiceUrl);const e=ji.getDefault();return e.load(t).catch(()=>{}).then(()=>{var i,n;return(n=(i=e.helperServices)==null?void 0:i.geometry)==null?void 0:n.url})}function jt(t,e){return t.hasOwnProperty(e)&&t[e]!=null&&t[e]!==""}const zie=()=>Hy("esri/widgets/Search/t9n/Search"),E5="esri.widgets.Search.SearchViewModel",is=G.getLogger(E5),qE="highlight",Nm=ee.ofType({key:t=>t.layer?"layer":"locator",base:lx,typeMap:{layer:Oc,locator:x5}}),ZE=ge.WGS84,Fie="esri/images/search/search-symbol-32.png",jie=/<[\s\S]*?>/g,Lc=-1;let pe=class extends IR(ea.EventedMixin(Q)){constructor(t){super(t),this._gotoController=null,this._searching=null,this._updatingPromise=null,this._createdFeatureLayers=[],this.autoNavigate=!0,this.autoSelect=!0,this.defaultPopupTemplate=null,this.defaultSources=new Nm,this.defaultSymbols={point:new s0({url:ke(Fie),size:24,width:24,height:24}),polyline:new ql({color:[130,130,130,1],width:2}),polygon:new FS({color:[235,235,235,.4],outline:{color:[130,130,130,1],width:2}})},this.includeDefaultSources=!0,this.maxInputLength=128,this.maxResults=6,this.maxSuggestions=6,this.messages=null,this.minSuggestCharacters=3,this.popupEnabled=!0,this.popupTemplate=null,this.portal=ji.getDefault(),this.resultCount=null,this.resultGraphicEnabled=!0,this.resultGraphic=null,this.results=null,this.selectedSuggestion=null,this.searchAllEnabled=!0,this.selectedResult=null,this.sources=new Nm,this.suggestionDelay=350,this.suggestionCount=null,this.suggestions=null,this.suggestionsEnabled=!0,this.view=null}initialize(){const t=async()=>{const e=await zie();this.messages=e,this.defaultPopupTemplate=new xS({title:e.searchResult,content:"{Match_addr}"})};t(),this.addHandles([K(()=>[this.includeDefaultSources,this.view,this.portal],()=>this._update(),yt),Ry(t)])}destroy(){this._destroyFeatureLayers(),this._abortGoTo(),this.clearGraphics()}get activeSource(){return this.allSources.at(this.activeSourceIndex)??null}get activeSourceIndex(){return this.allSources.length===1||!this.searchAllEnabled?0:Lc}set activeSourceIndex(t){this._overrideIfSome("activeSourceIndex",t)}get allPlaceholder(){var t;return(t=this.messages)==null?void 0:t.allPlaceholder}set allPlaceholder(t){this._overrideIfSome("allPlaceholder",t)}get allSources(){const{sources:t,defaultSources:e,includeDefaultSources:i}=this,n=typeof i=="function"?i.call(null,{sources:t,defaultSources:e}):i?e.concat(t):t,r=this._get("allSources")||new Nm;return r.removeAll(),r.addMany(n.filter(Boolean)),r}get locationEnabled(){return this._get("locationEnabled")||WE()}set locationEnabled(t){if(t===void 0)return void this._clearOverride("locationEnabled");const e=WE();if(t&&!e){const i=new D("locationEnabled:geolocation-unsupported","Geolocation API is unsupported.",{geolocation:navigator.geolocation});is.error(i)}this._override("locationEnabled",!!t&&e)}get placeholder(){const{allSources:t,activeSourceIndex:e,allPlaceholder:i}=this;if(e===Lc)return i??"";const n=t.at(e);return(n==null?void 0:n.placeholder)??""}set searchTerm(t){this._set("searchTerm",t||""),this.clearGraphics(),this.selectedSuggestion&&this.selectedSuggestion.text!==t&&this._set("selectedSuggestion",null),t===""&&this._clear()}get searchTerm(){return this._get("searchTerm")||""}get state(){return this._searching?"searching":this.updating?"loading":this.allSources.length===0?"disabled":"ready"}get updating(){return this._updatingPromise!=null}clear(){this.searchTerm=""}clearGraphics(){this._removeHighlight(),this._closePopup();const{view:t,resultGraphic:e}=this;t&&e&&t.graphics.remove(e),this._set("resultGraphic",null)}search(t,e){this.emit("search-start"),this.clearGraphics();const i=this._createSuggestionForSearch(t),n=(async()=>{var r;try{await this.when();const s=await this._getResultsFromSources(i,e);if((r=e==null?void 0:e.signal)!=null&&r.aborted)return null;const o={activeSourceIndex:this.activeSourceIndex,searchTerm:i.text??"",numResults:0,numErrors:0,errors:[],results:[]};this._formatResponse(o,s,i);const a=this._getFirstResult(o.results),l=i.location&&a?a.name:i.text,u=l==null?void 0:l.replace(jie,"");return this._set("searchTerm",u),(i.key&&typeof i.sourceIndex=="number"||i.location)&&this._set("selectedSuggestion",i),this._set("results",o.results),this._set("resultCount",o.results.reduce((p,f)=>{var m;return p+(((m=f.results)==null?void 0:m.length)??0)},0)),this.emit("search-complete",o),await this._selectFirstResult(a),o}finally{this._clearSearching()}})();return this._searching=n,n}async searchNearby(t){if(!this.locationEnabled){const i=new D("searchNearby:geolocation-unsupported","Geolocation API is unsupported.",{geolocation:navigator.geolocation});throw is.error(i),i}const e=(async()=>{try{const i=await Aie(),n=await Lie({position:i,view:this.view},t);return await this.search(n,t)}finally{this._clearSearching()}})();return this._searching=e,e}async select(t){if(this.clearGraphics(),!t){const N=new D("select:missing-parameter","Cannot select without a searchResult.",{searchResult:t});throw is.error(N),N}const{view:e}=this,i=jt(t,"sourceIndex")?t.sourceIndex:this._getSourceIndexOfResult(t),n=i!=null?this.allSources.at(i):null;if(!n){const N=new D("select:missing-source","Cannot select without a source.",{source:n});throw is.error(N),N}const r=n instanceof Oc?this._getLayerSourcePopupTemplate(n):n.popupTemplate,s=n.resultSymbol||this._getDefaultSymbol(t),o=jt(n,"resultGraphicEnabled")?n.resultGraphicEnabled:this.resultGraphicEnabled,a=jt(n,"autoNavigate")?n.autoNavigate:this.autoNavigate,l=(jt(n,"popupEnabled")?n.popupEnabled:this.popupEnabled)?r||this.popupTemplate||this.defaultPopupTemplate:null,{feature:u}=t;if(!u){const N=new D("select:missing-feature","Cannot select without a feature.",{feature:u});throw is.error(N),N}const{attributes:p,geometry:f,layer:m,sourceLayer:g}=u,y=GE(f),v={layerViewQuery:this._getLayerView(u),elevationQuery:e&&y!=null?Hte(y,e).catch(()=>y):Promise.resolve(y)},w=await Oo(v),_=w.layerViewQuery.value,$=w.elevationQuery.value;s instanceof Ep&&(s.text=t.name);const x=e&&a?t.target||t.extent:null;await(x!=null?this._goToSearchResult(x):Promise.resolve());const M=_?u:new vu({geometry:f,symbol:s,attributes:p,layer:m,sourceLayer:g,popupTemplate:l}),I=e==null?void 0:e.popup,L=I&&M.getEffectivePopupTemplate(I.defaultPopupTemplateEnabled);return L&&await e.openPopup({features:[M],location:$}),_&&Nte(_)&&!L&&this._highlightFeature({graphic:M,layerView:_}),!_&&o&&e&&e.graphics.push(M),this._setResultFloor(t),this._set("selectedResult",t),this._set("resultGraphic",M),this.emit("select-result",{result:t,source:n,sourceIndex:i}),t}async suggest(t,e,i){const n=t||this.searchTerm;this.emit("suggest-start",{searchTerm:n}),await this._suggestTimer(e,i);const r=await this._suggestImmediate(n,i);return this._set("suggestions",r==null?void 0:r.results),this._set("suggestionCount",(r==null?void 0:r.results.reduce((s,o)=>{var a;return s+(((a=o.results)==null?void 0:a.length)??0)},0))??null),this.emit("suggest-complete",r),r}async when(){await Ol(()=>!this.updating)}async _update(){const{portal:t,view:e}=this;if(this.includeDefaultSources){const i=this._updatingPromise=Oo([t==null?void 0:t.load(),e==null?void 0:e.when()]);if(this.destroyed||(await i,i!==this._updatingPromise))return}await Ol(()=>this.messages),this.destroyed||this._updateDefaultSources(),this._updatingPromise=null}_clearSearching(){this._searching=null}_convertHelperServices(){var e,i;const t=(i=(e=this.portal)==null?void 0:e.helperServices)==null?void 0:i.geocode;return t?t.map(n=>{var a;if(n.placefinding===!1)return;const r=ye.apiKey&&VE(n.url)?{url:wie}:null,s=x5.fromJSON({...n,...r}),o=s.url;if(VE(o)||bie(o)||vie(o)){const l=s.outFields??["Addr_type","Match_addr","StAddr","City"],u=(s.placeholder||((a=this.messages)==null?void 0:a.placeholder))??"",p=typeof s.defaultZoomScale=="number"?s.defaultZoomScale:2500;s.singleLineFieldName="SingleLine",s.outFields=l,s.placeholder=u,s.defaultZoomScale=p}return s.singleLineFieldName?s:void 0}).filter(Ro):[]}_destroyFeatureLayers(){this._createdFeatureLayers.forEach(t=>t==null?void 0:t.destroy()),this._createdFeatureLayers=[]}_getLayerSources(t,e){var n;const i=(n=this.view)==null?void 0:n.map;return t.map(r=>{const s=i.findLayerById(r.id);if(!s)return;const o=this._getLayerJSON(r),a=Oc.fromJSON(o);return a.placeholder=e,this._getLayer(s,o).then(l=>{a.layer=l}),a}).filter(Ro).toArray()}_getTableSources(t,e){var n;const i=(n=this.view)==null?void 0:n.map;return t.map(r=>{if(!r.id)return;const s=i.findTableById(r.id);if(!s)return;const o=this._getLayerJSON(r),a=Oc.fromJSON(o);return a.placeholder=e,this._getLayer(s,o).then(l=>{a.layer=l}),a}).filter(Ro).toArray()}_convertApplicationProperties(){var o,a,l;const t=(o=this.view)==null?void 0:o.map,e=(l=(a=t==null?void 0:t.applicationProperties)==null?void 0:a.viewing)==null?void 0:l.search;if(!e)return[];const{enabled:i,hintText:n,layers:r,tables:s}=e;return i?[...this._getLayerSources(r,n),...this._getTableSources(s,n)]:[]}async _getSubLayer(t,e){var r;if(await t.load(),!t.allSublayers)throw new Error;const i=t.allSublayers.find(s=>s.id===e.subLayer);if(!i)throw new Error;const n=await((r=i.createFeatureLayer)==null?void 0:r.call(i));if(!n)throw new Error;return this._createdFeatureLayers.push(n),n}async _getBuildingSubLayer(t,e){await t.load();const i=t.allSublayers.find(n=>n.id===e.subLayer);if((i==null?void 0:i.type)!=="building-component")throw new Error;if(await i.load(),i.associatedLayer==null)throw new Error;return await i.associatedLayer.load(),i}async _getLayer(t,e){if(t.type==="feature"||t.type==="scene"||t.type==="csv"||t.type==="geojson"||t.type==="ogc-feature")return t;if(t.type==="map-image")try{return await this._getSubLayer(t,e)}catch{const n=new D("search:create-featurelayer","Could not create a FeatureLayer from the MapImageLayer",{layer:t});return is.error(n),null}return t.type==="building-scene"?this._getBuildingSubLayer(t,e):null}_getLayerJSON(t){return typeof t.toJSON=="function"?t.toJSON():t}_updateDefaultSources(){const{defaultSources:t,includeDefaultSources:e}=this;this._destroyFeatureLayers(),t.removeAll(),e&&t.addMany([...this._convertApplicationProperties(),...this._convertHelperServices()])}_abortGoTo(){this._gotoController&&this._gotoController.abort(),this._gotoController=null}_clear(){this._abortGoTo(),this._set("resultCount",null),this._set("results",null),this._set("suggestions",null),this._set("suggestionCount",null),this._set("selectedResult",null),this._set("selectedSuggestion",null),this.emit("search-clear")}_closePopup(){var r;const t=(r=this.view)==null?void 0:r.popup,{resultGraphic:e}=this;if(!t||!e)return;const i="selectedFeature"in t,n=i?t.selectedFeature:null;i&&n&&n===e&&t.close()}_suggestTimer(t,e){const i=t??this.suggestionDelay;return l_(i,null,e==null?void 0:e.signal)}_createLocationForSearch(t){return t instanceof vu?GE(t.geometry):t instanceof ne?t:Array.isArray(t)&&t.length===2?new ne({longitude:t[0],latitude:t[1]}):null}_createSuggestionForSearch(t){if(t&&jt(t,"key")&&jt(t,"text")&&jt(t,"sourceIndex"))return t;const e=this._createLocationForSearch(t),i=typeof t=="string"?t:this.searchTerm,{selectedSuggestion:n,selectedResult:r}=this,s=!t&&n&&r,o=s&&n.key===r.key&&n.sourceIndex===r.sourceIndex,a=s&&n.location;return o||a?n:{location:e,text:e?"":i,sourceIndex:null,key:null}}_getFirstResult(t){let e=null;return t&&t.some(i=>{const{results:n}=i,r=n==null?void 0:n[0],s=!!r;return s&&(e=r),s}),e}async _selectFirstResult(t){return this.autoSelect&&t?this.select(t):null}async _suggestImmediate(t,e){var r;await this.when();const i=await this._getSuggestionsFromSources(t,e);if((r=e==null?void 0:e.signal)!=null&&r.aborted)return null;const n={activeSourceIndex:this.activeSourceIndex,searchTerm:t??"",numResults:0,numErrors:0,errors:[],results:[]};return this._formatResponse(n,i),n}_formatSourceResponse(t,e,i){const n=(e==null?void 0:e.value)||[],r=e==null?void 0:e.error,s=this.allSources.at(i);if(r){const o={sourceIndex:i,source:s,error:r};t.errors.push(o),is.error(r),t.numErrors++}else{const o={sourceIndex:i,source:s,results:n};t.results.push(o),t.numResults+=n.length}}_formatResponse(t,e,i){if(e)if(t.activeSourceIndex===Lc){const n=i&&jt(i,"sourceIndex")&&i.sourceIndex!==-1?i.sourceIndex:void 0;e.forEach((r,s)=>{const o=n!==void 0?n:s;this._formatSourceResponse(t,r,o)})}else this._formatSourceResponse(t,e[0],t.activeSourceIndex)}async _getResultsFromSources(t,e){const{allSources:i}=this,n=!t.location&&jt(t,"sourceIndex")?t.sourceIndex:this.activeSourceIndex,r=[];if(!i.length){const s=new D("search:no-sources-defined","At least one source is required.",{allSources:i});throw is.error(s),s}return n===Lc?i.forEach((s,o)=>{r.push(this._getResultsFromSource(t,o,e))}):r.push(this._getResultsFromSource(t,n,e)),Oo(r)}async _getSuggestionsFromSources(t,e){const{allSources:i,activeSourceIndex:n}=this,r=[];if(!i.length){const s=new D("suggest:no-sources-defined","At least one source is required.",{allSources:i});throw is.error(s),s}return n===Lc?i.forEach((s,o)=>{r.push(this._getSuggestionsFromSource(t,o,e))}):r.push(this._getSuggestionsFromSource(t,n,e)),Oo(r)}async _getResultsFromSource(t,e,i){var u,p;const n=e!=null?this.allSources.at(e):null;if(!n)return null;const{location:r=null}=t,s=((u=this.view)==null?void 0:u.spatialReference)||ZE,o=jt(n,"maxResults")?n.maxResults:this.maxResults,a=!!(n instanceof Oc&&jt(n,"exactMatch"))&&n.exactMatch,{view:l}=this;return(p=n.getResults)==null?void 0:p.call(n,{view:l,sourceIndex:e,location:r,suggestResult:t,spatialReference:s,exactMatch:a,maxResults:o},i)}async _getSuggestionsFromSource(t,e,i){var a,l;const n=this.allSources.at(e);if(!n)return null;t??(t="");const r=jt(n,"suggestionsEnabled")?n.suggestionsEnabled:this.suggestionsEnabled,s=t==null?void 0:t.length,o=jt(n,"minSuggestCharacters")?n.minSuggestCharacters:this.minSuggestCharacters;if(r&&t.trim()&&s>=o){const u=((a=this.view)==null?void 0:a.spatialReference)||ZE,p=jt(n,"maxSuggestions")?n.maxSuggestions:this.maxSuggestions,{view:f}=this,m=!!(n instanceof Oc&&jt(n,"exactMatch"))&&n.exactMatch;return(l=n.getSuggestions)==null?void 0:l.call(n,{view:f,sourceIndex:e,suggestTerm:t,spatialReference:u,maxSuggestions:p,exactMatch:m},i)}return null}_getLayerSourcePopupTemplate(t){const{layer:e}=t;if(e)return jt(t,"popupTemplate")?t.popupTemplate:e.popupTemplate}_getSourceIndexOfResult(t){const e=this.results;if(!e)return null;let i=null;return e.some(n=>n.results.some(r=>r===t&&(i=n.sourceIndex,!0))),i}async _goToSearchResult(t){this._abortGoTo();const e=new AbortController;this._gotoController=e;const i={target:{target:t},options:{signal:e.signal}};t||(i.options.animate=!1),await this.callGoTo(i),this._gotoController=null}_getDefaultSymbol(t){var n;const{defaultSymbols:e}=this,i=(n=t.feature)==null?void 0:n.geometry;if(i==null)return null;switch(i.type){case"point":case"multipoint":return e.point;case"polyline":return e.polyline;case"extent":case"polygon":return e.polygon;default:return null}}_removeHighlight(){this.removeHandles(qE)}async _getLayerView(t){var n,r;const{view:e}=this;if(!t||!e||((n=t.layer)==null?void 0:n.type)==="building-component"||((r=t.layer)==null?void 0:r.type)==="subtype-sublayer")return null;const{layer:i}=t;return i?(await e.when(),e.whenLayerView(i)):null}_highlightFeature(t){const{graphic:e,layerView:i}=t,{attributes:n,layer:r}=e,{objectIdField:s}=r,o=(s&&(n==null?void 0:n[s]))??null,a=i.highlight(o??e);this.addHandles(a,qE)}_setResultFloor(t){var r,s,o;const{view:e}=this,i=(r=t.feature)==null?void 0:r.attributes,n=(s=t.feature)==null?void 0:s.sourceLayer;if(n&&"floorInfo"in n&&((o=n==null?void 0:n.floorInfo)!=null&&o.floorField)&&i){const a=i[n.floorInfo.floorField];e==null||e.emit("select-result-floor",a)}}};pe.ALL_INDEX=Lc,d([h()],pe.prototype,"_searching",void 0),d([h()],pe.prototype,"_updatingPromise",void 0),d([h({readOnly:!0,value:null})],pe.prototype,"activeSource",null),d([h()],pe.prototype,"activeSourceIndex",null),d([h()],pe.prototype,"allPlaceholder",null),d([h({readOnly:!0})],pe.prototype,"allSources",null),d([h()],pe.prototype,"autoNavigate",void 0),d([h()],pe.prototype,"autoSelect",void 0),d([h()],pe.prototype,"defaultPopupTemplate",void 0),d([h({readOnly:!0})],pe.prototype,"defaultSources",void 0),d([h()],pe.prototype,"defaultSymbols",void 0),d([h()],pe.prototype,"includeDefaultSources",void 0),d([h()],pe.prototype,"locationEnabled",null),d([h()],pe.prototype,"maxInputLength",void 0),d([h()],pe.prototype,"maxResults",void 0),d([h()],pe.prototype,"maxSuggestions",void 0),d([h()],pe.prototype,"messages",void 0),d([h()],pe.prototype,"minSuggestCharacters",void 0),d([h({readOnly:!0})],pe.prototype,"placeholder",null),d([h()],pe.prototype,"popupEnabled",void 0),d([h({type:xS})],pe.prototype,"popupTemplate",void 0),d([h({type:ji})],pe.prototype,"portal",void 0),d([h()],pe.prototype,"resultCount",void 0),d([h()],pe.prototype,"resultGraphicEnabled",void 0),d([h({readOnly:!0})],pe.prototype,"resultGraphic",void 0),d([h({readOnly:!0})],pe.prototype,"results",void 0),d([h({readOnly:!0})],pe.prototype,"selectedSuggestion",void 0),d([h()],pe.prototype,"searchAllEnabled",void 0),d([h({readOnly:!0})],pe.prototype,"selectedResult",void 0),d([h()],pe.prototype,"searchTerm",null),d([h({type:Nm})],pe.prototype,"sources",void 0),d([h({readOnly:!0})],pe.prototype,"state",null),d([h()],pe.prototype,"suggestionDelay",void 0),d([h()],pe.prototype,"suggestionCount",void 0),d([h({readOnly:!0})],pe.prototype,"suggestions",void 0),d([h()],pe.prototype,"suggestionsEnabled",void 0),d([h({readOnly:!0})],pe.prototype,"updating",null),d([h()],pe.prototype,"view",void 0),d([h()],pe.prototype,"clear",null),pe=d([E(E5)],pe);const Bc=pe;let wo=class extends Ds{constructor(t,e){super(t,e),this.messages=null,this.showMoreResultsOpen=!1,this.viewModel=null}destroy(){this.viewModel=null}render(){const t={[Sa.showMoreResults]:this.showMoreResultsOpen};return j("div",{class:this.classes(Sa.base,le.widget)},j("div",{class:this.classes(Sa.moreResults,t),key:"esri-search-renderer__container"},this._renderSearchResultName(),this._renderMoreResults()))}_renderMoreResults(){return j("div",{key:"esri-search-renderer__more-results"},this._renderMoreResultsButton(),this._renderMoreResultsLists())}_renderSearchResultName(){var i;const t=(i=this.viewModel)==null?void 0:i.selectedResult,e=(t==null?void 0:t.name)||"";return j("div",{class:Sa.moreResultsItem,key:"esri-search-renderer__result-name"},e)}_renderMoreResultsLists(){const{viewModel:t}=this;if(!t)return[];const e=t.results;if((t.resultCount??0)<2)return null;const i=e==null?void 0:e.map(n=>this._renderMoreResultsList(n));return j("div",{class:Sa.moreResultsList,key:"esri-search-renderer__more-results-container"},i)}_renderMoreResultsButton(){const{messages:t,viewModel:e}=this;return e?(e.resultCount??0)<2?null:j("div",{class:Sa.moreResultsItem,key:"esri-search-renderer__more-results-button"},j("a",{bind:this,class:le.anchor,href:"#",onclick:this._showMoreResultsClick,onkeydown:this._showMoreResultsClick},this.showMoreResultsOpen?t.hideMoreResults:t.showMoreResults)):null}_renderMoreResultsHeader(t,e){return j("div",{class:Sa.moreResultsListHeader,key:`esri-search-result-renderer__header-${e}`},t)}_renderMoreResultsList(t){var p,f,m;const{results:e}=t,i=(e==null?void 0:e.length)??0,n=i>0,r=(p=this.viewModel)==null?void 0:p.selectedResult,s=i===1&&e[0]===r,o=this._getSourceName(t.source,t.sourceIndex),a=(((m=(f=this.viewModel)==null?void 0:f.results)==null?void 0:m.length)??0)>1&&!s?this._renderMoreResultsHeader(o,t.sourceIndex):null,l=n&&e.map((g,y)=>this._renderMoreResultsListItem(g,y)),u=n&&!s?j("ul",{key:`esri-search-result-renderer__list-${t.sourceIndex}`},l):null;return n?j("div",{key:`esri-search-result-renderer__results-${t.sourceIndex}`},a,u):null}_renderMoreResultsListItem(t,e){var n;const i=(n=this.viewModel)==null?void 0:n.selectedResult;return t!==i?j("li",{key:`esri-search-result-renderer__list-item-${e}`},j("a",{bind:this,class:le.anchor,"data-result":t,href:"#",onclick:this._selectResultClick,onkeydown:this._selectResultClick,tabIndex:0},t.name)):null}_showMoreResultsClick(t){var i,n;t.preventDefault(),this.showMoreResultsOpen=!this.showMoreResultsOpen;const e=(n=(i=this.viewModel)==null?void 0:i.view)==null?void 0:n.popup;e&&"reposition"in e&&e.reposition()}_selectResultClick(t){var i;t.preventDefault();const e=t.currentTarget["data-result"];(i=this.viewModel)==null||i.select(e)}_getSourceName(t,e){return e===Bc.ALL_INDEX?this.messages.all:t.name}};d([h(),Br("esri/widgets/Search/t9n/Search")],wo.prototype,"messages",void 0),d([h()],wo.prototype,"showMoreResultsOpen",void 0),d([h()],wo.prototype,"viewModel",void 0),d([Dl()],wo.prototype,"_showMoreResultsClick",null),d([Dl()],wo.prototype,"_selectResultClick",null),wo=d([E("esri.widgets.Search.SearchResultRenderer")],wo);const Uie=wo,Hie=/<[a-z/][\s\S]*>/i,Bie=(t,e)=>{const i=k4(e).split(/\s/),n=new RegExp(`(${i.join("|")})`,"gi");return t.replace(n,r=>`<strong>${r}</strong>`)};let fe=class extends Ds{constructor(t,e){super(t,e),this._activeMenuItemIndex=-1,this._inputNode=null,this._menuItemCount=0,this._sourceMenuButtonNode=null,this._sourceListNode=null,this._suggestionListNode=null,this._searchResultRenderer=new Uie,this._suggestController=null,this._searchController=null,this._locateFailed=!1,this._container=null,this.activeMenu="none",this.disabled=!1,this.iconClass=Ce.widgetIcon,this.icon=null,this.messages=null,this.messagesCommon=null,this.viewModel=new Bc,this._clearActiveMenu=()=>{this.activeMenu="none"},this._removeActiveMenu=i=>{var r;const n=i.relatedTarget;n&&((r=this._container)!=null&&r.contains(n))||this._clearActiveMenu()},this.addHandles([K(()=>this.searchTerm,i=>{var n,r;(i&&this.activeMenu==="warning"||!i&&!((r=(n=this.viewModel)==null?void 0:n.selectedSuggestion)!=null&&r.location))&&this._clearActiveMenu()}),Os(()=>{var i;return(i=this.viewModel)==null?void 0:i.allSources},"change",()=>this._watchSourceChanges()),K(()=>this.activeMenu,()=>this._resetActiveMenuItemIndex(),yt),K(()=>{var i;return(i=this.viewModel)==null?void 0:i.defaultPopupTemplate},i=>{i&&(i.content=this._renderSearchResultsContent.bind(this))},yt)])}destroy(){this._cancelSuggest(),this._cancelSearch(),this._searchResultRenderer=ze(this._searchResultRenderer)}get displayedSearchTerm(){return`${this.viewModel.searchTerm}`.trim()}get inputId(){return this._buildId("input")}get suggestionsMenuId(){return this._buildId("suggest-menu")}get sourceMenuId(){return this._buildId("source-menu")}get sourceMenuButtonId(){return this._buildId("source-menu-button")}get activeSource(){var t;return(t=this.viewModel)==null?void 0:t.activeSource}get activeSourceIndex(){return this.viewModel.activeSourceIndex}set activeSourceIndex(t){this.viewModel.activeSourceIndex=t}get allPlaceholder(){return this.viewModel.allPlaceholder}set allPlaceholder(t){this.viewModel.allPlaceholder=t}get allSources(){return this.viewModel.allSources}get autoNavigate(){return this.viewModel.autoNavigate}set autoNavigate(t){this.viewModel.autoNavigate=t}get autoSelect(){return this.viewModel.autoSelect}set autoSelect(t){this.viewModel.autoSelect=t}get defaultSources(){return this.viewModel.defaultSources}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(t){this.viewModel.goToOverride=t}get includeDefaultSources(){return this.viewModel.includeDefaultSources}set includeDefaultSources(t){this.viewModel.includeDefaultSources=t}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get locationEnabled(){return this.viewModel.locationEnabled}set locationEnabled(t){this.viewModel.locationEnabled=t}get maxResults(){return this.viewModel.maxResults}set maxResults(t){this.viewModel.maxResults=t}get maxSuggestions(){return this.viewModel.maxSuggestions}set maxSuggestions(t){this.viewModel.maxSuggestions=t}get minSuggestCharacters(){return this.viewModel.minSuggestCharacters}set minSuggestCharacters(t){this.viewModel.minSuggestCharacters=t}get popupEnabled(){return this.viewModel.popupEnabled}set popupEnabled(t){this.viewModel.popupEnabled=t}get popupTemplate(){return this.viewModel.popupTemplate}set popupTemplate(t){this.viewModel.popupTemplate=t}get portal(){var t;return(t=this.viewModel)==null?void 0:t.portal}set portal(t){this.viewModel&&(this.viewModel.portal=t)}get resultGraphic(){return this.viewModel.resultGraphic}set resultGraphic(t){this.viewModel.resultGraphic=t}get resultGraphicEnabled(){return this.viewModel.resultGraphicEnabled}set resultGraphicEnabled(t){this.viewModel.resultGraphicEnabled=t}get results(){return this.viewModel.results}get searchAllEnabled(){return this.viewModel.searchAllEnabled}set searchAllEnabled(t){this.viewModel.searchAllEnabled=t}get searchTerm(){return this.viewModel.searchTerm}set searchTerm(t){this.viewModel.searchTerm=t}get selectedResult(){return this.viewModel.selectedResult}get sources(){return this.viewModel.sources}set sources(t){this.viewModel.sources=t}get suggestions(){return this.viewModel.suggestions}get suggestionsEnabled(){return this.viewModel.suggestionsEnabled}set suggestionsEnabled(t){this.viewModel.suggestionsEnabled=t}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}clear(){this.viewModel.clear()}focus(){var t;(t=this._inputNode)==null||t.focus(),this.emit("search-focus")}blur(){var t;(t=this._inputNode)==null||t.blur(),this.emit("search-blur")}async search(t){this._clearActiveMenu(),this._cancelSuggest(),this._cancelSearch();const e=new AbortController,{signal:i}=e;this._searchController=e;try{const n=await this.viewModel.search(t,{signal:i});return this._searchController!==e?void 0:(this.activeMenu=n!=null&&n.numResults?"none":"warning",this._searchController=null,n)}catch{return this._searchController!==e?void 0:(this._clearActiveMenu(),void(this._searchController=null))}}async suggest(t){this._cancelSuggest();const e=new AbortController,{signal:i}=e;this._suggestController=e;try{const n=await this.viewModel.suggest(t,null,{signal:i});return this._suggestController!==e?void 0:(this._suggestController=null,n!=null&&n.numResults&&this._openSuggestionMenu(),this._scrollToTopSuggestion(),n)}catch{return this._suggestController!==e||(this._suggestController=null),null}}render(){const{state:t}=this.viewModel,e={[le.disabled]:t==="disabled",[le.widgetDisabled]:this.disabled};return j("div",{class:this.classes(Ce.base,le.widget,e)},t==="loading"?this._renderLoader():this._renderContainer())}_renderSubmitButton(){const{messages:t,disabled:e}=this;return j("button",{"aria-label":t.searchButtonTitle,bind:this,class:this.classes(Ce.submitButton,le.widgetButton),disabled:e,key:"esri-search__submit-button",onclick:this._handleSearchButtonClick,title:t.searchButtonTitle,type:"button"},j("span",{"aria-hidden":"true",class:tt.search}))}_renderWarningMenu(){return j("div",{class:this.classes(le.menu,Ce.warningMenu),key:"esri-search__error-menu"},j("div",{class:Ce.warningMenuBody},this._renderWarning()))}_renderSourceMenuButton(){const{messages:t,activeMenu:e,sourceMenuId:i,sourceMenuButtonId:n,disabled:r}=this,{activeSourceIndex:s,allSources:o}=this.viewModel;return o.length>1?j("button",{afterCreate:vf,"aria-controls":i,"aria-expanded":(e==="source").toString(),"aria-haspopup":"true","aria-label":t.searchIn,bind:this,class:this.classes(Ce.sourcesButton,le.widgetButton),"data-node-ref":"_sourceMenuButtonNode",disabled:r,id:n,key:"esri-search__source-menu-button",onclick:this._handleSourcesMenuToggleClick,onfocus:this._handleSourcesMenuToggleFocus,title:t.searchIn,type:"button"},j("span",{"aria-hidden":"true",class:this.classes(tt.downArrow,Ce.sourcesButtonDown)}),j("span",{"aria-hidden":"true",class:this.classes(tt.upArrow,Ce.sourcesButtonUp)}),j("span",{class:Ce.sourceName},this._getSourceName(s))):null}_renderSourcesList(){const{allSources:t,searchAllEnabled:e}=this.viewModel,{_activeMenuItemIndex:i,activeMenu:n,sourceMenuId:r,sourceMenuButtonId:s}=this,o=n==="source"&&i>-1?this._buildId("source-item",i):null;return t.length>1?j("ul",{afterCreate:vf,"aria-activedescendant":o,"aria-labelledby":s,bind:this,class:le.menuList,"data-node-ref":"_sourceListNode",id:r,onkeydown:this._handleSourceMenuKeydown,onkeyup:this._handleSourceMenuKeyup,role:"menu",tabIndex:-1},e?this._renderSource(Bc.ALL_INDEX):null,t.map((a,l)=>this._renderSource(l)).toArray()):null}_renderSourcesMenu(){const{allSources:t}=this.viewModel;return t.length>1?j("div",{class:this.classes(le.menu,Ce.sourcesMenu),key:"esri-search__source-menu"},this._renderSourcesList()):null}_renderLoader(){const{messages:t,messagesCommon:e,disabled:i}=this;return j("div",{class:le.loader,key:"base-loader",tabIndex:i?-1:void 0},j("span",{"aria-hidden":"true",class:le.loaderAnimation}),j("span",{class:tt.fontFallbackText},t.searchButtonTitle),j("span",{class:le.loaderText},e.loading))}_renderContainer(){const{allSources:t,state:e}=this.viewModel,{activeMenu:i}=this,n={[Ce.hasMultipleSources]:t.length>1,[Ce.isLoading]:e==="loading",[Ce.isSearching]:e==="searching",[Ce.showWarning]:i==="warning",[Ce.showSources]:i==="source",[Ce.showSuggestions]:i==="suggestion"};return j("div",{afterCreate:r=>{this._container=r,r.addEventListener("focusout",this._removeActiveMenu)},afterRemoved:r=>{r.removeEventListener("focusout",this._removeActiveMenu)},class:this.classes(n,Ce.container),key:"base-container",tabIndex:-1},this._renderSourceMenuButton(),this._renderSourcesMenu(),this._renderInputContainer(),this._renderSubmitButton(),this._renderWarningMenu())}_renderClearButton(){return this.searchTerm?j("button",{bind:this,class:this.classes(Ce.clearButton,le.widgetButton),disabled:this.disabled,key:"esri-search__clear-button",onclick:this._handleClearButtonClick,onfocus:this._clearActiveMenu,title:this.messages.clearButtonTitle,type:"button"},j("span",{"aria-hidden":"true",class:tt.close})):null}_renderLocationGroup(){const{messages:t,locationEnabled:e,displayedSearchTerm:i}=this,n=e&&!i,r=this.activeMenu==="suggestion"&&this._activeMenuItemIndex===0;return n?j("ul",{class:this.classes(le.menuList,Ce.suggestionList,Ce.suggestionListCurrentLocation),key:"esri-search__suggestion-list-current-location",role:"group"},j("li",{"aria-selected":(this.activeMenu==="suggestion"&&this._activeMenuItemIndex===0).toString(),bind:this,class:this.classes(le.menuItem,r?le.menuItemFocus:null),"data-current-location-item":!0,id:this._buildId("suggestion-item",0),onclick:this._handleUseCurrentLocationClick,role:"option"},j("span",{"aria-hidden":"true",class:tt.locateCircled})," ",t.useCurrentLocation)):null}_renderInput(){const{activeMenu:t,locationEnabled:e,displayedSearchTerm:i,messages:n,suggestionsMenuId:r,inputId:s,_activeMenuItemIndex:o,disabled:a}=this,{maxInputLength:l,placeholder:u,searchTerm:p,suggestionCount:f}=this.viewModel,m=!(!(e&&!i)&&!f),g=t==="suggestion"&&o>-1?this._buildId("suggestion-item",o):null;return j("input",{afterCreate:vf,"aria-activedescendant":g,"aria-autocomplete":"list","aria-controls":m?r:null,"aria-expanded":(m&&t==="suggestion").toString(),"aria-haspopup":"listbox","aria-label":n.searchButtonTitle,autocomplete:"off",bind:this,class:this.classes(le.input,Ce.input),"data-node-ref":"_inputNode",disabled:a,id:s,maxlength:l,onblur:this.blur,onclick:this._openSuggestionMenu,onfocus:this.focus,oninput:this._handleInputPaste,onkeyup:this._handleInputKeyup,onpaste:this._handleInputPaste,placeholder:u,role:"combobox",title:p?"":u,type:"text",value:p})}_renderForm(){return j("form",{bind:this,class:Ce.form,disabled:this.disabled,key:"esri-search__form",onsubmit:this._formSubmit,role:"search"},this._renderInput())}_renderSuggestList(t){const{sourceIndex:e}=t,{results:i}=t;return(i==null?void 0:i.length)?j("ul",{class:this.classes(le.menuList,Ce.suggestionList),key:`esri-search__suggestion-list-${e}`,role:"group"},i==null?void 0:i.map(r=>this._renderSuggestion(r,this._menuItemCount++))):null}_renderSuggestionsGroup(){const{suggestions:t}=this.viewModel;return t?t.map(e=>[this._renderSuggestionHeader(e),this._renderSuggestList(e)]):[]}_renderSuggestionsMenu(){const{displayedSearchTerm:t,locationEnabled:e,suggestionsMenuId:i,inputId:n}=this,{suggestionCount:r}=this.viewModel,s=e&&!t||r;return this._menuItemCount=0,s?j("div",{afterCreate:vf,"aria-labelledby":n,bind:this,class:this.classes(le.menu,Ce.suggestionsMenu),"data-node-ref":"_suggestionListNode",id:i,key:"esri-search__suggestions-menu",role:"listbox"},this._renderLocationGroup(),this._renderSuggestionsGroup()):null}_renderInputContainer(){return j("div",{class:Ce.inputContainer,key:"esri-search__input-container"},this._renderForm(),this._renderSuggestionsMenu(),this._renderClearButton())}_renderSuggestionHeader(t){var o;const{allSources:e,activeSourceIndex:i}=this.viewModel,{sourceIndex:n}=t,r=(o=t.results)==null?void 0:o.length,s=e.length>1&&i===Bc.ALL_INDEX;return r&&s?j("div",{class:le.menuHeader,key:`esri-search__suggestion-header-${n}`},this._getSourceName(n)):null}_renderSuggestion(t,e){const{_activeMenuItemIndex:i,viewModel:{searchTerm:n}}=this;if(!n)return;const r=this.activeMenu==="suggestion"&&i===e;return j("li",{"aria-selected":(this.activeMenu==="suggestion"&&this._activeMenuItemIndex===e).toString(),bind:this,class:this.classes(le.menuItem,r?le.menuItemFocus:null),"data-suggestion":t,id:this._buildId("suggestion-item",e),innerHTML:this._getSuggestResultHTML(t.text,n),key:`esri-search__suggestion_${e}`,onclick:this._handleSuggestionClick,role:"option"})}_renderSource(t){const{activeSourceIndex:e,searchAllEnabled:i}=this.viewModel,n={[le.menuItemActive]:t===e,[le.menuItemFocus]:this.activeMenu==="source"&&t===(i?this._activeMenuItemIndex-1:this._activeMenuItemIndex)},r=i?t+1:t;return j("li",{"aria-checked":(t===e).toString(),bind:this,class:this.classes(Ce.source,le.menuItem,n),"data-source-index":t,id:this._buildId("source-item",r),key:`esri-search__source-${t}`,onclick:this._handleSourceClick,role:"menuitemradio"},this._getSourceName(t))}_renderNoResultsWarning(t){const{messages:e}=this,i=t?aO(e.noResultsFoundForValue,{value:`"${t}"`}):e.noResultsFound;return j("div",{key:"esri-search__no_results"},j("div",{class:Ce.warningMenuHeader},e.noResults),j("div",{class:Ce.warningMenuText},i))}_renderEmptySearchWarning(){const{messages:t}=this;return j("div",{key:"esri-search__empty-search"},j("span",{"aria-hidden":"true",class:tt.noticeTriangle}),j("span",{class:Ce.noValueText},t.emptyValue))}_renderLocateWarning(){const{messages:t}=this;return j("div",{key:"esri-search__locate-error"},j("span",{"aria-hidden":"true",class:tt.noticeTriangle}),j("span",{class:Ce.noValueText},t.locateError))}_renderWarning(){var n;const{displayedSearchTerm:t,_locateFailed:e}=this,{viewModel:i}=this;return e?this._renderLocateWarning():(n=i.selectedSuggestion)!=null&&n.location||t?this._renderNoResultsWarning(t):this._renderEmptySearchWarning()}_resetActiveMenuItemIndex(){this._activeMenuItemIndex=-1}_buildId(t,e){return`${this.id}-${t}${e===void 0?"":`-${e}`}`}_watchSourceChanges(){const{viewModel:{allSources:t}}=this,e="sources";this.removeHandles(e),t.forEach(i=>this.addHandles(K(()=>i.name,()=>this.scheduleRender()),e))}_handleSourcesMenuToggleFocus(){this.activeMenu!=="source"&&this._clearActiveMenu()}_handleSourcesMenuToggleClick(){var e;const t=this.activeMenu==="source";this.activeMenu=t?"none":"source",this.renderNow(),this.activeMenu==="source"&&((e=this._sourceListNode)==null||e.focus())}_handleClearButtonClick(){this.viewModel.clear(),this._focus()}_handleSearchButtonClick(){this.search()}_handleSuggestionClick(t){const e=JE(t.currentTarget);e&&(this._focus(),this.search(e))}_handleUseCurrentLocationClick(){this._useCurrentLocation()}_useCurrentLocation(){this._focus("none"),this._cancelSuggest(),this._cancelSearch();const t=new AbortController,{signal:e}=t;this._searchController=t,(async()=>{try{const i=await this.viewModel.searchNearby({signal:e});this.activeMenu=i!=null&&i.numResults?"none":"warning"}catch{this._locateFailed=!0,this.activeMenu="warning"}finally{this._searchController=null}})()}_handleSourceClick(t){this._setSourceFromMenuItem(t.currentTarget)}_setSourceFromMenuItem(t){var i;if(!t)return;const e=Gie(t);e!=null&&(this.viewModel.activeSourceIndex=e,this._clearActiveMenu(),(i=this._sourceMenuButtonNode)==null||i.focus())}_cancelSuggest(){this._suggestController=Uo(this._suggestController)}_cancelSearch(){this._searchController=Uo(this._searchController),this._locateFailed=!1}_handleInputKeyup(t){var r;const e=Zf(t);if(t.ctrlKey||t.metaKey||e==="Copy"||e==="ArrowLeft"||e==="ArrowRight"||e==="Shift")return;if(e==="Tab"||e==="Escape"||t.shiftKey&&e==="Tab")return this._cancelSuggest(),void(e==="Escape"&&this._clearActiveMenu());const i=e==="Home"||e==="End"||e==="ArrowUp"||e==="ArrowDown";if(e==="Enter"&&this._activeMenuItemIndex<0)return void this._cancelSuggest();const n=(r=this._suggestionListNode)==null?void 0:r.getElementsByTagName("li");if(n!=null&&n.length){if(this.activeMenu!=="suggestion"&&this._openSuggestionMenu(),i)return t.preventDefault(),this._cancelSuggest(),void this._handleItemNavigation(e,n,this._suggestionListNode);const s=n[this._activeMenuItemIndex];if(e==="Enter"&&s){const o=JE(s);return void(o?(this._focus(),this.search(o)):Vie(s)&&this._useCurrentLocation())}}this.viewModel.searchTerm&&this.suggest()}_handleItemNavigation(t,e,i){const n=this._activeMenuItemIndex;t==="Home"&&(this._activeMenuItemIndex=0),t==="End"&&(this._activeMenuItemIndex=e.length-1),t==="ArrowUp"&&(this._activeMenuItemIndex=this._activeMenuItemIndex<=0?e.length-1:this._activeMenuItemIndex-1),t==="ArrowDown"&&(this._activeMenuItemIndex=this._activeMenuItemIndex===e.length-1?0:this._activeMenuItemIndex+1),n!==this._activeMenuItemIndex&&i&&fB(e[this._activeMenuItemIndex],i)}_scrollToTopSuggestion(){this._suggestionListNode&&(this._suggestionListNode.scrollTop=0)}_openSuggestionMenu(){this.activeMenu="suggestion"}_handleInputPaste(t){const e=t.target;this.viewModel.searchTerm!==e.value&&(this.viewModel.searchTerm=e.value),this.viewModel.searchTerm&&this.suggest()}_handleSourceMenuKeydown(t){var i;const e=Zf(t);if(BO(e)){t.preventDefault();const n=(i=this._sourceListNode)==null?void 0:i.getElementsByTagName("li"),r=n==null?void 0:n[this._activeMenuItemIndex];this._setSourceFromMenuItem(r)}else e!=="ArrowUp"&&e!=="ArrowDown"&&e!=="End"&&e!=="Home"||t.preventDefault()}_handleSourceMenuKeyup(t){var r,s,o;const e=Zf(t),i=e==="ArrowUp"||e==="ArrowDown"||e==="End"||e==="Home";if(i&&t.preventDefault(),e==="Escape")return this._clearActiveMenu(),void((r=this._sourceMenuButtonNode)==null?void 0:r.focus());const n=(s=this._sourceListNode)==null?void 0:s.getElementsByTagName("li");return n&&n.length!==0&&i?(this.activeMenu!=="source"&&(this.activeMenu="source"),void this._handleItemNavigation(e,n,(o=this._sourceListNode)==null?void 0:o.parentElement)):void 0}_focus(t){this.focus(),t&&(this.activeMenu=t)}_formSubmit(t){t.preventDefault(),this._activeMenuItemIndex===-1&&this.search()}_getSourceName(t){const{messages:e}=this,i=this.viewModel,{allSources:n}=i,r=n.at(t);return t===Bc.ALL_INDEX?e.all:r&&r.name||e.untitledSource}_getSuggestResultHTML(t,e){return t?Hie.test(t)?t:Bie(t,e):this.messages.untitledResult}_renderSearchResultsContent(){return this._searchResultRenderer.showMoreResultsOpen=!1,this._searchResultRenderer.viewModel=this.viewModel,this._searchResultRenderer}};function JE(t){return t==null?void 0:t["data-suggestion"]}function Gie(t){return t==null?void 0:t["data-source-index"]}function Vie(t){return!!(t!=null&&t["data-current-location-item"])}d([h()],fe.prototype,"_activeMenuItemIndex",void 0),d([h()],fe.prototype,"displayedSearchTerm",null),d([h({readOnly:!0})],fe.prototype,"inputId",null),d([h({readOnly:!0})],fe.prototype,"suggestionsMenuId",null),d([h({readOnly:!0})],fe.prototype,"sourceMenuId",null),d([h({readOnly:!0})],fe.prototype,"sourceMenuButtonId",null),d([h()],fe.prototype,"activeMenu",void 0),d([h({readOnly:!0})],fe.prototype,"activeSource",null),d([h()],fe.prototype,"activeSourceIndex",null),d([h()],fe.prototype,"allPlaceholder",null),d([h({readOnly:!0})],fe.prototype,"allSources",null),d([h()],fe.prototype,"autoNavigate",null),d([h()],fe.prototype,"autoSelect",null),d([h({readOnly:!0})],fe.prototype,"defaultSources",null),d([h()],fe.prototype,"disabled",void 0),d([h()],fe.prototype,"goToOverride",null),d([h()],fe.prototype,"iconClass",void 0),d([h()],fe.prototype,"icon",void 0),d([h()],fe.prototype,"includeDefaultSources",null),d([h()],fe.prototype,"label",null),d([h()],fe.prototype,"locationEnabled",null),d([h()],fe.prototype,"maxResults",null),d([h()],fe.prototype,"maxSuggestions",null),d([h(),Br("esri/widgets/Search/t9n/Search")],fe.prototype,"messages",void 0),d([h(),Br("esri/t9n/common")],fe.prototype,"messagesCommon",void 0),d([h()],fe.prototype,"minSuggestCharacters",null),d([h()],fe.prototype,"popupEnabled",null),d([h()],fe.prototype,"popupTemplate",null),d([h()],fe.prototype,"portal",null),d([h()],fe.prototype,"resultGraphic",null),d([h()],fe.prototype,"resultGraphicEnabled",null),d([h({readOnly:!0})],fe.prototype,"results",null),d([h()],fe.prototype,"searchAllEnabled",null),d([h()],fe.prototype,"searchTerm",null),d([h({readOnly:!0})],fe.prototype,"selectedResult",null),d([h()],fe.prototype,"sources",null),d([h({readOnly:!0})],fe.prototype,"suggestions",null),d([h()],fe.prototype,"suggestionsEnabled",null),d([h()],fe.prototype,"view",null),d([Lte(["search-complete","search-clear","search-start","select-result","suggest-start","suggest-complete"]),h({type:Bc})],fe.prototype,"viewModel",void 0),fe=d([E("esri.widgets.Search")],fe);const Wie=fe;function qie(t){let e,i,n,r;return{c(){e=oe("div"),i=oe("div"),n=oe("div"),Si(n,"id","mapDiv"),Si(n,"class","svelte-1avm01t"),Si(i,"class",r=Ux(`view-container-${t[0]}`)+" svelte-1avm01t"),Si(e,"id","map-container"),Si(e,"class","svelte-1avm01t")},m(s,o){tp(s,e,o),J(e,i),J(i,n)},p(s,[o]){o&1&&r!==(r=Ux(`view-container-${s[0]}`)+" svelte-1avm01t")&&Si(i,"class",r)},i:gt,o:gt,d(s){s&&Tu(e)}}}function Zie(t,e,i){let n;return Nc(t,XC,r=>i(0,n=r)),n4(()=>{const r=new Ree({container:"mapDiv",map:{basemap:"gray-vector"},constraints:{snapToZoom:!0},center:[-80.84521293637971,35.22535861915421],zoom:16}),s=()=>{K(()=>[r.stationary,r.scale,r.zoom,r.center,r.extent],([p,f,m,g,y])=>{p&&Vo.set(r)}),Vo.set(r)},o=new Ate({view:r}),a=new HE({expandIcon:"basemap",view:r,content:o,autoCollapse:!0,closeOnEsc:!0}),l=new Wie({view:r}),u=new HE({expandIcon:"search",view:r,content:l,group:"top-left"});r.ui.add([a,u],"top-left"),r.when(s)}),[n]}class Jie extends np{constructor(e){super(),ip(this,e,Zie,qie,$u,{})}}function Kie(t){let e,i,n,r,s,o,a,l,u,p,f,m,g,y,v,w,_,$,x,T,M,I,L,N,B,F,U,O,A,R,Z,se,re,ie,we,at,vt,ti,fn,or,Uu,qr,ar,Px,da,Fp,ha,jp,Rx,Up,Nx,Kl,Dx,Zr,Jr,zx,Hp,S0,Fx;return{c(){e=oe("div"),i=oe("h3"),i.textContent="Map",n=Nt(),r=oe("calcite-label"),s=vs(`Zoom level
    `),o=oe("calcite-input"),a=oe("div"),l=oe("calcite-button"),p=Nt(),f=oe("calcite-tooltip"),f.textContent="Copy zoom level",m=Nt(),g=oe("calcite-label"),y=vs(`Scale
    `),v=oe("calcite-input"),w=oe("div"),_=oe("calcite-button"),x=Nt(),T=oe("calcite-tooltip"),T.textContent="Copy scale",M=Nt(),I=oe("calcite-tabs"),L=oe("calcite-tab-nav"),L.innerHTML='<calcite-tab-title selected="">WGS84 (4326)</calcite-tab-title> <calcite-tab-title>WebMercator (102100)</calcite-tab-title>',N=Nt(),B=oe("calcite-tab"),F=oe("calcite-label"),U=vs(`Center
        `),O=oe("calcite-input"),A=oe("div"),R=oe("calcite-button"),se=Nt(),re=oe("calcite-tooltip"),re.textContent="Copy WGS center point",ie=Nt(),we=oe("calcite-label"),at=vs(`Extent
        `),vt=oe("calcite-text-area"),ti=oe("calcite-button"),ti.innerHTML="",fn=Nt(),or=oe("calcite-tooltip"),or.textContent="Copy scale",Uu=Nt(),qr=oe("calcite-tab"),ar=oe("calcite-label"),Px=vs(`Center
        `),da=oe("calcite-input"),Fp=oe("div"),ha=oe("calcite-button"),Rx=Nt(),Up=oe("calcite-tooltip"),Up.textContent="Copy WGS84 center point",Nx=Nt(),Kl=oe("calcite-label"),Dx=vs(`Extent
        `),Zr=oe("calcite-text-area"),Jr=oe("calcite-button"),Jr.innerHTML="",zx=Nt(),Hp=oe("calcite-tooltip"),Hp.textContent="Copy Web Mercator extent",W(l,"data-copy-id","zoomInput"),W(l,"data-copy-msg","Zoom level"),W(l,"id","zoomBtn"),W(l,"icon-start","copy-to-clipboard"),Si(a,"slot","action"),W(o,"id","zoomInput"),W(o,"read-only",""),W(o,"value",u=t[0].zoom||0),W(f,"reference-element","zoomBtn"),W(_,"id","scaleBtn"),W(_,"data-copy-id","scaleInput"),W(_,"data-copy-msg","Scale level"),W(_,"icon-start","copy-to-clipboard"),Si(w,"slot","action"),W(v,"id","scaleInput"),W(v,"read-only",""),W(v,"value",$=t[0].scale),W(T,"reference-element","scaleBtn"),W(L,"slot","title-group"),W(R,"data-copy-id","wgsCenterCntrl"),W(R,"data-copy-msg","WGS84 center point"),W(R,"id","wgsCenterBtn"),W(R,"icon-start","copy-to-clipboard"),Si(A,"slot","action"),W(O,"id","wgsCenterCntrl"),W(O,"value",Z=`${t[1].x.toFixed(4)}, ${t[1].y.toFixed(4)}`),W(O,"read-only",""),W(re,"reference-element","wgsCenterBtn"),W(ti,"data-copy-id","wgsExtentCntrl"),W(ti,"data-copy-msg","WGS84 extent"),W(ti,"id","wgsExtentBtn"),W(ti,"slot","footer-end"),W(ti,"icon-start","copy-to-clipboard"),W(vt,"id","wgsExtentCntrl"),W(vt,"name","wgsExtentCntrl"),W(vt,"rows","10"),W(vt,"read-only",""),W(vt,"value",t[2]),W(or,"reference-element","wgsExtentBtn"),W(B,"selected",""),W(ha,"data-copy-id","wmCenterCntrl"),W(ha,"data-copy-msg","Web mercator center point"),W(ha,"id","copyCenterBtn"),W(ha,"icon-start","copy-to-clipboard"),Si(Fp,"slot","action"),W(da,"id","wmCenterCntrl"),W(da,"read-only",""),W(da,"value",jp=`${t[0].center.x.toFixed(4)}, ${t[0].center.y.toFixed(4)}`),W(Up,"reference-element","copyCenterBtn"),W(Jr,"data-copy-id","wmExtentCntrl"),W(Jr,"data-copy-msg","Web mercator extent"),W(Jr,"id","wmExtentBtn"),W(Jr,"slot","footer-end"),W(Jr,"icon-start","copy-to-clipboard"),W(Zr,"id","wmExtentCntrl"),W(Zr,"name","wmExtentCntrl"),W(Zr,"rows","10"),W(Zr,"read-only",""),W(Zr,"value",t[3]),W(Hp,"reference-element","wmExtentBtn"),W(I,"bordered",""),W(I,"layout","center"),Si(e,"class","cntrl-container")},m(Bi,Fs){tp(Bi,e,Fs),J(e,i),J(e,n),J(e,r),J(r,s),J(r,o),J(o,a),J(a,l),J(r,p),J(r,f),J(e,m),J(e,g),J(g,y),J(g,v),J(v,w),J(w,_),J(g,x),J(g,T),J(e,M),J(e,I),J(I,L),J(I,N),J(I,B),J(B,F),J(F,U),J(F,O),J(O,A),J(A,R),J(F,se),J(F,re),J(B,ie),J(B,we),J(we,at),J(we,vt),J(vt,ti),J(we,fn),J(we,or),J(I,Uu),J(I,qr),J(qr,ar),J(ar,Px),J(ar,da),J(da,Fp),J(Fp,ha),J(ar,Rx),J(ar,Up),J(qr,Nx),J(qr,Kl),J(Kl,Dx),J(Kl,Zr),J(Zr,Jr),J(Kl,zx),J(Kl,Hp),S0||(Fx=[_o(l,"click",t[4]),_o(_,"click",t[4]),_o(R,"click",t[4]),_o(ti,"click",t[4]),_o(ha,"click",t[4]),_o(Jr,"click",t[4])],S0=!0)},p(Bi,[Fs]){Fs&1&&u!==(u=Bi[0].zoom||0)&&W(o,"value",u),Fs&1&&$!==($=Bi[0].scale)&&W(v,"value",$),Fs&2&&Z!==(Z=`${Bi[1].x.toFixed(4)}, ${Bi[1].y.toFixed(4)}`)&&W(O,"value",Z),Fs&4&&W(vt,"value",Bi[2]),Fs&1&&jp!==(jp=`${Bi[0].center.x.toFixed(4)}, ${Bi[0].center.y.toFixed(4)}`)&&W(da,"value",jp),Fs&8&&W(Zr,"value",Bi[3])},i:gt,o:gt,d(Bi){Bi&&Tu(e),S0=!1,xu(Fx)}}}function Yie(t,e,i){let n,r,s,o;Nc(t,Vo,u=>i(0,n=u)),Nc(t,Jz,u=>i(1,r=u)),Nc(t,Yz,u=>i(2,s=u)),Nc(t,Kz,u=>i(3,o=u));const a=hM();return[n,r,s,o,u=>{const p=document.getElementById(u.target.dataset.copyId);navigator.clipboard.writeText(p.value).then(()=>{a("copy",{label:u.target.dataset.copyMsg,value:p.value,type:"success"})},f=>{console.log("error copying to cp")})}]}class Xie extends np{constructor(e){super(),ip(this,e,Yie,Kie,$u,{})}}function Qie(t){let e,i,n,r,s,o;return{c(){e=oe("div"),i=oe("calcite-label"),n=vs(`Map size
    `),r=oe("calcite-select"),r.innerHTML='<calcite-option value="full-size">Full size</calcite-option> <calcite-option value="size-1">900px x 400px</calcite-option>',Si(e,"class","cntrl-container")},m(a,l){tp(a,e,l),J(e,i),J(i,n),J(i,r),s||(o=_o(r,"calciteSelectChange",t[0]),s=!0)},p:gt,i:gt,o:gt,d(a){a&&Tu(e),s=!1,o()}}}function ene(t){return[i=>{XC.set(i.target.value)}]}class tne extends np{constructor(e){super(),ip(this,e,ene,Qie,$u,{})}}function ine(t){let e,i,n,r,s,o,a;return{c(){e=oe("div"),i=oe("calcite-label"),n=vs(`Add a reference layer by item ID
    `),r=oe("calcite-input"),s=oe("calcite-button"),s.textContent="Add to map",W(s,"id","addLayerBtn"),W(s,"slot","action"),W(r,"id","itemIdInput"),W(r,"placeholder","Layer item ID (b5d71d19fd4b43fbb88abf07773ec0c7)"),Si(e,"class","cntrl-container")},m(l,u){tp(l,e,u),J(e,i),J(i,n),J(i,r),J(r,s),o||(a=_o(s,"click",t[0]),o=!0)},p:gt,i:gt,o:gt,d(l){l&&Tu(e),o=!1,a()}}}function nne(t,e,i){let n;Nc(t,Vo,o=>i(1,n=o));const r=hM();return[()=>{const o=document.getElementById("itemIdInput").value;o&&$A.fromPortalItem({portalItem:{id:o}}).then(a=>{n.map.add(a),a.when(()=>{e4(Vo,n.extent=a.fullExtent,n)})},a=>{r("add-layer",`${a.message}`)})}]}class rne extends np{constructor(e){super(),ip(this,e,nne,ine,$u,{})}}function sne(t){let e,i,n,r,s,o,a,l,u,p,f,m,g,y;return o=new tne({}),l=new rne({}),l.$on("add-layer",t[0]),p=new Xie({}),p.$on("copy",t[0]),g=new Jie({}),{c(){e=oe("main"),i=oe("calcite-shell"),n=oe("calcite-alert"),n.innerHTML='<div slot="message" name="alertMessage" id="alertMessage"></div> <div slot="title" name="alertTitle" id="alertTitle"></div>',r=Nt(),s=oe("calcite-shell-panel"),Gp(o.$$.fragment),a=Nt(),Gp(l.$$.fragment),u=Nt(),Gp(p.$$.fragment),f=Nt(),m=oe("calcite-panel"),Gp(g.$$.fragment),W(n,"id","copyAlert"),W(n,"auto-close",""),W(n,"auto-close-duration","fast"),W(n,"placement","bottom-start"),W(s,"slot","panel-end"),W(s,"position","end"),W(s,"id","shell-panel-start")},m(v,w){tp(v,e,w),J(e,i),J(i,n),J(i,r),J(i,s),cd(o,s,null),J(s,a),cd(l,s,null),J(s,u),cd(p,s,null),J(i,f),J(i,m),cd(g,m,null),y=!0},p:gt,i(v){y||(ld(o.$$.fragment,v),ld(l.$$.fragment,v),ld(p.$$.fragment,v),ld(g.$$.fragment,v),y=!0)},o(v){Bp(o.$$.fragment,v),Bp(l.$$.fragment,v),Bp(p.$$.fragment,v),Bp(g.$$.fragment,v),y=!1},d(v){v&&Tu(e),ud(o),ud(l),ud(p),ud(g)}}}function one(t){return[i=>{const n=document.getElementById("copyAlert");n.setAttribute("icon","copy-to-clipboard"),n.setAttribute("kind","success"),document.getElementById("alertTitle").innerHTML="Copy value",document.getElementById("alertMessage").innerHTML=`${i.detail.label} <b>${i.detail.value}</b> copied to the clipboard`,n.open=!0}]}class ane extends np{constructor(e){super(),ip(this,e,one,sne,$u,{})}}const rl={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,formAssociated:!1,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0,experimentalSlotFixes:!1};let Pc,k5,f0,M5=!1,Kg=!1,hx=!1,Pi=!1,KE=null,Dw=!1;const C5=t=>{const e=new URL(t,At.$resourcesUrl$);return e.origin!==Rp.location.origin?e.href:e.pathname},lne=t=>At.$resourcesUrl$=t,zl=(t,e="")=>()=>{},cne="slot-fb{display:contents}slot-fb[hidden]{display:none}",YE="http://www.w3.org/1999/xlink",XE={},une="http://www.w3.org/2000/svg",dne="http://www.w3.org/1999/xhtml",hne=t=>t!=null,px=t=>(t=typeof t,t==="object"||t==="function");function pne(t){var e,i,n;return(n=(i=(e=t.head)===null||e===void 0?void 0:e.querySelector('meta[name="csp-nonce"]'))===null||i===void 0?void 0:i.getAttribute("content"))!==null&&n!==void 0?n:void 0}const S=(t,e,...i)=>{let n=null,r=null,s=null,o=!1,a=!1;const l=[],u=f=>{for(let m=0;m<f.length;m++)n=f[m],Array.isArray(n)?u(n):n!=null&&typeof n!="boolean"&&((o=typeof t!="function"&&!px(n))&&(n=String(n)),o&&a?l[l.length-1].$text$+=n:l.push(o?Yg(null,n):n),a=o)};if(u(i),e){e.key&&(r=e.key),e.name&&(s=e.name);{const f=e.className||e.class;f&&(e.class=typeof f!="object"?f:Object.keys(f).filter(m=>f[m]).join(" "))}}if(typeof t=="function")return t(e===null?{}:e,l,mne);const p=Yg(t,null);return p.$attrs$=e,l.length>0&&(p.$children$=l),p.$key$=r,p.$name$=s,p},Yg=(t,e)=>{const i={$flags$:0,$tag$:t,$text$:e,$elm$:null,$children$:null};return i.$attrs$=null,i.$key$=null,i.$name$=null,i},hi={},fne=t=>t&&t.$tag$===hi,mne={forEach:(t,e)=>t.map(QE).forEach(e),map:(t,e)=>t.map(QE).map(e).map(gne)},QE=t=>({vattrs:t.$attrs$,vchildren:t.$children$,vkey:t.$key$,vname:t.$name$,vtag:t.$tag$,vtext:t.$text$}),gne=t=>{if(typeof t.vtag=="function"){const i=Object.assign({},t.vattrs);return t.vkey&&(i.key=t.vkey),t.vname&&(i.name=t.vname),S(t.vtag,i,...t.vchildren||[])}const e=Yg(t.vtag,t.vtext);return e.$attrs$=t.vattrs,e.$children$=t.vchildren,e.$key$=t.vkey,e.$name$=t.vname,e},yne=t=>Vne.map(e=>e(t)).find(e=>!!e),vne=(t,e)=>t!=null&&!px(t)?e&4?t==="false"?!1:t===""||!!t:e&2?parseFloat(t):e&1?String(t):t:t,bne=t=>t,he=(t,e,i)=>{const n=bne(t);return{emit:r=>wne(n,e,{bubbles:!!(i&4),composed:!!(i&2),cancelable:!!(i&1),detail:r})}},wne=(t,e,i)=>{const n=At.ce(e,i);return t.dispatchEvent(n),n},ek=new WeakMap,_ne=(t,e,i)=>{let n=Qg.get(t);Zne&&i?(n=n||new CSSStyleSheet,typeof n=="string"?n=e:n.replaceSync(e)):n=e,Qg.set(t,n)},Sne=(t,e,i)=>{var n;const r=I5(e,i),s=Qg.get(r);if(t=t.nodeType===11?t:Un,s)if(typeof s=="string"){t=t.head||t;let o=ek.get(t),a;if(o||ek.set(t,o=new Set),!o.has(r)){{a=Un.createElement("style"),a.innerHTML=s;const l=(n=At.$nonce$)!==null&&n!==void 0?n:pne(Un);l!=null&&a.setAttribute("nonce",l),t.insertBefore(a,t.querySelector("link"))}e.$flags$&4&&(a.innerHTML+=cne),o&&o.add(r)}}else t.adoptedStyleSheets.includes(s)||(t.adoptedStyleSheets=[...t.adoptedStyleSheets,s]);return r},xne=t=>{const e=t.$cmpMeta$,i=t.$hostElement$,n=e.$flags$,r=zl("attachStyles",e.$tagName$),s=Sne(i.shadowRoot?i.shadowRoot:i.getRootNode(),e,t.$modeName$);n&10&&(i["s-sc"]=s,i.classList.add(s+"-h"),n&2&&i.classList.add(s+"-s")),r()},I5=(t,e)=>"sc-"+(e&&t.$flags$&32?t.$tagName$+"-"+e:t.$tagName$),tk=(t,e,i,n,r,s)=>{if(i!==n){let o=ok(t,e),a=e.toLowerCase();if(e==="class"){const l=t.classList,u=ik(i),p=ik(n);l.remove(...u.filter(f=>f&&!p.includes(f))),l.add(...p.filter(f=>f&&!u.includes(f)))}else if(e==="style"){for(const l in i)(!n||n[l]==null)&&(l.includes("-")?t.style.removeProperty(l):t.style[l]="");for(const l in n)(!i||n[l]!==i[l])&&(l.includes("-")?t.style.setProperty(l,n[l]):t.style[l]=n[l])}else if(e!=="key")if(e==="ref")n&&n(t);else if(!t.__lookupSetter__(e)&&e[0]==="o"&&e[1]==="n"){if(e[2]==="-"?e=e.slice(3):ok(Rp,a)?e=a.slice(2):e=a[2]+e.slice(3),i||n){const l=e.endsWith(O5);e=e.replace(Tne,""),i&&At.rel(t,e,i,l),n&&At.ael(t,e,n,l)}}else{const l=px(n);if((o||l&&n!==null)&&!r)try{if(t.tagName.includes("-"))t[e]=n;else{const p=n??"";e==="list"?o=!1:(i==null||t[e]!=p)&&(t[e]=p)}}catch{}let u=!1;a!==(a=a.replace(/^xlink\:?/,""))&&(e=a,u=!0),n==null||n===!1?(n!==!1||t.getAttribute(e)==="")&&(u?t.removeAttributeNS(YE,e):t.removeAttribute(e)):(!o||s&4||r)&&!l&&(n=n===!0?"":n,u?t.setAttributeNS(YE,e,n):t.setAttribute(e,n))}}},$ne=/\s/,ik=t=>t?t.split($ne):[],O5="Capture",Tne=new RegExp(O5+"$"),A5=(t,e,i,n)=>{const r=e.$elm$.nodeType===11&&e.$elm$.host?e.$elm$.host:e.$elm$,s=t&&t.$attrs$||XE,o=e.$attrs$||XE;for(n in s)n in o||tk(r,n,s[n],void 0,i,e.$flags$);for(n in o)tk(r,n,s[n],o[n],i,e.$flags$)},Xg=(t,e,i,n)=>{var r;const s=e.$children$[i];let o=0,a,l,u;if(M5||(hx=!0,s.$tag$==="slot"&&(Pc&&n.classList.add(Pc+"-s"),s.$flags$|=s.$children$?2:1)),s.$text$!==null)a=s.$elm$=Un.createTextNode(s.$text$);else if(s.$flags$&1)a=s.$elm$=Un.createTextNode("");else{if(Pi||(Pi=s.$tag$==="svg"),a=s.$elm$=Un.createElementNS(Pi?une:dne,s.$flags$&2?"slot-fb":s.$tag$),Pi&&s.$tag$==="foreignObject"&&(Pi=!1),A5(null,s,Pi),hne(Pc)&&a["s-si"]!==Pc&&a.classList.add(a["s-si"]=Pc),s.$children$)for(o=0;o<s.$children$.length;++o)l=Xg(t,s,o,a),l&&a.appendChild(l);s.$tag$==="svg"?Pi=!1:a.tagName==="foreignObject"&&(Pi=!0)}return a["s-hn"]=f0,s.$flags$&3&&(a["s-sr"]=!0,a["s-fs"]=(r=s.$attrs$)===null||r===void 0?void 0:r.slot,a["s-cr"]=k5,a["s-sn"]=s.$name$||"",u=t&&t.$children$&&t.$children$[i],u&&u.$tag$===s.$tag$&&t.$elm$&&Zh(t.$elm$,!1)),a},Zh=(t,e)=>{var i;At.$flags$|=1;const n=t.childNodes;for(let r=n.length-1;r>=0;r--){const s=n[r];s["s-hn"]!==f0&&s["s-ol"]&&(R5(s).insertBefore(s,fx(s)),s["s-ol"].remove(),s["s-ol"]=void 0,s["s-sh"]=void 0,s.nodeType===1&&s.setAttribute("slot",(i=s["s-sn"])!==null&&i!==void 0?i:""),hx=!0),e&&Zh(s,e)}At.$flags$&=-2},L5=(t,e,i,n,r,s)=>{let o=t["s-cr"]&&t["s-cr"].parentNode||t,a;for(o.shadowRoot&&o.tagName===f0&&(o=o.shadowRoot);r<=s;++r)n[r]&&(a=Xg(null,i,r,t),a&&(n[r].$elm$=a,o.insertBefore(a,fx(e))))},P5=(t,e,i)=>{for(let n=e;n<=i;++n){const r=t[n];if(r){const s=r.$elm$;z5(r),s&&(Kg=!0,s["s-ol"]?s["s-ol"].remove():Zh(s,!0),s.remove())}}},Ene=(t,e,i,n)=>{let r=0,s=0,o=0,a=0,l=e.length-1,u=e[0],p=e[l],f=n.length-1,m=n[0],g=n[f],y,v;for(;r<=l&&s<=f;)if(u==null)u=e[++r];else if(p==null)p=e[--l];else if(m==null)m=n[++s];else if(g==null)g=n[--f];else if(Nf(u,m))Rc(u,m),u=e[++r],m=n[++s];else if(Nf(p,g))Rc(p,g),p=e[--l],g=n[--f];else if(Nf(u,g))(u.$tag$==="slot"||g.$tag$==="slot")&&Zh(u.$elm$.parentNode,!1),Rc(u,g),t.insertBefore(u.$elm$,p.$elm$.nextSibling),u=e[++r],g=n[--f];else if(Nf(p,m))(u.$tag$==="slot"||g.$tag$==="slot")&&Zh(p.$elm$.parentNode,!1),Rc(p,m),t.insertBefore(p.$elm$,u.$elm$),p=e[--l],m=n[++s];else{for(o=-1,a=r;a<=l;++a)if(e[a]&&e[a].$key$!==null&&e[a].$key$===m.$key$){o=a;break}o>=0?(v=e[o],v.$tag$!==m.$tag$?y=Xg(e&&e[s],i,o,t):(Rc(v,m),e[o]=void 0,y=v.$elm$),m=n[++s]):(y=Xg(e&&e[s],i,s,t),m=n[++s]),y&&R5(u.$elm$).insertBefore(y,fx(u.$elm$))}r>l?L5(t,n[f+1]==null?null:n[f+1].$elm$,i,n,s,f):s>f&&P5(e,r,l)},Nf=(t,e)=>t.$tag$===e.$tag$?t.$tag$==="slot"?t.$name$===e.$name$:t.$key$===e.$key$:!1,fx=t=>t&&t["s-ol"]||t,R5=t=>(t["s-ol"]?t["s-ol"]:t).parentNode,Rc=(t,e)=>{const i=e.$elm$=t.$elm$,n=t.$children$,r=e.$children$,s=e.$tag$,o=e.$text$;let a;o===null?(Pi=s==="svg"?!0:s==="foreignObject"?!1:Pi,s==="slot"||A5(t,e,Pi),n!==null&&r!==null?Ene(i,n,e,r):r!==null?(t.$text$!==null&&(i.textContent=""),L5(i,null,e,r,0,r.length-1)):n!==null&&P5(n,0,n.length-1),Pi&&s==="svg"&&(Pi=!1)):(a=i["s-cr"])?a.parentNode.textContent=o:t.$text$!==o&&(i.data=o)},N5=t=>{const e=t.childNodes;for(const i of e)if(i.nodeType===1){if(i["s-sr"]){const n=i["s-sn"];i.hidden=!1;for(const r of e)if(r!==i){if(r["s-hn"]!==i["s-hn"]||n!==""){if(r.nodeType===1&&(n===r.getAttribute("slot")||n===r["s-sn"])){i.hidden=!0;break}}else if(r.nodeType===1||r.nodeType===3&&r.textContent.trim()!==""){i.hidden=!0;break}}}N5(i)}},Ss=[],D5=t=>{let e,i,n;for(const r of t.childNodes){if(r["s-sr"]&&(e=r["s-cr"])&&e.parentNode){i=e.parentNode.childNodes;const s=r["s-sn"];for(n=i.length-1;n>=0;n--)if(e=i[n],!e["s-cn"]&&!e["s-nr"]&&e["s-hn"]!==r["s-hn"]&&!rl.experimentalSlotFixes)if(nk(e,s)){let o=Ss.find(a=>a.$nodeToRelocate$===e);Kg=!0,e["s-sn"]=e["s-sn"]||s,o?(o.$nodeToRelocate$["s-sh"]=r["s-hn"],o.$slotRefNode$=r):(e["s-sh"]=r["s-hn"],Ss.push({$slotRefNode$:r,$nodeToRelocate$:e})),e["s-sr"]&&Ss.map(a=>{nk(a.$nodeToRelocate$,e["s-sn"])&&(o=Ss.find(l=>l.$nodeToRelocate$===e),o&&!a.$slotRefNode$&&(a.$slotRefNode$=o.$slotRefNode$))})}else Ss.some(o=>o.$nodeToRelocate$===e)||Ss.push({$nodeToRelocate$:e})}r.nodeType===1&&D5(r)}},nk=(t,e)=>t.nodeType===1?t.getAttribute("slot")===null&&e===""||t.getAttribute("slot")===e:t["s-sn"]===e?!0:e==="",z5=t=>{t.$attrs$&&t.$attrs$.ref&&t.$attrs$.ref(null),t.$children$&&t.$children$.map(z5)},kne=(t,e,i=!1)=>{var n,r;const s=t.$hostElement$,o=t.$cmpMeta$,a=t.$vnode$||Yg(null,null),l=fne(e)?e:S(null,null,e);if(f0=s.tagName,o.$attrsToReflect$&&(l.$attrs$=l.$attrs$||{},o.$attrsToReflect$.map(([u,p])=>l.$attrs$[p]=s[u])),i&&l.$attrs$)for(const u of Object.keys(l.$attrs$))s.hasAttribute(u)&&!["key","ref","style","class"].includes(u)&&(l.$attrs$[u]=s[u]);l.$tag$=null,l.$flags$|=4,t.$vnode$=l,l.$elm$=a.$elm$=s.shadowRoot||s,Pc=s["s-sc"],k5=s["s-cr"],M5=(o.$flags$&1)!==0,Kg=!1,Rc(a,l);{if(At.$flags$|=1,hx){D5(l.$elm$);for(const u of Ss){const p=u.$nodeToRelocate$;if(!p["s-ol"]){const f=Un.createTextNode("");f["s-nr"]=p,p.parentNode.insertBefore(p["s-ol"]=f,p)}}for(const u of Ss){const p=u.$nodeToRelocate$,f=u.$slotRefNode$;if(f){const m=f.parentNode;let g=f.nextSibling;{let y=(n=p["s-ol"])===null||n===void 0?void 0:n.previousSibling;for(;y;){let v=(r=y["s-nr"])!==null&&r!==void 0?r:null;if(v&&v["s-sn"]===p["s-sn"]&&m===v.parentNode&&(v=v.nextSibling,!v||!v["s-nr"])){g=v;break}y=y.previousSibling}}(!g&&m!==p.parentNode||p.nextSibling!==g)&&p!==g&&(!p["s-hn"]&&p["s-ol"]&&(p["s-hn"]=p["s-ol"].parentNode.nodeName),m.insertBefore(p,g))}else p.nodeType===1&&(p.hidden=!0)}}Kg&&N5(l.$elm$),At.$flags$&=-2,Ss.length=0}},Mne=(t,e)=>{},mx=(t,e)=>(t.$flags$|=16,Mne(t,t.$ancestorComponent$),Yne(()=>Cne(t,e))),Cne=(t,e)=>{const i=t.$hostElement$,n=zl("scheduleUpdate",t.$cmpMeta$.$tagName$),r=i;let s;return e?s=tu(r,"componentWillLoad"):s=tu(r,"componentWillUpdate"),s=rk(s,()=>tu(r,"componentWillRender")),n(),rk(s,()=>One(t,r,e))},rk=(t,e)=>Ine(t)?t.then(e):e(),Ine=t=>t instanceof Promise||t&&t.then&&typeof t.then=="function",One=async(t,e,i)=>{const n=t.$hostElement$,r=zl("update",t.$cmpMeta$.$tagName$);n["s-rc"],i&&xne(t);const s=zl("render",t.$cmpMeta$.$tagName$);Ane(t,e,n,i),s(),r(),Lne(t)},Ane=(t,e,i,n)=>{try{KE=e,e=e.render&&e.render(),t.$flags$&=-17,t.$flags$|=2,(rl.hasRenderFn||rl.reflect)&&(rl.vdomRender||rl.reflect)&&(rl.hydrateServerSide||kne(t,e,n))}catch(l){Pp(l,t.$hostElement$)}return KE=null,null},Lne=t=>{const e=t.$cmpMeta$.$tagName$,i=t.$hostElement$,n=zl("postUpdate",e),r=i;t.$ancestorComponent$,tu(r,"componentDidRender"),t.$flags$&64?(tu(r,"componentDidUpdate"),n()):(t.$flags$|=64,tu(r,"componentDidLoad"),n())},Lp=t=>{{const e=zu(t),i=e.$hostElement$.isConnected;return i&&(e.$flags$&18)===2&&mx(e,!1),i}},tu=(t,e,i)=>{if(t&&t[e])try{return t[e](i)}catch(n){Pp(n)}},Pne=(t,e)=>zu(t).$instanceValues$.get(e),Rne=(t,e,i,n)=>{const r=zu(t),s=t,o=r.$instanceValues$.get(e),a=r.$flags$,l=s;i=vne(i,n.$members$[e][0]);const u=Number.isNaN(o)&&Number.isNaN(i);if(i!==o&&!u){r.$instanceValues$.set(e,i);{if(n.$watchers$&&a&128){const f=n.$watchers$[e];f&&f.map(m=>{try{l[m](i,o,e)}catch(g){Pp(g,s)}})}if((a&18)===2){if(l.componentShouldUpdate&&l.componentShouldUpdate(i,o,e)===!1)return;mx(r,!1)}}}},Nne=(t,e,i)=>{var n;if(e.$members$){t.watchers&&(e.$watchers$=t.watchers);const r=Object.entries(e.$members$),s=t.prototype;r.map(([o,[a]])=>{(a&31||a&32)&&Object.defineProperty(s,o,{get(){return Pne(this,o)},set(l){Rne(this,o,l,e)},configurable:!0,enumerable:!0})});{const o=new Map;s.attributeChangedCallback=function(a,l,u){At.jmp(()=>{const p=o.get(a);if(this.hasOwnProperty(p))u=this[p],delete this[p];else{if(s.hasOwnProperty(p)&&typeof this[p]=="number"&&this[p]==u)return;if(p==null){const f=zu(this),m=f==null?void 0:f.$flags$;if(!(m&8)&&m&128&&u!==l){const y=this,v=e.$watchers$[a];v==null||v.forEach(w=>{y[w]!=null&&y[w].call(y,u,l,a)})}return}}this[p]=u===null&&typeof this[p]=="boolean"?!1:u})},t.observedAttributes=Array.from(new Set([...Object.keys((n=e.$watchers$)!==null&&n!==void 0?n:{}),...r.filter(([a,l])=>l[0]&15).map(([a,l])=>{const u=l[1]||a;return o.set(u,a),l[0]&512&&e.$attrsToReflect$.push([a,u]),u})]))}}return t},Dne=async(t,e,i,n)=>{let r;if(!(e.$flags$&32)&&(e.$flags$|=32,r=t.constructor,customElements.whenDefined(i.$tagName$).then(()=>e.$flags$|=128),r.style)){let o=r.style;typeof o!="string"&&(o=o[e.$modeName$=yne(t)]);const a=I5(i,e.$modeName$);if(!Qg.has(a)){const l=zl("registerStyles",i.$tagName$);_ne(a,o,!!(i.$flags$&1)),l()}}e.$ancestorComponent$,mx(e,!0)},sk=t=>{},zne=t=>{if(!(At.$flags$&1)){const e=zu(t),i=e.$cmpMeta$,n=zl("connectedCallback",i.$tagName$);e.$flags$&1?(F5(t,e,i.$listeners$),e!=null&&e.$lazyInstance$?sk(e.$lazyInstance$):e!=null&&e.$onReadyPromise$&&e.$onReadyPromise$.then(()=>sk(e.$lazyInstance$))):(e.$flags$|=1,i.$flags$&12&&Fne(t),i.$members$&&Object.entries(i.$members$).map(([r,[s]])=>{if(s&31&&t.hasOwnProperty(r)){const o=t[r];delete t[r],t[r]=o}}),Dne(t,e,i)),n()}},Fne=t=>{const e=t["s-cr"]=Un.createComment("");e["s-cn"]=!0,t.insertBefore(e,t.firstChild)},jne=async t=>{if(!(At.$flags$&1)){const e=zu(t);e.$rmListeners$&&(e.$rmListeners$.map(i=>i()),e.$rmListeners$=void 0)}},Xe=(t,e)=>{const i={$flags$:e[0],$tagName$:e[1]};i.$members$=e[2],i.$listeners$=e[3],i.$watchers$=t.$watchers$,i.$attrsToReflect$=[];const n=t.prototype.connectedCallback,r=t.prototype.disconnectedCallback;return Object.assign(t.prototype,{__registerHost(){Gne(this,i)},connectedCallback(){zne(this),n&&n.call(this)},disconnectedCallback(){jne(this),r&&r.call(this)},__attachShadow(){this.attachShadow({mode:"open",delegatesFocus:!!(i.$flags$&16)})}}),t.is=i.$tagName$,Nne(t,i)},Du=(t,e)=>e,F5=(t,e,i,n)=>{i&&i.map(([r,s,o])=>{const a=Hne(t,r),l=Une(e,o),u=Bne(r);At.ael(a,s,l,u),(e.$rmListeners$=e.$rmListeners$||[]).push(()=>At.rel(a,s,l,u))})},Une=(t,e)=>i=>{try{rl.lazyLoad||t.$hostElement$[e](i)}catch(n){Pp(n)}},Hne=(t,e)=>e&4?Un:e&8?Rp:e&16?Un.body:t,Bne=t=>Wne?{passive:(t&1)!==0,capture:(t&2)!==0}:(t&2)!==0,j5=new WeakMap,zu=t=>j5.get(t),Gne=(t,e)=>{const i={$flags$:0,$hostElement$:t,$cmpMeta$:e,$instanceValues$:new Map};return F5(t,i,e.$listeners$),j5.set(t,i)},ok=(t,e)=>e in t,Pp=(t,e)=>(0,console.error)(t,e),Qg=new Map,Vne=[],Rp=typeof window<"u"?window:{},Un=Rp.document||{head:{}},Qe=Rp.HTMLElement||class{},At={$flags$:0,$resourcesUrl$:"",jmp:t=>t(),raf:t=>requestAnimationFrame(t),ael:(t,e,i,n)=>t.addEventListener(e,i,n),rel:(t,e,i,n)=>t.removeEventListener(e,i,n),ce:(t,e)=>new CustomEvent(t,e)},Wne=(()=>{let t=!1;try{Un.addEventListener("e",null,Object.defineProperty({},"passive",{get(){t=!0}}))}catch{}return t})(),qne=t=>Promise.resolve(t),Zne=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1})(),zw=[],U5=[],H5=(t,e)=>i=>{t.push(i),Dw||(Dw=!0,e&&At.$flags$&4?Jne(Fw):At.raf(Fw))},ak=t=>{for(let e=0;e<t.length;e++)try{t[e](performance.now())}catch(i){Pp(i)}t.length=0},Fw=()=>{ak(zw),ak(U5),(Dw=zw.length>0)&&At.raf(Fw)},Jne=t=>qne().then(t),Kne=H5(zw,!1),Yne=H5(U5,!0);/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.0.0
 */function Xne(t){return t.map(e=>{let i="";for(let n=0;n<e;n++)i+=((1+Math.random())*65536|0).toString(16).substring(1);return i}).join("-")}const oa=()=>Xne([2,1,1,1,3]);/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.0.0
 */const B5="calcite-mode-auto",G5="calcite-mode-dark",Qne="calcite-mode-light",ko={autoMode:B5,darkMode:G5,lightMode:Qne,rtl:"calcite--rtl",calciteAnimate:"calcite-animate",calciteAnimateIn:"calcite-animate__in",calciteAnimateInUp:"calcite-animate__in-up",calciteAnimateInDown:"calcite-animate__in-down",calciteAnimateInRight:"calcite-animate__in-right",calciteAnimateInLeft:"calcite-animate__in-left",calciteAnimateInScale:"calcite-animate__in-scale"};/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.0.0
 *//*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var V5=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],ey=V5.join(","),W5=typeof Element>"u",Fl=W5?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,ty=!W5&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},iy=function t(e,i){var n;i===void 0&&(i=!0);var r=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"inert"),s=r===""||r==="true",o=s||i&&e&&t(e.parentNode);return o},ere=function(e){var i,n=e==null||(i=e.getAttribute)===null||i===void 0?void 0:i.call(e,"contenteditable");return n===""||n==="true"},q5=function(e,i,n){if(iy(e))return[];var r=Array.prototype.slice.apply(e.querySelectorAll(ey));return i&&Fl.call(e,ey)&&r.unshift(e),r=r.filter(n),r},Z5=function t(e,i,n){for(var r=[],s=Array.from(e);s.length;){var o=s.shift();if(!iy(o,!1))if(o.tagName==="SLOT"){var a=o.assignedElements(),l=a.length?a:o.children,u=t(l,!0,n);n.flatten?r.push.apply(r,u):r.push({scopeParent:o,candidates:u})}else{var p=Fl.call(o,ey);p&&n.filter(o)&&(i||!e.includes(o))&&r.push(o);var f=o.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(o),m=!iy(f,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(o));if(f&&m){var g=t(f===!0?o.children:f.children,!0,n);n.flatten?r.push.apply(r,g):r.push({scopeParent:o,candidates:g})}else s.unshift.apply(s,o.children)}}return r},J5=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},sl=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||ere(e))&&!J5(e)?0:e.tabIndex},tre=function(e,i){var n=sl(e);return n<0&&i&&!J5(e)?0:n},ire=function(e,i){return e.tabIndex===i.tabIndex?e.documentOrder-i.documentOrder:e.tabIndex-i.tabIndex},K5=function(e){return e.tagName==="INPUT"},nre=function(e){return K5(e)&&e.type==="hidden"},rre=function(e){var i=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(n){return n.tagName==="SUMMARY"});return i},sre=function(e,i){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===i)return e[n]},ore=function(e){if(!e.name)return!0;var i=e.form||ty(e),n=function(a){return i.querySelectorAll('input[type="radio"][name="'+a+'"]')},r;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")r=n(window.CSS.escape(e.name));else try{r=n(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var s=sre(r,e.form);return!s||s===e},are=function(e){return K5(e)&&e.type==="radio"},lre=function(e){return are(e)&&!ore(e)},cre=function(e){var i,n=e&&ty(e),r=(i=n)===null||i===void 0?void 0:i.host,s=!1;if(n&&n!==e){var o,a,l;for(s=!!((o=r)!==null&&o!==void 0&&(a=o.ownerDocument)!==null&&a!==void 0&&a.contains(r)||e!=null&&(l=e.ownerDocument)!==null&&l!==void 0&&l.contains(e));!s&&r;){var u,p,f;n=ty(r),r=(u=n)===null||u===void 0?void 0:u.host,s=!!((p=r)!==null&&p!==void 0&&(f=p.ownerDocument)!==null&&f!==void 0&&f.contains(r))}}return s},lk=function(e){var i=e.getBoundingClientRect(),n=i.width,r=i.height;return n===0&&r===0},ure=function(e,i){var n=i.displayCheck,r=i.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var s=Fl.call(e,"details>summary:first-of-type"),o=s?e.parentElement:e;if(Fl.call(o,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="legacy-full"){if(typeof r=="function"){for(var a=e;e;){var l=e.parentElement,u=ty(e);if(l&&!l.shadowRoot&&r(l)===!0)return lk(e);e.assignedSlot?e=e.assignedSlot:!l&&u!==e.ownerDocument?e=u.host:e=l}e=a}if(cre(e))return!e.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return lk(e);return!1},dre=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var i=e.parentElement;i;){if(i.tagName==="FIELDSET"&&i.disabled){for(var n=0;n<i.children.length;n++){var r=i.children.item(n);if(r.tagName==="LEGEND")return Fl.call(i,"fieldset[disabled] *")?!0:!r.contains(e)}return!0}i=i.parentElement}return!1},ny=function(e,i){return!(i.disabled||iy(i)||nre(i)||ure(i,e)||rre(i)||dre(i))},jw=function(e,i){return!(lre(i)||sl(i)<0||!ny(e,i))},hre=function(e){var i=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(i)||i>=0)},pre=function t(e){var i=[],n=[];return e.forEach(function(r,s){var o=!!r.scopeParent,a=o?r.scopeParent:r,l=tre(a,o),u=o?t(r.candidates):a;l===0?o?i.push.apply(i,u):i.push(a):n.push({documentOrder:s,tabIndex:l,item:r,isScope:o,content:u})}),n.sort(ire).reduce(function(r,s){return s.isScope?r.push.apply(r,s.content):r.push(s.content),r},[]).concat(i)},Y5=function(e,i){i=i||{};var n;return i.getShadowRoot?n=Z5([e],i.includeContainer,{filter:jw.bind(null,i),flatten:!1,getShadowRoot:i.getShadowRoot,shadowRootFilter:hre}):n=q5(e,i.includeContainer,jw.bind(null,i)),pre(n)},fre=function(e,i){i=i||{};var n;return i.getShadowRoot?n=Z5([e],i.includeContainer,{filter:ny.bind(null,i),flatten:!0,getShadowRoot:i.getShadowRoot}):n=q5(e,i.includeContainer,ny.bind(null,i)),n},cc=function(e,i){if(i=i||{},!e)throw new Error("No node provided");return Fl.call(e,ey)===!1?!1:jw(i,e)},mre=V5.concat("iframe").join(","),Lv=function(e,i){if(i=i||{},!e)throw new Error("No node provided");return Fl.call(e,mre)===!1?!1:ny(i,e)};const X5={getShadowRoot:!0};function Q5(t){return Array.isArray(t)?t:Array.from(t)}function Hn(t){const e="dir",i=`[${e}]`,n=Fu(t,i);return n?n.getAttribute(e):"ltr"}function gx(t){return t.getRootNode()}function gre(t){const e=gx(t);return"host"in e?e:null}function eN(t){return t.host||null}function m0(t,{selector:e,id:i}){function n(r){if(!r)return null;r.assignedSlot&&(r=r.assignedSlot);const s=gx(r),o=i?"getElementById"in s?s.getElementById(i):null:e?s.querySelector(e):null,a=eN(s);return o||(a?n(a):null)}return n(t)}function Fu(t,e){function i(n){return n?n.closest(e)||i(eN(gx(n))):null}return i(t)}function yre(t,e){return tN(t,e)}function tN(t,e){if(!t)return;const i=e(t);if(i!==void 0)return i;const{parentNode:n}=t;return tN(n instanceof ShadowRoot?n.host:n,e)}function vre(t,e){return!!yre(e,i=>i===t?!0:void 0)}function bre(t){return typeof(t==null?void 0:t.setFocus)=="function"}async function g0(t){if(t)return bre(t)?t.setFocus():t.focus()}function wre(t){if(t)return Y5(t,X5)[0]??t}function iN(t){var e;(e=wre(t))==null||e.focus()}const Jh=":not([slot])";function Uw(t,e,i){e&&!Array.isArray(e)&&typeof e!="string"&&(i=e,e=null);const n=e?Array.isArray(e)?e.map(r=>`[slot="${r}"]`).join(","):`[slot="${e}"]`:Jh;return i!=null&&i.all?_re(t,n,i):Sre(t,n,i)}function nN(t,e){return t?Array.from(t.children||[]).filter(i=>i==null?void 0:i.matches(e)):[]}function _re(t,e,i){let n=e===Jh?nN(t,Jh):Array.from(t.querySelectorAll(e));n=i&&i.direct===!1?n:n.filter(s=>s.parentElement===t),n=i!=null&&i.matches?n.filter(s=>s==null?void 0:s.matches(i.matches)):n;const r=i==null?void 0:i.selector;return r?n.map(s=>Array.from(s.querySelectorAll(r))).reduce((s,o)=>[...s,...o],[]).filter(s=>!!s):n}function Sre(t,e,i){let n=e===Jh?nN(t,Jh)[0]||null:t.querySelector(e);n=i&&i.direct===!1||(n==null?void 0:n.parentElement)===t?n:null,n=i!=null&&i.matches?n!=null&&n.matches(i.matches)?n:null:n;const r=i==null?void 0:i.selector;return r?n==null?void 0:n.querySelector(r):n}function ck(t,e){return Array.from(t.children).filter(i=>i.matches(e))}function Hw(t,e,i){if(typeof e=="string"&&e!=="")return e;if(e==="")return t[i]}function Qt(t){return(!!t).toString()}function xre(t){return De(t)||Tre(t)}function $re(t){return Ere(t).filter(e=>e.nodeType===Node.TEXT_NODE).map(e=>e.textContent).join("").trim()}function Tre(t){return!!$re(t)}function Ere(t){return t.target.assignedNodes({flatten:!0})}function De(t){return!!iu(t).length}function iu(t){return t.target.assignedElements({flatten:!0})}function jl(t){return!!(t.isPrimary&&t.button===0)}const kre=(t,e,i,n=!0)=>{const r=t.indexOf(e),s=r===0,o=r===t.length-1;n&&(i=i==="previous"&&s?"last":i==="next"&&o?"first":i);let a;return i==="previous"?a=t[r-1]||t[n?t.length-1:r]:i==="next"?a=t[r+1]||t[n?0:r]:i==="last"?a=t[t.length-1]:a=t[0],g0(a),a};function Mre(t,e){if(t.parentNode!==e.parentNode)return!1;const i=Array.from(t.parentNode.children);return i.indexOf(t)<i.indexOf(e)}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.0.0
 */const Bw="hidden-form-input";function yx(t){return"checked"in t}const Gw=new WeakMap,vx=new WeakSet;function Cre(t,e){if(Fu(e.parentElement,"[form]"))return!0;const n="calciteInternalFormComponentRegister";let r=!1;return t.addEventListener(n,s=>{r=s.composedPath().some(o=>vx.has(o)),s.stopPropagation()},{once:!0}),e.dispatchEvent(new CustomEvent(n,{bubbles:!0,composed:!0})),r}function rN(t){const{formEl:e}=t;return e?(e.requestSubmit(),!0):!1}function Ire(t){var e;(e=t.formEl)==null||e.reset()}function bx(t){const{el:e,value:i}=t,n=sN(t);if(!n||Cre(n,e))return;t.formEl=n,t.defaultValue=i,yx(t)&&(t.defaultChecked=t.checked);const r=(t.onFormReset||Ore).bind(t);n.addEventListener("reset",r),Gw.set(t.el,r),vx.add(e)}function sN(t){const{el:e,form:i}=t;return i?m0(e,{id:i}):Fu(e,"form")}function Ore(){if(yx(this)){this.checked=this.defaultChecked;return}this.value=this.defaultValue}function wx(t){const{el:e,formEl:i}=t;if(!i)return;const n=Gw.get(e);i.removeEventListener("reset",n),Gw.delete(e),t.formEl=null,vx.delete(e)}function Are(t,e){t.defaultValue=e}const oN=t=>{t.target.dispatchEvent(new CustomEvent("calciteInternalHiddenInputChange",{bubbles:!0}))},uk=t=>t.removeEventListener("change",oN);function Lre(t){const{el:e,formEl:i,name:n,value:r}=t,{ownerDocument:s}=e,o=e.querySelectorAll(`input[slot="${Bw}"]`);if(!i||!n){o.forEach(f=>{uk(f),f.remove()});return}const a=Array.isArray(r)?r:[r],l=[],u=new Set;o.forEach(f=>{const m=a.find(g=>g==f.value);m!=null?(u.add(m),dk(t,f,m)):l.push(f)});let p;a.forEach(f=>{if(u.has(f))return;let m=l.pop();m||(m=s.createElement("input"),m.slot=Bw),p||(p=s.createDocumentFragment()),p.append(m),m.addEventListener("change",oN),dk(t,m,f)}),p&&e.append(p),l.forEach(f=>{uk(f),f.remove()})}function dk(t,e,i){var l;const{defaultValue:n,disabled:r,form:s,name:o,required:a}=t;e.defaultValue=n,e.disabled=r,e.name=o,e.required=a,e.tabIndex=-1,s?e.setAttribute("form",s):e.removeAttribute("form"),yx(t)?(e.checked=t.checked,e.defaultChecked=t.defaultChecked,e.value=t.checked?i||"on":""):e.value=i||"",(l=t.syncHiddenFormInput)==null||l.call(t,e)}const _x=({component:t})=>(Lre(t),S("slot",{name:Bw}));/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.0.0
 */function Pre(){return navigator.userAgentData}function Rre(){const t=Pre();return t!=null&&t.brands?t.brands.map(({brand:e,version:i})=>`${e}/${i}`).join(" "):navigator.userAgent}const Zl=/firefox/i.test(Rre()),Np=Zl?new WeakMap:null;function Nre(){const{disabled:t}=this;t||HTMLElement.prototype.click.call(this)}function aN(t){const e=t.target;if(Zl&&!Np.get(e))return;const{disabled:i}=e;i&&t.preventDefault()}const lN=["mousedown","mouseup","click"];function cN(t){if(Zl&&!Np.get(t.target))return;const{disabled:e}=t.target;e&&(t.stopImmediatePropagation(),t.preventDefault())}const ry={capture:!0};function aa(t,e=!1){if(t.disabled){t.el.setAttribute("tabindex","-1"),t.el.setAttribute("aria-disabled","true"),t.el.contains(document.activeElement)&&document.activeElement.blur(),uN(t);return}hN(t),typeof e=="function"?t.el.setAttribute("tabindex",e.call(t)?"0":"-1"):e===!0?t.el.setAttribute("tabindex","0"):e===!1&&t.el.removeAttribute("tabindex"),t.el.removeAttribute("aria-disabled")}function uN(t){t.el.click=Nre,Dre(Zl?dN(t):t.el)}function Dre(t){t&&(t.addEventListener("pointerdown",aN,ry),lN.forEach(e=>t.addEventListener(e,cN,ry)))}function dN(t){return Np.get(t.el)}function hN(t){delete t.el.click,zre(Zl?dN(t):t.el)}function zre(t){t&&(t.removeEventListener("pointerdown",aN,ry),lN.forEach(e=>t.removeEventListener(e,cN,ry)))}function la(t){if(!t.disabled||!Zl)return;const e=t.el.parentElement||t.el;Np.set(t.el,e),uN(t)}function ca(t){Zl&&(Np.delete(t.el),hN(t))}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.0.0
 */function Mt(t){return t==="l"?"m":"s"}async function Fre(t){await(jre(t)?t.componentOnReady():new Promise(e=>requestAnimationFrame(()=>e())))}function jre(t){return typeof t.componentOnReady=="function"}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.0.0
 */const pN="calciteInternalLabelClick",y0="calciteInternalLabelConnected",sy="calciteInternalLabelDisconnected",hk="calcite-label",wu=new WeakMap,bh=new WeakMap,Kh=new WeakMap,oy=new WeakMap,_l=new Set,Ure=t=>{const{id:e}=t,i=e&&m0(t,{selector:`${hk}[for="${e}"]`});if(i)return i;const n=Fu(t,hk);return!n||Hre(n,t)?null:n};function Hre(t,e){let i;const n="custom-element-ancestor-check",r=o=>{o.stopImmediatePropagation();const a=o.composedPath();i=a.slice(a.indexOf(e),a.indexOf(t))};return t.addEventListener(n,r,{once:!0}),e.dispatchEvent(new CustomEvent(n,{composed:!0,bubbles:!0})),t.removeEventListener(n,r),i.filter(o=>o!==e&&o!==t).filter(o=>{var a;return(a=o.tagName)==null?void 0:a.includes("-")}).length>0}function ju(t){if(!t)return;const e=Ure(t.el);if(bh.has(e)&&e===t.labelEl||!e&&_l.has(t))return;const i=Gre.bind(t);if(e){t.labelEl=e;const n=wu.get(e)||[];n.push(t),wu.set(e,n.sort(fN)),bh.has(t.labelEl)||(bh.set(t.labelEl,pk),t.labelEl.addEventListener(pN,pk)),_l.delete(t),document.removeEventListener(y0,Kh.get(t)),oy.set(t,i),document.addEventListener(sy,i)}else _l.has(t)||(i(),document.removeEventListener(sy,oy.get(t)))}function v0(t){if(!t||(_l.delete(t),document.removeEventListener(y0,Kh.get(t)),document.removeEventListener(sy,oy.get(t)),Kh.delete(t),oy.delete(t),!t.labelEl))return;const e=wu.get(t.labelEl);e.length===1&&(t.labelEl.removeEventListener(pN,bh.get(t.labelEl)),bh.delete(t.labelEl)),wu.set(t.labelEl,e.filter(i=>i!==t).sort(fN)),t.labelEl=null}function fN(t,e){return Mre(t.el,e.el)?-1:1}function Yh(t){var e,i;return t.label||((i=(e=t.labelEl)==null?void 0:e.textContent)==null?void 0:i.trim())||""}function pk(t){const e=t.detail.sourceEvent.target,i=wu.get(this),n=i.find(o=>o.el===e);if(i.includes(n))return;const s=i[0];s.disabled||s.onLabelClick(t)}function Bre(){_l.has(this)&&ju(this)}function Gre(){_l.add(this);const t=Kh.get(this)||Bre.bind(this);Kh.set(this,t),document.addEventListener(y0,t)}async function Vre(t){var n;if(await Fre(t),wu.has(t))return;const i=(n=t.ownerDocument)==null?void 0:n.getElementById(t.for);i&&requestAnimationFrame(()=>{for(const r of _l)if(r.el===i){ju(r);break}})}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.0.0
 */const mN=new WeakMap,gN=new WeakMap;function Yn(t){gN.set(t,new Promise(e=>mN.set(t,e)))}function Xn(t){mN.get(t)()}function Vw(t){return gN.get(t)}async function Qn(t){return await Vw(t),Lp(t),new Promise(e=>requestAnimationFrame(()=>e()))}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.0.0
 */function Sx(t){return t==="Enter"||t===" "}const xx=["0","1","2","3","4","5","6","7","8","9"];/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.0.0
 */function St(t,e,i){const n=Wre(t);return new n(e,i)}function Wre(t){class e extends window.MutationObserver{constructor(n){super(n),this.observedEntry=[],this.callback=n}observe(n,r){return this.observedEntry.push({target:n,options:r}),super.observe(n,r)}unobserve(n){const r=this.observedEntry.filter(s=>s.target!==n);this.observedEntry=[],this.callback(super.takeRecords(),this),this.disconnect(),r.forEach(s=>this.observe(s.target,s.options))}}return function(){return t==="intersection"?window.IntersectionObserver:t==="mutation"?e:window.ResizeObserver}()}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.0.0
 */const qre=new RegExp("\\.(0+)?$"),Zre=new RegExp("0+$");class Te{constructor(e){if(e instanceof Te)return e;const[i,n]=ise(e).split(".").concat("");this.value=BigInt(i+n.padEnd(Te.DECIMALS,"0").slice(0,Te.DECIMALS))+BigInt(Te.ROUNDED&&n[Te.DECIMALS]>="5"),this.isNegative=e.charAt(0)==="-"}getIntegersAndDecimals(){const e=this.value.toString().replace("-","").padStart(Te.DECIMALS+1,"0"),i=e.slice(0,-Te.DECIMALS),n=e.slice(-Te.DECIMALS).replace(Zre,"");return{integers:i,decimals:n}}toString(){const{integers:e,decimals:i}=this.getIntegersAndDecimals();return`${this.isNegative?"-":""}${e}${i.length?"."+i:""}`}formatToParts(e){const{integers:i,decimals:n}=this.getIntegersAndDecimals(),r=e.numberFormatter.formatToParts(BigInt(i));return this.isNegative&&r.unshift({type:"minusSign",value:e.minusSign}),n.length&&(r.push({type:"decimal",value:e.decimal}),n.split("").forEach(s=>r.push({type:"fraction",value:s}))),r}format(e){const{integers:i,decimals:n}=this.getIntegersAndDecimals(),r=`${this.isNegative?e.minusSign:""}${e.numberFormatter.format(BigInt(i))}`,s=n.length?`${e.decimal}${n.split("").map(o=>e.numberFormatter.format(Number(o))).join("")}`:"";return`${r}${s}`}add(e){return Te.fromBigInt(this.value+new Te(e).value)}subtract(e){return Te.fromBigInt(this.value-new Te(e).value)}multiply(e){return Te._divRound(this.value*new Te(e).value,Te.SHIFT)}divide(e){return Te._divRound(this.value*Te.SHIFT,new Te(e).value)}}Te.DECIMALS=100;Te.ROUNDED=!0;Te.SHIFT=BigInt("1"+"0".repeat(Te.DECIMALS));Te._divRound=(t,e)=>Te.fromBigInt(t/e+(Te.ROUNDED?t*BigInt(2)/e%BigInt(2):BigInt(0)));Te.fromBigInt=t=>Object.assign(Object.create(Te.prototype),{value:t,isNegative:t<BigInt(0)});function Ar(t){return!(!t||isNaN(Number(t)))}function Jre(t){return!t||!nse(t)?"":ay(t,e=>{let i=!1;const n=e.split("").filter((r,s)=>r.match(/\./g)&&!i?(i=!0,!0):r.match(/\-/g)&&s===0?!0:xx.includes(r)).join("");return Ar(n)?new Te(n).toString():""})}const yN=/^([-0])0+(?=\d)/,Kre=/(?!^\.)\.$/,Yre=/(?!^-)-/g,Xre=/^-\b0\b\.?0*$/,Qre=/0*$/,ese=t=>ay(t,e=>{const i=e.replace(Yre,"").replace(Kre,"").replace(yN,"$1");return Ar(i)?Xre.test(i)?i:tse(i):e});function tse(t){const e=t.split(".")[1],i=new Te(t).toString(),[n,r]=i.split(".");return e&&r!==e?`${n}.${e}`:i}function ay(t,e){if(!t)return t;const i=t.toLowerCase().indexOf("e")+1;return i?t.replace(/[eE]*$/g,"").substring(0,i).concat(t.slice(i).replace(/[eE]/g,"")).split(/[eE]/).map((n,r)=>e(r===1?n.replace(/\./g,""):n)).join("e").replace(/^e/,"1e"):e(t)}function ise(t){const e=t.split(/[eE]/);if(e.length===1)return t;const i=+t;if(Number.isSafeInteger(i))return`${i}`;const n=t.charAt(0)==="-",r=+e[1],s=e[0].split("."),o=(n?s[0].substring(1):s[0])||"",a=s[1]||"",l=(f,m)=>{const g=Math.abs(m)-f.length,y=g>0?`${"0".repeat(g)}${f}`:f;return`${y.slice(0,m)}.${y.slice(m)}`},u=(f,m)=>{const g=m>f.length?`${f}${"0".repeat(m-f.length)}`:f;return`${g.slice(0,m)}.${g.slice(m)}`},p=r>0?`${o}${u(a,r)}`:`${l(o,r)}${a}`;return`${n?"-":""}${p.charAt(0)==="."?"0":""}${p.replace(qre,"").replace(yN,"")}`}function nse(t){return xx.some(e=>t.includes(e))}function rse(t,e,i){const n=e.split(".")[1];if(n){const r=n.match(Qre)[0];if(r&&i.delocalize(t).length!==e.length&&n.indexOf("e")===-1){const s=i.decimal;return t=t.includes(s)?t:`${t}${s}`,t.padEnd(t.length+r.length,i.localize("0"))}}return t}const Ko="en",sse=["ar","bg","bs","ca","cs","da","de","el",Ko,"es","et","fi","fr","he","hr","hu","id","it","ja","ko","lt","lv","no","nl","pl","pt-BR","pt-PT","ro","ru","sk","sl","sr","sv","th","tr","uk","vi","zh-CN","zh-HK","zh-TW"],ose=["ar","bg","bs","ca","cs","da","de","de-AT","de-CH","el",Ko,"en-AU","en-CA","en-GB","es","es-MX","et","fi","fr","fr-CH","he","hi","hr","hu","id","it","it-CH","ja","ko","lt","lv","mk","no","nl","pl","pt","pt-PT","ro","ru","sk","sl","sr","sv","th","tr","uk","vi","zh-CN","zh-HK","zh-TW"],ase=["arab","arabext","latn"],vN=t=>ase.includes(t),Pv=new Intl.NumberFormat().resolvedOptions().numberingSystem,bN=Pv==="arab"||!vN(Pv)?"latn":Pv,lse=t=>vN(t)?t:bN;function wN(t,e="cldr"){const i=e==="cldr"?ose:sse;return t?i.includes(t)?t:(t=t.toLowerCase(),t==="nb"?"no":e==="t9n"&&t==="pt"?"pt-BR":(t.includes("-")&&(t=t.replace(/(\w+)-(\w+)/,(n,r,s)=>`${r}-${s.toUpperCase()}`),i.includes(t)||(t=t.split("-")[0])),t==="zh"?"zh-CN":i.includes(t)?t:(console.warn(`Translations for the "${t}" locale are not available and will fall back to the default, English (en).`),Ko))):Ko}const Xh=new Set;function er(t){cse(t),Xh.size===0&&(Dm==null||Dm.observe(document.documentElement,{attributes:!0,attributeFilter:["lang"],subtree:!0})),Xh.add(t)}function cse(t){t.effectiveLocale=use(t)}function tr(t){Xh.delete(t),Xh.size===0&&Dm.disconnect()}const Dm=St("mutation",t=>{t.forEach(e=>{const i=e.target;Xh.forEach(n=>{if(!vre(i,n.el))return;const s=Fu(n.el,"[lang]");if(!s){n.effectiveLocale=Ko;return}const o=s.lang;n.effectiveLocale=s.hasAttribute("lang")&&o===""?Ko:o})})});function use(t){var e;return t.el.lang||((e=Fu(t.el,"[lang]"))==null?void 0:e.lang)||document.documentElement.lang||Ko}class dse{constructor(){this.delocalize=e=>this._numberFormatOptions?ay(e,i=>i.replace(new RegExp(`[${this._minusSign}]`,"g"),"-").replace(new RegExp(`[${this._group}]`,"g"),"").replace(new RegExp(`[${this._decimal}]`,"g"),".").replace(new RegExp(`[${this._digits.join("")}]`,"g"),this._getDigitIndex)):e,this.localize=e=>this._numberFormatOptions?ay(e,i=>Ar(i.trim())?new Te(i.trim()).format(this).replace(new RegExp(`[${this._actualGroup}]`,"g"),this._group):i):e}get group(){return this._group}get decimal(){return this._decimal}get minusSign(){return this._minusSign}get digits(){return this._digits}get numberFormatter(){return this._numberFormatter}get numberFormatOptions(){return this._numberFormatOptions}set numberFormatOptions(e){if(e.locale=wN(e==null?void 0:e.locale),e.numberingSystem=lse(e==null?void 0:e.numberingSystem),!this._numberFormatOptions&&e.locale===Ko&&e.numberingSystem===bN&&Object.keys(e).length===2||JSON.stringify(this._numberFormatOptions)===JSON.stringify(e))return;this._numberFormatOptions=e,this._numberFormatter=new Intl.NumberFormat(this._numberFormatOptions.locale,this._numberFormatOptions),this._digits=[...new Intl.NumberFormat(this._numberFormatOptions.locale,{useGrouping:!1,numberingSystem:this._numberFormatOptions.numberingSystem}).format(9876543210)].reverse();const i=new Map(this._digits.map((r,s)=>[r,s])),n=new Intl.NumberFormat(this._numberFormatOptions.locale,{numberingSystem:this._numberFormatOptions.numberingSystem}).formatToParts(-123456789e-1);this._actualGroup=n.find(r=>r.type==="group").value,this._group=this._actualGroup.trim().length===0||this._actualGroup==" "?"Â ":this._actualGroup,this._decimal=n.find(r=>r.type==="decimal").value,this._minusSign=n.find(r=>r.type==="minusSign").value,this._getDigitIndex=r=>i.get(r)}}const li=new dse;/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.0.0
 */const Df={};async function hse(t,e){const i=`${e}_${t}`;return Df[i]||(Df[i]=fetch(C5(`./assets/${e}/t9n/messages_${t}.json`)).then(n=>(n.ok||fk(),n.json())).catch(()=>fk())),Df[i]}function fk(){throw new Error("could not fetch component message bundle")}function $x(t){t.messages={...t.defaultMessages,...t.messageOverrides}}async function ir(t){t.defaultMessages=await _N(t,t.effectiveLocale),$x(t)}async function _N(t,e){const{el:i}=t,r=i.tagName.toLowerCase().replace("calcite-","");return hse(wN(e,"t9n"),r)}async function nr(t,e){t.defaultMessages=await _N(t,e),$x(t)}function rr(t){t.onMessagesChange=pse}function sr(t){t.onMessagesChange=void 0}function pse(){$x(this)}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.0.0
 */const fse=["lang","role","aria-expanded"],ly=new Map;let nu;function SN(t,e,i=!1){const{el:n}=t,r=i?t.globalAttributes:{};e.filter(s=>!!fse.includes(s)&&!!n.hasAttribute(s)).forEach(s=>{const o=n.getAttribute(s);o!==null&&(r[s]=o)}),t.globalAttributes=r}function xN(t){t.forEach(({target:e})=>{const[i,n]=ly.get(e);SN(i,n.attributeFilter)})}function mse(t,e){const{el:i}=t,n={attributeFilter:e};ly.set(i,[t,n]),SN(t,e,!0),nu||(nu=St("mutation",xN)),nu.observe(i,n)}function gse(t){ly.delete(t.el),xN(nu.takeRecords()),nu.disconnect();for(const[e,[,i]]of ly.entries())nu.observe(e,i)}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.0.0
 */const yse={icon:"icon",flipRtl:"flip-rtl"},Rv={},Nv={},$N={s:16,m:24,l:32};async function vse({icon:t,scale:e}){const i=$N[e],n=bse(t),r=n.charAt(n.length-1)==="F",o=`${r?n.substring(0,n.length-1):n}${i}${r?"F":""}`;if(Rv[o])return Rv[o];Nv[o]||(Nv[o]=fetch(C5(`./assets/icon/${o}.json`)).then(l=>l.json()).catch(()=>(console.error(`"${o}" is not a valid calcite-ui-icon name`),"")));const a=await Nv[o];return Rv[o]=a,a}function bse(t){const e=!isNaN(Number(t.charAt(0))),i=t.split("-");if(i.length>0){const r=/[a-z]/i;t=i.map((s,o)=>s.replace(r,function(l,u){return o===0&&u===0?l:l.toUpperCase()})).join("")}return e?`i${t}`:t}const wse=":host{display:inline-flex;color:var(--calcite-ui-icon-color)}:host([scale=s]){inline-size:16px;block-size:16px;min-inline-size:16px;min-block-size:16px}:host([scale=m]){inline-size:24px;block-size:24px;min-inline-size:24px;min-block-size:24px}:host([scale=l]){inline-size:32px;block-size:32px;min-inline-size:32px;min-block-size:32px}.flip-rtl{transform:scaleX(-1)}.svg{display:block}:host([hidden]){display:none}[hidden]{display:none}",_se=Xe(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.icon=null,this.flipRtl=!1,this.scale="m",this.textLabel=void 0,this.pathData=void 0,this.visible=!1}connectedCallback(){this.waitUntilVisible(()=>{this.visible=!0,this.loadIconPathData()})}disconnectedCallback(){var e;(e=this.intersectionObserver)==null||e.disconnect(),this.intersectionObserver=null}async componentWillLoad(){this.loadIconPathData()}render(){const{el:e,flipRtl:i,pathData:n,scale:r,textLabel:s}=this,o=Hn(e),a=$N[r],l=!!s,u=[].concat(n||"");return S(hi,{"aria-hidden":Qt(!l),"aria-label":l?s:null,role:l?"img":null},S("svg",{"aria-hidden":"true",class:{[yse.flipRtl]:o==="rtl"&&i,svg:!0},fill:"currentColor",height:"100%",viewBox:`0 0 ${a} ${a}`,width:"100%",xmlns:"http://www.w3.org/2000/svg"},u.map(p=>typeof p=="string"?S("path",{d:p}):S("path",{d:p.d,opacity:"opacity"in p?p.opacity:1}))))}async loadIconPathData(){const{icon:e,scale:i,visible:n}=this;if(!e||!n)return;const r=await vse({icon:e,scale:i});e===this.icon&&(this.pathData=r)}waitUntilVisible(e){if(this.intersectionObserver=St("intersection",i=>{i.forEach(n=>{n.isIntersecting&&(this.intersectionObserver.disconnect(),this.intersectionObserver=null,e())})},{rootMargin:"50px"}),!this.intersectionObserver){e();return}this.intersectionObserver.observe(this.el)}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{icon:["loadIconPathData"],scale:["loadIconPathData"]}}static get style(){return wse}},[1,"calcite-icon",{icon:[513],flipRtl:[516,"flip-rtl"],scale:[513],textLabel:[1,"text-label"],pathData:[32],visible:[32]},void 0,{icon:["loadIconPathData"],scale:["loadIconPathData"]}]);function pn(){if(typeof customElements>"u")return;["calcite-icon"].forEach(e=>{switch(e){case"calcite-icon":customElements.get(e)||customElements.define(e,_se);break}})}pn();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.0.0
 */const Sse='@charset "UTF-8";@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:host{position:relative;margin-inline:auto;display:none;align-items:center;justify-content:center;opacity:1;min-block-size:var(--calcite-loader-size);font-size:var(--calcite-loader-font-size);stroke:var(--calcite-color-brand);stroke-width:3;fill:none;transform:scale(1, 1);animation:loader-color-shift calc(var(--calcite-internal-animation-timing-slow) / var(--calcite-internal-duration-factor) * 2 / var(--calcite-internal-duration-factor)) alternate-reverse infinite linear;padding-block:var(--calcite-loader-padding, 4rem)}:host([scale=s]){--calcite-loader-font-size:var(--calcite-font-size--2);--calcite-loader-size:2rem;--calcite-loader-size-inline:0.75rem}:host([scale=m]){--calcite-loader-font-size:var(--calcite-font-size-0);--calcite-loader-size:4rem;--calcite-loader-size-inline:1rem}:host([scale=l]){--calcite-loader-font-size:var(--calcite-font-size-2);--calcite-loader-size:6rem;--calcite-loader-size-inline:1.5rem}:host([no-padding]){padding-block:0px}:host{display:flex}.loader__text{display:block;text-align:center;font-size:var(--calcite-font-size--2);line-height:1rem;color:var(--calcite-color-text-1);margin-block-start:calc(var(--calcite-loader-size) + 1.5rem)}.loader__percentage{position:absolute;display:block;text-align:center;color:var(--calcite-color-text-1);font-size:var(--calcite-loader-font-size);inline-size:var(--calcite-loader-size);inset-inline-start:50%;margin-inline-start:calc(var(--calcite-loader-size) / 2 * -1);line-height:0.25;transform:scale(1, 1)}.loader__svgs{position:absolute;overflow:visible;opacity:1;inline-size:var(--calcite-loader-size);block-size:var(--calcite-loader-size);inset-inline-start:50%;margin-inline-start:calc(var(--calcite-loader-size) / 2 * -1);animation-iteration-count:infinite;animation-timing-function:linear;animation-duration:calc(var(--calcite-internal-animation-timing-slow) / var(--calcite-internal-duration-factor) * 6.66 / var(--calcite-internal-duration-factor));animation-name:loader-clockwise}.loader__svg{position:absolute;inset-block-start:0px;transform-origin:center;overflow:visible;inset-inline-start:0;inline-size:var(--calcite-loader-size);block-size:var(--calcite-loader-size);animation-iteration-count:infinite;animation-timing-function:linear}@supports (display: grid){.loader__svg--1{animation-name:loader-offset-1}.loader__svg--2{animation-name:loader-offset-2}.loader__svg--3{animation-name:loader-offset-3}}:host([type=determinate]){animation:none;stroke:var(--calcite-color-border-3)}:host([type=determinate]) .loader__svgs{animation:none}:host([type=determinate]) .loader__svg--3{animation:none;stroke:var(--calcite-color-brand);stroke-dasharray:150.79632;transform:rotate(-90deg);transition:all var(--calcite-internal-animation-timing-fast) linear}:host([inline]){position:relative;margin:0px;animation:none;stroke:currentColor;stroke-width:2;padding-block:0px;block-size:var(--calcite-loader-size-inline);min-block-size:var(--calcite-loader-size-inline);inline-size:var(--calcite-loader-size-inline);margin-inline-end:calc(var(--calcite-loader-size-inline) * 0.5);vertical-align:calc(var(--calcite-loader-size-inline) * -1 * 0.2)}:host([inline]) .loader__svgs{inset-block-start:0px;margin:0px;inset-inline-start:0;inline-size:var(--calcite-loader-size-inline);block-size:var(--calcite-loader-size-inline)}:host([inline]) .loader__svg{inline-size:var(--calcite-loader-size-inline);block-size:var(--calcite-loader-size-inline)}:host([complete]){opacity:0;transform:scale(0.75, 0.75);transform-origin:center;transition:opacity var(--calcite-internal-animation-timing-medium) linear 1000ms, transform var(--calcite-internal-animation-timing-medium) linear 1000ms}:host([complete]) .loader__svgs{opacity:0;transform:scale(0.75, 0.75);transform-origin:center;transition:opacity calc(180ms * var(--calcite-internal-duration-factor)) linear 800ms, transform calc(180ms * var(--calcite-internal-duration-factor)) linear 800ms}:host([complete]) .loader__percentage{color:var(--calcite-color-brand);transform:scale(1.05, 1.05);transform-origin:center;transition:color var(--calcite-internal-animation-timing-medium) linear, transform var(--calcite-internal-animation-timing-medium) linear}.loader__svg--1{stroke-dasharray:27.9252444444 139.6262222222;animation-duration:calc(var(--calcite-internal-animation-timing-slow) / var(--calcite-internal-duration-factor) * 4.8 / var(--calcite-internal-duration-factor))}@keyframes loader-offset-1{0%{stroke-dasharray:27.9252444444 251.3272;stroke-dashoffset:0}50%{stroke-dasharray:139.6262222222 139.6262222222;stroke-dashoffset:-83.7757333333}100%{stroke-dasharray:27.9252444444 251.3272;stroke-dashoffset:-279.2524444444}}.loader__svg--2{stroke-dasharray:55.8504888889 139.6262222222;animation-duration:calc(var(--calcite-internal-animation-timing-slow) / var(--calcite-internal-duration-factor) * 6.4 / var(--calcite-internal-duration-factor))}@keyframes loader-offset-2{0%{stroke-dasharray:55.8504888889 223.4019555556;stroke-dashoffset:0}50%{stroke-dasharray:139.6262222222 139.6262222222;stroke-dashoffset:-97.7383555556}100%{stroke-dasharray:55.8504888889 223.4019555556;stroke-dashoffset:-279.2524444444}}.loader__svg--3{stroke-dasharray:13.9626222222 139.6262222222;animation-duration:calc(var(--calcite-internal-animation-timing-slow) / var(--calcite-internal-duration-factor) * 7.734 / var(--calcite-internal-duration-factor))}@keyframes loader-offset-3{0%{stroke-dasharray:13.9626222222 265.2898222222;stroke-dashoffset:0}50%{stroke-dasharray:139.6262222222 139.6262222222;stroke-dashoffset:-76.7944222222}100%{stroke-dasharray:13.9626222222 265.2898222222;stroke-dashoffset:-279.2524444444}}@keyframes loader-color-shift{0%{stroke:var(--calcite-color-brand)}33%{stroke:var(--calcite-color-brand-press)}66%{stroke:var(--calcite-color-brand-hover)}100%{stroke:var(--calcite-color-brand)}}@keyframes loader-clockwise{100%{transform:rotate(360deg)}}:host([hidden]){display:none}[hidden]{display:none}',xse=Xe(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.inline=!1,this.label=void 0,this.scale="m",this.type=void 0,this.value=0,this.text=""}render(){const{el:e,inline:i,label:n,scale:r,text:s,type:o,value:a}=this,l=e.id||oa(),u=.45,p=i?this.getInlineSize(r):this.getSize(r),f=p*u,m=`0 0 ${p} ${p}`,g=o==="determinate",y=2*f*Math.PI,v=a/100*y,w=y-v,_=Math.floor(a),$={"aria-valuenow":_,"aria-valuemin":0,"aria-valuemax":100,complete:_===100},x={r:f,cx:p/2,cy:p/2},T={"stroke-dasharray":`${v} ${w}`};return S(hi,{"aria-label":n,id:l,role:"progressbar",...g?$:{}},S("div",{class:"loader__svgs"},S("svg",{"aria-hidden":"true",class:"loader__svg loader__svg--1",viewBox:m},S("circle",{...x})),S("svg",{"aria-hidden":"true",class:"loader__svg loader__svg--2",viewBox:m},S("circle",{...x})),S("svg",{"aria-hidden":"true",class:"loader__svg loader__svg--3",viewBox:m,...g?{style:T}:{}},S("circle",{...x}))),s&&S("div",{class:"loader__text"},s),g&&S("div",{class:"loader__percentage"},a))}getSize(e){return{s:32,m:56,l:80}[e]}getInlineSize(e){return{s:12,m:16,l:20}[e]}get el(){return this}static get style(){return Sse}},[1,"calcite-loader",{inline:[516],label:[1],scale:[513],type:[513],value:[2],text:[1]}]);function ua(){if(typeof customElements>"u")return;["calcite-loader"].forEach(e=>{switch(e){case"calcite-loader":customElements.get(e)||customElements.define(e,xse);break}})}ua();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.0.0
 */const ki={buttonLoader:"calcite-button--loader",content:"content",contentSlotted:"content--slotted",icon:"icon",iconStart:"icon--start",iconEnd:"icon--end",loadingIn:"loading-in",loadingOut:"loading-out",iconStartEmpty:"icon-start-empty",iconEndEmpty:"icon-end-empty",buttonPadding:"button-padding",buttonPaddingShrunk:"button-padding--shrunk"},$se=`:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:inline-block;inline-size:auto;vertical-align:middle}:host([round]){border-radius:50px}:host([round]) a,:host([round]) button{border-radius:50px}:host button,:host a{outline-color:transparent}:host button:focus,:host a:focus{outline:2px solid var(--calcite-color-brand);outline-offset:calc(
            2px *
            calc(
              1 -
              2 * clamp(
                0,
                var(--calcite-offset-invert-focus),
                1
              )
            )
          )}:host button,:host a{--calcite-button-content-margin-internal:0.5rem;--calcite-button-padding-x-internal:7px;--calcite-button-padding-y-internal:3px;padding-block:var(--calcite-button-padding-y-internal);padding-inline:var(--calcite-button-padding-x-internal);position:relative;box-sizing:border-box;display:flex;block-size:100%;inline-size:100%;cursor:pointer;-webkit-user-select:none;user-select:none;appearance:none;align-items:center;justify-content:center;border-radius:0px;border-style:none;text-align:center;font-family:inherit;font-weight:var(--calcite-font-weight-normal);text-decoration-line:none;transition:color var(--calcite-animation-timing) ease-in-out, background-color var(--calcite-animation-timing) ease-in-out, box-shadow var(--calcite-animation-timing) ease-in-out, outline-color var(--calcite-internal-animation-timing-fast) ease-in-out}:host button:hover,:host a:hover{text-decoration-line:none}:host button span,:host a span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.content{margin-inline:var(--calcite-button-content-margin-internal)}.icon-start-empty .content{margin-inline-start:unset}.icon-end-empty .content{margin-inline-end:unset}:host([scale=m]) button,:host([scale=m]) a{--calcite-button-content-margin-internal:0.75rem}:host([scale=l]) button,:host([scale=l]) a{--calcite-button-content-margin-internal:1rem}:host([width=auto]){inline-size:auto}:host([width=half]){inline-size:50%}:host([width=full]){inline-size:100%}:host([alignment=center]:not([width=auto])) a,:host([alignment=center]:not([width=auto])) button{justify-content:center}:host([alignment=start]:not([width=auto])) a,:host([alignment=start]:not([width=auto])) button{justify-content:flex-start}:host([alignment=end]:not([width=auto])) a,:host([alignment=end]:not([width=auto])) button{justify-content:flex-end}:host([alignment*=space-between]:not([width=auto])) a,:host([alignment*=space-between]:not([width=auto])) button{justify-content:space-between}:host([alignment=icon-start-space-between]:not([width=auto])) .icon--start{margin-inline-end:auto}:host([alignment=icon-start-space-between]:not([width=auto])) a,:host([alignment=icon-start-space-between]:not([width=auto])) button{text-align:unset}:host([alignment=icon-end-space-between]:not([width=auto])) .icon--end{margin-inline-start:auto}:host([alignment=icon-end-space-between]:not([width=auto])) a,:host([alignment=icon-end-space-between]:not([width=auto])) button{text-align:unset}:host([alignment=center]) a:not(.content--slotted) .icon--start+.icon--end,:host([alignment=center]) button:not(.content--slotted) .icon--start+.icon--end{margin-inline-start:var(--calcite-button-content-margin-internal)}.icon{position:relative;margin:0px;display:inline-flex;font-weight:var(--calcite-font-weight-normal);line-height:inherit}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}@keyframes loader-in{0%{inline-size:0;opacity:0;transform:scale(0.5)}100%{inline-size:1em;opacity:1;transform:scale(1)}}@keyframes loader-out{0%{inline-size:1em;opacity:1;transform:scale(1)}100%{inline-size:0;opacity:0;transform:scale(0.5)}}.calcite-button--loader{display:flex}.calcite-button--loader calcite-loader{margin:0px;transition:inline-size var(--calcite-internal-animation-timing-slow) ease-in-out, opacity var(--calcite-internal-animation-timing-slow) ease-in-out, transform var(--calcite-internal-animation-timing-slow) ease-in-out}.calcite-button--loader calcite-loader.loading-in{animation-name:loader-in;animation-duration:var(--calcite-internal-animation-timing-slow)}.calcite-button--loader calcite-loader.loading-out{animation-name:loader-out;animation-duration:var(--calcite-internal-animation-timing-slow)}:host([loading]) button.content--slotted .calcite-button--loader calcite-loader,:host([loading]) a.content--slotted .calcite-button--loader calcite-loader{margin-inline-end:var(--calcite-button-content-margin-internal)}:host([loading]) button:not(.content--slotted) .icon--start,:host([loading]) button:not(.content--slotted) .icon--end,:host([loading]) a:not(.content--slotted) .icon--start,:host([loading]) a:not(.content--slotted) .icon--end{display:none}:host([appearance]) button,:host([appearance]) a{border-width:1px;border-style:solid;border-color:transparent}:host([kind=brand]) button,:host([kind=brand]) a{background-color:var(--calcite-color-brand);color:var(--calcite-color-text-inverse)}:host([kind=brand]) button:hover,:host([kind=brand]) button:focus,:host([kind=brand]) a:hover,:host([kind=brand]) a:focus{background-color:var(--calcite-color-brand-hover)}:host([kind=brand]) button:active,:host([kind=brand]) a:active{background-color:var(--calcite-color-brand-press)}:host([kind=brand]) button calcite-loader,:host([kind=brand]) a calcite-loader{color:var(--calcite-color-text-inverse)}:host([kind=danger]) button,:host([kind=danger]) a{background-color:var(--calcite-color-status-danger);color:var(--calcite-color-text-inverse)}:host([kind=danger]) button:hover,:host([kind=danger]) button:focus,:host([kind=danger]) a:hover,:host([kind=danger]) a:focus{background-color:var(--calcite-color-status-danger-hover)}:host([kind=danger]) button:active,:host([kind=danger]) a:active{background-color:var(--calcite-color-status-danger-press)}:host([kind=danger]) button calcite-loader,:host([kind=danger]) a calcite-loader{color:var(--calcite-color-text-inverse)}:host([kind=neutral]) button,:host([kind=neutral]) a{background-color:var(--calcite-color-foreground-3);color:var(--calcite-color-text-1)}:host([kind=neutral]) button:hover,:host([kind=neutral]) button:focus,:host([kind=neutral]) a:hover,:host([kind=neutral]) a:focus{background-color:var(--calcite-color-foreground-2)}:host([kind=neutral]) button:active,:host([kind=neutral]) a:active{background-color:var(--calcite-color-foreground-1)}:host([kind=neutral]) button calcite-loader,:host([kind=neutral]) a calcite-loader{color:var(--calcite-color-text-1)}:host([kind=inverse]) button,:host([kind=inverse]) a{color:var(--calcite-color-text-inverse);background-color:var(--calcite-color-inverse)}:host([kind=inverse]) button:hover,:host([kind=inverse]) button:focus,:host([kind=inverse]) a:hover,:host([kind=inverse]) a:focus{background-color:var(--calcite-color-inverse-hover)}:host([kind=inverse]) button:active,:host([kind=inverse]) a:active{background-color:var(--calcite-color-inverse-press)}:host([kind=inverse]) button calcite-loader,:host([kind=inverse]) a calcite-loader{color:var(--calcite-color-text-inverse)}:host([appearance=outline-fill]) button,:host([appearance=outline-fill]) a{border-width:1px;border-style:solid;background-color:var(--calcite-color-foreground-1);box-shadow:inset 0 0 0 1px transparent}:host([appearance=outline-fill][kind=brand]) button,:host([appearance=outline-fill][kind=brand]) a{border-color:var(--calcite-color-brand);background-color:var(--calcite-color-foreground-1);color:var(--calcite-color-brand)}:host([appearance=outline-fill][kind=brand]) button:hover,:host([appearance=outline-fill][kind=brand]) a:hover{border-color:var(--calcite-color-brand-hover);color:var(--calcite-color-brand-hover);box-shadow:inset 0 0 0 1px var(--calcite-color-brand-hover)}:host([appearance=outline-fill][kind=brand]) button:focus,:host([appearance=outline-fill][kind=brand]) a:focus{border-color:var(--calcite-color-brand);color:var(--calcite-color-brand);box-shadow:inset 0 0 0 2px var(--calcite-color-brand)}:host([appearance=outline-fill][kind=brand]) button:active,:host([appearance=outline-fill][kind=brand]) a:active{border-color:var(--calcite-color-brand-press);color:var(--calcite-color-brand-press);box-shadow:inset 0 0 0 2px var(--calcite-color-brand-press)}:host([appearance=outline-fill][kind=brand]) button calcite-loader,:host([appearance=outline-fill][kind=brand]) a calcite-loader{color:var(--calcite-color-brand)}:host([appearance=outline-fill][kind=danger]) button,:host([appearance=outline-fill][kind=danger]) a{border-color:var(--calcite-color-status-danger);background-color:var(--calcite-color-foreground-1);color:var(--calcite-color-status-danger)}:host([appearance=outline-fill][kind=danger]) button:hover,:host([appearance=outline-fill][kind=danger]) a:hover{border-color:var(--calcite-color-status-danger-hover);color:var(--calcite-color-status-danger-hover);box-shadow:inset 0 0 0 1px var(--calcite-color-status-danger-hover)}:host([appearance=outline-fill][kind=danger]) button:focus,:host([appearance=outline-fill][kind=danger]) a:focus{border-color:var(--calcite-color-status-danger);color:var(--calcite-color-status-danger);box-shadow:inset 0 0 0 2px var(--calcite-color-status-danger)}:host([appearance=outline-fill][kind=danger]) button:active,:host([appearance=outline-fill][kind=danger]) a:active{border-color:var(--calcite-color-status-danger-press);color:var(--calcite-color-status-danger-press);box-shadow:inset 0 0 0 2px var(--calcite-color-status-danger-press)}:host([appearance=outline-fill][kind=danger]) button calcite-loader,:host([appearance=outline-fill][kind=danger]) a calcite-loader{color:var(--calcite-color-status-danger)}:host([appearance=outline-fill][kind=neutral]) button,:host([appearance=outline-fill][kind=neutral]) a{background-color:var(--calcite-color-foreground-1);color:var(--calcite-color-text-1);border-color:var(--calcite-color-border-1)}:host([appearance=outline-fill][kind=neutral]) button:hover,:host([appearance=outline-fill][kind=neutral]) a:hover{box-shadow:inset 0 0 0 1px var(--calcite-color-foreground-3)}:host([appearance=outline-fill][kind=neutral]) button:focus,:host([appearance=outline-fill][kind=neutral]) a:focus{box-shadow:inset 0 0 0 2px var(--calcite-color-foreground-3)}:host([appearance=outline-fill][kind=neutral]) button:active,:host([appearance=outline-fill][kind=neutral]) a:active{box-shadow:inset 0 0 0 2px var(--calcite-color-foreground-3)}:host([appearance=outline-fill][kind=neutral]) button calcite-loader,:host([appearance=outline-fill][kind=neutral]) a calcite-loader{color:var(--calcite-color-text-1)}:host([appearance=outline-fill][kind=inverse]) button,:host([appearance=outline-fill][kind=inverse]) a{background-color:var(--calcite-color-foreground-1);color:var(--calcite-color-text-1);border-color:var(--calcite-color-inverse)}:host([appearance=outline-fill][kind=inverse]) button:hover,:host([appearance=outline-fill][kind=inverse]) a:hover{border-color:var(--calcite-color-inverse-hover);box-shadow:inset 0 0 0 1px var(--calcite-color-inverse-hover)}:host([appearance=outline-fill][kind=inverse]) button:focus,:host([appearance=outline-fill][kind=inverse]) a:focus{border-color:var(--calcite-color-inverse);box-shadow:inset 0 0 0 2px var(--calcite-color-inverse)}:host([appearance=outline-fill][kind=inverse]) button:active,:host([appearance=outline-fill][kind=inverse]) a:active{border-color:var(--calcite-color-inverse-press);box-shadow:inset 0 0 0 2px var(--calcite-color-inverse-press)}:host([appearance=outline-fill][kind=inverse]) button calcite-loader,:host([appearance=outline-fill][kind=inverse]) a calcite-loader{color:var(--calcite-color-text-1)}:host([appearance=outline]) button,:host([appearance=outline]) a{border-width:1px;border-style:solid;background-color:transparent;box-shadow:inset 0 0 0 1px transparent}:host([appearance=outline][kind=brand]) button,:host([appearance=outline][kind=brand]) a{border-color:var(--calcite-color-brand);background-color:transparent;color:var(--calcite-color-brand)}:host([appearance=outline][kind=brand]) button:hover,:host([appearance=outline][kind=brand]) a:hover{border-color:var(--calcite-color-brand-hover);color:var(--calcite-color-brand-hover);box-shadow:inset 0 0 0 1px var(--calcite-color-brand-hover)}:host([appearance=outline][kind=brand]) button:focus,:host([appearance=outline][kind=brand]) a:focus{border-color:var(--calcite-color-brand);color:var(--calcite-color-brand);box-shadow:inset 0 0 0 2px var(--calcite-color-brand)}:host([appearance=outline][kind=brand]) button:active,:host([appearance=outline][kind=brand]) a:active{border-color:var(--calcite-color-brand-press);color:var(--calcite-color-brand-press);box-shadow:inset 0 0 0 2px var(--calcite-color-brand-press)}:host([appearance=outline][kind=brand]) button calcite-loader,:host([appearance=outline][kind=brand]) a calcite-loader{color:var(--calcite-color-brand)}:host([appearance=outline][kind=danger]) button,:host([appearance=outline][kind=danger]) a{border-color:var(--calcite-color-status-danger);background-color:transparent;color:var(--calcite-color-status-danger)}:host([appearance=outline][kind=danger]) button:hover,:host([appearance=outline][kind=danger]) a:hover{border-color:var(--calcite-color-status-danger-hover);color:var(--calcite-color-status-danger-hover);box-shadow:inset 0 0 0 1px var(--calcite-color-status-danger-hover)}:host([appearance=outline][kind=danger]) button:focus,:host([appearance=outline][kind=danger]) a:focus{border-color:var(--calcite-color-status-danger);color:var(--calcite-color-status-danger);box-shadow:inset 0 0 0 2px var(--calcite-color-status-danger)}:host([appearance=outline][kind=danger]) button:active,:host([appearance=outline][kind=danger]) a:active{border-color:var(--calcite-color-status-danger-press);color:var(--calcite-color-status-danger-press);box-shadow:inset 0 0 0 2px var(--calcite-color-status-danger-press)}:host([appearance=outline][kind=danger]) button calcite-loader,:host([appearance=outline][kind=danger]) a calcite-loader{color:var(--calcite-color-status-danger)}:host([appearance=outline][kind=neutral]) button,:host([appearance=outline][kind=neutral]) a{background-color:transparent;color:var(--calcite-color-text-1);border-color:var(--calcite-color-border-1)}:host([appearance=outline][kind=neutral]) button:hover,:host([appearance=outline][kind=neutral]) a:hover{box-shadow:inset 0 0 0 1px var(--calcite-color-foreground-3)}:host([appearance=outline][kind=neutral]) button:focus,:host([appearance=outline][kind=neutral]) a:focus{box-shadow:inset 0 0 0 2px var(--calcite-color-foreground-3)}:host([appearance=outline][kind=neutral]) button:active,:host([appearance=outline][kind=neutral]) a:active{box-shadow:inset 0 0 0 2px var(--calcite-color-foreground-3)}:host([appearance=outline][kind=neutral]) button calcite-loader,:host([appearance=outline][kind=neutral]) a calcite-loader{color:var(--calcite-color-text-1)}:host([appearance=outline][kind=inverse]) button,:host([appearance=outline][kind=inverse]) a{background-color:transparent;color:var(--calcite-color-text-1);border-color:var(--calcite-color-inverse)}:host([appearance=outline][kind=inverse]) button:hover,:host([appearance=outline][kind=inverse]) a:hover{border-color:var(--calcite-color-inverse-hover);box-shadow:inset 0 0 0 1px var(--calcite-color-inverse-hover)}:host([appearance=outline][kind=inverse]) button:focus,:host([appearance=outline][kind=inverse]) a:focus{border-color:var(--calcite-color-inverse);box-shadow:inset 0 0 0 2px var(--calcite-color-inverse)}:host([appearance=outline][kind=inverse]) button:active,:host([appearance=outline][kind=inverse]) a:active{border-color:var(--calcite-color-inverse-press);box-shadow:inset 0 0 0 2px var(--calcite-color-inverse-press)}:host([appearance=outline][kind=inverse]) button calcite-loader,:host([appearance=outline][kind=inverse]) a calcite-loader{color:var(--calcite-color-text-1)}:host([appearance=outline-fill][split-child=primary]) button,:host([appearance=outline][split-child=primary]) button{border-inline-end-width:0;border-inline-start-width:1px}:host([appearance=outline-fill][split-child=secondary]) button,:host([appearance=outline][split-child=secondary]) button{border-inline-start-width:0;border-inline-end-width:1px}:host([appearance=transparent]:not(.enable-editing-button)) button,:host([appearance=transparent]:not(.enable-editing-button)) a{background-color:transparent}:host([appearance=transparent]:not(.enable-editing-button)) button:hover,:host([appearance=transparent]:not(.enable-editing-button)) button:focus,:host([appearance=transparent]:not(.enable-editing-button)) a:hover,:host([appearance=transparent]:not(.enable-editing-button)) a:focus{background-color:var(--calcite-color-transparent-hover)}:host([appearance=transparent]:not(.enable-editing-button)) button:active,:host([appearance=transparent]:not(.enable-editing-button)) a:active{background-color:var(--calcite-color-transparent-press)}:host([appearance=transparent][kind=brand]) button,:host([appearance=transparent][kind=brand]) a{color:var(--calcite-color-brand)}:host([appearance=transparent][kind=brand]) button:hover,:host([appearance=transparent][kind=brand]) a:hover{color:var(--calcite-color-brand-hover)}:host([appearance=transparent][kind=brand]) button:focus,:host([appearance=transparent][kind=brand]) a:focus{color:var(--calcite-color-brand)}:host([appearance=transparent][kind=brand]) button:active,:host([appearance=transparent][kind=brand]) a:active{color:var(--calcite-color-brand-press)}:host([appearance=transparent][kind=brand]) button calcite-loader,:host([appearance=transparent][kind=brand]) a calcite-loader{color:var(--calcite-color-brand)}:host([appearance=transparent][kind=danger]) button,:host([appearance=transparent][kind=danger]) a{color:var(--calcite-color-status-danger)}:host([appearance=transparent][kind=danger]) button:hover,:host([appearance=transparent][kind=danger]) a:hover{color:var(--calcite-color-status-danger-hover)}:host([appearance=transparent][kind=danger]) button:focus,:host([appearance=transparent][kind=danger]) a:focus{color:var(--calcite-color-status-danger)}:host([appearance=transparent][kind=danger]) button:active,:host([appearance=transparent][kind=danger]) a:active{color:var(--calcite-color-status-danger-press)}:host([appearance=transparent][kind=danger]) button calcite-loader,:host([appearance=transparent][kind=danger]) a calcite-loader{color:var(--calcite-color-status-danger)}:host([appearance=transparent][kind=neutral]:not(.cancel-editing-button)) button,:host([appearance=transparent][kind=neutral]:not(.cancel-editing-button)) a,:host([appearance=transparent][kind=neutral]:not(.cancel-editing-button)) calcite-loader{color:var(--calcite-color-text-1)}:host([appearance=transparent][kind=neutral].cancel-editing-button) button{border-block-start-width:1px;border-block-end-width:1px;color:var(--calcite-color-text-3);border-block-start-color:var(--calcite-color-border-input);border-block-end-color:var(--calcite-color-border-input);border-block-style:solid}:host([appearance=transparent][kind=neutral].cancel-editing-button) button:not(.content--slotted){--calcite-button-padding-y-internal:0}:host([appearance=transparent][kind=neutral].cancel-editing-button) button:hover{color:var(--calcite-color-text-1)}:host([appearance=transparent][kind=neutral].enable-editing-button) button{background-color:transparent}:host(.confirm-changes-button) button:focus,:host(.cancel-editing-button) button:focus,:host(.enable-editing-button) button:focus{outline-offset:-2px}:host([appearance=transparent][kind=inverse]) button,:host([appearance=transparent][kind=inverse]) a,:host([appearance=transparent][kind=inverse]) calcite-loader{color:var(--calcite-color-text-inverse)}:host([scale=s]) button.content--slotted,:host([scale=s]) a.content--slotted{font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=s][appearance=transparent]) button.content--slotted,:host([scale=s][appearance=transparent]) a.content--slotted{--calcite-button-padding-x-internal:0.5rem}:host([scale=s]) button,:host([scale=s]) a{--calcite-button-padding-y-internal:3px}:host([scale=m]) button.content--slotted,:host([scale=m]) a.content--slotted{--calcite-button-padding-x-internal:11px;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=m]) button,:host([scale=m]) a{--calcite-button-padding-y-internal:7px}:host([scale=m][appearance=transparent]) button.content--slotted,:host([scale=m][appearance=transparent]) a.content--slotted{--calcite-button-padding-x-internal:0.75rem}:host([scale=l]) button.content--slotted,:host([scale=l]) a.content--slotted{--calcite-button-padding-x-internal:15px;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=l]) .button-padding{--calcite-button-padding-x-internal:1rem;--calcite-button-padding-y-internal:11px}:host([scale=l]) .button-padding--shrunk{--calcite-button-padding-y-internal:9px}:host([scale=s]) button:not(.content--slotted),:host([scale=s]) a:not(.content--slotted){--calcite-button-padding-x-internal:0.125rem;--calcite-button-padding-y-internal:3px;inline-size:1.5rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;min-block-size:1.5rem}:host([scale=m]) button:not(.content--slotted),:host([scale=m]) a:not(.content--slotted){--calcite-button-padding-x-internal:0.125rem;--calcite-button-padding-y-internal:7px;inline-size:2rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;min-block-size:2rem}:host([scale=l]) button:not(.content--slotted),:host([scale=l]) a:not(.content--slotted){--calcite-button-padding-x-internal:0.125rem;--calcite-button-padding-y-internal:9px;inline-size:2.75rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;min-block-size:2.75rem}:host([scale=l][appearance=transparent]) button:not(.content--slotted),:host([scale=l][appearance=transparent]) a:not(.content--slotted){--calcite-button-padding-y-internal:0.625rem}:host([scale=s][icon-start][icon-end]) button:not(.content--slotted),:host([scale=s][icon-start][icon-end]) a:not(.content--slotted){--calcite-button-padding-x-internal:23px;block-size:1.5rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=s][icon-start][icon-end][appearance=transparent]) button:not(.content--slotted),:host([scale=s][icon-start][icon-end][appearance=transparent]) a:not(.content--slotted){--calcite-button-padding-x-internal:1.5rem}:host([scale=m][icon-start][icon-end]) button:not(.content--slotted),:host([scale=m][icon-start][icon-end]) a:not(.content--slotted){--calcite-button-padding-x-internal:2rem;block-size:2rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=m][icon-start][icon-end][appearance=transparent]) button:not(.content--slotted),:host([scale=m][icon-start][icon-end][appearance=transparent]) a:not(.content--slotted){--calcite-button-padding-x-internal:33px}:host([scale=l][icon-start][icon-end]) button:not(.content--slotted),:host([scale=l][icon-start][icon-end]) a:not(.content--slotted){--calcite-button-padding-x-internal:43px;block-size:2.75rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=l][icon-start][icon-end]) button:not(.content--slotted) .icon--start+.icon--end,:host([scale=l][icon-start][icon-end]) a:not(.content--slotted) .icon--start+.icon--end{margin-inline-start:1rem}:host([scale=l][icon-start][icon-end][appearance=transparent]) button:not(.content--slotted),:host([scale=l][icon-start][icon-end][appearance=transparent]) a:not(.content--slotted){--calcite-button-padding-x-internal:2.75rem}:host([hidden]){display:none}[hidden]{display:none}`,Tse=Xe(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.mutationObserver=St("mutation",()=>this.updateHasContent()),this.resizeObserver=St("resize",()=>this.setTooltipText()),this.handleClick=()=>{const{type:e}=this;this.href||(e==="submit"?rN(this):e==="reset"&&Ire(this))},this.setTooltipText=()=>{const{contentEl:e}=this;e&&(this.tooltipText=e.offsetWidth<e.scrollWidth?this.el.innerText:null)},this.setChildEl=e=>{var i;this.childEl=e,e&&((i=this.resizeObserver)==null||i.observe(e))},this.alignment="center",this.appearance="solid",this.label=void 0,this.kind="brand",this.disabled=!1,this.form=void 0,this.href=void 0,this.iconEnd=void 0,this.iconFlipRtl=void 0,this.iconStart=void 0,this.loading=!1,this.name=void 0,this.rel=void 0,this.round=!1,this.scale="m",this.splitChild=!1,this.target=void 0,this.type="button",this.width="auto",this.messages=void 0,this.messageOverrides=void 0,this.hasContent=!1,this.hasLoader=!1,this.effectiveLocale="",this.defaultMessages=void 0,this.tooltipText=void 0,this.globalAttributes={ariaExpanded:void 0}}loadingChanged(e,i){e&&!i&&(this.hasLoader=!0),!e&&i&&window.setTimeout(()=>{this.hasLoader=!1},300)}onMessagesChange(){}async connectedCallback(){la(this),er(this),rr(this),mse(this,["aria-expanded"]),this.hasLoader=this.loading,this.setupTextContentObserver(),ju(this),this.formEl=sN(this)}disconnectedCallback(){var e,i;(e=this.mutationObserver)==null||e.disconnect(),ca(this),v0(this),tr(this),sr(this),(i=this.resizeObserver)==null||i.disconnect(),this.formEl=null,gse(this)}async componentWillLoad(){Yn(this),this.updateHasContent(),await ir(this)}componentDidLoad(){Xn(this),this.setTooltipText()}componentDidRender(){aa(this)}render(){const e=this.href?"a":"button",i=e,n=this.hasLoader?S("div",{class:ki.buttonLoader},S("calcite-loader",{class:this.loading?ki.loadingIn:ki.loadingOut,inline:!0,label:this.messages.loading,scale:this.scale==="l"?"m":"s"})):null,r=!this.iconStart&&!this.iconEnd,s=S("calcite-icon",{class:{[ki.icon]:!0,[ki.iconStart]:!0},flipRtl:this.iconFlipRtl==="start"||this.iconFlipRtl==="both",icon:this.iconStart,scale:Mt(this.scale)}),o=S("calcite-icon",{class:{[ki.icon]:!0,[ki.iconEnd]:!0},flipRtl:this.iconFlipRtl==="end"||this.iconFlipRtl==="both",icon:this.iconEnd,scale:Mt(this.scale)}),a=S("span",{class:ki.content,ref:l=>this.contentEl=l},S("slot",null));return S(i,{"aria-disabled":e==="a"?Qt(this.disabled||this.loading):null,"aria-label":this.loading?this.messages.loading:Yh(this),"aria-live":"polite",class:{[ki.buttonPadding]:r,[ki.buttonPaddingShrunk]:!r,[ki.contentSlotted]:this.hasContent,[ki.iconStartEmpty]:!this.iconStart,[ki.iconEndEmpty]:!this.iconEnd},disabled:e==="button"?this.disabled||this.loading:null,href:e==="a"&&this.href,name:e==="button"&&this.name,onClick:this.handleClick,rel:e==="a"&&this.rel,tabIndex:this.disabled?-1:null,target:e==="a"&&this.target,title:this.tooltipText,type:e==="button"&&this.type,...this.globalAttributes,ref:this.setChildEl},n,this.iconStart?s:null,this.hasContent?a:null,this.iconEnd?o:null)}async setFocus(){var e;await Qn(this),(e=this.childEl)==null||e.focus()}effectiveLocaleChange(){nr(this,this.effectiveLocale)}updateHasContent(){var i,n;const e=this.el.textContent.trim().length>0||this.el.childNodes.length>0;this.hasContent=this.el.childNodes.length===1&&((i=this.el.childNodes[0])==null?void 0:i.nodeName)==="#text"?((n=this.el.textContent)==null?void 0:n.trim().length)>0:e}setupTextContentObserver(){var e;(e=this.mutationObserver)==null||e.observe(this.el,{childList:!0,subtree:!0})}onLabelClick(){this.handleClick(),this.setFocus()}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{loading:["loadingChanged"],messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return $se}},[1,"calcite-button",{alignment:[513],appearance:[513],label:[1],kind:[513],disabled:[516],form:[513],href:[513],iconEnd:[513,"icon-end"],iconFlipRtl:[513,"icon-flip-rtl"],iconStart:[513,"icon-start"],loading:[516],name:[513],rel:[513],round:[516],scale:[513],splitChild:[520,"split-child"],target:[513],type:[513],width:[513],messages:[1040],messageOverrides:[1040],hasContent:[32],hasLoader:[32],effectiveLocale:[32],defaultMessages:[32],tooltipText:[32],globalAttributes:[32],setFocus:[64]},void 0,{loading:["loadingChanged"],messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}]);function Ese(){if(typeof customElements>"u")return;["calcite-button","calcite-icon","calcite-loader"].forEach(e=>{switch(e){case"calcite-button":customElements.get(e)||customElements.define(e,Tse);break;case"calcite-icon":customElements.get(e)||pn();break;case"calcite-loader":customElements.get(e)||ua();break}})}Ese();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.0.0
 */const kse={container:"container"},Mse=":host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:flex}:host([alignment=start]){text-align:start}:host([alignment=end]){text-align:end}:host([alignment=center]){text-align:center}:host([scale=s]) .container{gap:0.25rem;font-size:var(--calcite-font-size--2);line-height:1rem;margin-block-end:var(--calcite-label-margin-bottom, 0.5rem)}:host([scale=m]) .container{gap:0.5rem;font-size:var(--calcite-font-size--1);line-height:1rem;margin-block-end:var(--calcite-label-margin-bottom, 0.75rem)}:host([scale=l]) .container{gap:0.5rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;margin-block-end:var(--calcite-label-margin-bottom, 1rem)}:host .container{margin-inline:0px;margin-block-start:0px;inline-size:100%;line-height:1.375;color:var(--calcite-color-text-1)}:host([layout=default]) .container{display:flex;flex-direction:column}:host([layout=inline]) .container,:host([layout=inline-space-between]) .container{display:flex;flex-direction:row;align-items:center;gap:0.5rem}:host([layout=inline][scale=l]) .container{gap:0.75rem}:host([layout=inline-space-between]) .container{justify-content:space-between}:host([disabled])>.container{opacity:var(--calcite-opacity-disabled)}:host([disabled]) ::slotted(*[disabled]),:host([disabled]) ::slotted(*[disabled] *){--tw-bg-opacity:1}:host([disabled]) ::slotted(calcite-input-message:not([active])){--tw-bg-opacity:0}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host([hidden]){display:none}[hidden]{display:none}",Cse=Xe(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteInternalLabelClick=he(this,"calciteInternalLabelClick",2),this.labelClickHandler=e=>{this.calciteInternalLabelClick.emit({sourceEvent:e})},this.alignment="start",this.for=void 0,this.scale="m",this.layout="default"}handleForChange(){Vre(this.el)}connectedCallback(){document.dispatchEvent(new CustomEvent(y0))}disconnectedCallback(){document.dispatchEvent(new CustomEvent(sy))}render(){return S(hi,{onClick:this.labelClickHandler},S("div",{class:kse.container},S("slot",null)))}get el(){return this}static get watchers(){return{for:["handleForChange"]}}static get style(){return Mse}},[1,"calcite-label",{alignment:[513],for:[513],scale:[513],layout:[513]},void 0,{for:["handleForChange"]}]);function Ise(){if(typeof customElements>"u")return;["calcite-label"].forEach(e=>{switch(e){case"calcite-label":customElements.get(e)||customElements.define(e,Cse);break}})}Ise();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.0.0
 */const Ose=":host{position:relative;display:block;inline-size:100%}.track,.bar{position:absolute;inset-block-start:0px;block-size:2px}.track{z-index:var(--calcite-z-index);inline-size:100%;overflow:hidden;background:var(--calcite-color-border-3)}.bar{z-index:var(--calcite-z-index);background-color:var(--calcite-color-brand)}@media (forced-colors: active){.track{background-color:highlightText}.bar{background-color:linkText}}.indeterminate{inline-size:20%;animation:looping-progress-bar-ani calc(var(--calcite-internal-animation-timing-medium) / var(--calcite-internal-duration-factor) * 11 / var(--calcite-internal-duration-factor)) linear infinite}.indeterminate.calcite--rtl{animation-name:looping-progress-bar-ani-rtl}.reversed{animation-direction:reverse}.text{padding-inline:0px;padding-block:1rem 0px;text-align:center;font-size:var(--calcite-font-size--2);line-height:1rem;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-color-text-2)}@keyframes looping-progress-bar-ani{0%{transform:translate3d(-100%, 0, 0)}50%{inline-size:40%}100%{transform:translate3d(600%, 0, 0)}}@keyframes looping-progress-bar-ani-rtl{0%{transform:translate3d(100%, 0, 0)}50%{inline-size:40%}100%{transform:translate3d(-600%, 0, 0)}}:host([hidden]){display:none}[hidden]{display:none}",Ase=Xe(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.type="determinate",this.value=0,this.label=void 0,this.text=void 0,this.reversed=!1}render(){const i=this.type==="determinate"?{width:`${this.value*100}%`}:{},n=Hn(this.el);return S("div",{"aria-label":this.label||this.text,"aria-valuemax":1,"aria-valuemin":0,"aria-valuenow":this.value,role:"progressbar"},S("div",{class:"track"},S("div",{class:{bar:!0,indeterminate:this.type==="indeterminate",[ko.rtl]:n==="rtl",reversed:this.reversed},style:i})),this.text?S("div",{class:"text"},this.text):null)}get el(){return this}static get style(){return Ose}},[1,"calcite-progress",{type:[513],value:[2],label:[1],text:[1],reversed:[516]}]);function TN(){if(typeof customElements>"u")return;["calcite-progress"].forEach(e=>{switch(e){case"calcite-progress":customElements.get(e)||customElements.define(e,Ase);break}})}TN();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.0.0
 */const Ut={loader:"loader",clearButton:"clear-button",editingEnabled:"editing-enabled",inlineChild:"inline-child",inputIcon:"icon",prefix:"prefix",suffix:"suffix",numberButtonWrapper:"number-button-wrapper",buttonItemHorizontal:"number-button-item--horizontal",wrapper:"element-wrapper",inputWrapper:"wrapper",actionWrapper:"action-wrapper",resizeIconWrapper:"resize-icon-wrapper",numberButtonItem:"number-button-item"},mk={tel:"phone",password:"lock",email:"email-address",date:"calendar",time:"clock",search:"search"},Lse={action:"action"},Pse=`:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:block}:host([scale=s]) input,:host([scale=s]) .prefix,:host([scale=s]) .suffix{block-size:1.5rem;padding-inline:0.5rem;font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=s]) textarea{block-size:1.5rem;min-block-size:1.5rem}:host([scale=s]) .number-button-wrapper,:host([scale=s]) .action-wrapper calcite-button,:host([scale=s]) .action-wrapper calcite-button button{block-size:1.5rem}:host([scale=s]) input[type=file]{block-size:1.5rem}:host([scale=s]) .clear-button{min-block-size:1.5rem;min-inline-size:1.5rem}:host([scale=s]) textarea{block-size:auto;padding-block:0.25rem;padding-inline:0.5rem;font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=m]) input,:host([scale=m]) .prefix,:host([scale=m]) .suffix{block-size:2rem;padding-inline:0.75rem;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=m]) textarea{min-block-size:2rem}:host([scale=m]) .number-button-wrapper,:host([scale=m]) .action-wrapper calcite-button,:host([scale=m]) .action-wrapper calcite-button button{block-size:2rem}:host([scale=m]) input[type=file]{block-size:2rem}:host([scale=m]) .clear-button{min-block-size:2rem;min-inline-size:2rem}:host([scale=m]) textarea{block-size:auto;padding-block:0.5rem;padding-inline:0.75rem;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=l]) input,:host([scale=l]) .prefix,:host([scale=l]) .suffix{block-size:2.75rem;padding-inline:1rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=l]) textarea{min-block-size:2.75rem}:host([scale=l]) .number-button-wrapper,:host([scale=l]) .action-wrapper calcite-button,:host([scale=l]) .action-wrapper calcite-button button{block-size:2.75rem}:host([scale=l]) input[type=file]{block-size:2.75rem}:host([scale=l]) .clear-button{min-block-size:2.75rem;min-inline-size:2.75rem}:host([scale=l]) textarea{block-size:auto;padding-block:0.75rem;padding-inline:1rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([disabled]) textarea{resize:none}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}textarea,input{transition:var(--calcite-animation-timing), block-size 0, outline-offset 0s;-webkit-appearance:none;position:relative;margin:0px;box-sizing:border-box;display:flex;max-block-size:100%;inline-size:100%;max-inline-size:100%;flex:1 1 0%;border-radius:0px;background-color:var(--calcite-color-foreground-1);font-family:inherit;font-weight:var(--calcite-font-weight-normal);color:var(--calcite-color-text-1)}input[type=search]::-webkit-search-decoration{-webkit-appearance:none}input,textarea{text-overflow:ellipsis;border-width:1px;border-style:solid;border-color:var(--calcite-color-border-input);color:var(--calcite-color-text-1)}input:placeholder-shown,textarea:placeholder-shown{text-overflow:ellipsis}input:focus,textarea:focus{border-color:var(--calcite-color-brand);color:var(--calcite-color-text-1)}input[readonly],textarea[readonly]{background-color:var(--calcite-color-background);font-weight:var(--calcite-font-weight-medium)}input[readonly]:focus,textarea[readonly]:focus{color:var(--calcite-color-text-1)}calcite-icon{color:var(--calcite-color-text-3)}textarea,input{outline-color:transparent}textarea:focus,input:focus{outline:2px solid var(--calcite-color-brand);outline-offset:calc(
            -2px *
            calc(
              1 -
              2 * clamp(
                0,
                var(--calcite-offset-invert-focus),
                1
              )
            )
          )}:host([status=invalid]) input,:host([status=invalid]) textarea{border-color:var(--calcite-color-status-danger)}:host([status=invalid]) input:focus,:host([status=invalid]) textarea:focus{outline:2px solid var(--calcite-color-status-danger);outline-offset:calc(
            -2px *
            calc(
              1 -
              2 * clamp(
                0,
                var(--calcite-offset-invert-focus),
                1
              )
            )
          )}:host([scale=s]) .icon{inset-inline-start:0.5rem}:host([scale=m]) .icon{inset-inline-start:0.75rem}:host([scale=l]) .icon{inset-inline-start:1rem}:host([icon][scale=s]) input{padding-inline-start:2rem}:host([icon][scale=m]) input{padding-inline-start:2.5rem}:host([icon][scale=l]) input{padding-inline-start:3.5rem}.element-wrapper{position:relative;order:3;display:inline-flex;flex:1 1 0%;align-items:center}.icon{pointer-events:none;position:absolute;display:block;transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s}.icon,.resize-icon-wrapper{z-index:var(--calcite-z-index)}input[type=text]::-ms-clear,input[type=text]::-ms-reveal{display:none;block-size:0px;inline-size:0px}input[type=search]::-webkit-search-decoration,input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-results-button,input[type=search]::-webkit-search-results-decoration,input[type=date]::-webkit-clear-button,input[type=time]::-webkit-clear-button{display:none}.clear-button{pointer-events:initial;order:4;margin:0px;box-sizing:border-box;display:flex;min-block-size:100%;cursor:pointer;align-items:center;justify-content:center;align-self:stretch;border-width:1px;border-style:solid;border-color:var(--calcite-color-border-input);background-color:var(--calcite-color-foreground-1);outline-color:transparent;border-inline-start-width:0px}.clear-button:hover{background-color:var(--calcite-color-foreground-2);transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s}.clear-button:hover calcite-icon{color:var(--calcite-color-text-1);transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s}.clear-button:active{background-color:var(--calcite-color-foreground-3)}.clear-button:active calcite-icon{color:var(--calcite-color-text-1)}.clear-button:focus{outline:2px solid var(--calcite-color-brand);outline-offset:calc(
            -2px *
            calc(
              1 -
              2 * clamp(
                0,
                var(--calcite-offset-invert-focus),
                1
              )
            )
          )}.clear-button:disabled{opacity:var(--calcite-opacity-disabled)}.loader{inset-block-start:1px;inset-inline:1px;pointer-events:none;position:absolute;display:block}.action-wrapper{order:7;display:flex}.prefix,.suffix{box-sizing:border-box;display:flex;block-size:auto;min-block-size:100%;-webkit-user-select:none;user-select:none;align-content:center;align-items:center;overflow-wrap:break-word;border-width:1px;border-style:solid;border-color:var(--calcite-color-border-input);background-color:var(--calcite-color-background);font-weight:var(--calcite-font-weight-medium);line-height:1;color:var(--calcite-color-text-2)}.prefix{order:2;border-inline-end-width:0px}.suffix{order:5;border-inline-start-width:0px}:host([alignment=start]) textarea,:host([alignment=start]) input{text-align:start}:host([alignment=end]) textarea,:host([alignment=end]) input{text-align:end}input[type=number]{-moz-appearance:textfield}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;-moz-appearance:textfield;margin:0px}.number-button-wrapper{pointer-events:none;order:6;box-sizing:border-box;display:flex;flex-direction:column;transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s}:host([number-button-type=vertical]) .wrapper{flex-direction:row;display:flex}:host([number-button-type=vertical]) input,:host([number-button-type=vertical]) textarea{order:2}:host([number-button-type=horizontal]) .calcite--rtl .number-button-item[data-adjustment=down] calcite-icon{transform:rotate(-90deg)}:host([number-button-type=horizontal]) .calcite--rtl .number-button-item[data-adjustment=up] calcite-icon{transform:rotate(-90deg)}.number-button-item.number-button-item--horizontal[data-adjustment=down],.number-button-item.number-button-item--horizontal[data-adjustment=up]{order:1;max-block-size:100%;min-block-size:100%;align-self:stretch}.number-button-item.number-button-item--horizontal[data-adjustment=down] calcite-icon,.number-button-item.number-button-item--horizontal[data-adjustment=up] calcite-icon{transform:rotate(90deg)}.number-button-item.number-button-item--horizontal[data-adjustment=down]{border-width:1px;border-style:solid;border-color:var(--calcite-color-border-input);border-inline-end-width:0px}.number-button-item.number-button-item--horizontal[data-adjustment=down]:hover{background-color:var(--calcite-color-foreground-2)}.number-button-item.number-button-item--horizontal[data-adjustment=down]:hover calcite-icon{color:var(--calcite-color-text-1)}.number-button-item.number-button-item--horizontal[data-adjustment=up]{order:5}.number-button-item.number-button-item--horizontal[data-adjustment=up]:hover{background-color:var(--calcite-color-foreground-2)}.number-button-item.number-button-item--horizontal[data-adjustment=up]:hover calcite-icon{color:var(--calcite-color-text-1)}:host([number-button-type=vertical]) .number-button-item[data-adjustment=down]:hover{background-color:var(--calcite-color-foreground-2)}:host([number-button-type=vertical]) .number-button-item[data-adjustment=down]:hover calcite-icon{color:var(--calcite-color-text-1)}:host([number-button-type=vertical]) .number-button-item[data-adjustment=up]:hover{background-color:var(--calcite-color-foreground-2)}:host([number-button-type=vertical]) .number-button-item[data-adjustment=up]:hover calcite-icon{color:var(--calcite-color-text-1)}:host([number-button-type=vertical]) .number-button-item[data-adjustment=down]{border-block-start-width:0px}.number-button-item{max-block-size:50%;min-block-size:50%;pointer-events:initial;margin:0px;box-sizing:border-box;display:flex;cursor:pointer;align-items:center;align-self:center;border-width:1px;border-style:solid;border-color:var(--calcite-color-border-input);background-color:var(--calcite-color-foreground-1);padding-block:0px;padding-inline:0.5rem;transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;border-inline-start-width:0px}.number-button-item calcite-icon{pointer-events:none;transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s}.number-button-item:focus{background-color:var(--calcite-color-foreground-2)}.number-button-item:focus calcite-icon{color:var(--calcite-color-text-1)}.number-button-item:active{background-color:var(--calcite-color-foreground-3)}.number-button-item:disabled{pointer-events:none}.wrapper{position:relative;display:flex;flex-direction:row;align-items:center}:input::-webkit-calendar-picker-indicator{display:none}input[type=date]::-webkit-input-placeholder{visibility:hidden !important}textarea::-webkit-resizer{position:absolute;inset-block-end:0px;box-sizing:border-box;padding-block:0px;padding-inline:0.25rem;inset-inline-end:0}.resize-icon-wrapper{inset-block-end:2px;inset-inline-end:2px;pointer-events:none;position:absolute;block-size:0.75rem;inline-size:0.75rem;background-color:var(--calcite-color-foreground-1);color:var(--calcite-color-text-3)}.resize-icon-wrapper calcite-icon{inset-block-end:0.25rem;inset-inline-end:0.25rem;transform:rotate(-45deg)}.calcite--rtl .resize-icon-wrapper calcite-icon{transform:rotate(45deg)}:host([type=color]) input{padding:0.25rem}:host([type=file]) input{cursor:pointer;border-width:1px;border-style:dashed;border-color:var(--calcite-color-border-input);background-color:var(--calcite-color-foreground-1);text-align:center}:host([type=file][scale=s]) input{padding-block:1px;padding-inline:0.5rem}:host([type=file][scale=m]) input{padding-block:0.25rem;padding-inline:0.75rem}:host([type=file][scale=l]) input{padding-block:0.5rem;padding-inline:1rem}:host(.no-bottom-border) input{border-block-end-width:0px}:host(.border-top-color-one) input{border-block-start-color:var(--calcite-color-border-1)}input.inline-child{background-color:transparent;transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s}input.inline-child .editing-enabled{background-color:inherit}input.inline-child:not(.editing-enabled){display:flex;cursor:pointer;text-overflow:ellipsis;border-color:transparent;padding-inline-start:0}::slotted(input[slot=hidden-form-input]){margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;inset:0 !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}:host([hidden]){display:none}[hidden]{display:none}`,Rse=Xe(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteInternalInputFocus=he(this,"calciteInternalInputFocus",6),this.calciteInternalInputBlur=he(this,"calciteInternalInputBlur",6),this.calciteInputInput=he(this,"calciteInputInput",7),this.calciteInputChange=he(this,"calciteInputChange",6),this.childElType="input",this.previousValueOrigin="initial",this.mutationObserver=St("mutation",()=>this.setDisabledAction()),this.userChangedValue=!1,this.keyDownHandler=e=>{this.readOnly||this.disabled||(this.isClearable&&e.key==="Escape"&&(this.clearInputValue(e),e.preventDefault()),e.key==="Enter"&&!e.defaultPrevented&&rN(this)&&e.preventDefault())},this.clearInputValue=e=>{this.setValue({committing:!0,nativeEvent:e,origin:"user",value:""})},this.emitChangeIfUserModified=()=>{this.previousValueOrigin==="user"&&this.value!==this.previousEmittedValue&&(this.calciteInputChange.emit(),this.setPreviousEmittedValue(this.value))},this.inputBlurHandler=()=>{window.clearInterval(this.nudgeNumberValueIntervalId),this.calciteInternalInputBlur.emit(),this.emitChangeIfUserModified()},this.clickHandler=e=>{if(this.disabled)return;const i=Uw(this.el,"action");e.target!==i&&this.setFocus()},this.inputFocusHandler=()=>{this.calciteInternalInputFocus.emit()},this.inputChangeHandler=()=>{this.type==="file"&&(this.files=this.childEl.files)},this.inputInputHandler=e=>{this.disabled||this.readOnly||this.setValue({nativeEvent:e,origin:"user",value:e.target.value})},this.inputKeyDownHandler=e=>{this.disabled||this.readOnly||e.key==="Enter"&&this.emitChangeIfUserModified()},this.inputNumberInputHandler=e=>{if(this.disabled||this.readOnly)return;const i=e.target.value;li.numberFormatOptions={locale:this.effectiveLocale,numberingSystem:this.numberingSystem,useGrouping:this.groupSeparator};const n=li.delocalize(i);e.inputType==="insertFromPaste"?(Ar(n)||e.preventDefault(),this.setValue({nativeEvent:e,origin:"user",value:Jre(n)}),this.childNumberEl.value=this.localizedValue):this.setValue({nativeEvent:e,origin:"user",value:n})},this.inputNumberKeyDownHandler=e=>{if(this.type!=="number"||this.disabled||this.readOnly)return;if(e.key==="ArrowUp"){e.preventDefault(),this.nudgeNumberValue("up",e);return}if(e.key==="ArrowDown"){this.nudgeNumberValue("down",e);return}const i=[...xx,"ArrowLeft","ArrowRight","Backspace","Delete","Enter","Escape","Tab"];if(e.altKey||e.ctrlKey||e.metaKey)return;const n=e.shiftKey&&e.key==="Tab";if(i.includes(e.key)||n){e.key==="Enter"&&this.emitChangeIfUserModified();return}li.numberFormatOptions={locale:this.effectiveLocale,numberingSystem:this.numberingSystem,useGrouping:this.groupSeparator},!(e.key===li.decimal&&(!this.value&&!this.childNumberEl.value||this.value&&this.childNumberEl.value.indexOf(li.decimal)===-1))&&(/[eE]/.test(e.key)&&(!this.value&&!this.childNumberEl.value||this.value&&!/[eE]/.test(this.childNumberEl.value))||e.key==="-"&&(!this.value&&!this.childNumberEl.value||this.value&&this.childNumberEl.value.split("-").length<=2)||e.preventDefault())},this.nudgeNumberValue=(e,i)=>{if(i instanceof KeyboardEvent&&i.repeat||this.type!=="number")return;const n=this.maxString?parseFloat(this.maxString):null,r=this.minString?parseFloat(this.minString):null,s=150;this.incrementOrDecrementNumberValue(e,n,r,i),this.nudgeNumberValueIntervalId&&window.clearInterval(this.nudgeNumberValueIntervalId);let o=!0;this.nudgeNumberValueIntervalId=window.setInterval(()=>{if(o){o=!1;return}this.incrementOrDecrementNumberValue(e,n,r,i)},s)},this.numberButtonPointerUpAndOutHandler=()=>{window.clearInterval(this.nudgeNumberValueIntervalId)},this.numberButtonPointerDownHandler=e=>{if(!jl(e))return;e.preventDefault();const i=e.target.dataset.adjustment;this.disabled||this.nudgeNumberValue(i,e)},this.hiddenInputChangeHandler=e=>{e.target.name===this.name&&this.setValue({value:e.target.value,origin:"direct"}),e.stopPropagation()},this.setChildElRef=e=>{this.childEl=e},this.setChildNumberElRef=e=>{this.childNumberEl=e},this.setInputValue=e=>{this.type==="text"&&!this.childEl||this.type==="number"&&!this.childNumberEl||(this[`child${this.type==="number"?"Number":""}El`].value=e)},this.setPreviousEmittedValue=e=>{this.previousEmittedValue=this.normalizeValue(e)},this.setPreviousValue=e=>{this.previousValue=this.normalizeValue(e)},this.setValue=({committing:e=!1,nativeEvent:i,origin:n,previousValue:r,value:s})=>{var o,a;if(this.setPreviousValue(r??this.value),this.previousValueOrigin=n,this.type==="number"){li.numberFormatOptions={locale:this.effectiveLocale,numberingSystem:this.numberingSystem,useGrouping:this.groupSeparator,signDisplay:"never"};const l=((o=this.previousValue)==null?void 0:o.length)>s.length||((a=this.value)==null?void 0:a.length)>s.length,u=s.charAt(s.length-1)===".",p=u&&l?s:ese(s),f=s&&!p?Ar(this.previousValue)?this.previousValue:"":p;let m=li.localize(f);n!=="connected"&&!u&&(m=rse(m,f,li)),this.localizedValue=u&&l?`${m}${li.decimal}`:m,this.userChangedValue=n==="user"&&this.value!==f,this.value=["-","."].includes(f)?"":f}else this.userChangedValue=n==="user"&&this.value!==s,this.value=s;n==="direct"&&(this.setInputValue(s),this.previousEmittedValue=s),i&&(this.calciteInputInput.emit().defaultPrevented?(this.value=this.previousValue,this.localizedValue=this.type==="number"?li.localize(this.previousValue):this.previousValue):e&&this.emitChangeIfUserModified())},this.inputKeyUpHandler=()=>{window.clearInterval(this.nudgeNumberValueIntervalId)},this.alignment="start",this.autofocus=!1,this.clearable=!1,this.disabled=!1,this.form=void 0,this.groupSeparator=!1,this.hidden=!1,this.icon=void 0,this.iconFlipRtl=!1,this.label=void 0,this.loading=!1,this.numberingSystem=void 0,this.localeFormat=!1,this.max=void 0,this.min=void 0,this.maxLength=void 0,this.minLength=void 0,this.name=void 0,this.numberButtonType="vertical",this.placeholder=void 0,this.prefixText=void 0,this.readOnly=!1,this.required=!1,this.scale="m",this.status="idle",this.step=void 0,this.autocomplete=void 0,this.pattern=void 0,this.accept=void 0,this.multiple=!1,this.inputMode="text",this.enterKeyHint=void 0,this.suffixText=void 0,this.editingEnabled=!1,this.type="text",this.value="",this.files=void 0,this.messages=void 0,this.messageOverrides=void 0,this.defaultMessages=void 0,this.effectiveLocale="",this.localizedValue=void 0,this.slottedActionElDisabledInternally=!1}disabledWatcher(){this.setDisabledAction()}maxWatcher(){var e;this.maxString=((e=this.max)==null?void 0:e.toString())||null}minWatcher(){var e;this.minString=((e=this.min)==null?void 0:e.toString())||null}onMessagesChange(){}valueWatcher(e,i){this.userChangedValue||(this.setValue({origin:"direct",previousValue:i,value:e==null||e==""?"":this.type==="number"?Ar(e)?e:this.previousValue||"":e}),this.warnAboutInvalidNumberValue(e)),this.userChangedValue=!1}updateRequestedIcon(){this.requestedIcon=Hw(mk,this.icon,this.type)}get isClearable(){var e;return!this.isTextarea&&(this.clearable||this.type==="search")&&((e=this.value)==null?void 0:e.length)>0}get isTextarea(){return this.childElType==="textarea"}effectiveLocaleChange(){nr(this,this.effectiveLocale)}connectedCallback(){var e;la(this),er(this),rr(this),this.inlineEditableEl=this.el.closest("calcite-inline-editable"),this.inlineEditableEl&&(this.editingEnabled=this.inlineEditableEl.editingEnabled||!1),ju(this),bx(this),this.setPreviousEmittedValue(this.value),this.setPreviousValue(this.value),this.type==="number"&&(this.warnAboutInvalidNumberValue(this.value),this.setValue({origin:"connected",value:Ar(this.value)?this.value:""})),(e=this.mutationObserver)==null||e.observe(this.el,{childList:!0}),this.setDisabledAction(),this.el.addEventListener("calciteInternalHiddenInputChange",this.hiddenInputChangeHandler)}disconnectedCallback(){var e;ca(this),v0(this),wx(this),tr(this),sr(this),(e=this.mutationObserver)==null||e.disconnect(),this.el.removeEventListener("calciteInternalHiddenInputChange",this.hiddenInputChangeHandler)}async componentWillLoad(){var e,i;Yn(this),this.childElType=this.type==="textarea"?"textarea":"input",this.maxString=(e=this.max)==null?void 0:e.toString(),this.minString=(i=this.min)==null?void 0:i.toString(),this.requestedIcon=Hw(mk,this.icon,this.type),await ir(this)}componentDidLoad(){Xn(this)}componentShouldUpdate(e,i,n){return this.type==="number"&&n==="value"&&e&&!Ar(e)?(this.setValue({origin:"reset",value:i}),!1):!0}componentDidRender(){aa(this)}async setFocus(){var e,i;await Qn(this),this.type==="number"?(e=this.childNumberEl)==null||e.focus():(i=this.childEl)==null||i.focus()}async selectText(){var e,i;this.type==="number"?(e=this.childNumberEl)==null||e.select():(i=this.childEl)==null||i.select()}onLabelClick(){this.setFocus()}incrementOrDecrementNumberValue(e,i,n,r){const{value:s}=this,o=e==="up"?1:-1,a=this.step==="any"?1:Math.abs(this.step||1),u=new Te(s!==""?s:"0").add(`${a*o}`),p=()=>typeof n=="number"&&!isNaN(n)&&u.subtract(`${n}`).isNegative,f=()=>typeof i=="number"&&!isNaN(i)&&!u.subtract(`${i}`).isNegative,m=p()?`${n}`:f()?`${i}`:u.toString();this.setValue({committing:!0,nativeEvent:r,origin:"user",value:m})}onFormReset(){this.setValue({origin:"reset",value:this.defaultValue})}syncHiddenFormInput(e){var n,r;const{type:i}=this;e.type=i,i==="number"?(e.min=((n=this.min)==null?void 0:n.toString(10))??"",e.max=((r=this.max)==null?void 0:r.toString(10))??""):i==="text"&&(this.minLength!=null&&(e.minLength=this.minLength),this.maxLength!=null&&(e.maxLength=this.maxLength))}setDisabledAction(){const e=Uw(this.el,"action");e&&(this.disabled?(e.getAttribute("disabled")==null&&(this.slottedActionElDisabledInternally=!0),e.setAttribute("disabled","")):this.slottedActionElDisabledInternally&&(e.removeAttribute("disabled"),this.slottedActionElDisabledInternally=!1))}normalizeValue(e){return this.type==="number"?Ar(e)?e:"":e}warnAboutInvalidNumberValue(e){this.type==="number"&&e&&!Ar(e)&&console.warn(`The specified value "${e}" cannot be parsed, or is out of range.`)}render(){const e=Hn(this.el),i=S("div",{class:Ut.loader},S("calcite-progress",{label:this.messages.loading,type:"indeterminate"})),n=S("button",{"aria-label":this.messages.clear,class:Ut.clearButton,disabled:this.disabled||this.readOnly,onClick:this.clearInputValue,tabIndex:-1,type:"button"},S("calcite-icon",{icon:"x",scale:Mt(this.scale)})),r=S("calcite-icon",{class:Ut.inputIcon,flipRtl:this.iconFlipRtl,icon:this.requestedIcon,scale:Mt(this.scale)}),s=this.numberButtonType==="horizontal",o=S("button",{"aria-hidden":"true",class:{[Ut.numberButtonItem]:!0,[Ut.buttonItemHorizontal]:s},"data-adjustment":"up",disabled:this.disabled||this.readOnly,onPointerDown:this.numberButtonPointerDownHandler,onPointerOut:this.numberButtonPointerUpAndOutHandler,onPointerUp:this.numberButtonPointerUpAndOutHandler,tabIndex:-1,type:"button"},S("calcite-icon",{icon:"chevron-up",scale:Mt(this.scale)})),a=S("button",{"aria-hidden":"true",class:{[Ut.numberButtonItem]:!0,[Ut.buttonItemHorizontal]:s},"data-adjustment":"down",disabled:this.disabled||this.readOnly,onPointerDown:this.numberButtonPointerDownHandler,onPointerOut:this.numberButtonPointerUpAndOutHandler,onPointerUp:this.numberButtonPointerUpAndOutHandler,tabIndex:-1,type:"button"},S("calcite-icon",{icon:"chevron-down",scale:Mt(this.scale)})),l=S("div",{class:Ut.numberButtonWrapper},o,a),u=S("div",{class:Ut.prefix},this.prefixText),p=S("div",{class:Ut.suffix},this.suffixText),f=this.type==="number"?S("input",{accept:this.accept,"aria-label":Yh(this),autocomplete:this.autocomplete,autofocus:this.autofocus?!0:null,defaultValue:this.defaultValue,disabled:this.disabled?!0:null,enterKeyHint:this.enterKeyHint,inputMode:this.inputMode,key:"localized-input",maxLength:this.maxLength,minLength:this.minLength,multiple:this.multiple,name:void 0,onBlur:this.inputBlurHandler,onFocus:this.inputFocusHandler,onInput:this.inputNumberInputHandler,onKeyDown:this.inputNumberKeyDownHandler,onKeyUp:this.inputKeyUpHandler,pattern:this.pattern,placeholder:this.placeholder||"",readOnly:this.readOnly,type:"text",value:this.localizedValue,ref:this.setChildNumberElRef}):null,m=this.type!=="number"?[S(this.childElType,{accept:this.accept,"aria-label":Yh(this),autocomplete:this.autocomplete,autofocus:this.autofocus?!0:null,class:{[Ut.editingEnabled]:this.editingEnabled,[Ut.inlineChild]:!!this.inlineEditableEl},defaultValue:this.defaultValue,disabled:this.disabled?!0:null,enterKeyHint:this.enterKeyHint,inputMode:this.inputMode,max:this.maxString,maxLength:this.maxLength,min:this.minString,minLength:this.minLength,multiple:this.multiple,name:this.name,onBlur:this.inputBlurHandler,onChange:this.inputChangeHandler,onFocus:this.inputFocusHandler,onInput:this.inputInputHandler,onKeyDown:this.inputKeyDownHandler,onKeyUp:this.inputKeyUpHandler,pattern:this.pattern,placeholder:this.placeholder||"",readOnly:this.readOnly,required:this.required?!0:null,step:this.step,tabIndex:this.disabled||this.inlineEditableEl&&!this.editingEnabled?-1:null,type:this.type,value:this.value,ref:this.setChildElRef}),this.isTextarea?S("div",{class:Ut.resizeIconWrapper},S("calcite-icon",{icon:"chevron-down",scale:Mt(this.scale)})):null]:null;return S(hi,{onClick:this.clickHandler,onKeyDown:this.keyDownHandler},S("div",{class:{[Ut.inputWrapper]:!0,[ko.rtl]:e==="rtl"}},this.type==="number"&&this.numberButtonType==="horizontal"&&!this.readOnly?a:null,this.prefixText?u:null,S("div",{class:Ut.wrapper},f,m,this.isClearable?n:null,this.requestedIcon?r:null,this.loading?i:null),S("div",{class:Ut.actionWrapper},S("slot",{name:Lse.action})),this.type==="number"&&this.numberButtonType==="vertical"&&!this.readOnly?l:null,this.suffixText?p:null,this.type==="number"&&this.numberButtonType==="horizontal"&&!this.readOnly?o:null,S(_x,{component:this})))}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{disabled:["disabledWatcher"],max:["maxWatcher"],min:["minWatcher"],messageOverrides:["onMessagesChange"],value:["valueWatcher"],icon:["updateRequestedIcon"],type:["updateRequestedIcon"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return Pse}},[1,"calcite-input",{alignment:[513],autofocus:[516],clearable:[516],disabled:[516],form:[513],groupSeparator:[516,"group-separator"],hidden:[516],icon:[520],iconFlipRtl:[516,"icon-flip-rtl"],label:[1],loading:[516],numberingSystem:[513,"numbering-system"],localeFormat:[4,"locale-format"],max:[514],min:[514],maxLength:[514,"max-length"],minLength:[514,"min-length"],name:[513],numberButtonType:[513,"number-button-type"],placeholder:[1],prefixText:[1,"prefix-text"],readOnly:[516,"read-only"],required:[516],scale:[513],status:[513],step:[520],autocomplete:[1],pattern:[1],accept:[1],multiple:[4],inputMode:[1,"input-mode"],enterKeyHint:[1,"enter-key-hint"],suffixText:[1,"suffix-text"],editingEnabled:[1540,"editing-enabled"],type:[513],value:[1025],files:[16],messages:[1040],messageOverrides:[1040],defaultMessages:[32],effectiveLocale:[32],localizedValue:[32],slottedActionElDisabledInternally:[32],setFocus:[64],selectText:[64]},void 0,{disabled:["disabledWatcher"],max:["maxWatcher"],min:["minWatcher"],messageOverrides:["onMessagesChange"],value:["valueWatcher"],icon:["updateRequestedIcon"],type:["updateRequestedIcon"],effectiveLocale:["effectiveLocaleChange"]}]);function Nse(){if(typeof customElements>"u")return;["calcite-input","calcite-icon","calcite-progress"].forEach(e=>{switch(e){case"calcite-input":customElements.get(e)||customElements.define(e,Rse);break;case"calcite-icon":customElements.get(e)||pn();break;case"calcite-progress":customElements.get(e)||TN();break}})}Nse();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.0.0
 */const gk=new Set;let ru;const EN={childList:!0};function Tx(t){ru||(ru=St("mutation",kN)),ru.observe(t.el,EN)}function Ex(t){gk.delete(t.el),kN(ru.takeRecords()),ru.disconnect();for(const[e]of gk.entries())ru.observe(e,EN)}function kN(t){t.forEach(({target:e})=>{Lp(e)})}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.0.0
 */const xa={main:"main",content:"content",contentBehind:"content--behind",footer:"footer",positionedSlotWrapper:"positioned-slot-wrapper",container:"container",contentBehindCenterContent:"center-content"},hr={centerRow:"center-row",panelStart:"panel-start",panelEnd:"panel-end",panelTop:"panel-top",panelBottom:"panel-bottom",header:"header",footer:"footer",alerts:"alerts",sheets:"sheets",modals:"modals"},Dse=":host{box-sizing:border-box;background-color:var(--calcite-color-foreground-1);color:var(--calcite-color-text-2);font-size:var(--calcite-font-size--1)}:host *{box-sizing:border-box}:host{position:absolute;inset:0px;display:flex;block-size:100%;inline-size:100%;flex-direction:column;overflow:hidden;--calcite-shell-tip-spacing:26vw}.main{position:relative;display:flex;block-size:100%;inline-size:100%;flex:1 1 auto;flex-direction:row;justify-content:space-between;overflow:hidden}.content{display:flex;block-size:100%;inline-size:100%;flex-direction:column;flex-wrap:nowrap;overflow:auto}.content ::slotted(calcite-shell-center-row),.content ::slotted(calcite-panel),.content ::slotted(calcite-flow){flex:1 1 auto;align-self:stretch;max-block-size:unset}.content--behind{position:absolute;inset:0px;border-width:0px;z-index:calc(var(--calcite-z-index) - 1);display:initial}::slotted(calcite-shell-center-row){inline-size:unset}::slotted(.header .heading){font-size:var(--calcite-font-size--2);line-height:1.375;font-weight:var(--calcite-font-weight-normal)}slot[name=panel-end]::slotted(calcite-shell-panel){margin-inline-start:auto}::slotted(calcite-panel),::slotted(calcite-flow){border-width:1px;border-inline-start-width:0px;border-inline-end-width:0px;border-style:solid;border-color:var(--calcite-color-border-3)}slot[name=center-row]::slotted(calcite-shell-center-row:not([detached])),slot[name=panel-top]::slotted(calcite-shell-center-row:not([detached])),slot[name=panel-bottom]::slotted(calcite-shell-center-row:not([detached])){border-inline-start-width:1px;border-inline-end-width:1px;border-color:var(--calcite-color-border-3)}.center-content{display:flex;flex-direction:column;justify-content:space-between;block-size:100%;inline-size:100%;min-inline-size:0}::slotted(calcite-shell-center-row){flex:none;align-self:stretch}::slotted(calcite-tip-manager){position:absolute;z-index:var(--calcite-z-index-toast);box-sizing:border-box}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}::slotted(calcite-tip-manager){animation:in-up var(--calcite-internal-animation-timing-slow) ease-in-out;border-radius:0.25rem;--tw-shadow:0 6px 20px -4px rgba(0, 0, 0, 0.1), 0 4px 12px -2px rgba(0, 0, 0, 0.08);--tw-shadow-colored:0 6px 20px -4px var(--tw-shadow-color), 0 4px 12px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);inset-block-end:0.5rem;inset-inline:var(--calcite-shell-tip-spacing)}slot[name=center-row]::slotted(calcite-shell-center-row),slot[name=panel-bottom]::slotted(calcite-shell-center-row){margin-block-start:auto}slot[name=panel-top]::slotted(calcite-shell-center-row){margin-block-end:auto}.position-wrapper{position:absolute;pointer-events:none;inset:0}:host([hidden]){display:none}[hidden]{display:none}",zse=Xe(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.handleHeaderSlotChange=e=>{this.hasHeader=!!De(e)},this.handleFooterSlotChange=e=>{this.hasFooter=!!De(e)},this.handleAlertsSlotChange=e=>{var i;this.hasAlerts=!!De(e),(i=iu(e))==null||i.map(n=>{n.nodeName==="CALCITE-ALERT"&&(n.slottedInShell=!0)})},this.handleSheetsSlotChange=e=>{var i;this.hasSheets=!!De(e),(i=iu(e))==null||i.map(n=>{n.nodeName==="CALCITE-SHEET"&&(n.slottedInShell=!0)})},this.handleModalsSlotChange=e=>{var i;this.hasModals=!!De(e),(i=iu(e))==null||i.map(n=>{n.nodeName==="CALCITE-MODAL"&&(n.slottedInShell=!0)})},this.contentBehind=!1,this.hasHeader=!1,this.hasFooter=!1,this.hasAlerts=!1,this.hasModals=!1,this.hasSheets=!1}connectedCallback(){Tx(this)}disconnectedCallback(){Ex(this)}renderHeader(){return S("div",{hidden:!this.hasHeader},S("slot",{key:"header",name:hr.header,onSlotchange:this.handleHeaderSlotChange}))}renderFooter(){return S("div",{class:xa.footer,hidden:!this.hasFooter,key:"footer"},S("slot",{name:hr.footer,onSlotchange:this.handleFooterSlotChange}))}renderAlerts(){return S("div",{hidden:!this.hasAlerts},S("slot",{key:"alerts",name:hr.alerts,onSlotchange:this.handleAlertsSlotChange}))}renderSheets(){return S("div",{hidden:!this.hasSheets},S("slot",{key:"sheets",name:hr.sheets,onSlotchange:this.handleSheetsSlotChange}))}renderModals(){return S("div",{hidden:!this.hasModals},S("slot",{key:"modals",name:hr.modals,onSlotchange:this.handleModalsSlotChange}))}renderContent(){const e=S("slot",{key:"default-slot"}),i=S("slot",{key:"center-row-slot",name:hr.centerRow}),n=S("slot",{key:"panel-bottom-slot",name:hr.panelBottom}),r=S("slot",{key:"panel-top-slot",name:hr.panelTop}),s="content-container";return this.contentBehind?[S("div",{class:{[xa.content]:!0,[xa.contentBehind]:!0},key:s},e),S("div",{class:xa.contentBehindCenterContent},r,n,i)]:[S("div",{class:xa.content,key:s},r,e,n,i)]}renderMain(){return S("div",{class:xa.main},S("slot",{name:hr.panelStart}),this.renderContent(),S("slot",{name:hr.panelEnd}))}renderPositionedSlots(){return S("div",{class:xa.positionedSlotWrapper},this.renderAlerts(),this.renderModals(),this.renderSheets())}render(){return S(Du,null,this.renderHeader(),this.renderMain(),this.renderFooter(),this.renderPositionedSlots())}get el(){return this}static get style(){return Dse}},[1,"calcite-shell",{contentBehind:[516,"content-behind"],hasHeader:[32],hasFooter:[32],hasAlerts:[32],hasModals:[32],hasSheets:[32]}]);function Fse(){if(typeof customElements>"u")return;["calcite-shell"].forEach(e=>{switch(e){case"calcite-shell":customElements.get(e)||customElements.define(e,zse);break}})}Fse();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.0.0
 */const _n={button:"button",buttonTextVisible:"button--text-visible",buttonCompact:"button--compact",indicatorText:"indicator-text",iconContainer:"icon-container",slotContainer:"slot-container",slotContainerHidden:"slot-container--hidden",textContainer:"text-container",textContainerVisible:"text-container--visible",indicatorWithIcon:"indicator-with-icon",indicatorWithoutIcon:"indicator-without-icon"},jse={tooltip:"tooltip"},Use=`:host{box-sizing:border-box;background-color:var(--calcite-color-foreground-1);color:var(--calcite-color-text-2);font-size:var(--calcite-font-size--1)}:host *{box-sizing:border-box}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:flex;background-color:transparent;--calcite-action-indicator-color:var(--calcite-color-brand)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.button{position:relative;margin:0px;display:flex;inline-size:auto;cursor:pointer;align-items:center;justify-content:flex-start;border-style:none;background-color:var(--calcite-color-foreground-1);fill:var(--calcite-color-text-3);font-family:var(--calcite-sans-family);font-size:var(--calcite-font-size--2);line-height:1rem;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-color-text-3);outline-color:transparent;text-align:unset;flex:1 0 auto}.button:hover{background-color:var(--calcite-color-foreground-2);fill:var(--calcite-color-text-1);color:var(--calcite-color-text-1)}.button:focus{background-color:var(--calcite-color-foreground-2);fill:var(--calcite-color-text-1);color:var(--calcite-color-text-1);outline:2px solid var(--calcite-color-brand);outline-offset:calc(
            -2px *
            calc(
              1 -
              2 * clamp(
                0,
                var(--calcite-offset-invert-focus),
                1
              )
            )
          )}.button:active{background-color:var(--calcite-color-foreground-3)}.button .icon-container{pointer-events:none;margin:0px;display:flex;align-items:center;justify-content:center;min-inline-size:1rem;min-block-size:1rem}.button .text-container{margin:0px;inline-size:0px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.5rem;opacity:0;transition-property:opacity;transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-property:margin;transition-property:inline-size}.button .text-container--visible{inline-size:auto;flex:1 1 auto;opacity:1}:host([data-active]) .button{outline:2px solid var(--calcite-color-brand);outline-offset:calc(
            -2px *
            calc(
              1 -
              2 * clamp(
                0,
                var(--calcite-offset-invert-focus),
                1
              )
            )
          )}:host([scale=s]) .button{padding-inline:0.5rem;padding-block:0.25rem;font-size:var(--calcite-font-size--2);line-height:1rem;font-weight:var(--calcite-font-weight-normal)}:host([scale=s]) .button--text-visible .icon-container{margin-inline-end:0.5rem}:host([scale=m]) .button{padding-inline:1rem;padding-block:0.75rem;font-size:var(--calcite-font-size--1);line-height:1rem;font-weight:var(--calcite-font-weight-normal)}:host([scale=m]) .button--text-visible .icon-container{margin-inline-end:0.75rem}:host([scale=l]) .button{padding:1.25rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;font-weight:var(--calcite-font-weight-normal)}:host([scale=l]) .button--text-visible .icon-container{margin-inline-end:1rem}:host([alignment=center]) .button{justify-content:center}:host([alignment=end]) .button{justify-content:flex-end}:host([alignment=center]) .button .text-container--visible,:host([alignment=end]) .button .text-container--visible{flex:0 1 auto}:host([scale=s][compact]) .button,:host([scale=m][compact]) .button,:host([scale=l][compact]) .button{padding-inline:0px}.slot-container{display:flex}.slot-container--hidden{display:none}.button--text-visible{inline-size:100%}:host([active]) .button,:host([active]) .button:hover,:host([active]) .button:focus,:host([active][loading]) .button{background-color:var(--calcite-color-foreground-3);fill:var(--calcite-color-text-1);color:var(--calcite-color-text-1)}:host([active]) .button:active{background-color:var(--calcite-color-foreground-1)}:host([appearance=transparent]) .button{background-color:transparent}:host([appearance=transparent][active]) .button,:host([appearance=transparent]) .button:hover,:host([appearance=transparent]) .button:focus{background-color:var(--calcite-button-transparent-hover)}:host([appearance=transparent]) .button:active{background-color:var(--calcite-button-transparent-press)}:host([appearance=transparent][disabled]) .button{background-color:transparent}:host([loading][appearance=solid]) .button,:host([loading][appearance=solid]) .button:hover,:host([loading][appearance=solid]) .button:focus{background-color:var(--calcite-color-foreground-1)}:host([loading][appearance=solid]) .button .text-container,:host([loading][appearance=solid]) .button:hover .text-container,:host([loading][appearance=solid]) .button:focus .text-container{opacity:var(--calcite-opacity-disabled)}:host([loading]) calcite-loader[inline]{color:var(--calcite-color-text-3);margin-inline-end:0px}:host([disabled]) .button,:host([disabled]) .button:hover,:host([disabled]) .button:focus{cursor:default;background-color:var(--calcite-color-foreground-1);opacity:var(--calcite-opacity-disabled)}:host([disabled][active]) .button,:host([disabled][active]) .button:hover,:host([disabled][active]) .button:focus{background-color:var(--calcite-color-foreground-3);opacity:var(--calcite-opacity-disabled)}:host([appearance=transparent]) .button{background-color:transparent;transition-property:box-shadow;transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}.indicator-with-icon{position:relative}.indicator-with-icon::after{content:"";position:absolute;block-size:0.5rem;inline-size:0.5rem;border-radius:9999px;inset-block-end:-0.275rem;inset-inline-end:-0.275rem;background-color:var(--calcite-action-indicator-color)}.indicator-without-icon{margin-inline:0.25rem;inline-size:1rem;position:relative}.indicator-without-icon::after{content:"";position:absolute;block-size:0.5rem;inline-size:0.5rem;border-radius:9999px;inset-block-end:-0.275rem;inset-inline-end:-0.275rem;background-color:var(--calcite-action-indicator-color)}.indicator-text{position:absolute;inline-size:1px;block-size:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}:host([hidden]){display:none}[hidden]{display:none}`,Hse=Xe(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.mutationObserver=St("mutation",()=>Lp(this)),this.guid=`calcite-action-${oa()}`,this.indicatorId=`${this.guid}-indicator`,this.buttonId=`${this.guid}-button`,this.handleTooltipSlotChange=e=>{const n=e.target.assignedElements({flatten:!0}).filter(r=>r==null?void 0:r.matches("calcite-tooltip"))[0];n&&(n.referenceElement=this.buttonEl)},this.active=!1,this.alignment=void 0,this.appearance="solid",this.compact=!1,this.disabled=!1,this.icon=void 0,this.iconFlipRtl=!1,this.indicator=!1,this.label=void 0,this.loading=!1,this.scale="m",this.text=void 0,this.textEnabled=!1,this.messages=void 0,this.messageOverrides=void 0,this.effectiveLocale="",this.defaultMessages=void 0}onMessagesChange(){}effectiveLocaleChange(){nr(this,this.effectiveLocale)}connectedCallback(){var e;la(this),er(this),rr(this),(e=this.mutationObserver)==null||e.observe(this.el,{childList:!0,subtree:!0})}async componentWillLoad(){Yn(this),await ir(this)}componentDidLoad(){Xn(this)}disconnectedCallback(){var e;ca(this),tr(this),sr(this),(e=this.mutationObserver)==null||e.disconnect()}componentDidRender(){aa(this)}async setFocus(){var e;await Qn(this),(e=this.buttonEl)==null||e.focus()}renderTextContainer(){const{text:e,textEnabled:i}=this,n={[_n.textContainer]:!0,[_n.textContainerVisible]:i};return e?S("div",{class:n,key:"text-container"},e):null}renderIndicatorText(){const{indicator:e,messages:i,indicatorId:n,buttonId:r}=this;return S("div",{"aria-labelledby":r,"aria-live":"polite",class:_n.indicatorText,id:n,role:"region"},e?i.indicator:null)}renderIconContainer(){var g;const{loading:e,icon:i,scale:n,el:r,iconFlipRtl:s,indicator:o}=this,a=n==="l"?"l":"m",l=e?S("calcite-loader",{inline:!0,label:this.messages.loading,scale:a}):null,u=i?S("calcite-icon",{class:{[_n.indicatorWithIcon]:o},flipRtl:s,icon:i,scale:Mt(this.scale)}):null,p=l||u,f=p||((g=r.children)==null?void 0:g.length),m=S("div",{class:{[_n.slotContainer]:!0,[_n.slotContainerHidden]:e}},S("slot",null));return f?S("div",{"aria-hidden":"true",class:_n.iconContainer,key:"icon-container"},p,m):null}render(){const{active:e,compact:i,disabled:n,icon:r,loading:s,textEnabled:o,label:a,text:l,indicator:u,indicatorId:p,buttonId:f,messages:m}=this,g=`${a||l}${u?` (${m.indicator})`:""}`,y={[_n.button]:!0,[_n.buttonTextVisible]:o,[_n.buttonCompact]:i};return S(hi,null,S("button",{"aria-busy":Qt(s),"aria-controls":u?p:null,"aria-disabled":Qt(n),"aria-label":g,"aria-pressed":Qt(e),class:y,disabled:n,id:f,ref:v=>this.buttonEl=v},this.renderIconContainer(),this.renderTextContainer(),!r&&u&&S("div",{class:_n.indicatorWithoutIcon,key:"indicator-no-icon"})),S("slot",{name:jse.tooltip,onSlotchange:this.handleTooltipSlotChange}),this.renderIndicatorText())}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return Use}},[1,"calcite-action",{active:[516],alignment:[513],appearance:[513],compact:[516],disabled:[516],icon:[1],iconFlipRtl:[516,"icon-flip-rtl"],indicator:[516],label:[1],loading:[516],scale:[513],text:[1],textEnabled:[516,"text-enabled"],messages:[1040],messageOverrides:[1040],effectiveLocale:[32],defaultMessages:[32],setFocus:[64]},void 0,{messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}]);function Dp(){if(typeof customElements>"u")return;["calcite-action","calcite-icon","calcite-loader"].forEach(e=>{switch(e){case"calcite-action":customElements.get(e)||customElements.define(e,Hse);break;case"calcite-icon":customElements.get(e)||pn();break;case"calcite-loader":customElements.get(e)||ua();break}})}Dp();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.0.0
 */const ns={container:"container",containerContent:"container-content",hasProgress:"progress-bar",hide:"hide",primary:"primary",secondary:"secondary",tertiary:"tertiary"},Ht={logo:"logo",user:"user",progress:"progress",navigationAction:"navigation-action",contentStart:"content-start",contentEnd:"content-end",contentCenter:"content-center",navSecondary:"navigation-secondary",navTertiary:"navigation-tertiary"},Bse={hamburger:"hamburger"},Gse=":host([hidden]){display:none}[hidden]{display:none}.container{margin-inline:auto;display:flex;inline-size:100%;flex-direction:column;margin-block:0;margin-inline:auto;background-color:var(--calcite-navigation-background, var(--calcite-color-foreground-1))}.container.primary,.container.secondary,.container.tertiary{border-block-end:1px solid;border-block-end-color:var(--calcite-navigation-border-color, var(--calcite-color-border-3))}.user,.logo{display:flex}.hide{display:none}.primary{block-size:4rem}.secondary{block-size:3rem}.tertiary{block-size:3rem}.container-content{margin-inline:auto;display:flex;block-size:100%;inline-size:100%;margin-block:0;inline-size:var(--calcite-navigation-width, 100%);max-inline-size:100%}.container-content.progress-bar{margin-block-start:0.125rem}slot[name]{display:flex;flex-direction:row}slot[name=navigation-secondary]::slotted(calcite-navigation),slot[name=navigation-tertiary]::slotted(calcite-navigation){inline-size:100%}slot[name=content-start]::slotted(*),slot[name=content-center]::slotted(*),slot[name=content-end]::slotted(*){display:flex;flex-direction:row;align-items:center}slot[name=progress],slot[name=progress] calcite-progress{inset-block-start:0;inset-inline:0}slot[name=content-end]{margin-inline-start:auto}slot[name=content-start]{margin-inline-end:auto}slot[name=content-end],slot[name=logo]~slot[name=user],slot[name=user]:only-child{margin-inline-start:auto}slot[name=content-center]{margin-inline-start:auto;margin-inline-end:auto}slot[name=content-start]~slot[name=content-center]{margin-inline-start:0px}slot[name=content-start]~slot[name=content-end],slot[name=content-center]~slot[name=content-end],slot[name=content-center]~slot[name=user],slot[name=content-end]~slot[name=user]{margin:0px}",Vse=Xe(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteNavigationActionSelect=he(this,"calciteNavigationActionSelect",6),this.actionClickHandler=()=>{this.calciteNavigationActionSelect.emit()},this.handleUserSlotChange=e=>{this.isPrimaryLevel()&&(this.userSlotHasElements=De(e))},this.handleLogoSlotChange=e=>{this.isPrimaryLevel()&&(this.logoSlotHasElements=De(e))},this.handleContentStartSlotChange=e=>{this.isPrimaryLevel()&&(this.primaryContentStartSlotHasElements=De(e))},this.handleContentEndSlotChange=e=>{this.isPrimaryLevel()&&(this.primaryContentEndSlotHasElements=De(e))},this.handleContentCenterSlotChange=e=>{this.isPrimaryLevel()&&(this.primaryContentCenterSlotHasElements=De(e))},this.handleSecondarySlotChange=e=>{this.secondarySlotHasElements=De(e)},this.handleTertiarySlotChange=e=>{this.tertiarySlotHasElements=De(e)},this.handleMenuActionSlotChange=e=>{this.isPrimaryLevel()&&(this.navigationActionSlotHasElements=De(e),this.navigationActionSlotHasElements&&(this.navigationAction=!1))},this.handleProgressSlotChange=e=>{this.isPrimaryLevel()&&(this.progressSlotHasElement=De(e))},this.label=void 0,this.navigationAction=!1,this.logoSlotHasElements=void 0,this.navigationActionSlotHasElements=void 0,this.primaryContentCenterSlotHasElements=void 0,this.primaryContentEndSlotHasElements=void 0,this.primaryContentStartSlotHasElements=void 0,this.progressSlotHasElement=void 0,this.secondarySlotHasElements=void 0,this.tertiarySlotHasElements=void 0,this.userSlotHasElements=void 0}async setFocus(){var e;return await Qn(this),(e=this.navigationActionEl)==null?void 0:e.setFocus()}componentWillLoad(){Yn(this)}componentDidLoad(){Xn(this)}isPrimaryLevel(){return this.el.slot!==Ht.navSecondary&&this.el.slot!==Ht.navTertiary}renderMenuAction(){return S("slot",{name:Ht.navigationAction,onSlotchange:this.handleMenuActionSlotChange},this.navigationAction&&S("calcite-action",{icon:Bse.hamburger,onClick:this.actionClickHandler,text:this.label,ref:e=>this.navigationActionEl=e}))}render(){const e=this.logoSlotHasElements||this.userSlotHasElements||this.navigationActionSlotHasElements||this.primaryContentCenterSlotHasElements||this.primaryContentEndSlotHasElements||this.primaryContentStartSlotHasElements||this.navigationAction,i=this.el.slot;return S(hi,null,S("div",{class:{[ns.container]:!0,[ns.secondary]:i===Ht.navSecondary,[ns.tertiary]:i===Ht.navTertiary,[ns.primary]:e}},S("div",{class:{[ns.hide]:!this.progressSlotHasElement,[Ht.progress]:!0}},S("slot",{name:Ht.progress,onSlotchange:this.handleProgressSlotChange})),S("div",{class:{[ns.containerContent]:!0,[ns.hasProgress]:this.progressSlotHasElement}},this.renderMenuAction(),S("div",{class:{[ns.hide]:!this.logoSlotHasElements,[Ht.logo]:!0}},S("slot",{name:Ht.logo,onSlotchange:this.handleLogoSlotChange})),S("slot",{name:Ht.contentStart,onSlotchange:this.handleContentStartSlotChange}),S("slot",{name:Ht.contentCenter,onSlotchange:this.handleContentCenterSlotChange}),S("slot",{name:Ht.contentEnd,onSlotchange:this.handleContentEndSlotChange}),S("div",{class:{[ns.hide]:!this.userSlotHasElements,[Ht.user]:!0}},S("slot",{name:Ht.user,onSlotchange:this.handleUserSlotChange})))),S(Du,null,S("slot",{name:Ht.navSecondary,onSlotchange:this.handleSecondarySlotChange}),S("slot",{name:Ht.navTertiary,onSlotchange:this.handleTertiarySlotChange})))}get el(){return this}static get style(){return Gse}},[1,"calcite-navigation",{label:[1],navigationAction:[516,"navigation-action"],logoSlotHasElements:[32],navigationActionSlotHasElements:[32],primaryContentCenterSlotHasElements:[32],primaryContentEndSlotHasElements:[32],primaryContentStartSlotHasElements:[32],progressSlotHasElement:[32],secondarySlotHasElements:[32],tertiarySlotHasElements:[32],userSlotHasElements:[32],setFocus:[64]}]);function Wse(){if(typeof customElements>"u")return;["calcite-navigation","calcite-action","calcite-icon","calcite-loader"].forEach(e=>{switch(e){case"calcite-navigation":customElements.get(e)||customElements.define(e,Vse);break;case"calcite-action":customElements.get(e)||Dp();break;case"calcite-icon":customElements.get(e)||pn();break;case"calcite-loader":customElements.get(e)||ua();break}})}Wse();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.0.0
 */const yk=(t,e,i)=>Math.max(e,Math.min(t,i));/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.0.0
 */const $a={container:"container",content:"content",contentHeader:"content__header",contentBody:"content__body",contentFloat:"content--float",contentOverlay:"content--overlay",separator:"separator"},vk={actionBar:"action-bar",header:"header"},qse=`:host{pointer-events:none;position:relative;display:flex;flex:0 1 auto;align-items:stretch;z-index:var(--calcite-shell-panel-z-index, var(--calcite-z-index));--calcite-shell-panel-detached-max-height:unset;--calcite-shell-panel-max-height:unset;--calcite-shell-panel-shadow-block-start-internal:0 4px 8px -1px rgba(0, 0, 0, 0.08),
    0 2px 4px -1px rgba(0, 0, 0, 0.04);--calcite-shell-panel-shadow-block-end-internal:0 -4px 8px -1px rgba(0, 0, 0, 0.08),
    0 -2px 4px -1px rgba(0, 0, 0, 0.04);--calcite-shell-panel-shadow-inline-start-internal:4px 0 8px -1px rgba(0, 0, 0, 0.08),
    2px 0 4px -1px rgba(0, 0, 0, 0.04);--calcite-shell-panel-shadow-inline-end-internal:-4px 0 8px -1px rgba(0, 0, 0, 0.08),
    -2px 0 4px -1px rgba(0, 0, 0, 0.04)}.calcite--rtl.content--overlay{--calcite-shell-panel-shadow-inline-start-internal:-4px 0 8px -1px rgba(0, 0, 0, 0.08),
    -2px 0 4px -1px rgba(0, 0, 0, 0.04);--calcite-shell-panel-shadow-inline-end-internal:4px 0 8px -1px rgba(0, 0, 0, 0.08),
    2px 0 4px -1px rgba(0, 0, 0, 0.04)}:host([layout=vertical]){z-index:var(--calcite-shell-panel-z-index, calc(var(--calcite-z-index) + 1))}:host([layout=vertical][display-mode=overlay]){z-index:var(--calcite-shell-panel-z-index, calc(var(--calcite-z-index-header) + 1))}:host([layout=vertical][width-scale=s]) .content{--calcite-shell-panel-width-internal:var(--calcite-shell-panel-width, 12vw);--calcite-shell-panel-max-width-internal:var(--calcite-shell-panel-max-width, 300px);--calcite-shell-panel-min-width-internal:var(--calcite-shell-panel-min-width, 150px)}:host([layout=vertical][width-scale=m]) .content{--calcite-shell-panel-width-internal:var(--calcite-shell-panel-width, 20vw);--calcite-shell-panel-max-width-internal:var(--calcite-shell-panel-max-width, 420px);--calcite-shell-panel-min-width-internal:var(--calcite-shell-panel-min-width, 240px)}:host([layout=vertical][width-scale=l]) .content{--calcite-shell-panel-width-internal:var(--calcite-shell-panel-width, 45vw);--calcite-shell-panel-max-width-internal:var(--calcite-shell-panel-max-width, 680px);--calcite-shell-panel-min-width-internal:var(--calcite-shell-panel-min-width, 340px)}:host([layout=horizontal][height-scale=s]) .content{--calcite-shell-panel-max-height-internal:var(
    --calcite-shell-panel-max-height,
    var(--calcite-shell-panel-detached-max-height, 20vh)
  )}:host([layout=horizontal]) .content{--calcite-shell-panel-min-height-internal:var(--calcite-shell-panel-min-height, 5vh);--calcite-shell-panel-max-height-internal:var(
    --calcite-shell-panel-max-height,
    var(--calcite-shell-panel-detached-max-height, 30vh)
  )}:host([layout=horizontal][height-scale=l]) .content{--calcite-shell-panel-max-height-internal:var(
    --calcite-shell-panel-max-height,
    var(--calcite-shell-panel-detached-max-height, 40vh)
  )}.container{pointer-events:none;box-sizing:border-box;display:flex;flex:1 1 auto;align-items:stretch;background-color:transparent;font-size:var(--calcite-font-size--1);color:var(--calcite-color-text-2)}.container *{box-sizing:border-box}:host([layout=horizontal]) .container{flex-direction:column}:host(:hover) .separator:not(:hover):not(:focus),:host(:focus-within) .separator:not(:hover):not(:focus){opacity:1;background-color:var(--calcite-color-border-3)}.separator{pointer-events:auto;position:absolute;display:flex;background-color:transparent;opacity:0;transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;cursor:col-resize;outline:none}.separator:hover{opacity:1;background-color:var(--calcite-color-border-2)}.separator:focus{background-color:var(--calcite-color-brand);opacity:1}:host([layout=vertical]) .separator{inset-block:0px;block-size:100%;inline-size:0.125rem;cursor:col-resize}:host([layout=horizontal][position=start]) .separator{inset-block-end:0px}:host([layout=horizontal][position=end]) .separator{inset-block-start:0px}:host([layout=horizontal]) .separator{inset-inline-end:0px;block-size:0.125rem;inline-size:100%;cursor:row-resize}:host([layout=vertical][position=start]) .separator{inset-inline-end:-2px}:host([layout=horizontal][position=start]) .separator{inset-block-end:-2px}:host([layout=vertical][position=end]) .separator{inset-inline-start:-2px}:host([layout=horizontal][position=end]) .separator{inset-block-start:-2px}::slotted(calcite-panel),::slotted(calcite-flow){block-size:100%;inline-size:100%;flex:1 1 auto;max-block-size:unset;max-inline-size:unset}::slotted(.calcite-match-height){display:flex;flex:1 1 auto;overflow:hidden}.content{pointer-events:auto;display:flex;flex-direction:column;flex-wrap:nowrap;align-items:stretch;align-self:stretch;background-color:var(--calcite-color-background);padding:0px;transition:max-block-size var(--calcite-animation-timing), max-inline-size var(--calcite-animation-timing)}:host([layout=vertical]) .content{inline-size:var(--calcite-shell-panel-width-internal);max-inline-size:var(--calcite-shell-panel-max-width-internal);min-inline-size:var(--calcite-shell-panel-min-width-internal)}:host([layout=horizontal]) .content{block-size:var(--calcite-shell-panel-height-internal);max-block-size:var(--calcite-shell-panel-max-height-internal);min-block-size:var(--calcite-shell-panel-min-height-internal)}.content__header{display:flex;flex:0 1 auto;flex-direction:column;flex-wrap:nowrap;align-items:stretch}.content__body{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.content--overlay{position:absolute;--tw-shadow:0 4px 8px -1px rgba(0, 0, 0, 0.08), 0 2px 4px -1px rgba(0, 0, 0, 0.04);--tw-shadow-colored:0 4px 8px -1px var(--tw-shadow-color), 0 2px 4px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}:host([layout=vertical]) .content--overlay{inset-block-start:0px;block-size:100%}:host([layout=horizontal]) .content--overlay{inset-inline-start:0px;inline-size:100%}:host([layout=vertical][position=start]) .content--overlay{inset-inline-start:100%;box-shadow:var(--calcite-shell-panel-shadow-inline-start-internal)}:host([layout=vertical][position=end]) .content--overlay{inset-inline-end:100%;box-shadow:var(--calcite-shell-panel-shadow-inline-end-internal)}:host([layout=horizontal][position=start]) .content--overlay{inset-block-start:100%;box-shadow:var(--calcite-shell-panel-shadow-block-start-internal)}:host([layout=horizontal][position=end]) .content--overlay{inset-block-end:100%;box-shadow:var(--calcite-shell-panel-shadow-block-end-internal)}.content--float{margin-inline:0.5rem;margin-block:0.5rem auto;block-size:auto;overflow:hidden;border-radius:0.25rem;--tw-shadow:0 4px 8px -1px rgba(0, 0, 0, 0.08), 0 2px 4px -1px rgba(0, 0, 0, 0.04);--tw-shadow-colored:0 4px 8px -1px var(--tw-shadow-color), 0 2px 4px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);max-block-size:var(--calcite-shell-panel-max-height-internal, calc(100% - 1rem))}.content--float ::slotted(calcite-panel),.content--float ::slotted(calcite-flow){max-block-size:unset}:host([layout=horizontal]) .content--float{margin-block:0.5rem}:host([position=start]) .content--float ::slotted(calcite-panel),:host([position=start]) .content--float ::slotted(calcite-flow),:host([position=end]) .content--float ::slotted(calcite-panel),:host([position=end]) .content--float ::slotted(calcite-flow){border-style:none}.content[hidden]{display:none}slot[name=action-bar]::slotted(calcite-action-bar),.content ::slotted(calcite-flow),.content ::slotted(calcite-panel:not([closed])){border-width:1px;border-style:solid;border-color:var(--calcite-color-border-3)}:host([position=start]) slot[name=action-bar]::slotted(calcite-action-bar),:host([position=start]) .content ::slotted(calcite-flow),:host([position=start]) .content ::slotted(calcite-panel){border-inline-start:none}:host([position=end]) slot[name=action-bar]::slotted(calcite-action-bar),:host([position=end]) .content ::slotted(calcite-flow),:host([position=end]) .content ::slotted(calcite-panel){border-inline-end:none}:host([layout=horizontal]) slot[name=action-bar]::slotted(calcite-action-bar){border-inline:0}:host([layout=horizontal][position=start]) .content ::slotted(calcite-flow),:host([layout=horizontal][position=start]) .content ::slotted(calcite-panel){border-inline:0;border-block-start:0}:host([layout=horizontal][position=end]) .content ::slotted(calcite-flow),:host([layout=horizontal][position=end]) .content ::slotted(calcite-panel){border-inline:0;border-block-end:0}:host([hidden]){display:none}[hidden]{display:none}`,Zse=Xe(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.initialContentWidth=null,this.initialContentHeight=null,this.initialClientX=null,this.initialClientY=null,this.contentWidthMax=null,this.contentWidthMin=null,this.contentHeightMax=null,this.contentHeightMin=null,this.step=1,this.stepMultiplier=10,this.actionBars=[],this.storeContentEl=e=>{this.contentEl=e},this.getKeyAdjustedSize=e=>{const{key:i}=e,{el:n,step:r,stepMultiplier:s,layout:o,contentWidthMin:a,contentWidthMax:l,initialContentWidth:u,initialContentHeight:p,contentHeightMin:f,contentHeightMax:m,position:g}=this,y=r*s;["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Home","End","PageUp","PageDown"].indexOf(i)>-1&&e.preventDefault();const w=Hn(n),_=["ArrowLeft","ArrowRight"],$=["ArrowDown","ArrowUp"],x=w==="rtl"&&_.includes(i)?-1:1;if(o==="horizontal"?g==="end"?i===$[1]||i===_[0]:i===$[0]||i===_[1]:i===$[1]||(g==="end"?i===_[0]:i===_[1])){const I=e.shiftKey?y:r;return o==="horizontal"?p+x*I:u+x*I}if(o==="horizontal"?g==="end"?i===$[0]||i===_[0]:i===$[1]||i===_[1]:i===$[0]||(g==="end"?i===_[1]:i===_[0])){const I=e.shiftKey?y:r;return o==="horizontal"?p-x*I:u-x*I}return i==="Home"&&o==="horizontal"&&typeof f=="number"?f:i==="Home"&&o==="vertical"&&typeof a=="number"?a:i==="End"&&o==="horizontal"&&typeof m=="number"?m:i==="End"&&o==="vertical"&&typeof l=="number"?l:i==="PageDown"?o==="horizontal"?p-y:u-y:i==="PageUp"?o==="horizontal"?p+y:u+y:null},this.initialKeydownWidth=e=>{this.setInitialContentWidth();const i=this.getKeyAdjustedSize(e);typeof i=="number"&&this.setContentWidth(i)},this.initialKeydownHeight=e=>{this.setInitialContentHeight();const i=this.getKeyAdjustedSize(e);typeof i=="number"&&this.setContentHeight(i)},this.separatorKeyDown=e=>{this.layout==="horizontal"?this.initialKeydownHeight(e):this.initialKeydownWidth(e)},this.separatorPointerMove=e=>{e.preventDefault();const{el:i,layout:n,initialContentWidth:r,initialContentHeight:s,position:o,initialClientX:a,initialClientY:l}=this,u=n==="horizontal"?e.clientY-l:e.clientX-a,p=n==="vertical"&&Hn(i)==="rtl"?-1:1,f=o==="end"?-p*u:p*u;n==="horizontal"?this.setContentHeight(s+f):this.setContentWidth(r+f)},this.separatorPointerUp=e=>{jl(e)&&(e.preventDefault(),window.removeEventListener("pointerup",this.separatorPointerUp),window.removeEventListener("pointermove",this.separatorPointerMove))},this.setInitialContentHeight=()=>{var e;this.initialContentHeight=(e=this.contentEl)==null?void 0:e.getBoundingClientRect().height},this.setInitialContentWidth=()=>{var e;this.initialContentWidth=(e=this.contentEl)==null?void 0:e.getBoundingClientRect().width},this.separatorPointerDown=e=>{if(!jl(e))return;e.preventDefault();const{separatorEl:i}=this;i&&document.activeElement!==i&&i.focus(),this.layout==="horizontal"?(this.setInitialContentHeight(),this.initialClientY=e.clientY):(this.setInitialContentWidth(),this.initialClientX=e.clientX),window.addEventListener("pointerup",this.separatorPointerUp),window.addEventListener("pointermove",this.separatorPointerMove)},this.connectSeparator=e=>{this.disconnectSeparator(),this.separatorEl=e,e==null||e.addEventListener("pointerdown",this.separatorPointerDown)},this.disconnectSeparator=()=>{var e;(e=this.separatorEl)==null||e.removeEventListener("pointerdown",this.separatorPointerDown)},this.setActionBarsLayout=e=>{e.forEach(i=>i.layout=this.layout)},this.handleActionBarSlotChange=e=>{const i=iu(e).filter(n=>n==null?void 0:n.matches("calcite-action-bar"));this.actionBars=i,this.setActionBarsLayout(i)},this.handleHeaderSlotChange=e=>{this.hasHeader=De(e)},this.collapsed=!1,this.detached=!1,this.displayMode="dock",this.detachedHeightScale=void 0,this.heightScale=void 0,this.widthScale="m",this.layout="vertical",this.position="start",this.resizable=!1,this.messages=void 0,this.messageOverrides=void 0,this.contentWidth=null,this.contentHeight=null,this.defaultMessages=void 0,this.effectiveLocale="",this.hasHeader=!1}handleDetached(e){e?this.displayMode="float":this.displayMode==="float"&&(this.displayMode="dock")}handleDisplayMode(e){this.detached=e==="float"}handleDetachedHeightScale(e){this.heightScale=e}handleHeightScale(e){this.detachedHeightScale=e}layoutHandler(){this.setActionBarsLayout(this.actionBars)}onMessagesChange(){}connectedCallback(){Tx(this),er(this),rr(this)}async componentWillLoad(){await ir(this)}disconnectedCallback(){Ex(this),this.disconnectSeparator(),tr(this),sr(this)}componentDidLoad(){this.updateAriaValues()}effectiveLocaleChange(){nr(this,this.effectiveLocale)}renderHeader(){return S("div",{class:$a.contentHeader,hidden:!this.hasHeader,key:"header"},S("slot",{name:vk.header,onSlotchange:this.handleHeaderSlotChange}))}render(){const{collapsed:e,position:i,initialContentWidth:n,initialContentHeight:r,contentWidth:s,contentWidthMax:o,contentWidthMin:a,contentHeight:l,contentHeightMax:u,contentHeightMin:p,resizable:f,layout:m,displayMode:g}=this,y=Hn(this.el),v=g!=="float"&&f,w=v?m==="horizontal"?l?{height:`${l}px`}:null:s?{width:`${s}px`}:null:null,_=!e&&v?S("div",{"aria-label":this.messages.resize,"aria-orientation":m==="horizontal"?"vertical":"horizontal","aria-valuemax":m=="horizontal"?u:o,"aria-valuemin":m=="horizontal"?p:a,"aria-valuenow":m=="horizontal"?l??r:s??n,class:$a.separator,key:"separator",onKeyDown:this.separatorKeyDown,role:"separator",tabIndex:0,"touch-action":"none",ref:this.connectSeparator}):null,$=()=>m==="horizontal"?i==="start"?ko.calciteAnimateInDown:ko.calciteAnimateInUp:y==="ltr"&&i==="end"||y==="rtl"&&i==="start"?ko.calciteAnimateInLeft:ko.calciteAnimateInRight,x=S("div",{class:{[ko.rtl]:y==="rtl",[$a.content]:!0,[$a.contentOverlay]:g==="overlay",[$a.contentFloat]:g==="float",[ko.calciteAnimate]:g==="overlay",[$()]:g==="overlay"},hidden:e,key:"content",style:w,ref:this.storeContentEl},this.renderHeader(),S("div",{class:$a.contentBody},S("slot",null)),_),M=[S("slot",{key:"action-bar",name:vk.actionBar,onSlotchange:this.handleActionBarSlotChange}),x];return i==="end"&&M.reverse(),S("div",{class:{[$a.container]:!0}},M)}setContentWidth(e){const{contentWidthMax:i,contentWidthMin:n}=this,r=Math.round(e);this.contentWidth=typeof i=="number"&&typeof n=="number"?yk(r,n,i):r}updateAriaValues(){const{contentEl:e}=this,i=e&&getComputedStyle(e);i&&(this.layout==="horizontal"?this.updateHeights(i):this.updateWidths(i),Lp(this))}setContentHeight(e){const{contentHeightMax:i,contentHeightMin:n}=this,r=Math.round(e);this.contentHeight=typeof i=="number"&&typeof n=="number"?yk(r,n,i):r}updateWidths(e){const i=parseInt(e.getPropertyValue("max-width"),10),n=parseInt(e.getPropertyValue("min-width"),10),r=parseInt(e.getPropertyValue("width"),10);typeof r=="number"&&!isNaN(r)&&(this.initialContentWidth=r),typeof i=="number"&&!isNaN(i)&&(this.contentWidthMax=i),typeof n=="number"&&!isNaN(n)&&(this.contentWidthMin=n)}updateHeights(e){const i=parseInt(e.getPropertyValue("max-height"),10),n=parseInt(e.getPropertyValue("min-height"),10),r=parseInt(e.getPropertyValue("height"),10);typeof r=="number"&&!isNaN(r)&&(this.initialContentHeight=r),typeof i=="number"&&!isNaN(i)&&(this.contentHeightMax=i),typeof n=="number"&&!isNaN(n)&&(this.contentHeightMin=n)}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{detached:["handleDetached"],displayMode:["handleDisplayMode"],detachedHeightScale:["handleDetachedHeightScale"],heightScale:["handleHeightScale"],layout:["layoutHandler"],messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return qse}},[1,"calcite-shell-panel",{collapsed:[516],detached:[516],displayMode:[513,"display-mode"],detachedHeightScale:[513,"detached-height-scale"],heightScale:[513,"height-scale"],widthScale:[513,"width-scale"],layout:[513],position:[513],resizable:[516],messages:[1040],messageOverrides:[1040],contentWidth:[32],contentHeight:[32],defaultMessages:[32],effectiveLocale:[32],hasHeader:[32]},void 0,{detached:["handleDetached"],displayMode:["handleDisplayMode"],detachedHeightScale:["handleDetachedHeightScale"],heightScale:["handleHeightScale"],layout:["layoutHandler"],messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}]);function Jse(){if(typeof customElements>"u")return;["calcite-shell-panel"].forEach(e=>{switch(e){case"calcite-shell-panel":customElements.get(e)||customElements.define(e,Zse);break}})}Jse();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.0.0
 */function bk(t,e){return(t+e)%e}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.0.0
 */var Kse=typeof global=="object"&&global&&global.Object===Object&&global,Yse=typeof self=="object"&&self&&self.Object===Object&&self,MN=Kse||Yse||Function("return this")(),cy=MN.Symbol,CN=Object.prototype,Xse=CN.hasOwnProperty,Qse=CN.toString,od=cy?cy.toStringTag:void 0;function eoe(t){var e=Xse.call(t,od),i=t[od];try{t[od]=void 0;var n=!0}catch{}var r=Qse.call(t);return n&&(e?t[od]=i:delete t[od]),r}var toe=Object.prototype,ioe=toe.toString;function noe(t){return ioe.call(t)}var roe="[object Null]",soe="[object Undefined]",wk=cy?cy.toStringTag:void 0;function ooe(t){return t==null?t===void 0?soe:roe:wk&&wk in Object(t)?eoe(t):noe(t)}function aoe(t){return t!=null&&typeof t=="object"}var loe="[object Symbol]";function coe(t){return typeof t=="symbol"||aoe(t)&&ooe(t)==loe}var uoe=/\s/;function doe(t){for(var e=t.length;e--&&uoe.test(t.charAt(e)););return e}var hoe=/^\s+/;function poe(t){return t&&t.slice(0,doe(t)+1).replace(hoe,"")}function uy(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var _k=NaN,foe=/^[-+]0x[0-9a-f]+$/i,moe=/^0b[01]+$/i,goe=/^0o[0-7]+$/i,yoe=parseInt;function Sk(t){if(typeof t=="number")return t;if(coe(t))return _k;if(uy(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=uy(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=poe(t);var i=moe.test(t);return i||goe.test(t)?yoe(t.slice(2),i?2:8):foe.test(t)?_k:+t}var Dv=function(){return MN.Date.now()},voe="Expected a function",boe=Math.max,woe=Math.min;function IN(t,e,i){var n,r,s,o,a,l,u=0,p=!1,f=!1,m=!0;if(typeof t!="function")throw new TypeError(voe);e=Sk(e)||0,uy(i)&&(p=!!i.leading,f="maxWait"in i,s=f?boe(Sk(i.maxWait)||0,e):s,m="trailing"in i?!!i.trailing:m);function g(I){var L=n,N=r;return n=r=void 0,u=I,o=t.apply(N,L),o}function y(I){return u=I,a=setTimeout(_,e),p?g(I):o}function v(I){var L=I-l,N=I-u,B=e-L;return f?woe(B,s-N):B}function w(I){var L=I-l,N=I-u;return l===void 0||L>=e||L<0||f&&N>=s}function _(){var I=Dv();if(w(I))return $(I);a=setTimeout(_,v(I))}function $(I){return a=void 0,m&&n?g(I):(n=r=void 0,o)}function x(){a!==void 0&&clearTimeout(a),u=0,n=l=r=a=void 0}function T(){return a===void 0?o:$(Dv())}function M(){var I=Dv(),L=w(I);if(n=arguments,r=this,l=I,L){if(a===void 0)return y(l);if(f)return clearTimeout(a),a=setTimeout(_,e),g(l)}return a===void 0&&(a=setTimeout(_,e)),o}return M.cancel=x,M.flush=T,M}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.0.0
 */const ON=["top","right","bottom","left"],xk=["start","end"],$k=ON.reduce((t,e)=>t.concat(e,e+"-"+xk[0],e+"-"+xk[1]),[]),_u=Math.min,Sl=Math.max,dy=Math.round,zf=Math.floor,Yo=t=>({x:t,y:t}),_oe={left:"right",right:"left",bottom:"top",top:"bottom"},Soe={start:"end",end:"start"};function Ww(t,e,i){return Sl(t,_u(e,i))}function Jl(t,e){return typeof t=="function"?t(e):t}function Ps(t){return t.split("-")[0]}function Dr(t){return t.split("-")[1]}function AN(t){return t==="x"?"y":"x"}function kx(t){return t==="y"?"height":"width"}function b0(t){return["top","bottom"].includes(Ps(t))?"y":"x"}function Mx(t){return AN(b0(t))}function LN(t,e,i){i===void 0&&(i=!1);const n=Dr(t),r=Mx(t),s=kx(r);let o=r==="x"?n===(i?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=py(o)),[o,py(o)]}function xoe(t){const e=py(t);return[hy(t),e,hy(e)]}function hy(t){return t.replace(/start|end/g,e=>Soe[e])}function $oe(t,e,i){const n=["left","right"],r=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return i?e?r:n:e?n:r;case"left":case"right":return e?s:o;default:return[]}}function Toe(t,e,i,n){const r=Dr(t);let s=$oe(Ps(t),i==="start",n);return r&&(s=s.map(o=>o+"-"+r),e&&(s=s.concat(s.map(hy)))),s}function py(t){return t.replace(/left|right|bottom|top/g,e=>_oe[e])}function Eoe(t){return{top:0,right:0,bottom:0,left:0,...t}}function PN(t){return typeof t!="number"?Eoe(t):{top:t,right:t,bottom:t,left:t}}function fy(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function Tk(t,e,i){let{reference:n,floating:r}=t;const s=b0(e),o=Mx(e),a=kx(o),l=Ps(e),u=s==="y",p=n.x+n.width/2-r.width/2,f=n.y+n.height/2-r.height/2,m=n[a]/2-r[a]/2;let g;switch(l){case"top":g={x:p,y:n.y-r.height};break;case"bottom":g={x:p,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:f};break;case"left":g={x:n.x-r.width,y:f};break;default:g={x:n.x,y:n.y}}switch(Dr(e)){case"start":g[o]-=m*(i&&u?-1:1);break;case"end":g[o]+=m*(i&&u?-1:1);break}return g}const koe=async(t,e,i)=>{const{placement:n="bottom",strategy:r="absolute",middleware:s=[],platform:o}=i,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:r}),{x:p,y:f}=Tk(u,n,l),m=n,g={},y=0;for(let v=0;v<a.length;v++){const{name:w,fn:_}=a[v],{x:$,y:x,data:T,reset:M}=await _({x:p,y:f,initialPlacement:n,placement:m,strategy:r,middlewareData:g,rects:u,platform:o,elements:{reference:t,floating:e}});if(p=$??p,f=x??f,g={...g,[w]:{...g[w],...T}},M&&y<=50){y++,typeof M=="object"&&(M.placement&&(m=M.placement),M.rects&&(u=M.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:r}):M.rects),{x:p,y:f}=Tk(u,m,l)),v=-1;continue}}return{x:p,y:f,placement:m,strategy:r,middlewareData:g}};async function Qh(t,e){var i;e===void 0&&(e={});const{x:n,y:r,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:p="viewport",elementContext:f="floating",altBoundary:m=!1,padding:g=0}=Jl(e,t),y=PN(g),w=a[m?f==="floating"?"reference":"floating":f],_=fy(await s.getClippingRect({element:(i=await(s.isElement==null?void 0:s.isElement(w)))==null||i?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:p,strategy:l})),$=f==="floating"?{...o.floating,x:n,y:r}:o.reference,x=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),T=await(s.isElement==null?void 0:s.isElement(x))?await(s.getScale==null?void 0:s.getScale(x))||{x:1,y:1}:{x:1,y:1},M=fy(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({rect:$,offsetParent:x,strategy:l}):$);return{top:(_.top-M.top+y.top)/T.y,bottom:(M.bottom-_.bottom+y.bottom)/T.y,left:(_.left-M.left+y.left)/T.x,right:(M.right-_.right+y.right)/T.x}}const Moe=t=>({name:"arrow",options:t,async fn(e){const{x:i,y:n,placement:r,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:p=0}=Jl(t,e)||{};if(u==null)return{};const f=PN(p),m={x:i,y:n},g=Mx(r),y=kx(g),v=await o.getDimensions(u),w=g==="y",_=w?"top":"left",$=w?"bottom":"right",x=w?"clientHeight":"clientWidth",T=s.reference[y]+s.reference[g]-m[g]-s.floating[y],M=m[g]-s.reference[g],I=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let L=I?I[x]:0;(!L||!await(o.isElement==null?void 0:o.isElement(I)))&&(L=a.floating[x]||s.floating[y]);const N=T/2-M/2,B=L/2-v[y]/2-1,F=_u(f[_],B),U=_u(f[$],B),O=F,A=L-v[y]-U,R=L/2-v[y]/2+N,Z=Ww(O,R,A),se=!l.arrow&&Dr(r)!=null&&R!=Z&&s.reference[y]/2-(R<O?F:U)-v[y]/2<0,re=se?R<O?R-O:R-A:0;return{[g]:m[g]+re,data:{[g]:Z,centerOffset:R-Z-re,...se&&{alignmentOffset:re}},reset:se}}});function Coe(t,e,i){return(t?[...i.filter(r=>Dr(r)===t),...i.filter(r=>Dr(r)!==t)]:i.filter(r=>Ps(r)===r)).filter(r=>t?Dr(r)===t||(e?hy(r)!==r:!1):!0)}const Ioe=function(t){return t===void 0&&(t={}),{name:"autoPlacement",options:t,async fn(e){var i,n,r;const{rects:s,middlewareData:o,placement:a,platform:l,elements:u}=e,{crossAxis:p=!1,alignment:f,allowedPlacements:m=$k,autoAlignment:g=!0,...y}=Jl(t,e),v=f!==void 0||m===$k?Coe(f||null,g,m):m,w=await Qh(e,y),_=((i=o.autoPlacement)==null?void 0:i.index)||0,$=v[_];if($==null)return{};const x=LN($,s,await(l.isRTL==null?void 0:l.isRTL(u.floating)));if(a!==$)return{reset:{placement:v[0]}};const T=[w[Ps($)],w[x[0]],w[x[1]]],M=[...((n=o.autoPlacement)==null?void 0:n.overflows)||[],{placement:$,overflows:T}],I=v[_+1];if(I)return{data:{index:_+1,overflows:M},reset:{placement:I}};const L=M.map(F=>{const U=Dr(F.placement);return[F.placement,U&&p?F.overflows.slice(0,2).reduce((O,A)=>O+A,0):F.overflows[0],F.overflows]}).sort((F,U)=>F[1]-U[1]),B=((r=L.filter(F=>F[2].slice(0,Dr(F[0])?2:3).every(U=>U<=0))[0])==null?void 0:r[0])||L[0][0];return B!==a?{data:{index:_+1,overflows:M},reset:{placement:B}}:{}}}},Ek=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var i,n;const{placement:r,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:p=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:v=!0,...w}=Jl(t,e);if((i=s.arrow)!=null&&i.alignmentOffset)return{};const _=Ps(r),$=Ps(a)===a,x=await(l.isRTL==null?void 0:l.isRTL(u.floating)),T=m||($||!v?[py(a)]:xoe(a));!m&&y!=="none"&&T.push(...Toe(a,v,y,x));const M=[a,...T],I=await Qh(e,w),L=[];let N=((n=s.flip)==null?void 0:n.overflows)||[];if(p&&L.push(I[_]),f){const O=LN(r,o,x);L.push(I[O[0]],I[O[1]])}if(N=[...N,{placement:r,overflows:L}],!L.every(O=>O<=0)){var B,F;const O=(((B=s.flip)==null?void 0:B.index)||0)+1,A=M[O];if(A)return{data:{index:O,overflows:N},reset:{placement:A}};let R=(F=N.filter(Z=>Z.overflows[0]<=0).sort((Z,se)=>Z.overflows[1]-se.overflows[1])[0])==null?void 0:F.placement;if(!R)switch(g){case"bestFit":{var U;const Z=(U=N.map(se=>[se.placement,se.overflows.filter(re=>re>0).reduce((re,ie)=>re+ie,0)]).sort((se,re)=>se[1]-re[1])[0])==null?void 0:U[0];Z&&(R=Z);break}case"initialPlacement":R=a;break}if(r!==R)return{reset:{placement:R}}}return{}}}};function kk(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Mk(t){return ON.some(e=>t[e]>=0)}const Ooe=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:i}=e,{strategy:n="referenceHidden",...r}=Jl(t,e);switch(n){case"referenceHidden":{const s=await Qh(e,{...r,elementContext:"reference"}),o=kk(s,i.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Mk(o)}}}case"escaped":{const s=await Qh(e,{...r,altBoundary:!0}),o=kk(s,i.floating);return{data:{escapedOffsets:o,escaped:Mk(o)}}}default:return{}}}}};async function Aoe(t,e){const{placement:i,platform:n,elements:r}=t,s=await(n.isRTL==null?void 0:n.isRTL(r.floating)),o=Ps(i),a=Dr(i),l=b0(i)==="y",u=["left","top"].includes(o)?-1:1,p=s&&l?-1:1,f=Jl(e,t);let{mainAxis:m,crossAxis:g,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return a&&typeof y=="number"&&(g=a==="end"?y*-1:y),l?{x:g*p,y:m*u}:{x:m*u,y:g*p}}const Loe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){const{x:i,y:n}=e,r=await Aoe(e,t);return{x:i+r.x,y:n+r.y,data:r}}}},Poe=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:i,y:n,placement:r}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:w=>{let{x:_,y:$}=w;return{x:_,y:$}}},...l}=Jl(t,e),u={x:i,y:n},p=await Qh(e,l),f=b0(Ps(r)),m=AN(f);let g=u[m],y=u[f];if(s){const w=m==="y"?"top":"left",_=m==="y"?"bottom":"right",$=g+p[w],x=g-p[_];g=Ww($,g,x)}if(o){const w=f==="y"?"top":"left",_=f==="y"?"bottom":"right",$=y+p[w],x=y-p[_];y=Ww($,y,x)}const v=a.fn({...e,[m]:g,[f]:y});return{...v,data:{x:v.x-i,y:v.y-n}}}}};function Xo(t){return RN(t)?(t.nodeName||"").toLowerCase():"#document"}function Fi(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function zs(t){var e;return(e=(RN(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function RN(t){return t instanceof Node||t instanceof Fi(t).Node}function Rs(t){return t instanceof Element||t instanceof Fi(t).Element}function Gr(t){return t instanceof HTMLElement||t instanceof Fi(t).HTMLElement}function Ck(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Fi(t).ShadowRoot}function zp(t){const{overflow:e,overflowX:i,overflowY:n,display:r}=un(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+i)&&!["inline","contents"].includes(r)}function Roe(t){return["table","td","th"].includes(Xo(t))}function Cx(t){const e=Ix(),i=un(t);return i.transform!=="none"||i.perspective!=="none"||(i.containerType?i.containerType!=="normal":!1)||!e&&(i.backdropFilter?i.backdropFilter!=="none":!1)||!e&&(i.filter?i.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(i.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(i.contain||"").includes(n))}function Noe(t){let e=Su(t);for(;Gr(e)&&!w0(e);){if(Cx(e))return e;e=Su(e)}return null}function Ix(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function w0(t){return["html","body","#document"].includes(Xo(t))}function un(t){return Fi(t).getComputedStyle(t)}function _0(t){return Rs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Su(t){if(Xo(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Ck(t)&&t.host||zs(t);return Ck(e)?e.host:e}function NN(t){const e=Su(t);return w0(e)?t.ownerDocument?t.ownerDocument.body:t.body:Gr(e)&&zp(e)?e:NN(e)}function ep(t,e,i){var n;e===void 0&&(e=[]),i===void 0&&(i=!0);const r=NN(t),s=r===((n=t.ownerDocument)==null?void 0:n.body),o=Fi(r);return s?e.concat(o,o.visualViewport||[],zp(r)?r:[],o.frameElement&&i?ep(o.frameElement):[]):e.concat(r,ep(r,[],i))}function DN(t){const e=un(t);let i=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const r=Gr(t),s=r?t.offsetWidth:i,o=r?t.offsetHeight:n,a=dy(i)!==s||dy(n)!==o;return a&&(i=s,n=o),{width:i,height:n,$:a}}function Ox(t){return Rs(t)?t:t.contextElement}function su(t){const e=Ox(t);if(!Gr(e))return Yo(1);const i=e.getBoundingClientRect(),{width:n,height:r,$:s}=DN(e);let o=(s?dy(i.width):i.width)/n,a=(s?dy(i.height):i.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Doe=Yo(0);function zN(t){const e=Fi(t);return!Ix()||!e.visualViewport?Doe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function zoe(t,e,i){return e===void 0&&(e=!1),!i||e&&i!==Fi(t)?!1:e}function Ul(t,e,i,n){e===void 0&&(e=!1),i===void 0&&(i=!1);const r=t.getBoundingClientRect(),s=Ox(t);let o=Yo(1);e&&(n?Rs(n)&&(o=su(n)):o=su(t));const a=zoe(s,i,n)?zN(s):Yo(0);let l=(r.left+a.x)/o.x,u=(r.top+a.y)/o.y,p=r.width/o.x,f=r.height/o.y;if(s){const m=Fi(s),g=n&&Rs(n)?Fi(n):n;let y=m.frameElement;for(;y&&n&&g!==m;){const v=su(y),w=y.getBoundingClientRect(),_=un(y),$=w.left+(y.clientLeft+parseFloat(_.paddingLeft))*v.x,x=w.top+(y.clientTop+parseFloat(_.paddingTop))*v.y;l*=v.x,u*=v.y,p*=v.x,f*=v.y,l+=$,u+=x,y=Fi(y).frameElement}}return fy({width:p,height:f,x:l,y:u})}function Foe(t){let{rect:e,offsetParent:i,strategy:n}=t;const r=Gr(i),s=zs(i);if(i===s)return e;let o={scrollLeft:0,scrollTop:0},a=Yo(1);const l=Yo(0);if((r||!r&&n!=="fixed")&&((Xo(i)!=="body"||zp(s))&&(o=_0(i)),Gr(i))){const u=Ul(i);a=su(i),l.x=u.x+i.clientLeft,l.y=u.y+i.clientTop}return{width:e.width*a.x,height:e.height*a.y,x:e.x*a.x-o.scrollLeft*a.x+l.x,y:e.y*a.y-o.scrollTop*a.y+l.y}}function joe(t){return Array.from(t.getClientRects())}function FN(t){return Ul(zs(t)).left+_0(t).scrollLeft}function Uoe(t){const e=zs(t),i=_0(t),n=t.ownerDocument.body,r=Sl(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=Sl(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-i.scrollLeft+FN(t);const a=-i.scrollTop;return un(n).direction==="rtl"&&(o+=Sl(e.clientWidth,n.clientWidth)-r),{width:r,height:s,x:o,y:a}}function Hoe(t,e){const i=Fi(t),n=zs(t),r=i.visualViewport;let s=n.clientWidth,o=n.clientHeight,a=0,l=0;if(r){s=r.width,o=r.height;const u=Ix();(!u||u&&e==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:s,height:o,x:a,y:l}}function Boe(t,e){const i=Ul(t,!0,e==="fixed"),n=i.top+t.clientTop,r=i.left+t.clientLeft,s=Gr(t)?su(t):Yo(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=r*s.x,u=n*s.y;return{width:o,height:a,x:l,y:u}}function Ik(t,e,i){let n;if(e==="viewport")n=Hoe(t,i);else if(e==="document")n=Uoe(zs(t));else if(Rs(e))n=Boe(e,i);else{const r=zN(t);n={...e,x:e.x-r.x,y:e.y-r.y}}return fy(n)}function jN(t,e){const i=Su(t);return i===e||!Rs(i)||w0(i)?!1:un(i).position==="fixed"||jN(i,e)}function Goe(t,e){const i=e.get(t);if(i)return i;let n=ep(t,[],!1).filter(a=>Rs(a)&&Xo(a)!=="body"),r=null;const s=un(t).position==="fixed";let o=s?Su(t):t;for(;Rs(o)&&!w0(o);){const a=un(o),l=Cx(o);!l&&a.position==="fixed"&&(r=null),(s?!l&&!r:!l&&a.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||zp(o)&&!l&&jN(t,o))?n=n.filter(p=>p!==o):r=a,o=Su(o)}return e.set(t,n),n}function Voe(t){let{element:e,boundary:i,rootBoundary:n,strategy:r}=t;const o=[...i==="clippingAncestors"?Goe(e,this._c):[].concat(i),n],a=o[0],l=o.reduce((u,p)=>{const f=Ik(e,p,r);return u.top=Sl(f.top,u.top),u.right=_u(f.right,u.right),u.bottom=_u(f.bottom,u.bottom),u.left=Sl(f.left,u.left),u},Ik(e,a,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Woe(t){return DN(t)}function qoe(t,e,i){const n=Gr(e),r=zs(e),s=i==="fixed",o=Ul(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Yo(0);if(n||!n&&!s)if((Xo(e)!=="body"||zp(r))&&(a=_0(e)),n){const u=Ul(e,!0,s,e);l.x=u.x+e.clientLeft,l.y=u.y+e.clientTop}else r&&(l.x=FN(r));return{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function Ok(t,e){return!Gr(t)||un(t).position==="fixed"?null:e?e(t):t.offsetParent}function UN(t,e){const i=Fi(t);if(!Gr(t))return i;let n=Ok(t,e);for(;n&&Roe(n)&&un(n).position==="static";)n=Ok(n,e);return n&&(Xo(n)==="html"||Xo(n)==="body"&&un(n).position==="static"&&!Cx(n))?i:n||Noe(t)||i}const Zoe=async function(t){let{reference:e,floating:i,strategy:n}=t;const r=this.getOffsetParent||UN,s=this.getDimensions;return{reference:qoe(e,await r(i),n),floating:{x:0,y:0,...await s(i)}}};function Joe(t){return un(t).direction==="rtl"}const qw={convertOffsetParentRelativeRectToViewportRelativeRect:Foe,getDocumentElement:zs,getClippingRect:Voe,getOffsetParent:UN,getElementRects:Zoe,getClientRects:joe,getDimensions:Woe,getScale:su,isElement:Rs,isRTL:Joe};function Koe(t,e){let i=null,n;const r=zs(t);function s(){clearTimeout(n),i&&i.disconnect(),i=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:u,top:p,width:f,height:m}=t.getBoundingClientRect();if(a||e(),!f||!m)return;const g=zf(p),y=zf(r.clientWidth-(u+f)),v=zf(r.clientHeight-(p+m)),w=zf(u),$={rootMargin:-g+"px "+-y+"px "+-v+"px "+-w+"px",threshold:Sl(0,_u(1,l))||1};let x=!0;function T(M){const I=M[0].intersectionRatio;if(I!==l){if(!x)return o();I?o(!1,I):n=setTimeout(()=>{o(!1,1e-7)},100)}x=!1}try{i=new IntersectionObserver(T,{...$,root:r.ownerDocument})}catch{i=new IntersectionObserver(T,$)}i.observe(t)}return o(!0),s}function Yoe(t,e,i,n){n===void 0&&(n={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=Ox(t),p=r||s?[...u?ep(u):[],...ep(e)]:[];p.forEach(_=>{r&&_.addEventListener("scroll",i,{passive:!0}),s&&_.addEventListener("resize",i)});const f=u&&a?Koe(u,i):null;let m=-1,g=null;o&&(g=new ResizeObserver(_=>{let[$]=_;$&&$.target===u&&g&&(g.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{g&&g.observe(e)})),i()}),u&&!l&&g.observe(u),g.observe(e));let y,v=l?Ul(t):null;l&&w();function w(){const _=Ul(t);v&&(_.x!==v.x||_.y!==v.y||_.width!==v.width||_.height!==v.height)&&i(),v=_,y=requestAnimationFrame(w)}return i(),()=>{p.forEach(_=>{r&&_.removeEventListener("scroll",i),s&&_.removeEventListener("resize",i)}),f&&f(),g&&g.disconnect(),g=null,l&&cancelAnimationFrame(y)}}const Xoe=(t,e,i)=>{const n=new Map,r={platform:qw,...i},s={...r.platform,_c:n};return koe(t,e,{...r,platform:s})};function Qoe(t){return eae(t)}function zv(t){return t.assignedSlot?t.assignedSlot:t.parentNode instanceof ShadowRoot?t.parentNode.host:t.parentNode}function eae(t){for(let e=t;e;e=zv(e))if(e instanceof Element&&getComputedStyle(e).display==="none")return null;for(let e=zv(t);e;e=zv(e)){if(!(e instanceof Element))continue;const i=getComputedStyle(e);if(i.display!=="contents"&&(i.position!=="static"||i.filter!=="none"||e.tagName==="BODY"))return e}return null}(function(){{const e=qw.getOffsetParent;qw.getOffsetParent=i=>e(i,Qoe)}})();function Ak(t){const e=window.devicePixelRatio||1;return Math.round(t*e)/e}const HN=async(t,{referenceEl:e,floatingEl:i,overlayPositioning:n="absolute",placement:r,flipDisabled:s,flipPlacements:o,offsetDistance:a,offsetSkidding:l,arrowEl:u,type:p})=>{var T;if(!e||!i)return null;const{x:f,y:m,placement:g,strategy:y,middlewareData:v}=await Xoe(e,i,{strategy:n,placement:r==="auto"||r==="auto-start"||r==="auto-end"?void 0:rae(i,r),middleware:iae({placement:r,flipDisabled:s,flipPlacements:o,offsetDistance:a,offsetSkidding:l,arrowEl:u,type:p})});if(u&&v.arrow){const{x:M,y:I}=v.arrow,L=g.split("-")[0],N=M!=null?"left":"top",B=oae[L],F={left:"",top:"",bottom:"",right:""};"floatingLayout"in t&&(t.floatingLayout=L==="left"||L==="right"?"horizontal":"vertical"),Object.assign(u.style,{...F,[N]:`${N=="left"?M:I}px`,[L]:"100%",transform:B})}const _=((T=v.hide)==null?void 0:T.referenceHidden)?"hidden":null,$=_?"none":null;i.setAttribute(tae,g);const{open:x}=t;Object.assign(i.style,{visibility:_,pointerEvents:$,position:y,transform:x?`translate(${Ak(f)}px,${Ak(m)}px)`:"",left:x?"0":"",top:x?"0":""})},tae="data-placement",Lk=100,Pk=["top","bottom","right","left","top-start","top-end","bottom-start","bottom-end","right-start","right-end","left-start","left-end"],my={animation:"calcite-floating-ui-anim",animationActive:"calcite-floating-ui-anim--active"};function iae({placement:t,flipDisabled:e,flipPlacements:i,offsetDistance:n,offsetSkidding:r,arrowEl:s,type:o}){const a=[Poe(),Ooe()];if(o==="menu")return[...a,Ek({fallbackPlacements:i||["top-start","top","top-end","bottom-start","bottom","bottom-end"]})];if(o==="popover"||o==="tooltip"){const l=[...a,Loe({mainAxis:typeof n=="number"?n:0,crossAxis:typeof r=="number"?r:0})];return t==="auto"||t==="auto-start"||t==="auto-end"?l.push(Ioe({alignment:t==="auto-start"?"start":t==="auto-end"?"end":null})):e||l.push(Ek(i?{fallbackPlacements:i}:{})),s&&l.push(Moe({element:s})),l}return[]}function nae(t,e){const i=t.filter(n=>Pk.includes(n));return i.length!==t.length&&console.warn(`${e.tagName}: Invalid value found in: flipPlacements. Try any of these: ${Pk.map(n=>`"${n}"`).join(", ").trim()}`,{el:e}),i}function rae(t,e){const i=["left","right"];return Hn(t)==="rtl"&&i.reverse(),e.replace(/leading/gi,i[0]).replace(/trailing/gi,i[1])}async function BN(t,e,i=!1){return(i?sae(t):HN)(t,e)}function sae(t){let e=gy.get(t);return e||(e=IN(HN,Lk,{leading:!0,maxWait:Lk}),gy.set(t,e),e)}const oae={top:"",left:"rotate(-90deg)",bottom:"rotate(180deg)",right:"rotate(90deg)"},Zw=new WeakMap,gy=new WeakMap;function yy(t,e,i){if(!i||!e)return;Ax(t,e,i),Object.assign(i.style,{visibility:"hidden",pointerEvents:"none",position:t.overlayPositioning,top:"0",left:"0"});const n=Yoe;Zw.set(t,n(e,i,()=>t.reposition()))}function Ax(t,e,i){var n,r;!i||!e||((n=Zw.get(t))==null||n(),Zw.delete(t),(r=gy.get(t))==null||r.cancel(),gy.delete(t))}const Rk=4,GN=Math.ceil(Math.hypot(Rk,Rk));/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.0.0
 *//*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function Nk(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,n)}return i}function Dk(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Nk(Object(i),!0).forEach(function(n){aae(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Nk(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}function aae(t,e,i){return e=cae(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function lae(t,e){if(typeof t!="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cae(t){var e=lae(t,"string");return typeof e=="symbol"?e:String(e)}var zk={activateTrap:function(e,i){if(e.length>0){var n=e[e.length-1];n!==i&&n.pause()}var r=e.indexOf(i);r===-1||e.splice(r,1),e.push(i)},deactivateTrap:function(e,i){var n=e.indexOf(i);n!==-1&&e.splice(n,1),e.length>0&&e[e.length-1].unpause()}},uae=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},dae=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},wh=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},hae=function(e){return wh(e)&&!e.shiftKey},pae=function(e){return wh(e)&&e.shiftKey},Fk=function(e){return setTimeout(e,0)},jk=function(e,i){var n=-1;return e.every(function(r,s){return i(r)?(n=s,!1):!0}),n},ad=function(e){for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return typeof e=="function"?e.apply(void 0,n):e},Ff=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},fae=[],mae=function(e,i){var n=(i==null?void 0:i.document)||document,r=(i==null?void 0:i.trapStack)||fae,s=Dk({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:hae,isKeyBackward:pae},i),o={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},a,l=function(O,A,R){return O&&O[A]!==void 0?O[A]:s[R||A]},u=function(O,A){var R=typeof(A==null?void 0:A.composedPath)=="function"?A.composedPath():void 0;return o.containerGroups.findIndex(function(Z){var se=Z.container,re=Z.tabbableNodes;return se.contains(O)||(R==null?void 0:R.includes(se))||re.find(function(ie){return ie===O})})},p=function(O){var A=s[O];if(typeof A=="function"){for(var R=arguments.length,Z=new Array(R>1?R-1:0),se=1;se<R;se++)Z[se-1]=arguments[se];A=A.apply(void 0,Z)}if(A===!0&&(A=void 0),!A){if(A===void 0||A===!1)return A;throw new Error("`".concat(O,"` was specified but was not a node, or did not return a node"))}var re=A;if(typeof A=="string"&&(re=n.querySelector(A),!re))throw new Error("`".concat(O,"` as selector refers to no known node"));return re},f=function(){var O=p("initialFocus");if(O===!1)return!1;if(O===void 0||!Lv(O,s.tabbableOptions))if(u(n.activeElement)>=0)O=n.activeElement;else{var A=o.tabbableGroups[0],R=A&&A.firstTabbableNode;O=R||p("fallbackFocus")}if(!O)throw new Error("Your focus-trap needs to have at least one focusable element");return O},m=function(){if(o.containerGroups=o.containers.map(function(O){var A=Y5(O,s.tabbableOptions),R=fre(O,s.tabbableOptions),Z=A.length>0?A[0]:void 0,se=A.length>0?A[A.length-1]:void 0,re=R.find(function(at){return cc(at)}),ie=R.slice().reverse().find(function(at){return cc(at)}),we=!!A.find(function(at){return sl(at)>0});return{container:O,tabbableNodes:A,focusableNodes:R,posTabIndexesFound:we,firstTabbableNode:Z,lastTabbableNode:se,firstDomTabbableNode:re,lastDomTabbableNode:ie,nextTabbableNode:function(vt){var ti=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,fn=A.indexOf(vt);return fn<0?ti?R.slice(R.indexOf(vt)+1).find(function(or){return cc(or)}):R.slice(0,R.indexOf(vt)).reverse().find(function(or){return cc(or)}):A[fn+(ti?1:-1)]}}}),o.tabbableGroups=o.containerGroups.filter(function(O){return O.tabbableNodes.length>0}),o.tabbableGroups.length<=0&&!p("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(o.containerGroups.find(function(O){return O.posTabIndexesFound})&&o.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},g=function U(O){var A=O.activeElement;if(A)return A.shadowRoot&&A.shadowRoot.activeElement!==null?U(A.shadowRoot):A},y=function U(O){if(O!==!1&&O!==g(document)){if(!O||!O.focus){U(f());return}O.focus({preventScroll:!!s.preventScroll}),o.mostRecentlyFocusedNode=O,uae(O)&&O.select()}},v=function(O){var A=p("setReturnFocus",O);return A||(A===!1?!1:O)},w=function(O){var A=O.target,R=O.event,Z=O.isBackward,se=Z===void 0?!1:Z;A=A||Ff(R),m();var re=null;if(o.tabbableGroups.length>0){var ie=u(A,R),we=ie>=0?o.containerGroups[ie]:void 0;if(ie<0)se?re=o.tabbableGroups[o.tabbableGroups.length-1].lastTabbableNode:re=o.tabbableGroups[0].firstTabbableNode;else if(se){var at=jk(o.tabbableGroups,function(qr){var ar=qr.firstTabbableNode;return A===ar});if(at<0&&(we.container===A||Lv(A,s.tabbableOptions)&&!cc(A,s.tabbableOptions)&&!we.nextTabbableNode(A,!1))&&(at=ie),at>=0){var vt=at===0?o.tabbableGroups.length-1:at-1,ti=o.tabbableGroups[vt];re=sl(A)>=0?ti.lastTabbableNode:ti.lastDomTabbableNode}else wh(R)||(re=we.nextTabbableNode(A,!1))}else{var fn=jk(o.tabbableGroups,function(qr){var ar=qr.lastTabbableNode;return A===ar});if(fn<0&&(we.container===A||Lv(A,s.tabbableOptions)&&!cc(A,s.tabbableOptions)&&!we.nextTabbableNode(A))&&(fn=ie),fn>=0){var or=fn===o.tabbableGroups.length-1?0:fn+1,Uu=o.tabbableGroups[or];re=sl(A)>=0?Uu.firstTabbableNode:Uu.firstDomTabbableNode}else wh(R)||(re=we.nextTabbableNode(A))}}else re=p("fallbackFocus");return re},_=function(O){var A=Ff(O);if(!(u(A,O)>=0)){if(ad(s.clickOutsideDeactivates,O)){a.deactivate({returnFocus:s.returnFocusOnDeactivate});return}ad(s.allowOutsideClick,O)||O.preventDefault()}},$=function(O){var A=Ff(O),R=u(A,O)>=0;if(R||A instanceof Document)R&&(o.mostRecentlyFocusedNode=A);else{O.stopImmediatePropagation();var Z,se=!0;if(o.mostRecentlyFocusedNode)if(sl(o.mostRecentlyFocusedNode)>0){var re=u(o.mostRecentlyFocusedNode),ie=o.containerGroups[re].tabbableNodes;if(ie.length>0){var we=ie.findIndex(function(at){return at===o.mostRecentlyFocusedNode});we>=0&&(s.isKeyForward(o.recentNavEvent)?we+1<ie.length&&(Z=ie[we+1],se=!1):we-1>=0&&(Z=ie[we-1],se=!1))}}else o.containerGroups.some(function(at){return at.tabbableNodes.some(function(vt){return sl(vt)>0})})||(se=!1);else se=!1;se&&(Z=w({target:o.mostRecentlyFocusedNode,isBackward:s.isKeyBackward(o.recentNavEvent)})),y(Z||o.mostRecentlyFocusedNode||f())}o.recentNavEvent=void 0},x=function(O){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o.recentNavEvent=O;var R=w({event:O,isBackward:A});R&&(wh(O)&&O.preventDefault(),y(R))},T=function(O){if(dae(O)&&ad(s.escapeDeactivates,O)!==!1){O.preventDefault(),a.deactivate();return}(s.isKeyForward(O)||s.isKeyBackward(O))&&x(O,s.isKeyBackward(O))},M=function(O){var A=Ff(O);u(A,O)>=0||ad(s.clickOutsideDeactivates,O)||ad(s.allowOutsideClick,O)||(O.preventDefault(),O.stopImmediatePropagation())},I=function(){if(o.active)return zk.activateTrap(r,a),o.delayInitialFocusTimer=s.delayInitialFocus?Fk(function(){y(f())}):y(f()),n.addEventListener("focusin",$,!0),n.addEventListener("mousedown",_,{capture:!0,passive:!1}),n.addEventListener("touchstart",_,{capture:!0,passive:!1}),n.addEventListener("click",M,{capture:!0,passive:!1}),n.addEventListener("keydown",T,{capture:!0,passive:!1}),a},L=function(){if(o.active)return n.removeEventListener("focusin",$,!0),n.removeEventListener("mousedown",_,!0),n.removeEventListener("touchstart",_,!0),n.removeEventListener("click",M,!0),n.removeEventListener("keydown",T,!0),a},N=function(O){var A=O.some(function(R){var Z=Array.from(R.removedNodes);return Z.some(function(se){return se===o.mostRecentlyFocusedNode})});A&&y(f())},B=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(N):void 0,F=function(){B&&(B.disconnect(),o.active&&!o.paused&&o.containers.map(function(O){B.observe(O,{subtree:!0,childList:!0})}))};return a={get active(){return o.active},get paused(){return o.paused},activate:function(O){if(o.active)return this;var A=l(O,"onActivate"),R=l(O,"onPostActivate"),Z=l(O,"checkCanFocusTrap");Z||m(),o.active=!0,o.paused=!1,o.nodeFocusedBeforeActivation=n.activeElement,A==null||A();var se=function(){Z&&m(),I(),F(),R==null||R()};return Z?(Z(o.containers.concat()).then(se,se),this):(se(),this)},deactivate:function(O){if(!o.active)return this;var A=Dk({onDeactivate:s.onDeactivate,onPostDeactivate:s.onPostDeactivate,checkCanReturnFocus:s.checkCanReturnFocus},O);clearTimeout(o.delayInitialFocusTimer),o.delayInitialFocusTimer=void 0,L(),o.active=!1,o.paused=!1,F(),zk.deactivateTrap(r,a);var R=l(A,"onDeactivate"),Z=l(A,"onPostDeactivate"),se=l(A,"checkCanReturnFocus"),re=l(A,"returnFocus","returnFocusOnDeactivate");R==null||R();var ie=function(){Fk(function(){re&&y(v(o.nodeFocusedBeforeActivation)),Z==null||Z()})};return re&&se?(se(v(o.nodeFocusedBeforeActivation)).then(ie,ie),this):(ie(),this)},pause:function(O){if(o.paused||!o.active)return this;var A=l(O,"onPause"),R=l(O,"onPostPause");return o.paused=!0,A==null||A(),L(),F(),R==null||R(),this},unpause:function(O){if(!o.paused||!o.active)return this;var A=l(O,"onUnpause"),R=l(O,"onPostUnpause");return o.paused=!1,A==null||A(),m(),I(),F(),R==null||R(),this},updateContainerElements:function(O){var A=[].concat(O).filter(Boolean);return o.containers=A.map(function(R){return typeof R=="string"?n.querySelector(R):R}),o.active&&m(),F(),this}},a.updateContainerElements(e),a};const Fv=globalThis.calciteConfig,gae=(Fv==null?void 0:Fv.focusTrapStack)||[];function yae(t,e){const{el:i}=t,n=(e==null?void 0:e.focusTrapEl)||i;if(!n)return;const r={clickOutsideDeactivates:!0,escapeDeactivates:!1,fallbackFocus:n,setReturnFocus:s=>(g0(s),!1),...e==null?void 0:e.focusTrapOptions,document:i.ownerDocument,tabbableOptions:X5,trapStack:gae};t.focusTrap=mae(n,r)}function Uk(t,e){var i;t.focusTrapDisabled||(i=t.focusTrap)==null||i.activate(e)}function jv(t,e){var i;(i=t.focusTrap)==null||i.deactivate(e)}function vae(t){var e;(e=t.focusTrap)==null||e.updateContainerElements(t.el)}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.0.0
 */function vy(t){return"opened"in t?t.opened:t.open}function Hk(t,e=!1){(e?t[t.transitionProp]:vy(t))?t.onBeforeOpen():t.onBeforeClose(),(e?t[t.transitionProp]:vy(t))?t.onOpen():t.onClose()}function xl(t,e=!1){Kne(()=>{if(t.transitionEl){let u=function(f){f.propertyName===t.openTransitionProp&&f.target===t.transitionEl&&(clearTimeout(l),t.transitionEl.removeEventListener("transitionstart",u),(e?t[t.transitionProp]:vy(t))?t.onBeforeOpen():t.onBeforeClose())},p=function(f){f.propertyName===t.openTransitionProp&&f.target===t.transitionEl&&((e?t[t.transitionProp]:vy(t))?t.onOpen():t.onClose(),t.transitionEl.removeEventListener("transitionend",p),t.transitionEl.removeEventListener("transitioncancel",p))};const{transitionDuration:i,transitionProperty:n}=getComputedStyle(t.transitionEl),r=i.split(","),o=n.split(",").indexOf(t.openTransitionProp),a=r[o]??r[0];if(a==="0s"){Hk(t,e);return}const l=setTimeout(()=>{t.transitionEl.removeEventListener("transitionstart",u),t.transitionEl.removeEventListener("transitionend",p),t.transitionEl.removeEventListener("transitioncancel",p),Hk(t,e)},parseFloat(a)*1e3);t.transitionEl.addEventListener("transitionstart",u),t.transitionEl.addEventListener("transitionend",p),t.transitionEl.addEventListener("transitioncancel",p)}})}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.0.0
 */const VN=(t,e)=>{const i=t.level?`h${t.level}`:"div";return delete t.level,S(i,{...t},e)};/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.0.0
 */const Bk={arrow:"calcite-floating-ui-arrow",arrowStroke:"calcite-floating-ui-arrow__stroke"},bae={width:12,height:6,strokeWidth:1},WN=({floatingLayout:t,key:e,ref:i})=>{const{width:n,height:r,strokeWidth:s}=bae,o=n/2,a=t==="vertical",l=`M0,0 H${n} L${n-o},${r} Q${o},${r} ${o},${r} Z`;return S("svg",{"aria-hidden":"true",class:Bk.arrow,height:n,key:e,viewBox:`0 0 ${n} ${n+(a?0:s)}`,width:n+(a?s:0),ref:i},s>0&&S("path",{class:Bk.arrowStroke,d:l,fill:"none","stroke-width":s+1}),S("path",{d:l,stroke:"none"}))};/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.0.0
 */const rs={container:"container",imageContainer:"image-container",closeButtonContainer:"close-button-container",closeButton:"close-button",content:"content",hasHeader:"has-header",header:"header",headerContent:"header-content",heading:"heading"},wae="auto",Gk="aria-controls",Vk="aria-expanded";class _ae{constructor(){this.registeredElements=new Map,this.registeredElementCount=0,this.queryPopover=e=>{const{registeredElements:i}=this,n=e.find(r=>i.has(r));return i.get(n)},this.togglePopovers=e=>{const i=e.composedPath(),n=this.queryPopover(i);n&&!n.triggerDisabled&&(n.open=!n.open),Array.from(this.registeredElements.values()).filter(r=>r!==n&&r.autoClose&&r.open&&!i.includes(r)).forEach(r=>r.open=!1)},this.keyHandler=e=>{e.defaultPrevented||(e.key==="Escape"?this.closeAllPopovers():Sx(e.key)&&this.togglePopovers(e))},this.clickHandler=e=>{jl(e)&&this.togglePopovers(e)}}registerElement(e,i){this.registeredElementCount++,this.registeredElements.set(e,i),this.registeredElementCount===1&&this.addListeners()}unregisterElement(e){this.registeredElements.delete(e)&&this.registeredElementCount--,this.registeredElementCount===0&&this.removeListeners()}closeAllPopovers(){Array.from(this.registeredElements.values()).forEach(e=>e.open=!1)}addListeners(){window.addEventListener("pointerdown",this.clickHandler,{capture:!0}),window.addEventListener("keydown",this.keyHandler,{capture:!0})}removeListeners(){window.removeEventListener("pointerdown",this.clickHandler,{capture:!0}),window.removeEventListener("keydown",this.keyHandler,{capture:!0})}}const Sae=":host{--calcite-floating-ui-z-index:var(--calcite-popover-z-index, var(--calcite-z-index-popup));display:block;position:absolute;z-index:var(--calcite-floating-ui-z-index)}.calcite-floating-ui-anim{position:relative;transition:var(--calcite-floating-ui-transition);transition-property:transform, visibility, opacity;opacity:0;box-shadow:0 0 16px 0 rgba(0, 0, 0, 0.16);z-index:var(--calcite-z-index);border-radius:0.25rem}:host([data-placement^=bottom]) .calcite-floating-ui-anim{transform:translateY(-5px)}:host([data-placement^=top]) .calcite-floating-ui-anim{transform:translateY(5px)}:host([data-placement^=left]) .calcite-floating-ui-anim{transform:translateX(5px)}:host([data-placement^=right]) .calcite-floating-ui-anim{transform:translateX(-5px)}:host([data-placement]) .calcite-floating-ui-anim--active{opacity:1;transform:translate(0)}:host([calcite-hydrated-hidden]){visibility:hidden !important;pointer-events:none}.calcite-floating-ui-arrow{pointer-events:none;position:absolute;z-index:calc(var(--calcite-z-index) * -1);fill:var(--calcite-color-foreground-1)}.calcite-floating-ui-arrow__stroke{stroke:var(--calcite-color-border-3)}:host([scale=s]) .heading{padding-inline:0.75rem;padding-block:0.5rem;font-size:var(--calcite-font-size--1);line-height:1.375}:host([scale=m]) .heading{padding-inline:1rem;padding-block:0.75rem;font-size:var(--calcite-font-size-0);line-height:1.375}:host([scale=l]) .heading{padding-inline:1.25rem;padding-block:1rem;font-size:var(--calcite-font-size-1);line-height:1.375}:host{pointer-events:none}:host([open]){pointer-events:initial}.calcite-floating-ui-anim{border-radius:0.25rem;border-width:1px;border-style:solid;border-color:var(--calcite-color-border-3);background-color:var(--calcite-color-foreground-1)}.arrow::before{outline:1px solid var(--calcite-color-border-3)}.header{display:flex;flex:1 1 auto;align-items:stretch;justify-content:flex-start;border-width:0px;border-block-end-width:1px;border-style:solid;border-block-end-color:var(--calcite-color-border-3)}.heading{margin:0px;display:block;flex:1 1 auto;align-self:center;white-space:normal;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-color-text-1);word-wrap:break-word;word-break:break-word}.container{position:relative;display:flex;block-size:100%;flex-direction:row;flex-wrap:nowrap;border-radius:0.25rem;color:var(--calcite-color-text-1)}.container.has-header{flex-direction:column}.content{display:flex;block-size:100%;inline-size:100%;flex-direction:column;flex-wrap:nowrap;align-self:center;word-wrap:break-word;word-break:break-word}.close-button-container{display:flex;overflow:hidden;flex:0 0 auto;border-start-end-radius:0.25rem;border-end-end-radius:0.25rem}::slotted(calcite-panel),::slotted(calcite-flow){block-size:100%}:host([hidden]){display:none}[hidden]{display:none}",Wk=new _ae,xae=Xe(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calcitePopoverBeforeClose=he(this,"calcitePopoverBeforeClose",6),this.calcitePopoverClose=he(this,"calcitePopoverClose",6),this.calcitePopoverBeforeOpen=he(this,"calcitePopoverBeforeOpen",6),this.calcitePopoverOpen=he(this,"calcitePopoverOpen",6),this.mutationObserver=St("mutation",()=>this.updateFocusTrapElements()),this.guid=`calcite-popover-${oa()}`,this.openTransitionProp="opacity",this.hasLoaded=!1,this.setTransitionEl=e=>{this.transitionEl=e},this.setFilteredPlacements=()=>{const{el:e,flipPlacements:i}=this;this.filteredFlipPlacements=i?nae(i,e):null},this.setUpReferenceElement=(e=!0)=>{this.removeReferences(),this.effectiveReferenceElement=this.getReferenceElement(),yy(this,this.effectiveReferenceElement,this.el);const{el:i,referenceElement:n,effectiveReferenceElement:r}=this;e&&n&&!r&&console.warn(`${i.tagName}: reference-element id "${n}" was not found.`,{el:i}),this.addReferences()},this.getId=()=>this.el.id||this.guid,this.setExpandedAttr=()=>{const{effectiveReferenceElement:e,open:i}=this;e&&"setAttribute"in e&&e.setAttribute(Vk,Qt(i))},this.addReferences=()=>{const{effectiveReferenceElement:e}=this;if(!e)return;const i=this.getId();"setAttribute"in e&&e.setAttribute(Gk,i),Wk.registerElement(e,this.el),this.setExpandedAttr()},this.removeReferences=()=>{const{effectiveReferenceElement:e}=this;e&&("removeAttribute"in e&&(e.removeAttribute(Gk),e.removeAttribute(Vk)),Wk.unregisterElement(e))},this.hide=()=>{this.open=!1},this.storeArrowEl=e=>{this.arrowEl=e,this.reposition(!0)},this.autoClose=!1,this.closable=!1,this.flipDisabled=!1,this.focusTrapDisabled=!1,this.pointerDisabled=!1,this.flipPlacements=void 0,this.heading=void 0,this.headingLevel=void 0,this.label=void 0,this.messageOverrides=void 0,this.messages=void 0,this.offsetDistance=GN,this.offsetSkidding=0,this.open=!1,this.overlayPositioning="absolute",this.placement=wae,this.referenceElement=void 0,this.scale="m",this.triggerDisabled=!1,this.effectiveLocale="",this.floatingLayout="vertical",this.effectiveReferenceElement=void 0,this.defaultMessages=void 0}handleFocusTrapDisabled(e){this.open&&(e?jv(this):Uk(this))}flipPlacementsHandler(){this.setFilteredPlacements(),this.reposition(!0)}onMessagesChange(){}offsetDistanceOffsetHandler(){this.reposition(!0)}offsetSkiddingHandler(){this.reposition(!0)}openHandler(){xl(this),this.setExpandedAttr()}overlayPositioningHandler(){this.reposition(!0)}placementHandler(){this.reposition(!0)}referenceElementHandler(){this.setUpReferenceElement(),this.reposition(!0)}effectiveLocaleChange(){nr(this,this.effectiveLocale)}connectedCallback(){this.setFilteredPlacements(),er(this),rr(this),this.setUpReferenceElement(this.hasLoaded),yae(this),this.open&&xl(this),yy(this,this.effectiveReferenceElement,this.el)}async componentWillLoad(){await ir(this),Yn(this)}componentDidLoad(){Xn(this),this.referenceElement&&!this.effectiveReferenceElement&&this.setUpReferenceElement(),this.reposition(),this.hasLoaded=!0}disconnectedCallback(){this.removeReferences(),tr(this),sr(this),Ax(this,this.effectiveReferenceElement,this.el),jv(this)}async reposition(e=!1){const{el:i,effectiveReferenceElement:n,placement:r,overlayPositioning:s,flipDisabled:o,filteredFlipPlacements:a,offsetDistance:l,offsetSkidding:u,arrowEl:p}=this;return BN(this,{floatingEl:i,referenceEl:n,overlayPositioning:s,placement:r,flipDisabled:o,flipPlacements:a,offsetDistance:l,offsetSkidding:u,arrowEl:p,type:"popover"},e)}async setFocus(){await Qn(this),Lp(this.el),iN(this.el)}async updateFocusTrapElements(){vae(this)}getReferenceElement(){const{referenceElement:e,el:i}=this;return(typeof e=="string"?m0(i,{id:e}):e)||null}onBeforeOpen(){this.reposition(!0),this.calcitePopoverBeforeOpen.emit()}onOpen(){this.calcitePopoverOpen.emit(),Uk(this)}onBeforeClose(){this.calcitePopoverBeforeClose.emit()}onClose(){this.calcitePopoverClose.emit(),jv(this),this.reposition(!0)}renderCloseButton(){const{messages:e,closable:i}=this;return i?S("div",{class:rs.closeButtonContainer,key:rs.closeButtonContainer},S("calcite-action",{appearance:"transparent",class:rs.closeButton,onClick:this.hide,scale:this.scale,text:e.close,ref:n=>this.closeButtonEl=n},S("calcite-icon",{icon:"x",scale:Mt(this.scale)}))):null}renderHeader(){const{heading:e,headingLevel:i}=this,n=e?S(VN,{class:rs.heading,level:i},e):null;return n?S("div",{class:rs.header,key:rs.header},n,this.renderCloseButton()):null}render(){const{effectiveReferenceElement:e,heading:i,label:n,open:r,pointerDisabled:s,floatingLayout:o}=this,a=e&&r,l=!a,u=s?null:S(WN,{floatingLayout:o,key:"floating-arrow",ref:this.storeArrowEl});return S(hi,{"aria-hidden":Qt(l),"aria-label":n,"aria-live":"polite","calcite-hydrated-hidden":l,id:this.getId(),role:"dialog"},S("div",{class:{[my.animation]:!0,[my.animationActive]:a},ref:this.setTransitionEl},u,S("div",{class:{[rs.hasHeader]:!!i,[rs.container]:!0}},this.renderHeader(),S("div",{class:rs.content},S("slot",null)),i?null:this.renderCloseButton())))}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{focusTrapDisabled:["handleFocusTrapDisabled"],flipPlacements:["flipPlacementsHandler"],messageOverrides:["onMessagesChange"],offsetDistance:["offsetDistanceOffsetHandler"],offsetSkidding:["offsetSkiddingHandler"],open:["openHandler"],overlayPositioning:["overlayPositioningHandler"],placement:["placementHandler"],referenceElement:["referenceElementHandler"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return Sae}},[1,"calcite-popover",{autoClose:[516,"auto-close"],closable:[516],flipDisabled:[516,"flip-disabled"],focusTrapDisabled:[516,"focus-trap-disabled"],pointerDisabled:[516,"pointer-disabled"],flipPlacements:[16],heading:[1],headingLevel:[514,"heading-level"],label:[1],messageOverrides:[1040],messages:[1040],offsetDistance:[514,"offset-distance"],offsetSkidding:[514,"offset-skidding"],open:[1540],overlayPositioning:[513,"overlay-positioning"],placement:[513],referenceElement:[1,"reference-element"],scale:[513],triggerDisabled:[516,"trigger-disabled"],effectiveLocale:[32],floatingLayout:[32],effectiveReferenceElement:[32],defaultMessages:[32],reposition:[64],setFocus:[64],updateFocusTrapElements:[64]},void 0,{focusTrapDisabled:["handleFocusTrapDisabled"],flipPlacements:["flipPlacementsHandler"],messageOverrides:["onMessagesChange"],offsetDistance:["offsetDistanceOffsetHandler"],offsetSkidding:["offsetSkiddingHandler"],open:["openHandler"],overlayPositioning:["overlayPositioningHandler"],placement:["placementHandler"],referenceElement:["referenceElementHandler"],effectiveLocale:["effectiveLocaleChange"]}]);function Lx(){if(typeof customElements>"u")return;["calcite-popover","calcite-action","calcite-icon","calcite-loader"].forEach(e=>{switch(e){case"calcite-popover":customElements.get(e)||customElements.define(e,xae);break;case"calcite-action":customElements.get(e)||Dp();break;case"calcite-icon":customElements.get(e)||pn();break;case"calcite-loader":customElements.get(e)||ua();break}})}Lx();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.0.0
 */const qk={menu:"menu",defaultTrigger:"default-trigger"},Jw={tooltip:"tooltip",trigger:"trigger"},$ae={menu:"ellipsis"},Tae="data-active",Eae=":host{box-sizing:border-box;display:flex;flex-direction:column;font-size:var(--calcite-font-size-1);color:var(--calcite-color-text-2)}::slotted(calcite-action-group){border-block-end:1px solid var(--calcite-color-border-3)}::slotted(calcite-action-group:last-child){border-block-end:0}.default-trigger{position:relative;block-size:100%;flex:0 1 auto;align-self:stretch}slot[name=trigger]::slotted(calcite-action),calcite-action::slotted([slot=trigger]){position:relative;block-size:100%;flex:0 1 auto;align-self:stretch}.menu{max-block-size:45vh;flex-direction:column;flex-wrap:nowrap;overflow-y:auto;overflow-x:hidden;outline:2px solid transparent;outline-offset:2px}:host([hidden]){display:none}[hidden]{display:none}",kae=["ArrowUp","ArrowDown","End","Home"],Mae=Xe(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteActionMenuOpen=he(this,"calciteActionMenuOpen",6),this.actionElements=[],this.guid=`calcite-action-menu-${oa()}`,this.menuId=`${this.guid}-menu`,this.menuButtonId=`${this.guid}-menu-button`,this.connectMenuButtonEl=()=>{const{menuButtonId:e,menuId:i,open:n,label:r}=this,s=this.slottedMenuButtonEl||this.defaultMenuButtonEl;this.menuButtonEl!==s&&(this.disconnectMenuButtonEl(),this.menuButtonEl=s,this.setTooltipReferenceElement(),s&&(s.active=n,s.setAttribute("aria-controls",i),s.setAttribute("aria-expanded",Qt(n)),s.setAttribute("aria-haspopup","true"),s.id||(s.id=e),s.label||(s.label=r),s.text||(s.text=r),s.addEventListener("pointerdown",this.menuButtonClick),s.addEventListener("keydown",this.menuButtonKeyDown)))},this.disconnectMenuButtonEl=()=>{const{menuButtonEl:e}=this;e&&(e.removeEventListener("pointerdown",this.menuButtonClick),e.removeEventListener("keydown",this.menuButtonKeyDown))},this.setMenuButtonEl=e=>{const i=e.target.assignedElements({flatten:!0}).filter(n=>n==null?void 0:n.matches("calcite-action"));this.slottedMenuButtonEl=i[0],this.connectMenuButtonEl()},this.setDefaultMenuButtonEl=e=>{this.defaultMenuButtonEl=e,this.connectMenuButtonEl()},this.handleCalciteActionClick=()=>{this.open=!1,this.setFocus()},this.menuButtonClick=e=>{jl(e)&&this.toggleOpen()},this.updateTooltip=e=>{const i=e.target.assignedElements({flatten:!0}).filter(n=>n==null?void 0:n.matches("calcite-tooltip"));this.tooltipEl=i[0],this.setTooltipReferenceElement()},this.setTooltipReferenceElement=()=>{const{tooltipEl:e,expanded:i,menuButtonEl:n,open:r}=this;e&&(e.referenceElement=!i&&!r?n:null)},this.updateAction=(e,i)=>{const{guid:n,activeMenuItemIndex:r}=this,s=`${n}-action-${i}`;e.tabIndex=-1,e.setAttribute("role","menuitem"),e.id||(e.id=s),e.toggleAttribute(Tae,i===r)},this.updateActions=e=>{e==null||e.forEach(this.updateAction)},this.handleDefaultSlotChange=e=>{const i=e.target.assignedElements({flatten:!0}).reduce((n,r)=>r!=null&&r.matches("calcite-action")?(n.push(r),n):r!=null&&r.matches("calcite-action-group")?n.concat(Array.from(r.querySelectorAll("calcite-action"))):n,[]);this.actionElements=i},this.menuButtonKeyDown=e=>{const{key:i}=e,{actionElements:n,activeMenuItemIndex:r,open:s}=this;if(n.length){if(Sx(i)){if(e.preventDefault(),!s){this.toggleOpen();return}const o=n[r];o?o.click():this.toggleOpen(!1)}if(i==="Tab"){this.open=!1;return}if(i==="Escape"){this.toggleOpen(!1),e.preventDefault();return}this.handleActionNavigation(e,i,n)}},this.handleActionNavigation=(e,i,n)=>{if(!this.isValidKey(i,kae))return;if(e.preventDefault(),!this.open){this.toggleOpen(),(i==="Home"||i==="ArrowDown")&&(this.activeMenuItemIndex=0),(i==="End"||i==="ArrowUp")&&(this.activeMenuItemIndex=n.length-1);return}i==="Home"&&(this.activeMenuItemIndex=0),i==="End"&&(this.activeMenuItemIndex=n.length-1);const r=this.activeMenuItemIndex;i==="ArrowUp"&&(this.activeMenuItemIndex=bk(Math.max(r-1,-1),n.length)),i==="ArrowDown"&&(this.activeMenuItemIndex=bk(r+1,n.length))},this.toggleOpenEnd=()=>{this.setFocus(),this.el.removeEventListener("calcitePopoverOpen",this.toggleOpenEnd)},this.toggleOpen=(e=!this.open)=>{this.el.addEventListener("calcitePopoverOpen",this.toggleOpenEnd),this.open=e},this.appearance="solid",this.expanded=!1,this.flipPlacements=void 0,this.label=void 0,this.open=!1,this.overlayPositioning="absolute",this.placement="auto",this.scale=void 0,this.menuButtonEl=void 0,this.activeMenuItemIndex=-1}componentWillLoad(){Yn(this)}componentDidLoad(){Xn(this)}disconnectedCallback(){this.disconnectMenuButtonEl()}expandedHandler(){this.open=!1,this.setTooltipReferenceElement()}openHandler(e){this.activeMenuItemIndex=this.open?0:-1,this.menuButtonEl&&(this.menuButtonEl.active=e),this.calciteActionMenuOpen.emit(),this.setTooltipReferenceElement()}closeCalciteActionMenuOnClick(e){!jl(e)||e.composedPath().includes(this.el)||(this.open=!1)}activeMenuItemIndexHandler(){this.updateActions(this.actionElements)}async setFocus(){return await Qn(this),g0(this.menuButtonEl)}renderMenuButton(){const{appearance:e,label:i,scale:n,expanded:r}=this;return S("slot",{name:Jw.trigger,onSlotchange:this.setMenuButtonEl},S("calcite-action",{appearance:e,class:qk.defaultTrigger,icon:$ae.menu,scale:n,text:i,textEnabled:r,ref:this.setDefaultMenuButtonEl}))}renderMenuItems(){const{actionElements:e,activeMenuItemIndex:i,open:n,menuId:r,menuButtonEl:s,label:o,placement:a,overlayPositioning:l,flipPlacements:u}=this,p=e[i],f=(p==null?void 0:p.id)||null;return S("calcite-popover",{flipPlacements:u,focusTrapDisabled:!0,label:o,offsetDistance:0,open:n,overlayPositioning:l,placement:a,pointerDisabled:!0,referenceElement:s},S("div",{"aria-activedescendant":f,"aria-labelledby":s==null?void 0:s.id,class:qk.menu,id:r,onClick:this.handleCalciteActionClick,role:"menu",tabIndex:-1},S("slot",{onSlotchange:this.handleDefaultSlotChange})))}render(){return S(Du,null,this.renderMenuButton(),this.renderMenuItems(),S("slot",{name:Jw.tooltip,onSlotchange:this.updateTooltip}))}isValidKey(e,i){return!!i.find(n=>n===e)}get el(){return this}static get watchers(){return{expanded:["expandedHandler"],open:["openHandler"],activeMenuItemIndex:["activeMenuItemIndexHandler"]}}static get style(){return Eae}},[1,"calcite-action-menu",{appearance:[513],expanded:[516],flipPlacements:[16],label:[1],open:[1540],overlayPositioning:[513,"overlay-positioning"],placement:[513],scale:[513],menuButtonEl:[32],activeMenuItemIndex:[32],setFocus:[64]},[[9,"pointerdown","closeCalciteActionMenuOnClick"]],{expanded:["expandedHandler"],open:["openHandler"],activeMenuItemIndex:["activeMenuItemIndexHandler"]}]);function qN(){if(typeof customElements>"u")return;["calcite-action-menu","calcite-action","calcite-icon","calcite-loader","calcite-popover"].forEach(e=>{switch(e){case"calcite-action-menu":customElements.get(e)||customElements.define(e,Mae);break;case"calcite-action":customElements.get(e)||Dp();break;case"calcite-icon":customElements.get(e)||pn();break;case"calcite-loader":customElements.get(e)||ua();break;case"calcite-popover":customElements.get(e)||Lx();break}})}qN();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.0.0
 */const Zk={scrim:"scrim",content:"content"},Jk={s:72,l:480},Cae=":host{--calcite-scrim-background:var(--calcite-color-transparent-scrim);position:absolute;inset:0px;z-index:var(--calcite-z-index-overlay);display:flex;block-size:100%;inline-size:100%;flex-direction:column;align-items:stretch}@keyframes calcite-scrim-fade-in{0%{--tw-bg-opacity:0}100%{--tw-text-opacity:1}}.scrim{position:absolute;inset:0px;display:flex;flex-direction:column;align-content:center;align-items:center;justify-content:center;overflow:hidden;animation:calcite-scrim-fade-in var(--calcite-internal-animation-timing-medium) ease-in-out;background-color:var(--calcite-scrim-background, var(--calcite-color-transparent-scrim))}.content{padding:1rem}:host([hidden]){display:none}[hidden]{display:none}",Iae=Xe(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.resizeObserver=St("resize",()=>this.handleResize()),this.handleDefaultSlotChange=e=>{this.hasContent=xre(e)},this.storeLoaderEl=e=>{this.loaderEl=e,this.handleResize()},this.loading=!1,this.messages=void 0,this.messageOverrides=void 0,this.loaderScale=void 0,this.defaultMessages=void 0,this.effectiveLocale="",this.hasContent=!1}onMessagesChange(){}effectiveLocaleChange(){nr(this,this.effectiveLocale)}connectedCallback(){var e;er(this),rr(this),(e=this.resizeObserver)==null||e.observe(this.el)}async componentWillLoad(){await ir(this)}disconnectedCallback(){var e;tr(this),sr(this),(e=this.resizeObserver)==null||e.disconnect()}render(){const{hasContent:e,loading:i,messages:n}=this;return S("div",{class:Zk.scrim},i?S("calcite-loader",{label:n.loading,scale:this.loaderScale,ref:this.storeLoaderEl}):null,S("div",{class:Zk.content,hidden:!e},S("slot",{onSlotchange:this.handleDefaultSlotChange})))}getScale(e){return e<Jk.s?"s":e>=Jk.l?"l":"m"}handleResize(){const{loaderEl:e,el:i}=this;e&&(this.loaderScale=this.getScale(Math.min(i.clientHeight,i.clientWidth)??0))}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return Cae}},[1,"calcite-scrim",{loading:[516],messages:[1040],messageOverrides:[1040],loaderScale:[32],defaultMessages:[32],effectiveLocale:[32],hasContent:[32]},void 0,{messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}]);function ZN(){if(typeof customElements>"u")return;["calcite-scrim","calcite-loader"].forEach(e=>{switch(e){case"calcite-scrim":customElements.get(e)||customElements.define(e,Iae);break;case"calcite-loader":customElements.get(e)||ua();break}})}ZN();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.0.0
 */const Bt={actionBarContainer:"action-bar-container",backButton:"back-button",container:"container",header:"header",headerContainer:"header-container",headerContainerBorderEnd:"header-container--border-end",heading:"heading",summary:"summary",description:"description",headerContent:"header-content",headerActions:"header-actions",headerActionsEnd:"header-actions--end",headerActionsStart:"header-actions--start",contentWrapper:"content-wrapper",fabContainer:"fab-container",footer:"footer"},jf={close:"x",menu:"ellipsis",backLeft:"chevron-left",backRight:"chevron-right",expand:"chevron-down",collapse:"chevron-up"},Ks={actionBar:"action-bar",headerActionsStart:"header-actions-start",headerActionsEnd:"header-actions-end",headerMenuActions:"header-menu-actions",headerContent:"header-content",fab:"fab",footer:"footer",footerActions:"footer-actions"},Oae=":host{box-sizing:border-box;background-color:var(--calcite-color-foreground-1);color:var(--calcite-color-text-2);font-size:var(--calcite-font-size--1)}:host *{box-sizing:border-box}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{position:relative;display:flex;block-size:100%;inline-size:100%;flex:1 1 auto;--calcite-min-header-height:calc(var(--calcite-icon-size) * 3)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.header{margin:0px;display:flex;align-content:space-between;align-items:center;fill:var(--calcite-color-text-2);color:var(--calcite-color-text-2)}.heading{margin:0px;padding:0px;font-weight:var(--calcite-font-weight-medium)}.header .heading{flex:1 1 auto;padding:0.5rem}.container{margin:0px;display:flex;inline-size:100%;flex:1 1 auto;flex-direction:column;align-items:stretch;background-color:var(--calcite-color-background);padding:0px;transition:max-block-size var(--calcite-animation-timing), inline-size var(--calcite-animation-timing)}.container[hidden]{display:none}.header{z-index:var(--calcite-z-index-header);display:flex;flex-direction:column;background-color:var(--calcite-color-foreground-1);border-block-end:var(--calcite-panel-header-border-block-end, 1px solid var(--calcite-color-border-3))}.header-container{display:flex;inline-size:100%;flex-direction:row;align-items:stretch;justify-content:flex-start;flex:0 0 auto}.header-container--border-end{border-block-end:1px solid var(--calcite-color-border-3)}.action-bar-container{inline-size:100%}.action-bar-container ::slotted(calcite-action-bar){inline-size:100%}.header-content{display:flex;flex-direction:column;overflow:hidden;padding-inline:0.75rem;padding-block:0.875rem;margin-inline-end:auto}.header-content .heading,.header-content .description{display:block;overflow-wrap:break-word;padding:0px}.header-content .heading{margin-inline:0px;margin-block:0px 0.25rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;font-weight:var(--calcite-font-weight-medium)}.header-content .heading:only-child{margin-block-end:0px}.header-content .description{font-size:var(--calcite-font-size--1);line-height:1rem;color:var(--calcite-color-text-2)}.back-button{border-width:0px;border-style:solid;border-color:var(--calcite-color-border-3);border-inline-end-width:1px}.header-actions{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:stretch}.header-actions--end{margin-inline-start:auto}.content-wrapper{display:flex;block-size:100%;flex:1 1 auto;flex-direction:column;flex-wrap:nowrap;align-items:stretch;overflow:auto;background-color:var(--calcite-color-background)}.footer{display:flex;inline-size:100%;justify-content:space-evenly;background-color:var(--calcite-color-foreground-1);flex:0 0 auto;padding:var(--calcite-panel-footer-padding, 0.5rem);border-block-start:1px solid var(--calcite-color-border-3)}.fab-container{position:sticky;inset-block-end:0px;z-index:var(--calcite-z-index-sticky);margin-block:0px;margin-inline:auto;display:block;padding:0.5rem;inset-inline:0;inline-size:-moz-fit-content;inline-size:fit-content}:host([hidden]){display:none}[hidden]{display:none}",Aae=Xe(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calcitePanelClose=he(this,"calcitePanelClose",6),this.calcitePanelToggle=he(this,"calcitePanelToggle",6),this.calcitePanelScroll=he(this,"calcitePanelScroll",6),this.resizeObserver=St("resize",()=>this.resizeHandler()),this.resizeHandler=()=>{const{panelScrollEl:e}=this;!e||typeof e.scrollHeight!="number"||typeof e.offsetHeight!="number"||(e.tabIndex=e.scrollHeight>e.offsetHeight?0:-1)},this.setContainerRef=e=>{this.containerEl=e},this.panelKeyDownHandler=e=>{this.closable&&e.key==="Escape"&&!e.defaultPrevented&&(this.close(),e.preventDefault())},this.close=()=>{this.closed=!0,this.calcitePanelClose.emit()},this.collapse=()=>{this.collapsed=!this.collapsed,this.calcitePanelToggle.emit()},this.panelScrollHandler=()=>{this.calcitePanelScroll.emit()},this.handleHeaderActionsStartSlotChange=e=>{this.hasStartActions=De(e)},this.handleHeaderActionsEndSlotChange=e=>{this.hasEndActions=De(e)},this.handleHeaderMenuActionsSlotChange=e=>{this.hasMenuItems=De(e)},this.handleActionBarSlotChange=e=>{const i=iu(e).filter(n=>n==null?void 0:n.matches("calcite-action-bar"));i.forEach(n=>n.layout="horizontal"),this.hasActionBar=!!i.length},this.handleHeaderContentSlotChange=e=>{this.hasHeaderContent=De(e)},this.handleFooterSlotChange=e=>{this.hasFooterContent=De(e)},this.handleFooterActionsSlotChange=e=>{this.hasFooterActions=De(e)},this.handleFabSlotChange=e=>{this.hasFab=De(e)},this.setPanelScrollEl=e=>{var i,n;this.panelScrollEl=e,(i=this.resizeObserver)==null||i.disconnect(),e&&((n=this.resizeObserver)==null||n.observe(e),this.resizeHandler())},this.closed=!1,this.disabled=!1,this.closable=!1,this.collapsed=!1,this.collapseDirection="down",this.collapsible=!1,this.headingLevel=void 0,this.loading=!1,this.heading=void 0,this.description=void 0,this.menuOpen=!1,this.messageOverrides=void 0,this.messages=void 0,this.hasStartActions=!1,this.hasEndActions=!1,this.hasMenuItems=!1,this.hasHeaderContent=!1,this.hasActionBar=!1,this.hasFooterContent=!1,this.hasFooterActions=!1,this.hasFab=!1,this.defaultMessages=void 0,this.effectiveLocale="",this.showHeaderContent=!1}onMessagesChange(){}connectedCallback(){la(this),er(this),rr(this)}async componentWillLoad(){Yn(this),await ir(this)}componentDidLoad(){Xn(this)}componentDidRender(){aa(this)}disconnectedCallback(){var e;ca(this),tr(this),sr(this),(e=this.resizeObserver)==null||e.disconnect()}effectiveLocaleChange(){nr(this,this.effectiveLocale)}async setFocus(){await Qn(this),iN(this.containerEl)}async scrollContentTo(e){var i;(i=this.panelScrollEl)==null||i.scrollTo(e)}renderHeaderContent(){const{heading:e,headingLevel:i,description:n,hasHeaderContent:r}=this,s=e?S(VN,{class:Bt.heading,level:i},e):null,o=n?S("span",{class:Bt.description},n):null;return!r&&(s||o)?S("div",{class:Bt.headerContent,key:"header-content"},s,o):null}renderActionBar(){return S("div",{class:Bt.actionBarContainer,hidden:!this.hasActionBar},S("slot",{name:Ks.actionBar,onSlotchange:this.handleActionBarSlotChange}))}renderHeaderSlottedContent(){return S("div",{class:Bt.headerContent,hidden:!this.hasHeaderContent,key:"slotted-header-content"},S("slot",{name:Ks.headerContent,onSlotchange:this.handleHeaderContentSlotChange}))}renderHeaderStartActions(){const{hasStartActions:e}=this;return S("div",{class:{[Bt.headerActionsStart]:!0,[Bt.headerActions]:!0},hidden:!e,key:"header-actions-start"},S("slot",{name:Ks.headerActionsStart,onSlotchange:this.handleHeaderActionsStartSlotChange}))}renderHeaderActionsEnd(){const{hasEndActions:e,messages:i,closable:n,collapsed:r,collapseDirection:s,collapsible:o,hasMenuItems:a}=this,{collapse:l,expand:u,close:p}=i,f=[jf.expand,jf.collapse];s==="up"&&f.reverse();const m=o?S("calcite-action",{"aria-expanded":Qt(!r),"aria-label":l,"data-test":"collapse",icon:r?f[0]:f[1],onClick:this.collapse,text:l,title:r?u:l}):null,g=n?S("calcite-action",{"aria-label":p,"data-test":"close",icon:jf.close,onClick:this.close,text:p,title:p}):null,y=S("slot",{name:Ks.headerActionsEnd,onSlotchange:this.handleHeaderActionsEndSlotChange}),v=e||m||g||a;return S("div",{class:{[Bt.headerActionsEnd]:!0,[Bt.headerActions]:!0},hidden:!v,key:"header-actions-end"},y,this.renderMenu(),m,g)}renderMenu(){const{hasMenuItems:e,messages:i,menuOpen:n}=this;return S("calcite-action-menu",{flipPlacements:["top","bottom"],hidden:!e,key:"menu",label:i.options,open:n,placement:"bottom-end"},S("calcite-action",{icon:jf.menu,slot:Jw.trigger,text:i.options}),S("slot",{name:Ks.headerMenuActions,onSlotchange:this.handleHeaderMenuActionsSlotChange}))}renderHeaderNode(){const{hasHeaderContent:e,hasStartActions:i,hasEndActions:n,closable:r,collapsible:s,hasMenuItems:o,hasActionBar:a}=this,l=this.renderHeaderContent(),u=e||!!l||i||n||s||r||o;return this.showHeaderContent=u,S("header",{class:Bt.header,hidden:!(u||a)},S("div",{class:{[Bt.headerContainer]:!0,[Bt.headerContainerBorderEnd]:a},hidden:!u},this.renderHeaderStartActions(),this.renderHeaderSlottedContent(),l,this.renderHeaderActionsEnd()),this.renderActionBar())}renderFooterNode(){const{hasFooterContent:e,hasFooterActions:i}=this,n=e||i;return S("footer",{class:Bt.footer,hidden:!n},S("slot",{key:"footer-slot",name:Ks.footer,onSlotchange:this.handleFooterSlotChange}),S("slot",{key:"footer-actions-slot",name:Ks.footerActions,onSlotchange:this.handleFooterActionsSlotChange}))}renderContent(){return S("div",{class:Bt.contentWrapper,hidden:this.collapsible&&this.collapsed,onScroll:this.panelScrollHandler,ref:this.setPanelScrollEl},S("slot",null),this.renderFab())}renderFab(){return S("div",{class:Bt.fabContainer,hidden:!this.hasFab},S("slot",{name:Ks.fab,onSlotchange:this.handleFabSlotChange}))}render(){const{loading:e,panelKeyDownHandler:i,closed:n,closable:r}=this,s=S("article",{"aria-busy":Qt(e),class:Bt.container,hidden:n,onKeyDown:i,tabIndex:r?0:-1,ref:this.setContainerRef},this.renderHeaderNode(),this.renderContent(),this.renderFooterNode());return S(Du,null,e?S("calcite-scrim",{loading:e}):null,s)}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return Oae}},[1,"calcite-panel",{closed:[1540],disabled:[516],closable:[516],collapsed:[516],collapseDirection:[1,"collapse-direction"],collapsible:[516],headingLevel:[514,"heading-level"],loading:[516],heading:[1],description:[1],menuOpen:[516,"menu-open"],messageOverrides:[1040],messages:[1040],hasStartActions:[32],hasEndActions:[32],hasMenuItems:[32],hasHeaderContent:[32],hasActionBar:[32],hasFooterContent:[32],hasFooterActions:[32],hasFab:[32],defaultMessages:[32],effectiveLocale:[32],showHeaderContent:[32],setFocus:[64],scrollContentTo:[64]},void 0,{messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}]);function Lae(){if(typeof customElements>"u")return;["calcite-panel","calcite-action","calcite-action-menu","calcite-icon","calcite-loader","calcite-popover","calcite-scrim"].forEach(e=>{switch(e){case"calcite-panel":customElements.get(e)||customElements.define(e,Aae);break;case"calcite-action":customElements.get(e)||Dp();break;case"calcite-action-menu":customElements.get(e)||qN();break;case"calcite-icon":customElements.get(e)||pn();break;case"calcite-loader":customElements.get(e)||ua();break;case"calcite-popover":customElements.get(e)||Lx();break;case"calcite-scrim":customElements.get(e)||ZN();break}})}Lae();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.0.0
 */const Pae={titleGroup:"title-group"},Rae=":host{display:flex;flex-direction:column}:host([bordered]){box-shadow:inset 0 1px 0 var(--calcite-color-border-1);background-color:var(--calcite-color-foreground-1)}:host([bordered]:not([position=bottom])) ::slotted(calcite-tab-nav){margin-block-end:-1px}:host([bordered][position=bottom]){box-shadow:inset 0 1px 0 var(--calcite-color-border-1), inset 0 -1px 0 var(--calcite-color-border-1)}:host([bordered]) section{border-width:1px;border-style:solid;border-color:var(--calcite-color-border-1)}:host([bordered][scale=s]) section{padding:0.75rem}:host([bordered][scale=m]) section{padding:0.5rem}:host([bordered][scale=l]) section{padding:1rem}:host([position=bottom]){flex-direction:column-reverse}section{display:flex;flex-grow:1;overflow:hidden;border-block-start-width:1px;border-block-start-color:var(--calcite-color-border-1);border-block-start-style:solid}:host([position=bottom]) section{flex-direction:column-reverse;border-block-start-width:0px;border-block-end-width:1px;border-block-end-color:var(--calcite-color-border-1)}:host([position=bottom]:not([bordered])) section{border-block-end-style:solid}@media (forced-colors: active){:host([bordered]) section{border-block-start-width:0px;border-block-end-width:1px}:host([position=bottom][bordered]) section{border-block-start-width:1px;border-block-end-width:0px}}:host([hidden]){display:none}[hidden]{display:none}",Nae=Xe(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.mutationObserver=St("mutation",e=>{for(const i of e){const n=i.target;(n.nodeName==="CALCITE-TAB-NAV"||n.nodeName==="CALCITE-TAB-TITLE"||n.nodeName==="CALCITE-TAB")&&this.updateItems()}}),this.layout="inline",this.position="top",this.scale="m",this.bordered=!1,this.titles=[],this.tabs=[]}handleInheritableProps(){this.updateItems()}connectedCallback(){this.mutationObserver.observe(this.el,{childList:!0}),this.updateItems()}async componentWillLoad(){this.updateItems()}disconnectedCallback(){var e;(e=this.mutationObserver)==null||e.disconnect()}render(){return S(Du,null,S("slot",{name:Pae.titleGroup}),S("section",null,S("slot",null)))}calciteInternalTabTitleRegister(e){this.titles=[...this.titles,e.target],this.registryHandler(),e.stopPropagation()}calciteTabTitleUnregister(e){this.titles=this.titles.filter(i=>i!==e.detail),this.registryHandler(),e.stopPropagation()}calciteInternalTabRegister(e){this.tabs=[...this.tabs,e.target],this.registryHandler(),e.stopPropagation()}calciteTabUnregister(e){this.tabs=this.tabs.filter(i=>i!==e.detail),this.registryHandler(),e.stopPropagation()}updateItems(){const{position:e,scale:i}=this,n=this.el.querySelector("calcite-tab-nav");n&&(n.position=e,n.scale=i),Array.from(this.el.querySelectorAll("calcite-tab")).forEach(r=>{r.parentElement===this.el&&(r.scale=i)}),Array.from(this.el.querySelectorAll("calcite-tab-nav > calcite-tab-title")).forEach(r=>{r.position=e,r.scale=i})}async registryHandler(){let e,i;if(this.tabs.some(n=>n.tab)||this.titles.some(n=>n.tab))e=this.tabs.sort((n,r)=>n.tab.localeCompare(r.tab)).map(n=>n.id),i=this.titles.sort((n,r)=>n.tab.localeCompare(r.tab)).map(n=>n.id);else{const n=await Promise.all(this.tabs.map(s=>s.getTabIndex())),r=await Promise.all(this.titles.map(s=>s.getTabIndex()));e=n.reduce((s,o,a)=>(s[o]=this.tabs[a].id,s),[]),i=r.reduce((s,o,a)=>(s[o]=this.titles[a].id,s),[])}this.tabs.forEach(n=>n.updateAriaInfo(e,i)),this.titles.forEach(n=>n.updateAriaInfo(e,i))}get el(){return this}static get watchers(){return{position:["handleInheritableProps"],scale:["handleInheritableProps"]}}static get style(){return Rae}},[1,"calcite-tabs",{layout:[513],position:[513],scale:[513],bordered:[4],titles:[32],tabs:[32]},[[0,"calciteInternalTabTitleRegister","calciteInternalTabTitleRegister"],[16,"calciteTabTitleUnregister","calciteTabTitleUnregister"],[0,"calciteInternalTabRegister","calciteInternalTabRegister"],[16,"calciteTabUnregister","calciteTabUnregister"]],{position:["handleInheritableProps"],scale:["handleInheritableProps"]}]);function Dae(){if(typeof customElements>"u")return;["calcite-tabs"].forEach(e=>{switch(e){case"calcite-tabs":customElements.get(e)||customElements.define(e,Nae);break}})}Dae();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.0.0
 */const zae={container:"tab-nav"},Fae=":host{position:relative;display:flex}.scale-s{min-block-size:1.5rem}.scale-m{min-block-size:2rem}.scale-l{min-block-size:2.75rem}:host([layout=center]:not([bordered])){padding-inline:1.25rem}:host([layout=center]:not([bordered])) .tab-nav ::slotted(calcite-tab-title:last-child){margin-inline-end:0px}:host(:not([bordered])) .scale-l ::slotted(calcite-tab-title){margin-inline-end:1.5rem}:host(:not([bordered])) .scale-m ::slotted(calcite-tab-title){margin-inline-end:1.25rem}:host(:not([bordered])) .scale-s ::slotted(calcite-tab-title){margin-inline-end:1rem}.tab-nav{display:flex;inline-size:100%;justify-content:flex-start;overflow:auto}.tab-nav-active-indicator-container{position:absolute;inset-inline:0px;inset-block-end:0px;block-size:0.125rem;inline-size:100%;overflow:hidden}.tab-nav-active-indicator{position:absolute;inset-block-end:0px;display:block;block-size:0.125rem;background-color:var(--calcite-color-brand);transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms;transition-timing-function:cubic-bezier(0, 0, 0.2, 1)}:host([layout=center]) .tab-nav{justify-content:space-evenly}:host .position-bottom .tab-nav-active-indicator{inset-block-end:unset;inset-block-start:0px}:host .position-bottom .tab-nav-active-indicator-container{inset-block-end:unset;inset-block-start:0px}:host([bordered]) .tab-nav-active-indicator-container{inset-block-end:unset}:host([bordered]) .position-bottom .tab-nav-active-indicator-container{inset-block-end:0;inset-block-start:unset}@media (forced-colors: active){.tab-nav-active-indicator{background-color:highlight}}:host([hidden]){display:none}[hidden]{display:none}",jae=Xe(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteTabChange=he(this,"calciteTabChange",6),this.calciteInternalTabChange=he(this,"calciteInternalTabChange",6),this.animationActiveDuration=.3,this.resizeObserver=St("resize",()=>{this.activeIndicatorEl&&(this.activeIndicatorEl.style.transitionDuration="0s",this.updateActiveWidth(),this.updateOffsetPosition())}),this.handleTabFocus=(e,i,n)=>{kre(this.enabledTabTitles,i,n),e.stopPropagation()},this.handleContainerScroll=()=>{this.activeIndicatorEl.style.transitionDuration="0s",this.updateOffsetPosition()},this.storageId=void 0,this.syncId=void 0,this.selectedTitle=null,this.scale="m",this.layout="inline",this.position="bottom",this.bordered=!1,this.indicatorOffset=void 0,this.indicatorWidth=void 0,this.selectedTabId=void 0}async selectedTabIdChanged(){localStorage&&this.storageId&&this.selectedTabId!==void 0&&this.selectedTabId!==null&&localStorage.setItem(`calcite-tab-nav-${this.storageId}`,JSON.stringify(this.selectedTabId)),this.calciteInternalTabChange.emit({tab:this.selectedTabId}),this.selectedTitle=await this.getTabTitleById(this.selectedTabId)}selectedTitleChanged(){this.updateOffsetPosition(),this.updateActiveWidth(),this.activeIndicatorEl.style.transitionDuration=`${this.animationActiveDuration}s`}connectedCallback(){var e;this.parentTabsEl=this.el.closest("calcite-tabs"),(e=this.resizeObserver)==null||e.observe(this.el)}componentWillLoad(){const e=`calcite-tab-nav-${this.storageId}`;if(localStorage&&this.storageId&&localStorage.getItem(e)){const i=JSON.parse(localStorage.getItem(e));this.selectedTabId=i}}componentWillRender(){const{parentTabsEl:e}=this;this.layout=e==null?void 0:e.layout,this.bordered=e==null?void 0:e.bordered,this.selectedTitle&&this.updateOffsetPosition()}componentDidRender(){this.tabTitles.length&&this.tabTitles.every(e=>!e.selected)&&!this.selectedTabId&&this.tabTitles[0].getTabIdentifier().then(e=>{this.calciteInternalTabChange.emit({tab:e})})}disconnectedCallback(){var e;(e=this.resizeObserver)==null||e.disconnect()}render(){const e=Hn(this.el),i=`${this.indicatorWidth}px`,n=`${this.indicatorOffset}px`,r=e!=="rtl"?{width:i,left:n}:{width:i,right:n};return S(hi,{role:"tablist"},S("div",{class:{[zae.container]:!0,[`scale-${this.scale}`]:!0,[`position-${this.position}`]:!0},onScroll:this.handleContainerScroll,ref:s=>this.tabNavEl=s},S("slot",null),S("div",{class:"tab-nav-active-indicator-container",ref:s=>this.activeIndicatorContainerEl=s},S("div",{class:"tab-nav-active-indicator",style:r,ref:s=>this.activeIndicatorEl=s}))))}focusPreviousTabHandler(e){this.handleTabFocus(e,e.target,"previous")}focusNextTabHandler(e){this.handleTabFocus(e,e.target,"next")}focusFirstTabHandler(e){this.handleTabFocus(e,e.target,"first")}focusLastTabHandler(e){this.handleTabFocus(e,e.target,"last")}internalActivateTabHandler(e){this.selectedTabId=e.detail.tab?e.detail.tab:this.getIndexOfTabTitle(e.target),e.stopPropagation()}activateTabHandler(e){this.calciteTabChange.emit(),e.stopPropagation()}internalCloseTabHandler(e){const i=e.target;this.handleTabTitleClose(i),e.stopPropagation()}updateTabTitles(e){e.target.selected&&(this.selectedTabId=e.detail)}globalInternalTabChangeHandler(e){this.syncId&&e.target!==this.el&&e.target.syncId===this.syncId&&this.selectedTabId!==e.detail.tab&&(this.selectedTabId=e.detail.tab),e.stopPropagation()}iconStartChangeHandler(){this.updateActiveWidth(),this.updateOffsetPosition()}updateOffsetPosition(){var o,a,l,u,p;const e=Hn(this.el),i=(o=this.activeIndicatorContainerEl)==null?void 0:o.offsetWidth,n=(a=this.selectedTitle)==null?void 0:a.offsetLeft,r=(l=this.selectedTitle)==null?void 0:l.offsetWidth,s=i-(n+r);this.indicatorOffset=e!=="rtl"?n-((u=this.tabNavEl)==null?void 0:u.scrollLeft):s+((p=this.tabNavEl)==null?void 0:p.scrollLeft)}updateActiveWidth(){var e;this.indicatorWidth=(e=this.selectedTitle)==null?void 0:e.offsetWidth}getIndexOfTabTitle(e,i=this.tabTitles){return i.indexOf(e)}async getTabTitleById(e){return Promise.all(this.tabTitles.map(i=>i.getTabIdentifier())).then(i=>this.tabTitles[i.indexOf(e)])}get tabTitles(){return ck(this.el,"calcite-tab-title")}get enabledTabTitles(){return ck(this.el,"calcite-tab-title:not([disabled])").filter(e=>!e.closed)}handleTabTitleClose(e){const{tabTitles:i}=this,n=i.reduce((s,o,a)=>o.closed?s:[...s,a],[]),r=n.length;if(r===1&&i[n[0]].closable)i[n[0]].closable=!1,this.selectedTabId=n[0];else if(r>1){const s=i.findIndex(a=>a===e),o=n.find(a=>a>s);this.selectedTabId===s&&(this.selectedTabId=o||r-1)}requestAnimationFrame(()=>{this.updateOffsetPosition(),this.updateActiveWidth(),i[this.selectedTabId].focus()})}get el(){return this}static get watchers(){return{selectedTabId:["selectedTabIdChanged"],selectedTitle:["selectedTitleChanged"]}}static get style(){return Fae}},[1,"calcite-tab-nav",{storageId:[513,"storage-id"],syncId:[513,"sync-id"],selectedTitle:[1040],scale:[1],layout:[1537],position:[1],bordered:[1540],indicatorOffset:[1026,"indicator-offset"],indicatorWidth:[1026,"indicator-width"],selectedTabId:[32]},[[0,"calciteInternalTabsFocusPrevious","focusPreviousTabHandler"],[0,"calciteInternalTabsFocusNext","focusNextTabHandler"],[0,"calciteInternalTabsFocusFirst","focusFirstTabHandler"],[0,"calciteInternalTabsFocusLast","focusLastTabHandler"],[0,"calciteInternalTabsActivate","internalActivateTabHandler"],[0,"calciteTabsActivate","activateTabHandler"],[0,"calciteInternalTabsClose","internalCloseTabHandler"],[0,"calciteInternalTabTitleRegister","updateTabTitles"],[16,"calciteInternalTabChange","globalInternalTabChangeHandler"],[0,"calciteInternalTabIconChanged","iconStartChangeHandler"]],{selectedTabId:["selectedTabIdChanged"],selectedTitle:["selectedTitleChanged"]}]);function Uae(){if(typeof customElements>"u")return;["calcite-tab-nav"].forEach(e=>{switch(e){case"calcite-tab-nav":customElements.get(e)||customElements.define(e,jae);break}})}Uae();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.0.0
 */const ss={closeButton:"close-button",container:"container",content:"content",contentHasText:"content--has-text",iconEnd:"icon-end",iconPresent:"icon-present",iconStart:"icon-start",titleIcon:"calcite-tab-title--icon"},Hae={close:"x"},Bae=`:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:block;outline:2px solid transparent;outline-offset:2px;margin-inline-start:0px}:host([layout=inline]){flex:0 1 auto}:host([layout=center]){flex:1 1 auto}:host([layout=center]) .scale-s,:host([layout=center]) .scale-m,:host([layout=center]) .scale-l{margin-block:0px;text-align:center;flex-basis:12rem}:host([layout=center]) .scale-s .content,:host([layout=center]) .scale-m .content,:host([layout=center]) .scale-l .content{margin:auto}:host([layout=center][closable]) .content{padding-inline-start:32px}:host([layout=center][bordered][closable]) .scale-s .content{padding-inline-start:36px}:host([layout=center][bordered][closable]) .scale-m .content{padding-inline-start:40px}:host([layout=center][closable]) .scale-l .content{padding-inline-start:40px}:host([layout=center][closable][bordered]) .scale-s .content{padding-inline-start:52px}:host([position=bottom]) .container{border-block-end-width:0px;border-block-start-width:2px;border-block-start-color:transparent;border-block-start-style:solid}:host([closed]){display:none}.container{outline-color:transparent}:host(:focus) .container{outline:2px solid var(--calcite-color-brand);outline-offset:calc(
            -2px *
            calc(
              1 -
              2 * clamp(
                0,
                var(--calcite-offset-invert-focus),
                1
              )
            )
          )}:host(:focus) .container:focus-within{outline-color:transparent}:host(:active) a,:host(:focus) a,:host(:hover) a{border-color:var(--calcite-color-border-2);color:var(--calcite-color-text-1);text-decoration-line:none}:host([selected]) .container{border-color:transparent;color:var(--calcite-color-text-1)}:host([disabled]) .container{pointer-events:none;opacity:0.5}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.scale-s .content{padding-block:0.25rem;font-size:var(--calcite-font-size--2);line-height:1rem}.scale-m .content{padding-block:0.5rem;font-size:var(--calcite-font-size--1);line-height:1rem}.scale-l .content{padding-block:0.625rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}.container{box-sizing:border-box;display:flex;block-size:100%;inline-size:100%;cursor:pointer;align-content:center;justify-content:space-between;border-block-end-width:2px;padding-inline:0px;font-size:var(--calcite-font-size--1);line-height:1rem;color:var(--calcite-color-text-3);transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;border-block-end-color:transparent;border-block-end-style:solid}.content{display:flex;align-items:center;justify-content:center}.calcite-tab-title--icon{position:relative;margin:0px;display:inline-flex;align-self:center}.calcite-tab-title--icon svg{transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s}.content--has-text{padding:0.25rem}.content--has-text .calcite-tab-title--icon.icon-start{margin-inline-end:0.5rem}.content--has-text .calcite-tab-title--icon.icon-end{margin-inline-start:0.5rem}.close-button{display:flex;cursor:pointer;appearance:none;align-content:center;align-items:center;justify-content:center;align-self:center;border-style:none;background-color:var(--calcite-color-foreground-1);color:var(--calcite-color-text-3);outline-color:transparent;transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;block-size:calc(100% - 2px);background-color:var(--calcite-button-transparent-1);margin-inline-start:auto}.close-button:focus{outline:2px solid var(--calcite-color-brand);outline-offset:calc(
            -2px *
            calc(
              1 -
              2 * clamp(
                0,
                var(--calcite-offset-invert-focus),
                1
              )
            )
          );outline-offset:-1px}.close-button:focus,.close-button:hover{color:var(--calcite-color-text-1);background-color:var(--calcite-color-foreground-2)}.close-button:active{color:var(--calcite-color-text-1);background-color:var(--calcite-color-foreground-3)}.close-button calcite-icon{color:inherit}:host([icon-start][icon-end]) .calcite-tab-title--icon:first-child{margin-inline-end:0.5rem}:host([bordered]){margin-inline-end:0}:host([bordered][selected]){box-shadow:inset 0px -2px var(--calcite-color-foreground-1)}:host([bordered][selected][position=bottom]){box-shadow:inset 0 2px 0 var(--calcite-color-foreground-1)}:host([bordered]:hover) .container,:host([bordered]:focus) .container,:host([bordered]:active) .container{position:relative}:host([bordered]:hover) .container{background-color:var(--calcite-color-transparent-hover)}:host([closable]) .container,:host([bordered]) .container{border-inline-start:1px solid transparent;border-inline-end:1px solid transparent}:host([closable]) .container .close-button,:host([bordered]) .container .close-button{margin-inline:0}:host([closable]) .content{box-sizing:border-box;block-size:100%;border-block-end-color:transparent}:host([closable][position=bottom]) .container,:host([bordered][position=bottom]) .container{border-block-start-style:unset}:host([selected][bordered]) .container{border-inline-start-color:var(--calcite-color-border-1);border-inline-end-color:var(--calcite-color-border-1)}:host([bordered]) .content{padding-inline:0.75rem}:host([bordered]) .scale-s .content{padding-inline:0.5rem}:host([bordered]) .scale-l .content{padding-inline:1rem}@media (forced-colors: active){:host{outline-width:0;outline-offset:0}:host(:focus) .container{outline-color:highlight}:host([bordered]) .container{border-block-end-style:solid}:host([bordered][position=bottom]) .container{border-block-start-style:solid}:host([bordered][selected]) .container{border-block-end-style:none}:host([bordered][position=bottom][selected]) .container{border-block-start-style:none}.close-button{z-index:var(--calcite-z-index)}}:host([hidden]){display:none}[hidden]{display:none}`,Gae=Xe(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteTabsActivate=he(this,"calciteTabsActivate",6),this.calciteInternalTabsActivate=he(this,"calciteInternalTabsActivate",6),this.calciteTabsClose=he(this,"calciteTabsClose",6),this.calciteInternalTabsClose=he(this,"calciteInternalTabsClose",6),this.calciteInternalTabsFocusNext=he(this,"calciteInternalTabsFocusNext",6),this.calciteInternalTabsFocusPrevious=he(this,"calciteInternalTabsFocusPrevious",6),this.calciteInternalTabsFocusFirst=he(this,"calciteInternalTabsFocusFirst",6),this.calciteInternalTabsFocusLast=he(this,"calciteInternalTabsFocusLast",6),this.calciteInternalTabTitleRegister=he(this,"calciteInternalTabTitleRegister",6),this.calciteInternalTabIconChanged=he(this,"calciteInternalTabIconChanged",6),this.closeClickHandler=()=>{this.closeTabTitleAndNotify()},this.mutationObserver=St("mutation",()=>this.updateHasText()),this.resizeObserver=St("resize",()=>{this.calciteInternalTabIconChanged.emit()}),this.guid=`calcite-tab-title-${oa()}`,this.selected=!1,this.closable=!1,this.closed=!1,this.disabled=!1,this.iconEnd=void 0,this.iconFlipRtl=void 0,this.iconStart=void 0,this.layout=void 0,this.position="top",this.scale="m",this.bordered=!1,this.tab=void 0,this.messages=void 0,this.messageOverrides=void 0,this.controls=void 0,this.defaultMessages=void 0,this.effectiveLocale=void 0,this.hasText=!1}selectedHandler(){this.selected&&this.emitActiveTab(!1)}onMessagesChange(){}connectedCallback(){la(this),er(this),rr(this),this.setupTextContentObserver(),this.parentTabNavEl=this.el.closest("calcite-tab-nav"),this.parentTabsEl=this.el.closest("calcite-tabs")}disconnectedCallback(){var e,i,n;(e=this.mutationObserver)==null||e.disconnect(),(i=document.body)==null||i.dispatchEvent(new CustomEvent("calciteTabTitleUnregister",{detail:this.el})),(n=this.resizeObserver)==null||n.disconnect(),ca(this),tr(this),sr(this)}async componentWillLoad(){await ir(this),this.updateHasText(),this.tab&&this.selected&&this.emitActiveTab(!1)}componentWillRender(){this.parentTabsEl&&(this.layout=this.parentTabsEl.layout,this.bordered=this.parentTabsEl.bordered)}render(){const{el:e,closed:i}=this,n=e.id||this.guid,r=S("calcite-icon",{class:{[ss.titleIcon]:!0,[ss.iconStart]:!0},flipRtl:this.iconFlipRtl==="start"||this.iconFlipRtl==="both",icon:this.iconStart,scale:Mt(this.scale)}),s=S("calcite-icon",{class:{[ss.titleIcon]:!0,[ss.iconEnd]:!0},flipRtl:this.iconFlipRtl==="end"||this.iconFlipRtl==="both",icon:this.iconEnd,scale:Mt(this.scale)});return S(hi,{"aria-controls":this.controls,"aria-selected":Qt(this.selected),id:n,role:"tab",tabIndex:this.selected?0:-1},S("div",{class:{container:!0,[ss.iconPresent]:!!this.iconStart||!!this.iconEnd,[`scale-${this.scale}`]:!0},hidden:i,ref:o=>{var a;return(a=this.resizeObserver)==null?void 0:a.observe(o)}},S("div",{class:{[ss.content]:!0,[ss.contentHasText]:this.hasText}},this.iconStart?r:null,S("slot",null),this.iconEnd?s:null),this.renderCloseButton()))}renderCloseButton(){const{closable:e,messages:i}=this;return e?S("button",{"aria-label":i.close,class:ss.closeButton,disabled:!1,key:ss.closeButton,onClick:this.closeClickHandler,title:i.close,type:"button",ref:n=>this.closeButtonEl=n},S("calcite-icon",{icon:Hae.close,scale:Mt(this.scale)})):null}async componentDidLoad(){this.calciteInternalTabTitleRegister.emit(await this.getTabIdentifier())}componentDidRender(){aa(this,()=>this.selected)}internalTabChangeHandler(e){e.composedPath().find(n=>n.tagName==="CALCITE-TABS")===this.parentTabsEl&&(this.tab?this.selected=this.tab===e.detail.tab:this.getTabIndex().then(n=>{this.selected=n===e.detail.tab}),e.stopPropagation())}onClick(){this.disabled||this.emitActiveTab()}keyDownHandler(e){switch(e.key){case" ":case"Enter":e.composedPath().includes(this.closeButtonEl)||(this.emitActiveTab(),e.preventDefault());break;case"ArrowRight":e.preventDefault(),Hn(this.el)==="ltr"?this.calciteInternalTabsFocusNext.emit():this.calciteInternalTabsFocusPrevious.emit();break;case"ArrowLeft":e.preventDefault(),Hn(this.el)==="ltr"?this.calciteInternalTabsFocusPrevious.emit():this.calciteInternalTabsFocusNext.emit();break;case"Home":e.preventDefault(),this.calciteInternalTabsFocusFirst.emit();break;case"End":e.preventDefault(),this.calciteInternalTabsFocusLast.emit();break}}async getTabIndex(){return Array.prototype.indexOf.call(Q5(this.el.parentElement.children).filter(e=>e.matches("calcite-tab-title")),this.el)}async getTabIdentifier(){return this.tab?this.tab:this.getTabIndex()}async updateAriaInfo(e=[],i=[]){this.controls=e[i.indexOf(this.el.id)]||null}effectiveLocaleChange(){nr(this,this.effectiveLocale)}updateHasText(){this.hasText=this.el.textContent.trim().length>0}setupTextContentObserver(){var e;(e=this.mutationObserver)==null||e.observe(this.el,{childList:!0,subtree:!0})}emitActiveTab(e=!0){if(this.disabled||this.closed)return;const i={tab:this.tab};this.calciteInternalTabsActivate.emit(i),e&&requestAnimationFrame(()=>this.calciteTabsActivate.emit())}closeTabTitleAndNotify(){this.closed=!0,this.calciteInternalTabsClose.emit({tab:this.tab}),this.calciteTabsClose.emit()}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{selected:["selectedHandler"],messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return Bae}},[1,"calcite-tab-title",{selected:[1540],closable:[516],closed:[1540],disabled:[516],iconEnd:[513,"icon-end"],iconFlipRtl:[513,"icon-flip-rtl"],iconStart:[513,"icon-start"],layout:[1537],position:[1],scale:[1],bordered:[1540],tab:[513],messages:[1040],messageOverrides:[1040],controls:[32],defaultMessages:[32],effectiveLocale:[32],hasText:[32],getTabIndex:[64],getTabIdentifier:[64],updateAriaInfo:[64]},[[16,"calciteInternalTabChange","internalTabChangeHandler"],[0,"click","onClick"],[0,"keydown","keyDownHandler"]],{selected:["selectedHandler"],messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}]);function Vae(){if(typeof customElements>"u")return;["calcite-tab-title","calcite-icon"].forEach(e=>{switch(e){case"calcite-tab-title":customElements.get(e)||customElements.define(e,Gae);break;case"calcite-icon":customElements.get(e)||pn();break}})}Vae();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.0.0
 */const Kk={container:"container",content:"content"},Wae=":host([selected]) section,:host([selected]) .container{display:block}:host{display:none;block-size:100%;inline-size:100%}:host([selected]){display:block;block-size:100%;inline-size:100%;overflow:auto}.scale-s .content{padding-block:0.25rem;font-size:var(--calcite-font-size--2);line-height:1rem}.scale-m .content{padding-block:0.5rem;font-size:var(--calcite-font-size--1);line-height:1rem}.scale-l .content{padding-block:0.625rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}section,.container{display:none;block-size:100%;inline-size:100%}:host([hidden]){display:none}[hidden]{display:none}",qae=Xe(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteInternalTabRegister=he(this,"calciteInternalTabRegister",6),this.guid=`calcite-tab-title-${oa()}`,this.tab=void 0,this.selected=!1,this.scale="m",this.labeledBy=void 0}render(){const e=this.el.id||this.guid;return S(hi,{"aria-labelledby":this.labeledBy,id:e},S("div",{class:{[Kk.container]:!0,[`scale-${this.scale}`]:!0},role:"tabpanel",tabIndex:this.selected?0:-1},S("section",{class:Kk.content},S("slot",null))))}connectedCallback(){this.parentTabsEl=this.el.closest("calcite-tabs")}componentDidLoad(){this.calciteInternalTabRegister.emit()}disconnectedCallback(){var e;(e=document.body)==null||e.dispatchEvent(new CustomEvent("calciteTabUnregister",{detail:this.el}))}internalTabChangeHandler(e){e.composedPath().find(n=>n.tagName==="CALCITE-TABS")===this.parentTabsEl&&(this.tab?this.selected=this.tab===e.detail.tab:this.getTabIndex().then(n=>{this.selected=n===e.detail.tab}),e.stopPropagation())}async getTabIndex(){return Array.prototype.indexOf.call(Q5(this.el.parentElement.children).filter(e=>e.matches("calcite-tab")),this.el)}async updateAriaInfo(e=[],i=[]){this.labeledBy=i[e.indexOf(this.el.id)]||null}get el(){return this}static get style(){return Wae}},[1,"calcite-tab",{tab:[513],selected:[1540],scale:[1],labeledBy:[32],getTabIndex:[64],updateAriaInfo:[64]},[[16,"calciteInternalTabChange","internalTabChangeHandler"]]]);function Zae(){if(typeof customElements>"u")return;["calcite-tab"].forEach(e=>{switch(e){case"calcite-tab":customElements.get(e)||customElements.define(e,qae);break}})}Zae();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.0.0
 */const Jae={container:"container"},Kae=300,Yae=500,Yk="aria-describedby";function JN(t){const{referenceElement:e}=t;return(typeof e=="string"?m0(t,{id:e}):e)||null}class Xae{constructor(){this.registeredElements=new WeakMap,this.registeredShadowRootCounts=new WeakMap,this.hoverOpenTimeout=null,this.hoverCloseTimeout=null,this.hoveredTooltip=null,this.clickedTooltip=null,this.activeTooltip=null,this.registeredElementCount=0,this.queryTooltip=e=>{const{registeredElements:i}=this,n=e.find(r=>i.has(r));return i.get(n)},this.keyDownHandler=e=>{if(e.key==="Escape"&&!e.defaultPrevented){const{activeTooltip:i}=this;if(i!=null&&i.open){this.clearHoverTimeout(),this.closeActiveTooltip();const n=JN(i);n instanceof Element&&n.contains(e.target)&&e.preventDefault()}}},this.pointerMoveHandler=e=>{const i=e.composedPath(),{activeTooltip:n}=this;if((n==null?void 0:n.open)&&i.includes(n)){this.clearHoverTimeout();return}const s=this.queryTooltip(i);this.hoveredTooltip=s,!this.isClosableClickedTooltip(s)&&(this.clickedTooltip=null,s?this.openHoveredTooltip(s):n&&this.closeHoveredTooltip())},this.pointerDownHandler=e=>{if(!jl(e))return;const i=this.queryTooltip(e.composedPath());this.clickedTooltip=i,i!=null&&i.closeOnClick&&(this.toggleTooltip(i,!1),this.clearHoverTimeout())},this.focusInHandler=e=>{this.queryFocusedTooltip(e,!0)},this.focusOutHandler=e=>{this.queryFocusedTooltip(e,!1)},this.openHoveredTooltip=e=>{this.hoverOpenTimeout=window.setTimeout(()=>{this.hoverOpenTimeout!==null&&(this.clearHoverCloseTimeout(),this.activeTooltip!==this.hoveredTooltip&&(this.closeActiveTooltip(),e===this.hoveredTooltip&&this.toggleTooltip(e,!0)))},this.activeTooltip?0:Kae)},this.closeHoveredTooltip=()=>{this.hoverCloseTimeout=window.setTimeout(()=>{this.hoverCloseTimeout!==null&&this.closeActiveTooltip()},Yae)}}registerElement(e,i){this.registeredElementCount++,this.registeredElements.set(e,i);const n=this.getReferenceElShadowRootNode(e);n&&this.registerShadowRoot(n),this.registeredElementCount===1&&this.addListeners()}unregisterElement(e){const i=this.getReferenceElShadowRootNode(e);i&&this.unregisterShadowRoot(i),this.registeredElements.delete(e)&&this.registeredElementCount--,this.registeredElementCount===0&&this.removeListeners()}addShadowListeners(e){e.addEventListener("focusin",this.focusInHandler,{capture:!0}),e.addEventListener("focusout",this.focusOutHandler,{capture:!0})}removeShadowListeners(e){e.removeEventListener("focusin",this.focusInHandler,{capture:!0}),e.removeEventListener("focusout",this.focusOutHandler,{capture:!0})}addListeners(){window.addEventListener("keydown",this.keyDownHandler,{capture:!0}),window.addEventListener("pointermove",this.pointerMoveHandler,{capture:!0}),window.addEventListener("pointerdown",this.pointerDownHandler,{capture:!0}),window.addEventListener("focusin",this.focusInHandler,{capture:!0}),window.addEventListener("focusout",this.focusOutHandler,{capture:!0})}removeListeners(){window.removeEventListener("keydown",this.keyDownHandler,{capture:!0}),window.removeEventListener("pointermove",this.pointerMoveHandler,{capture:!0}),window.removeEventListener("pointerdown",this.pointerDownHandler,{capture:!0}),window.removeEventListener("focusin",this.focusInHandler,{capture:!0}),window.removeEventListener("focusout",this.focusOutHandler,{capture:!0})}clearHoverOpenTimeout(){window.clearTimeout(this.hoverOpenTimeout),this.hoverOpenTimeout=null}clearHoverCloseTimeout(){window.clearTimeout(this.hoverCloseTimeout),this.hoverCloseTimeout=null}clearHoverTimeout(){this.clearHoverOpenTimeout(),this.clearHoverCloseTimeout()}closeActiveTooltip(){const{activeTooltip:e}=this;e!=null&&e.open&&this.toggleTooltip(e,!1)}toggleFocusedTooltip(e,i){this.closeActiveTooltip(),i&&this.clearHoverTimeout(),this.toggleTooltip(e,i)}toggleTooltip(e,i){e.open=i,this.activeTooltip=i?e:null}queryFocusedTooltip(e,i){const n=this.queryTooltip(e.composedPath());!n||this.isClosableClickedTooltip(n)||this.toggleFocusedTooltip(n,i)}isClosableClickedTooltip(e){return(e==null?void 0:e.closeOnClick)&&e===this.clickedTooltip}registerShadowRoot(e){const{registeredShadowRootCounts:i}=this,n=(i.get(e)??0)+1;n===1&&this.addShadowListeners(e),i.set(e,n)}unregisterShadowRoot(e){const{registeredShadowRootCounts:i}=this,n=i.get(e)-1;n===0&&this.removeShadowListeners(e),i.set(e,n)}getReferenceElShadowRootNode(e){return e instanceof Element?gre(e):null}}const Qae=":host{--calcite-floating-ui-z-index:var(--calcite-tooltip-z-index, var(--calcite-z-index-tooltip));display:block;position:absolute;z-index:var(--calcite-floating-ui-z-index)}.calcite-floating-ui-anim{position:relative;transition:var(--calcite-floating-ui-transition);transition-property:transform, visibility, opacity;opacity:0;box-shadow:0 0 16px 0 rgba(0, 0, 0, 0.16);z-index:var(--calcite-z-index);border-radius:0.25rem}:host([data-placement^=bottom]) .calcite-floating-ui-anim{transform:translateY(-5px)}:host([data-placement^=top]) .calcite-floating-ui-anim{transform:translateY(5px)}:host([data-placement^=left]) .calcite-floating-ui-anim{transform:translateX(5px)}:host([data-placement^=right]) .calcite-floating-ui-anim{transform:translateX(-5px)}:host([data-placement]) .calcite-floating-ui-anim--active{opacity:1;transform:translate(0)}:host([calcite-hydrated-hidden]){visibility:hidden !important;pointer-events:none}.calcite-floating-ui-arrow{pointer-events:none;position:absolute;z-index:calc(var(--calcite-z-index) * -1);fill:var(--calcite-color-foreground-1)}.calcite-floating-ui-arrow__stroke{stroke:var(--calcite-color-border-3)}.container{position:relative;overflow:hidden;border-radius:0.25rem;padding-block:0.75rem;padding-inline:1rem;font-size:var(--calcite-font-size--2);line-height:1.375;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-color-text-1);max-inline-size:20rem;max-block-size:20rem;text-align:start}.calcite-floating-ui-anim{border-radius:0.25rem;border-width:1px;border-style:solid;border-color:var(--calcite-color-border-3);background-color:var(--calcite-color-foreground-1)}.arrow::before{outline:1px solid var(--calcite-color-border-3)}:host([hidden]){display:none}[hidden]{display:none}",Xk=new Xae,ele=Xe(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteTooltipBeforeClose=he(this,"calciteTooltipBeforeClose",6),this.calciteTooltipClose=he(this,"calciteTooltipClose",6),this.calciteTooltipBeforeOpen=he(this,"calciteTooltipBeforeOpen",6),this.calciteTooltipOpen=he(this,"calciteTooltipOpen",6),this.guid=`calcite-tooltip-${oa()}`,this.hasLoaded=!1,this.openTransitionProp="opacity",this.setTransitionEl=e=>{this.transitionEl=e},this.setUpReferenceElement=(e=!0)=>{this.removeReferences(),this.effectiveReferenceElement=JN(this.el),yy(this,this.effectiveReferenceElement,this.el);const{el:i,referenceElement:n,effectiveReferenceElement:r}=this;e&&n&&!r&&console.warn(`${i.tagName}: reference-element id "${n}" was not found.`,{el:i}),this.addReferences()},this.getId=()=>this.el.id||this.guid,this.addReferences=()=>{const{effectiveReferenceElement:e}=this;if(!e)return;const i=this.getId();"setAttribute"in e&&e.setAttribute(Yk,i),Xk.registerElement(e,this.el)},this.removeReferences=()=>{const{effectiveReferenceElement:e}=this;e&&("removeAttribute"in e&&e.removeAttribute(Yk),Xk.unregisterElement(e))},this.closeOnClick=!1,this.label=void 0,this.offsetDistance=GN,this.offsetSkidding=0,this.open=!1,this.overlayPositioning="absolute",this.placement="auto",this.referenceElement=void 0,this.effectiveReferenceElement=void 0,this.floatingLayout="vertical"}offsetDistanceOffsetHandler(){this.reposition(!0)}offsetSkiddingHandler(){this.reposition(!0)}openHandler(){xl(this)}overlayPositioningHandler(){this.reposition(!0)}placementHandler(){this.reposition(!0)}referenceElementHandler(){this.setUpReferenceElement()}connectedCallback(){this.setUpReferenceElement(this.hasLoaded),this.open&&xl(this),yy(this,this.effectiveReferenceElement,this.el)}async componentWillLoad(){this.open&&xl(this)}componentDidLoad(){this.referenceElement&&!this.effectiveReferenceElement&&this.setUpReferenceElement(),this.reposition(!0),this.hasLoaded=!0}disconnectedCallback(){this.removeReferences(),Ax(this,this.effectiveReferenceElement,this.el)}async reposition(e=!1){const{el:i,effectiveReferenceElement:n,placement:r,overlayPositioning:s,offsetDistance:o,offsetSkidding:a,arrowEl:l}=this;return BN(this,{floatingEl:i,referenceEl:n,overlayPositioning:s,placement:r,offsetDistance:o,offsetSkidding:a,arrowEl:l,type:"tooltip"},e)}onBeforeOpen(){this.reposition(!0),this.calciteTooltipBeforeOpen.emit()}onOpen(){this.calciteTooltipOpen.emit()}onBeforeClose(){this.calciteTooltipBeforeClose.emit()}onClose(){this.calciteTooltipClose.emit(),this.reposition(!0)}render(){const{effectiveReferenceElement:e,label:i,open:n,floatingLayout:r}=this,s=e&&n,o=!s;return S(hi,{"aria-hidden":Qt(o),"aria-label":i,"aria-live":"polite","calcite-hydrated-hidden":o,id:this.getId(),role:"tooltip"},S("div",{class:{[my.animation]:!0,[my.animationActive]:s},ref:this.setTransitionEl},S(WN,{floatingLayout:r,ref:a=>this.arrowEl=a}),S("div",{class:Jae.container},S("slot",null))))}get el(){return this}static get watchers(){return{offsetDistance:["offsetDistanceOffsetHandler"],offsetSkidding:["offsetSkiddingHandler"],open:["openHandler"],overlayPositioning:["overlayPositioningHandler"],placement:["placementHandler"],referenceElement:["referenceElementHandler"]}}static get style(){return Qae}},[1,"calcite-tooltip",{closeOnClick:[516,"close-on-click"],label:[1],offsetDistance:[514,"offset-distance"],offsetSkidding:[514,"offset-skidding"],open:[516],overlayPositioning:[513,"overlay-positioning"],placement:[513],referenceElement:[1,"reference-element"],effectiveReferenceElement:[32],floatingLayout:[32],reposition:[64]},void 0,{offsetDistance:["offsetDistanceOffsetHandler"],offsetSkidding:["offsetSkiddingHandler"],open:["openHandler"],overlayPositioning:["overlayPositioningHandler"],placement:["placementHandler"],referenceElement:["referenceElementHandler"]}]);function tle(){if(typeof customElements>"u")return;["calcite-tooltip"].forEach(e=>{switch(e){case"calcite-tooltip":customElements.get(e)||customElements.define(e,ele);break}})}tle();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.0.0
 */var ile="Expected a function";function nle(t,e,i){var n=!0,r=!0;if(typeof t!="function")throw new TypeError(ile);return uy(i)&&(n="leading"in i?!!i.leading:n,r="trailing"in i?!!i.trailing:r),IN(t,e,{leading:n,maxWait:e,trailing:r})}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.0.0
 */const gi={assistiveText:"assistive-text",characterLimit:"character-limit",content:"content",container:"container",footer:"footer",resizeDisabled:"resize--disabled",resizeDisabledX:"resize--disabled-x",resizeDisabledY:"resize--disabled-y",characterOverLimit:"character--over-limit",readOnly:"readonly",textAreaInvalid:"text-area--invalid",footerSlotted:"footer--slotted",borderColor:"border--color",hide:"hide",blockSizeFull:"block-size--full",footerEndSlotOnly:"footer--end-only"},Qk={footerStart:"footer-start",footerEnd:"footer-end"},rle=100,sle=`:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{position:relative;display:inline-block;block-size:100%;inline-size:100%}textarea{position:relative;margin:0px;box-sizing:border-box;display:block;inline-size:100%;border-width:1px;border-color:var(--calcite-color-border-input);background-color:var(--calcite-color-foreground-1);font-family:var(--calcite-sans-family);color:var(--calcite-color-text-1);min-inline-size:12rem;border-block-end:1px solid var(--calcite-color-border-3)}@media screen and (max-width: 480px){textarea{resize:none}}textarea:focus{outline:2px solid var(--calcite-color-brand);outline-offset:calc(
            -2px *
            calc(
              1 -
              2 * clamp(
                0,
                var(--calcite-offset-invert-focus),
                1
              )
            )
          )}textarea.text-area--invalid{border-width:1px;border-block-end-width:1px;border-style:solid;border-color:var(--calcite-color-status-danger)}textarea.text-area--invalid:focus{outline:2px solid var(--calcite-color-status-danger);outline-offset:calc(
            -2px *
            calc(
              1 -
              2 * clamp(
                0,
                var(--calcite-offset-invert-focus),
                1
              )
            )
          )}textarea.footer--slotted{min-inline-size:18rem}.footer{box-sizing:border-box;display:flex;align-items:center;border-width:1px;border-block-start-width:0px;border-style:solid;border-color:var(--calcite-color-border-input);background-color:var(--calcite-color-foreground-1)}.character-limit{display:flex;align-items:center;justify-content:flex-end;white-space:nowrap;font-weight:var(--calcite-font-weight-normal);color:var(--calcite-color-text-2)}.character--over-limit{font-weight:var(--calcite-font-weight-bold);color:var(--calcite-color-status-danger)}:host([resize=none]) textarea{resize:none}:host([resize=horizontal]) textarea{resize:horizontal}:host([resize=vertical]) textarea{resize:vertical}:host([scale=s]){font-size:var(--calcite-font-size--2)}:host([scale=s]) .footer{padding-block:0.25rem;padding-inline:0.5rem;min-block-size:1.75rem}:host([scale=s]) textarea{padding-block:0.25rem;padding-inline:0.5rem}:host([scale=s]) textarea,:host([scale=s]) .footer,:host([scale=s]) .character-limit{padding-inline-start:0.5rem;font-size:var(--calcite-font-size--2)}:host([scale=m]) textarea{padding-block:0.5rem;padding-inline:0.75rem}:host([scale=m]) .footer{padding-block:0.5rem;padding-inline:0.75rem;min-block-size:2.25rem}:host([scale=m]) textarea,:host([scale=m]) .footer,:host([scale=m]) .character-limit{padding-inline-start:0.75rem;font-size:var(--calcite-font-size--1)}:host([scale=l]){font-size:var(--calcite-font-size-0)}:host([scale=l]) textarea{padding-block:0.75rem;padding-inline:1rem}:host([scale=l]) .footer{padding-block:0.75rem;padding-inline:1rem;min-block-size:2.75rem}:host([scale=l]) textarea,:host([scale=l]) .footer,:host([scale=l]) .character-limit{padding-inline-start:1rem;font-size:var(--calcite-font-size-0)}:host([status=invalid]) textarea{border-color:var(--calcite-color-status-danger)}:host([status=invalid]) textarea:focus{outline:2px solid var(--calcite-color-status-danger);outline-offset:calc(
            -2px *
            calc(
              1 -
              2 * clamp(
                0,
                var(--calcite-offset-invert-focus),
                1
              )
            )
          )}.readonly{background-color:var(--calcite-color-background);font-weight:var(--calcite-font-weight-medium)}:host([disabled]) textarea,:host([disabled]) footer{opacity:0.5}.border--color{border-block-end-width:1px;border-color:var(--calcite-color-border-input)}.border--color:focus{border-block-end-width:2px}textarea.block-size--full{block-size:100%}.content,.hide{display:none}.container{display:flex;inline-size:100%;justify-content:space-between}.footer--end-only{justify-content:flex-end}.assistive-text{position:absolute;inline-size:1px;block-size:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}::slotted(input[slot=hidden-form-input]){margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;inset:0 !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host([hidden]){display:none}[hidden]{display:none}`,ole=Xe(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteTextAreaInput=he(this,"calciteTextAreaInput",7),this.calciteTextAreaChange=he(this,"calciteTextAreaChange",7),this.guid=oa(),this.handleInput=e=>{this.value=e.target.value,this.calciteTextAreaInput.emit()},this.handleChange=()=>{this.calciteTextAreaChange.emit()},this.contentSlotChangeHandler=()=>{this.value||this.el.childNodes.forEach(i=>{i.nodeName==="#text"&&(this.value=i.nodeValue.trim())})},this.renderCharacterLimit=()=>this.maxLength?(this.localizedCharacterLengthObj=this.getLocalizedCharacterLength(),S("span",{class:gi.characterLimit},S("span",{class:{[gi.characterOverLimit]:this.isCharacterLimitExceeded()}},this.localizedCharacterLengthObj.currentLength),"/",this.localizedCharacterLengthObj.maxLength)):null,this.resizeObserver=St("resize",async()=>{await Vw(this);const{textAreaHeight:e,textAreaWidth:i,elHeight:n,elWidth:r,footerHeight:s,footerWidth:o}=this.getHeightAndWidthOfElements();o>0&&o!==i&&(this.footerEl.style.width=`${i}px`),(r!==i||n!==e+(s||0))&&this.setHeightAndWidthToAuto()}),this.setTextAreaEl=e=>{this.textAreaEl=e,this.resizeObserver.observe(e)},this.setHeightAndWidthToAuto=nle(()=>{(this.resize==="vertical"||this.resize==="both")&&(this.el.style.height="auto"),(this.resize==="horizontal"||this.resize==="both")&&(this.el.style.width="auto")},rle,{leading:!1}),this.autofocus=!1,this.columns=void 0,this.disabled=!1,this.form=void 0,this.groupSeparator=!1,this.label=void 0,this.maxLength=void 0,this.messages=void 0,this.name=void 0,this.numberingSystem=void 0,this.placeholder=void 0,this.readOnly=!1,this.required=!1,this.resize="both",this.rows=void 0,this.scale="m",this.status="idle",this.value=void 0,this.wrap="soft",this.messageOverrides=void 0,this.defaultMessages=void 0,this.endSlotHasElements=void 0,this.startSlotHasElements=void 0,this.effectiveLocale="",this.localizedCharacterLengthObj=void 0}onMessagesChange(){}connectedCallback(){la(this),ju(this),bx(this),er(this),rr(this)}async componentWillLoad(){Yn(this),await ir(this)}componentDidLoad(){Xn(this)}componentDidRender(){aa(this),this.setTextAreaHeight()}disconnectedCallback(){var e;ca(this),v0(this),wx(this),tr(this),sr(this),(e=this.resizeObserver)==null||e.disconnect()}render(){const e=this.startSlotHasElements||this.endSlotHasElements||!!this.maxLength;return S(hi,null,S("textarea",{"aria-describedby":this.guid,"aria-invalid":Qt(this.isCharacterLimitExceeded()),"aria-label":Yh(this),autofocus:this.autofocus,class:{[gi.readOnly]:this.readOnly,[gi.textAreaInvalid]:this.isCharacterLimitExceeded(),[gi.footerSlotted]:this.endSlotHasElements&&this.startSlotHasElements,[gi.blockSizeFull]:!e,[gi.borderColor]:!e},cols:this.columns,disabled:this.disabled,name:this.name,onChange:this.handleChange,onInput:this.handleInput,placeholder:this.placeholder,readonly:this.readOnly,required:this.required,rows:this.rows,value:this.value,wrap:this.wrap,ref:this.setTextAreaEl}),S("span",{class:{[gi.content]:!0}},S("slot",{onSlotchange:this.contentSlotChangeHandler})),S("footer",{class:{[gi.footer]:!0,[gi.readOnly]:this.readOnly,[gi.hide]:!e},ref:i=>this.footerEl=i},S("div",{class:{[gi.container]:!0,[gi.footerEndSlotOnly]:!this.startSlotHasElements&&this.endSlotHasElements}},S("slot",{name:Qk.footerStart,onSlotchange:i=>this.startSlotHasElements=De(i)}),S("slot",{name:Qk.footerEnd,onSlotchange:i=>this.endSlotHasElements=De(i)})),this.renderCharacterLimit()),S(_x,{component:this}),this.isCharacterLimitExceeded()&&S("span",{"aria-hidden":!0,"aria-live":"polite",class:gi.assistiveText,id:this.guid},this.replacePlaceHoldersInMessages()))}async setFocus(){await Qn(this),this.textAreaEl.focus()}async selectText(){await Vw(this),this.textAreaEl.select()}effectiveLocaleChange(){nr(this,this.effectiveLocale)}onFormReset(){this.value=this.defaultValue}onLabelClick(){this.setFocus()}getLocalizedCharacterLength(){const e=this.value?this.value.length.toString():"0",i=this.maxLength.toString();return this.numberingSystem==="latn"?{currentLength:e,maxLength:i}:(li.numberFormatOptions={locale:this.effectiveLocale,numberingSystem:this.numberingSystem,signDisplay:"never",useGrouping:this.groupSeparator},{currentLength:li.localize(e),maxLength:li.localize(i)})}syncHiddenFormInput(e){e.setCustomValidity(""),this.isCharacterLimitExceeded()&&e.setCustomValidity(this.replacePlaceHoldersInMessages())}setTextAreaHeight(){const{textAreaHeight:e,elHeight:i,footerHeight:n}=this.getHeightAndWidthOfElements();n>0&&e+n!=i&&(this.textAreaEl.style.height=`${i-n}px`)}getHeightAndWidthOfElements(){var a;const{height:e,width:i}=this.textAreaEl.getBoundingClientRect(),{height:n,width:r}=this.el.getBoundingClientRect(),{height:s,width:o}=(a=this.footerEl)==null?void 0:a.getBoundingClientRect();return{textAreaHeight:e,textAreaWidth:i,elHeight:n,elWidth:r,footerHeight:s,footerWidth:o}}replacePlaceHoldersInMessages(){return this.messages.tooLong.replace("{maxLength}",this.localizedCharacterLengthObj.maxLength).replace("{currentLength}",this.localizedCharacterLengthObj.currentLength)}isCharacterLimitExceeded(){var e;return((e=this.value)==null?void 0:e.length)>this.maxLength}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return sle}},[1,"calcite-text-area",{autofocus:[516],columns:[514],disabled:[516],form:[513],groupSeparator:[516,"group-separator"],label:[1],maxLength:[514,"max-length"],messages:[1040],name:[513],numberingSystem:[1,"numbering-system"],placeholder:[1],readOnly:[516,"read-only"],required:[516],resize:[513],rows:[514],scale:[513],status:[513],value:[1025],wrap:[513],messageOverrides:[1040],defaultMessages:[32],endSlotHasElements:[32],startSlotHasElements:[32],effectiveLocale:[32],localizedCharacterLengthObj:[32],setFocus:[64],selectText:[64]},void 0,{messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}]);function ale(){if(typeof customElements>"u")return;["calcite-text-area"].forEach(e=>{switch(e){case"calcite-text-area":customElements.get(e)||customElements.define(e,ole);break}})}ale();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.0.0
 */var Kw;(function(t){t.brand="lightbulb",t.danger="exclamationMarkTriangle",t.info="information",t.success="checkCircle",t.warning="exclamationMarkTriangle"})(Kw||(Kw={}));/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.0.0
 */const yi={title:"title",close:"close",imageContainer:"image-container",chipIcon:"chip-icon",textSlotted:"text--slotted",container:"container",imageSlotted:"image--slotted",closable:"closable",multiple:"multiple",selectable:"selectable",selectIcon:"select-icon",selectIconActive:"select-icon--active",nonInteractive:"non-interactive",isCircle:"is-circle"},lle={image:"image"},Uf={close:"x",unchecked:"circle",checkedSingle:"circle-f",checked:"check-circle-f"},cle=`:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host([scale=s]){block-size:1.5rem;font-size:var(--calcite-font-size--2);--calcite-chip-spacing-s-internal:0.25rem;--calcite-chip-spacing-l-internal:0.5rem}:host([scale=s]) .close,:host([scale=s]) .select-icon--active{block-size:1rem;inline-size:1rem}:host([scale=s]) .image-container{block-size:1.25rem;inline-size:1.25rem}:host([scale=s]) .container.is-circle{block-size:1.5rem;inline-size:1.5rem}:host([scale=m]){block-size:2rem;font-size:var(--calcite-font-size--1);--calcite-chip-spacing-s-internal:0.375rem;--calcite-chip-spacing-l-internal:0.5rem}:host([scale=m]) .close,:host([scale=m]) .image-container,:host([scale=m]) .select-icon--active{block-size:1.5rem;inline-size:1.5rem}:host([scale=m]) .container.is-circle{block-size:2rem;inline-size:2rem}:host([scale=l]){block-size:2.75rem;font-size:var(--calcite-font-size-0);--calcite-chip-spacing-s-internal:0.5rem;--calcite-chip-spacing-l-internal:0.75rem}:host([scale=l]) .image-container,:host([scale=l]) .close,:host([scale=l]) .select-icon--active{block-size:2rem;inline-size:2rem}:host([scale=l]) .container.is-circle{block-size:2.75rem;inline-size:2.75rem}:host{display:inline-flex;cursor:default;border-radius:9999px}.container{box-sizing:border-box;display:inline-flex;block-size:100%;max-inline-size:100%;align-items:center;justify-content:center;border-radius:9999px;border-width:1px;border-style:solid;border-color:var(--calcite-color-border-1);font-weight:var(--calcite-font-weight-medium);outline-color:transparent}.container:not(.is-circle){padding-inline:var(--calcite-chip-spacing-s-internal)}.container.selectable{cursor:pointer}.container:not(.non-interactive):focus{outline:2px solid var(--calcite-color-brand);outline-offset:calc(
            2px *
            calc(
              1 -
              2 * clamp(
                0,
                var(--calcite-offset-invert-focus),
                1
              )
            )
          )}:host([scale=s]) .container.image--slotted{padding-inline-start:calc(0.125rem / 2)}:host([scale=s]) .container.is-circle{padding-inline:0}.container.text--slotted .title{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding-inline:var(--calcite-chip-spacing-s-internal)}.container:not(.text--slotted) .title{display:none}.container:not(.image--slotted) .image-container{display:none}.container.closable{padding-inline-end:calc(var(--calcite-chip-spacing-l-internal) / 2)}.container:not(.is-circle).image--slotted{padding-inline-start:calc(var(--calcite-chip-spacing-l-internal) / 2)}.container:not(.is-circle).image--slotted .image-container{margin-inline-end:var(--calcite-chip-spacing-s-internal)}.container:not(.is-circle).image--slotted .image-container~.chip-icon{margin-inline-start:var(--calcite-chip-spacing-s-internal)}.container:not(.is-circle).selectable:not(.text--slotted) .chip-icon{margin-inline-end:var(--calcite-chip-spacing-s-internal)}.container:not(.is-circle):not(.selectable):not(.text--slotted) .chip-icon{margin-inline-start:var(--calcite-chip-spacing-s-internal)}.container:not(.is-circle):not(.text--slotted) .chip-icon{margin-inline-end:var(--calcite-chip-spacing-s-internal)}.container:not(.is-circle):not(.text-slotted).image--slotted .image-container{margin-inline-end:var(--calcite-chip-spacing-s-internal)}.container:not(.is-circle):not(.closable):not(.text--slotted).image--slotted.selectable .image-container{margin-inline-end:0}.container:not(.is-circle):not(.closable):not(.text--slotted).image--slotted.selectable .image-container~.chip-icon{margin-inline-start:calc(var(--calcite-chip-spacing-s-internal) * 2)}.chip-icon{position:relative;margin-block:0px;display:inline-flex;transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);margin-inline:var(--calcite-chip-spacing-s-internal)}.image-container{display:inline-flex;overflow:hidden;align-items:center;justify-content:center;pointer-events:none}.close{margin:0px;cursor:pointer;align-items:center;border-style:none;background-color:transparent;color:var(--calcite-color-text-1);outline-color:transparent;transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;-webkit-appearance:none;display:flex;border-radius:50%;align-content:center;justify-content:center;--calcite-chip-transparent-hover:var(--calcite-color-transparent-hover);--calcite-chip-transparent-press:var(--calcite-color-transparent-press)}.close:hover{background-color:var(--calcite-chip-transparent-hover)}.close:focus{background-color:var(--calcite-chip-transparent-hover);outline:2px solid var(--calcite-color-brand);outline-offset:calc(
            -2px *
            calc(
              1 -
              2 * clamp(
                0,
                var(--calcite-offset-invert-focus),
                1
              )
            )
          )}.close:active{background-color:var(--calcite-chip-transparent-press)}.close calcite-icon{color:inherit}.select-icon{align-self:center;justify-content:center;align-items:center;display:flex;inset-block-start:-1px;position:relative;visibility:hidden;inline-size:0;opacity:0;transition:opacity 0.15s ease-in-out, inline-size 0.15s ease-in-out}.select-icon.select-icon--active{visibility:visible;opacity:0.5}.container:not(.is-circle).image--slotted .select-icon.select-icon--active{margin-inline-end:var(--calcite-chip-spacing-s-internal)}:host([selected]) .select-icon{opacity:1}.container:hover .select-icon--active{opacity:1}slot[name=image]::slotted(*){display:flex;block-size:100%;inline-size:100%;overflow:hidden;border-radius:50%}:host([kind=neutral]){background-color:var(--calcite-color-foreground-2);color:var(--calcite-color-text-1)}:host([kind=neutral]) .container{border-color:transparent}:host([kind=neutral]) .close{color:var(--calcite-color-text-3)}:host([kind=neutral]) .chip-icon{color:var(--calcite-ui-icon-color, var(--calcite-color-text-3))}:host([kind=inverse]){background-color:var(--calcite-color-inverse);color:var(--calcite-color-text-inverse)}:host([kind=inverse]) .container{border-color:transparent}:host([kind=inverse]) .close{color:var(--calcite-color-text-inverse)}:host([kind=inverse]) .chip-icon{color:var(--calcite-ui-icon-color, var(--calcite-color-text-inverse))}:host([kind=brand]){background-color:var(--calcite-color-brand);color:var(--calcite-color-text-inverse)}:host([kind=brand]) .container{border-color:transparent}:host([kind=brand]) .close{color:var(--calcite-color-text-inverse)}:host([kind=brand]) .chip-icon{color:var(--calcite-ui-icon-color, var(--calcite-color-text-inverse))}:host([appearance=outline-fill]),:host([appearance=outline]){background-color:var(--calcite-color-foreground-1);color:var(--calcite-color-text-1)}:host([appearance=outline-fill]) .close,:host([appearance=outline]) .close{color:var(--calcite-color-text-3)}:host([appearance=outline-fill]) .chip-icon,:host([appearance=outline]) .chip-icon{color:var(--calcite-ui-icon-color, var(--calcite-color-text-3))}:host([appearance=outline-fill]){background-color:var(--calcite-color-foreground-1)}:host([appearance=outline]){background-color:transparent}:host([kind=neutral][appearance=outline-fill]) .container,:host([kind=neutral][appearance=outline]) .container{border-color:var(--calcite-color-border-1)}:host([kind=inverse][appearance=outline-fill]) .container,:host([kind=inverse][appearance=outline]) .container{border-color:var(--calcite-color-border-inverse)}:host([kind=brand][appearance=outline-fill]) .container,:host([kind=brand][appearance=outline]) .container{border-color:var(--calcite-color-brand)}:host([kind=brand][appearance=solid]) button,:host([kind=inverse][appearance=solid]) button{outline-color:var(--calcite-color-text-inverse)}:host([closed]){display:none}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host([hidden]){display:none}[hidden]{display:none}`,ule=Xe(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteChipClose=he(this,"calciteChipClose",6),this.calciteChipSelect=he(this,"calciteChipSelect",6),this.calciteInternalChipKeyEvent=he(this,"calciteInternalChipKeyEvent",6),this.mutationObserver=St("mutation",()=>this.updateHasText()),this.close=()=>{this.calciteChipClose.emit(),this.selected=!1,this.closed=!0},this.closeButtonKeyDownHandler=e=>{Sx(e.key)&&(e.preventDefault(),this.close())},this.handleSlotImageChange=e=>{this.hasImage=De(e)},this.handleEmittingEvent=()=>{this.interactive&&this.calciteChipSelect.emit()},this.disabled=!1,this.appearance="solid",this.kind="neutral",this.closable=!1,this.icon=void 0,this.iconFlipRtl=!1,this.scale="m",this.label=void 0,this.value=void 0,this.closed=!1,this.selectionMode="none",this.selected=!1,this.messageOverrides=void 0,this.messages=void 0,this.interactive=!1,this.defaultMessages=void 0,this.effectiveLocale=void 0,this.hasText=!1,this.hasImage=!1}onMessagesChange(){}effectiveLocaleChange(){nr(this,this.effectiveLocale)}connectedCallback(){var e;Tx(this),la(this),er(this),rr(this),(e=this.mutationObserver)==null||e.observe(this.el,{childList:!0,subtree:!0})}componentDidLoad(){Xn(this)}componentDidRender(){aa(this)}disconnectedCallback(){var e;Ex(this),ca(this),tr(this),sr(this),(e=this.mutationObserver)==null||e.disconnect()}async componentWillLoad(){Yn(this),await ir(this),this.updateHasText()}keyDownHandler(e){if(e.target===this.el)switch(e.key){case" ":case"Enter":this.handleEmittingEvent(),e.preventDefault();break;case"ArrowRight":case"ArrowLeft":case"Home":case"End":this.calciteInternalChipKeyEvent.emit(e),e.preventDefault();break}}clickHandler(){!this.interactive&&this.closable&&this.closeButtonEl.focus()}async setFocus(){var e,i;await Qn(this),!this.disabled&&this.interactive?(e=this.containerEl)==null||e.focus():!this.disabled&&this.closable&&((i=this.closeButtonEl)==null||i.focus())}updateHasText(){this.hasText=this.el.textContent.trim().length>0}renderChipImage(){return S("div",{class:yi.imageContainer},S("slot",{name:lle.image,onSlotchange:this.handleSlotImageChange}))}renderSelectionIcon(){const e=this.selectionMode==="multiple"&&this.selected?Uf.checked:this.selectionMode==="multiple"?Uf.unchecked:this.selected?Uf.checkedSingle:void 0;return S("div",{class:{[yi.selectIcon]:!0,[yi.selectIconActive]:this.selectionMode==="multiple"||this.selected}},S("calcite-icon",{icon:e,scale:Mt(this.scale)}))}renderCloseButton(){return S("button",{"aria-label":this.messages.dismissLabel,class:yi.close,onClick:this.close,onKeyDown:this.closeButtonKeyDownHandler,tabIndex:this.disabled?-1:0,ref:e=>this.closeButtonEl=e},S("calcite-icon",{icon:Uf.close,scale:Mt(this.scale)}))}renderIcon(){return S("calcite-icon",{class:yi.chipIcon,flipRtl:this.iconFlipRtl,icon:this.icon,scale:Mt(this.scale)})}render(){const e=this.disabled||!this.disabled&&!this.interactive,i=this.selectionMode==="multiple"&&this.interactive?"checkbox":this.selectionMode!=="none"&&this.interactive?"radio":this.interactive?"button":void 0;return S(hi,null,S("div",{"aria-checked":this.selectionMode!=="none"&&this.interactive?Qt(this.selected):void 0,"aria-disabled":e?Qt(this.disabled):void 0,"aria-label":this.label,class:{[yi.container]:!0,[yi.textSlotted]:this.hasText,[yi.imageSlotted]:this.hasImage,[yi.selectable]:this.selectionMode!=="none",[yi.multiple]:this.selectionMode==="multiple",[yi.closable]:this.closable,[yi.nonInteractive]:!this.interactive,[yi.isCircle]:!this.closable&&!this.hasText&&(!this.icon||!this.hasImage)&&(this.selectionMode==="none"||!!this.selectionMode&&this.selectionMode!=="multiple"&&!this.selected)},onClick:this.handleEmittingEvent,role:i,tabIndex:e?-1:0,ref:n=>this.containerEl=n},this.selectionMode!=="none"&&this.renderSelectionIcon(),this.renderChipImage(),this.icon&&this.renderIcon(),S("span",{class:yi.title},S("slot",null)),this.closable&&this.renderCloseButton()))}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return cle}},[1,"calcite-chip",{disabled:[516],appearance:[513],kind:[513],closable:[516],icon:[513],iconFlipRtl:[516,"icon-flip-rtl"],scale:[513],label:[1],value:[8],closed:[1540],selectionMode:[1,"selection-mode"],selected:[1540],messageOverrides:[1040],messages:[1040],interactive:[4],defaultMessages:[32],effectiveLocale:[32],hasText:[32],hasImage:[32],setFocus:[64]},[[0,"keydown","keyDownHandler"],[0,"click","clickHandler"]],{messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}]);function KN(){if(typeof customElements>"u")return;["calcite-chip","calcite-icon"].forEach(e=>{switch(e){case"calcite-chip":customElements.get(e)||customElements.define(e,ule);break;case"calcite-icon":customElements.get(e)||pn();break}})}KN();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.0.0
 */const Uv={slow:14e3,medium:1e4,fast:6e3},Hf={actionsEnd:"actions-end",title:"title",message:"message",link:"link"},Sn={actionsEnd:"actions-end",close:"close",container:"container",containerBottom:"container--bottom",containerBottomEnd:"container--bottom-end",containerBottomStart:"container--bottom-start",containerQueued:"container--queued",containerTop:"container--top",containerTopEnd:"container--top-end",containerTopStart:"container--top-start",content:"content",contentContainer:"content-container",dismissProgress:"dismiss-progress",footer:"footer",icon:"icon",containerSlottedInShell:"container--slotted-in-shell",queueCount:"queue-count",queueCountActive:"queue-count--active",textContainer:"text-container"},dle=`:host{--calcite-alert-edge-distance:2rem;--calcite-alert-dismiss-progress-background:var(--calcite-color-transparent-tint);display:block}.container{pointer-events:none;position:fixed;z-index:var(--calcite-z-index-toast);margin-inline:auto;margin-block:0px;box-sizing:border-box;display:flex;inline-size:100%;min-inline-size:min-content;align-items:center;justify-content:center;background-color:var(--calcite-color-foreground-1);text-align:start;opacity:0;--tw-shadow:0 6px 20px -4px rgba(0, 0, 0, 0.1), 0 4px 12px -2px rgba(0, 0, 0, 0.08);--tw-shadow-colored:0 6px 20px -4px var(--tw-shadow-color), 0 4px 12px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);border-radius:var(--calcite-border-radius);border-block-start:0 solid transparent;border-inline:1px solid var(--calcite-color-border-3);border-block-end:1px solid var(--calcite-color-border-3);inline-size:var(--calcite-alert-width);max-inline-size:calc(100% - var(--calcite-alert-edge-distance) * 2);transition:var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88), opacity var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88), all var(--calcite-animation-timing) ease-in-out}.container--bottom,.container--top{inset-inline-end:0;inset-inline-start:0}.container[class*=bottom]{transform:translate3d(0, var(--calcite-alert-edge-distance), 0);inset-block-end:var(--calcite-alert-edge-distance)}.container[class*=top]{transform:translate3d(0, calc(-1 * var(--calcite-alert-edge-distance)), 0);inset-block-start:var(--calcite-alert-edge-distance)}.container[class*=start]{inset-inline-start:var(--calcite-alert-edge-distance);inset-inline-end:auto}.container[class*=end]{inset-inline-end:var(--calcite-alert-edge-distance);inset-inline-start:auto}.icon{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:0px;margin-block:auto;margin-inline-end:auto;padding-inline-start:var(--calcite-alert-spacing-token-large)}.close{display:flex;cursor:pointer;align-items:center;justify-content:flex-end;align-self:stretch;border-style:none;background-color:transparent;color:var(--calcite-color-text-3);outline:2px solid transparent;outline-offset:2px;-webkit-appearance:none;padding:var(--calcite-alert-spacing-token-large);outline-color:transparent}.close:focus{outline:2px solid var(--calcite-color-brand);outline-offset:calc(
            -2px *
            calc(
              1 -
              2 * clamp(
                0,
                var(--calcite-offset-invert-focus),
                1
              )
            )
          )}.close:hover,.close:focus{background-color:var(--calcite-color-foreground-2);color:var(--calcite-color-text-1)}.close:active{background-color:var(--calcite-color-foreground-3)}.queue-count{visibility:hidden;display:flex;min-inline-size:min-content;cursor:default;align-items:center;justify-content:space-around;align-self:stretch;overflow:hidden;background-color:var(--calcite-color-foreground-1);text-align:center;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-color-text-2);opacity:0;transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;border-inline:0 solid transparent;border-start-end-radius:0}.queue-count--active{visibility:visible;opacity:1}.dismiss-progress{position:absolute;display:block;inline-size:100%;overflow:hidden;inset-inline:0;inset-block-start:-2px;block-size:2px;border-radius:var(--calcite-border-radius) var(--calcite-border-radius) 0 0}.dismiss-progress:after{position:absolute;inset-block-start:0px;display:block;block-size:2px;content:"";background-color:var(--calcite-alert-dismiss-progress-background);inset-inline-end:0}.actions-end{display:flex;align-self:stretch}.text-container{box-sizing:border-box;display:flex;min-inline-size:0px;flex:1 1 auto;flex-direction:column;overflow-wrap:break-word;padding-block:var(--calcite-alert-spacing-token-small);padding-inline:var(--calcite-alert-spacing-token-large) var(--calcite-alert-spacing-token-small)}.footer{position:relative;display:flex;inline-size:auto;justify-content:flex-end;align-self:stretch;padding-block-start:1px;block-size:inherit}:host([scale=s]){--calcite-alert-width:40em;--calcite-alert-spacing-token-small:0.5rem;--calcite-alert-spacing-token-large:0.75rem;--calcite-alert-footer-height:2rem;--calcite-alert-footer-divider-gap:0.125rem}:host([scale=s]) slot[name=title]::slotted(*),:host([scale=s]) *::slotted([slot=title]){font-size:var(--calcite-font-size--1);line-height:1.375}:host([scale=s]) slot[name=message]::slotted(*),:host([scale=s]) *::slotted([slot=message]){font-size:var(--calcite-font-size--2);line-height:1.375}:host([scale=s]) slot[name=link]::slotted(*),:host([scale=s]) *::slotted([slot=link]){font-size:var(--calcite-font-size--2);line-height:1.375}:host([scale=s]) .queue-count{margin-inline:0.5rem}:host([scale=s]) .container{--calcite-alert-min-height:3.5rem}:host([scale=m]){--calcite-alert-width:50em;--calcite-alert-spacing-token-small:0.75rem;--calcite-alert-spacing-token-large:1rem;--calcite-alert-footer-height:3rem;--calcite-alert-footer-divider-gap:0.25rem}:host([scale=m]) slot[name=title]::slotted(*),:host([scale=m]) *::slotted([slot=title]){font-size:var(--calcite-font-size-0);line-height:1.375}:host([scale=m]) slot[name=message]::slotted(*),:host([scale=m]) *::slotted([slot=message]){font-size:var(--calcite-font-size--1);line-height:1.375}:host([scale=m]) slot[name=link]::slotted(*),:host([scale=m]) *::slotted([slot=link]){font-size:var(--calcite-font-size--1);line-height:1.375}:host([scale=m]) .queue-count{margin-inline:0.75rem}:host([scale=m]) .container{--calcite-alert-min-height:4.1875rem}:host([scale=l]){--calcite-alert-width:60em;--calcite-alert-spacing-token-small:1rem;--calcite-alert-spacing-token-large:1.25rem;--calcite-alert-footer-height:4rem;--calcite-alert-footer-divider-gap:0.5rem}:host([scale=l]) slot[name=title]::slotted(*),:host([scale=l]) *::slotted([slot=title]){margin-block-end:0.25rem;font-size:var(--calcite-font-size-1);line-height:1.375}:host([scale=l]) slot[name=message]::slotted(*),:host([scale=l]) *::slotted([slot=message]){font-size:var(--calcite-font-size-0);line-height:1.375}:host([scale=l]) slot[name=link]::slotted(*),:host([scale=l]) *::slotted([slot=link]){font-size:var(--calcite-font-size-0);line-height:1.375}:host([scale=l]) .queue-count{margin-inline:1rem}:host([scale=l]) .container{--calcite-alert-min-height:5.625rem}:host([open]) .container:not(.container--queued){border-block-start-width:2px;opacity:1;pointer-events:initial}:host([open]) .container:not(.container--queued)[class*=bottom]{transform:translate3d(0, calc(-1 * var(--calcite-alert-edge-distance)), inherit)}:host([open]) .container:not(.container--queued)[class*=top]{transform:translate3d(0, var(--calcite-alert-edge-distance), inherit)}:host([auto-close])>.queue-count{border-inline-end:0 solid transparent}slot[name=title]::slotted(*),*::slotted([slot=title]){font-size:var(--calcite-font-size-0);line-height:1.375;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-color-text-1)}slot[name=message]::slotted(*),*::slotted([slot=message]){margin:0px;display:inline;font-size:var(--calcite-font-size--1);line-height:1.375;font-weight:var(--calcite-font-weight-normal);color:var(--calcite-color-text-2);margin-inline-end:0.5rem}slot[name=link]::slotted(*),*::slotted([slot=link]){display:inline-flex;color:var(--calcite-color-text-link)}:host([kind=brand]) .container{border-block-start-color:var(--calcite-color-brand)}:host([kind=brand]) .container .icon{color:var(--calcite-color-brand)}:host([kind=info]) .container{border-block-start-color:var(--calcite-color-status-info)}:host([kind=info]) .container .icon{color:var(--calcite-color-status-info)}:host([kind=danger]) .container{border-block-start-color:var(--calcite-color-status-danger)}:host([kind=danger]) .container .icon{color:var(--calcite-color-status-danger)}:host([kind=success]) .container{border-block-start-color:var(--calcite-color-status-success)}:host([kind=success]) .container .icon{color:var(--calcite-color-status-success)}:host([kind=warning]) .container{border-block-start-color:var(--calcite-color-status-warning)}:host([kind=warning]) .container .icon{color:var(--calcite-color-status-warning)}:host([auto-close-duration=fast]) .dismiss-progress:after{animation:dismissProgress 6000ms ease-out}:host(:hover[auto-close-duration=fast]) .dismiss-progress:after{animation-play-state:paused}:host([auto-close-duration=medium]) .dismiss-progress:after{animation:dismissProgress 10000ms ease-out}:host(:hover[auto-close-duration=medium]) .dismiss-progress:after{animation-play-state:paused}:host([auto-close-duration=slow]) .dismiss-progress:after{animation:dismissProgress 14000ms ease-out}:host(:hover[auto-close-duration=slow]) .dismiss-progress:after{animation-play-state:paused}@keyframes dismissProgress{0%{inline-size:0px;opacity:0.75}100%{inline-size:100%;opacity:1}}.container--slotted-in-shell{position:absolute}:host([hidden]){display:none}[hidden]{display:none}:host([calcite-hydrated-hidden]){visibility:hidden !important;pointer-events:none}`,hle=Xe(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteAlertBeforeClose=he(this,"calciteAlertBeforeClose",6),this.calciteAlertClose=he(this,"calciteAlertClose",6),this.calciteAlertBeforeOpen=he(this,"calciteAlertBeforeOpen",6),this.calciteAlertOpen=he(this,"calciteAlertOpen",6),this.calciteInternalAlertSync=he(this,"calciteInternalAlertSync",6),this.calciteInternalAlertRegister=he(this,"calciteInternalAlertRegister",6),this.autoCloseTimeoutId=null,this.totalOpenTime=0,this.totalHoverTime=0,this.openTransitionProp="opacity",this.setTransitionEl=e=>{this.transitionEl=e},this.closeAlert=()=>{this.autoCloseTimeoutId=null,this.queued=!1,this.open=!1,this.queue=this.queue.filter(e=>e!==this.el),this.determineActiveAlert(),this.calciteInternalAlertSync.emit({queue:this.queue})},this.actionsEndSlotChangeHandler=e=>{this.hasEndActions=De(e)},this.handleMouseOver=()=>{window.clearTimeout(this.autoCloseTimeoutId),this.totalOpenTime=Date.now()-this.initialOpenTime,this.lastMouseOverBegin=Date.now()},this.handleMouseLeave=()=>{const e=Date.now()-this.lastMouseOverBegin,i=Uv[this.autoCloseDuration]-this.totalOpenTime+this.totalHoverTime;this.totalHoverTime=this.totalHoverTime?e+this.totalHoverTime:e,this.autoCloseTimeoutId=window.setTimeout(()=>this.closeAlert(),i)},this.open=!1,this.autoClose=!1,this.autoCloseDuration="medium",this.kind="brand",this.icon=void 0,this.iconFlipRtl=!1,this.label=void 0,this.numberingSystem=void 0,this.placement="bottom",this.scale="m",this.messages=void 0,this.messageOverrides=void 0,this.slottedInShell=void 0,this.defaultMessages=void 0,this.effectiveLocale="",this.hasEndActions=!1,this.queue=[],this.queueLength=0,this.queued=!1}openHandler(){xl(this),this.open&&!this.queued&&this.calciteInternalAlertRegister.emit(),this.open||(this.queue=this.queue.filter(e=>e!==this.el),this.calciteInternalAlertSync.emit({queue:this.queue}))}onMessagesChange(){}updateDuration(){this.autoClose&&this.autoCloseTimeoutId&&(window.clearTimeout(this.autoCloseTimeoutId),this.autoCloseTimeoutId=window.setTimeout(()=>this.closeAlert(),Uv[this.autoCloseDuration]))}connectedCallback(){er(this),rr(this),this.open&&!this.queued&&this.calciteInternalAlertRegister.emit()}async componentWillLoad(){Yn(this),await ir(this),this.open&&xl(this)}componentDidLoad(){Xn(this)}disconnectedCallback(){window.dispatchEvent(new CustomEvent("calciteInternalAlertUnregister",{detail:{alert:this.el}})),window.clearTimeout(this.autoCloseTimeoutId),window.clearTimeout(this.queueTimeout),tr(this),sr(this),this.slottedInShell=!1}render(){li.numberFormatOptions={locale:this.effectiveLocale,numberingSystem:this.numberingSystem,signDisplay:"always"};const{open:e,autoClose:i,label:n,placement:r,queued:s}=this,o=i?"alert":"alertdialog",a=!e,l=Hw(Kw,this.icon,this.kind),u=this.queueLength>1;return S(hi,{"aria-hidden":Qt(a),"aria-label":n,"calcite-hydrated-hidden":a,role:o},S("div",{class:{[Sn.container]:!0,[Sn.containerQueued]:s,[`${Sn.container}--${r}`]:!0,[Sn.containerSlottedInShell]:this.slottedInShell},onPointerEnter:this.autoClose&&this.autoCloseTimeoutId?this.handleMouseOver:null,onPointerLeave:this.autoClose&&this.autoCloseTimeoutId?this.handleMouseLeave:null,ref:this.setTransitionEl},l&&this.renderIcon(l),S("div",{class:Sn.textContainer},S("slot",{name:Hf.title}),S("slot",{name:Hf.message}),S("slot",{name:Hf.link})),this.renderActionsEnd(),u?this.renderQueueCount():null,this.renderCloseButton(),e&&!s&&i?S("div",{class:Sn.dismissProgress}):null))}renderCloseButton(){return S("button",{"aria-label":this.messages.close,class:Sn.close,key:"close",onClick:this.closeAlert,type:"button",ref:e=>this.closeButton=e},S("calcite-icon",{icon:"x",scale:Mt(this.scale)}))}renderQueueCount(){const e=this.queueLength>2?this.queueLength-1:1,i=li.numberFormatter.format(e);return S("div",{class:{[Sn.queueCount]:!0,[Sn.queueCountActive]:this.queueLength>1},key:"queue-count"},S("calcite-chip",{scale:this.scale,value:i},i))}renderActionsEnd(){return S("div",{class:Sn.actionsEnd},S("slot",{name:Hf.actionsEnd,onSlotchange:this.actionsEndSlotChangeHandler}))}renderIcon(e){return S("div",{class:Sn.icon},S("calcite-icon",{flipRtl:this.iconFlipRtl,icon:e,scale:Mt(this.scale)}))}alertSync(e){this.queue!==e.detail.queue&&(this.queue=e.detail.queue),this.queueLength=this.queue.length,this.determineActiveAlert(),e.stopPropagation()}alertRegister(){this.open&&!this.queue.includes(this.el)&&(this.queued=!0,this.queue.push(this.el)),this.calciteInternalAlertSync.emit({queue:this.queue}),this.determineActiveAlert()}alertUnregister(e){const i=this.queue.filter(n=>n!==e.detail.alert);this.queue=i,window.dispatchEvent(new CustomEvent("calciteInternalAlertSync",{detail:{queue:i}}))}async setFocus(){await Qn(this);const e=Uw(this.el,{selector:"calcite-link"});if(!(!this.closeButton&&!e)){if(e)return e.setFocus();this.closeButton&&this.closeButton.focus()}}effectiveLocaleChange(){nr(this,this.effectiveLocale)}determineActiveAlert(){var e;if(((e=this.queue)==null?void 0:e[0])===this.el)this.openAlert(),this.autoClose&&!this.autoCloseTimeoutId&&(this.initialOpenTime=Date.now(),this.autoCloseTimeoutId=window.setTimeout(()=>this.closeAlert(),Uv[this.autoCloseDuration]));else return}onBeforeOpen(){this.calciteAlertBeforeOpen.emit()}onOpen(){this.calciteAlertOpen.emit()}onBeforeClose(){this.calciteAlertBeforeClose.emit()}onClose(){this.calciteAlertClose.emit()}openAlert(){window.clearTimeout(this.queueTimeout),this.queueTimeout=window.setTimeout(()=>this.queued=!1,300)}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{open:["openHandler"],messageOverrides:["onMessagesChange"],autoCloseDuration:["updateDuration"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return dle}},[1,"calcite-alert",{open:[1540],autoClose:[516,"auto-close"],autoCloseDuration:[513,"auto-close-duration"],kind:[513],icon:[520],iconFlipRtl:[516,"icon-flip-rtl"],label:[1],numberingSystem:[513,"numbering-system"],placement:[513],scale:[513],messages:[1040],messageOverrides:[1040],slottedInShell:[1028,"slotted-in-shell"],defaultMessages:[32],effectiveLocale:[32],hasEndActions:[32],queue:[32],queueLength:[32],queued:[32],setFocus:[64]},[[8,"calciteInternalAlertSync","alertSync"],[8,"calciteInternalAlertRegister","alertRegister"],[8,"calciteInternalAlertUnregister","alertUnregister"]],{open:["openHandler"],messageOverrides:["onMessagesChange"],autoCloseDuration:["updateDuration"],effectiveLocale:["effectiveLocaleChange"]}]);function ple(){if(typeof customElements>"u")return;["calcite-alert","calcite-chip","calcite-icon"].forEach(e=>{switch(e){case"calcite-alert":customElements.get(e)||customElements.define(e,hle);break;case"calcite-chip":customElements.get(e)||KN();break;case"calcite-icon":customElements.get(e)||pn();break}})}ple();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.0.0
 */const Hv={icon:"icon",iconContainer:"icon-container",select:"select"},fle=`:host{--calcite-icon-size:1rem;--calcite-spacing-eighth:0.125rem;--calcite-spacing-quarter:0.25rem;--calcite-spacing-half:0.5rem;--calcite-spacing-three-quarters:0.75rem;--calcite-spacing:1rem;--calcite-spacing-plus-quarter:1.25rem;--calcite-spacing-plus-half:1.5rem;--calcite-spacing-double:2rem;--calcite-menu-min-width:10rem;--calcite-header-min-height:3rem;--calcite-footer-min-height:3rem}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{position:relative;display:flex;align-items:stretch;inline-size:var(--select-width)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host([scale=s]){block-size:1.5rem;--calcite-select-font-size:var(--calcite-font-size--2);--calcite-select-spacing-inline:0.5rem 2rem}:host([scale=s]) .icon-container{padding-inline:0.5rem}:host([scale=m]){block-size:2rem;--calcite-select-font-size:var(--calcite-font-size--1);--calcite-select-spacing-inline:0.75rem 2.5rem}:host([scale=m]) .icon-container{padding-inline:0.75rem}:host([scale=l]){block-size:44px;--calcite-select-font-size:var(--calcite-font-size-0);--calcite-select-spacing-inline:1rem 3rem}:host([scale=l]) .icon-container{padding-inline:1rem}:host([width=auto]){inline-size:auto}:host([width=half]){inline-size:50%}:host([width=full]){inline-size:100%}.select{margin:0px;box-sizing:border-box;inline-size:100%;cursor:pointer;appearance:none;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;border-radius:0px;border-width:1px;border-style:solid;border-color:var(--calcite-color-border-input);background-color:var(--calcite-color-foreground-1);font-family:inherit;color:var(--calcite-color-text-2);outline-color:transparent;font-size:var(--calcite-select-font-size);padding-inline:var(--calcite-select-spacing-inline);border-inline-end-width:0px}.select:focus{outline:2px solid var(--calcite-color-brand);outline-offset:calc(
            -2px *
            calc(
              1 -
              2 * clamp(
                0,
                var(--calcite-offset-invert-focus),
                1
              )
            )
          )}.select:hover{background-color:var(--calcite-color-foreground-2)}select:disabled{border-color:var(--calcite-color-border-input);--tw-bg-opacity:1}.icon-container{pointer-events:none;position:absolute;inset-block:0px;display:flex;align-items:center;border-width:0px;border-style:solid;border-color:var(--calcite-color-border-input);background-color:transparent;color:var(--calcite-color-text-2);inset-inline-end:0px;border-inline-width:0px 1px}:host([status=invalid]) select,:host([status=invalid]) .icon-container{border-color:var(--calcite-color-status-danger)}:host([status=invalid]) select:focus,:host([status=invalid]) .icon-container:focus{outline:2px solid var(--calcite-color-status-danger);outline-offset:calc(
            -2px *
            calc(
              1 -
              2 * clamp(
                0,
                var(--calcite-offset-invert-focus),
                1
              )
            )
          )}.select:focus~.icon-container{border-color:transparent}::slotted(input[slot=hidden-form-input]){margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;inset:0 !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}:host([hidden]){display:none}[hidden]{display:none}`;function Bf(t){return t.tagName==="CALCITE-OPTION"}function mle(t){return t.tagName==="CALCITE-OPTION-GROUP"}const gle=Xe(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteSelectChange=he(this,"calciteSelectChange",6),this.componentToNativeEl=new Map,this.mutationObserver=St("mutation",()=>this.populateInternalSelect()),this.handleInternalSelectChange=()=>{const e=this.selectEl.selectedOptions[0];this.selectFromNativeOption(e),requestAnimationFrame(()=>this.emitChangeEvent())},this.populateInternalSelect=()=>{const e=Array.from(this.el.children).filter(i=>i.tagName==="CALCITE-OPTION"||i.tagName==="CALCITE-OPTION-GROUP");this.clearInternalSelect(),e.forEach(i=>{var n;return(n=this.selectEl)==null?void 0:n.append(this.toNativeElement(i))})},this.storeSelectRef=e=>{this.selectEl=e,this.populateInternalSelect();const i=this.selectEl.selectedOptions[0];this.selectFromNativeOption(i)},this.emitChangeEvent=()=>{this.calciteSelectChange.emit()},this.disabled=!1,this.form=void 0,this.label=void 0,this.name=void 0,this.required=!1,this.scale="m",this.status="idle",this.value=null,this.selectedOption=void 0,this.width="auto"}valueHandler(e){this.el.querySelectorAll("calcite-option").forEach(n=>n.selected=n.value===e)}selectedOptionHandler(e){this.value=e==null?void 0:e.value}connectedCallback(){var i;const{el:e}=this;(i=this.mutationObserver)==null||i.observe(e,{subtree:!0,childList:!0}),la(this),ju(this),bx(this)}disconnectedCallback(){var e;(e=this.mutationObserver)==null||e.disconnect(),ca(this),v0(this),wx(this)}componentWillLoad(){Yn(this)}componentDidLoad(){var e;Xn(this),Are(this,((e=this.selectedOption)==null?void 0:e.value)??"")}componentDidRender(){aa(this)}async setFocus(){await Qn(this),g0(this.selectEl)}handleOptionOrGroupChange(e){e.stopPropagation();const i=e.target,n=this.componentToNativeEl.get(i);n&&(this.updateNativeElement(i,n),Bf(i)&&i.selected&&(this.deselectAllExcept(i),this.selectedOption=i))}onLabelClick(){this.setFocus()}updateNativeElement(e,i){if(i.disabled=e.disabled,i.label=e.label,Bf(e)){const n=i;n.selected=e.selected,n.value=e.value,n.innerText=e.label}}clearInternalSelect(){this.componentToNativeEl.forEach(e=>e.remove()),this.componentToNativeEl.clear()}selectFromNativeOption(e){if(!e)return;let i;this.componentToNativeEl.forEach((n,r)=>{Bf(r)&&n===e&&(r.selected=!0,i=r,this.deselectAllExcept(r))}),i&&(this.selectedOption=i)}toNativeElement(e){if(Bf(e)){const i=document.createElement("option");return this.updateNativeElement(e,i),this.componentToNativeEl.set(e,i),i}if(mle(e)){const i=document.createElement("optgroup");return this.updateNativeElement(e,i),Array.from(e.children).forEach(n=>{const r=this.toNativeElement(n);i.append(r),this.componentToNativeEl.set(e,r)}),this.componentToNativeEl.set(e,i),i}throw new Error("unsupported element child provided")}deselectAllExcept(e){this.el.querySelectorAll("calcite-option").forEach(i=>{i!==e&&(i.selected=!1)})}renderChevron(){return S("div",{class:Hv.iconContainer},S("calcite-icon",{class:Hv.icon,icon:"chevron-down",scale:Mt(this.scale)}))}render(){return S(Du,null,S("select",{"aria-label":Yh(this),class:Hv.select,disabled:this.disabled,onChange:this.handleInternalSelectChange,ref:this.storeSelectRef},S("slot",null)),this.renderChevron(),S(_x,{component:this}))}get el(){return this}static get watchers(){return{value:["valueHandler"],selectedOption:["selectedOptionHandler"]}}static get style(){return fle}},[1,"calcite-select",{disabled:[516],form:[513],label:[1],name:[513],required:[516],scale:[513],status:[513],value:[1025],selectedOption:[1040],width:[513],setFocus:[64]},[[0,"calciteInternalOptionChange","handleOptionOrGroupChange"],[0,"calciteInternalOptionGroupChange","handleOptionOrGroupChange"]],{value:["valueHandler"],selectedOption:["selectedOptionHandler"]}]);function yle(){if(typeof customElements>"u")return;["calcite-select","calcite-icon"].forEach(e=>{switch(e){case"calcite-select":customElements.get(e)||customElements.define(e,gle);break;case"calcite-icon":customElements.get(e)||pn();break}})}yle();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.0.0
 */const vle=":host{display:block}:host([hidden]){display:none}[hidden]{display:none}",ble=Xe(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteInternalOptionChange=he(this,"calciteInternalOptionChange",6),this.mutationObserver=St("mutation",()=>{this.ensureTextContentDependentProps(),this.calciteInternalOptionChange.emit()}),this.disabled=!1,this.label=void 0,this.selected=void 0,this.value=void 0}handlePropChange(e,i,n){(n==="label"||n==="value")&&this.ensureTextContentDependentProps(),this.calciteInternalOptionChange.emit()}ensureTextContentDependentProps(){const{el:{textContent:e},internallySetLabel:i,internallySetValue:n,label:r,value:s}=this;(!r||r===i)&&(this.label=e,this.internallySetLabel=e),(s==null||s===n)&&(this.value=e,this.internallySetValue=e)}connectedCallback(){var e;this.ensureTextContentDependentProps(),(e=this.mutationObserver)==null||e.observe(this.el,{attributeFilter:["label","value"],characterData:!0,childList:!0,subtree:!0})}disconnectedCallback(){var e;(e=this.mutationObserver)==null||e.disconnect()}render(){return S("slot",null,this.label)}get el(){return this}static get watchers(){return{disabled:["handlePropChange"],label:["handlePropChange"],selected:["handlePropChange"],value:["handlePropChange"]}}static get style(){return vle}},[1,"calcite-option",{disabled:[516],label:[1025],selected:[516],value:[1032]},void 0,{disabled:["handlePropChange"],label:["handlePropChange"],selected:["handlePropChange"],value:["handlePropChange"]}]);function wle(){if(typeof customElements>"u")return;["calcite-option"].forEach(e=>{switch(e){case"calcite-option":customElements.get(e)||customElements.define(e,ble);break}})}wle();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.0.0
 */function eM(){const{classList:t}=document.body,e=window.matchMedia("(prefers-color-scheme: dark)").matches,i=()=>t.contains(G5)||t.contains(B5)&&e?"dark":"light",n=o=>document.body.dispatchEvent(new CustomEvent("calciteModeChange",{bubbles:!0,detail:{mode:o}})),r=o=>{s!==o&&n(o),s=o};let s=i();n(s),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",o=>r(o.matches?"dark":"light")),new MutationObserver(()=>r(i())).observe(document.body,{attributes:!0,attributeFilter:["class"]})}function _le(){typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document&&(document.readyState==="interactive"?eM():document.addEventListener("DOMContentLoaded",()=>eM(),{once:!0}))}const Sle=_le;Sle();lne(location.href);new ane({target:document.getElementById("app")});export{Y8 as $,Os as A,Ih as B,P as C,PM as D,iue as E,Gn as F,SP as G,XS as H,Xt as I,Eh as J,T6 as K,Ye as L,$i as M,Ni as N,ub as O,yt as P,El as Q,Tf as R,VI as S,GI as T,BI as U,ee as V,H_ as W,WI as X,Tue as Y,nP as Z,V as _,Tde as a,ji as a$,gl as a0,Dc as a1,ih as a2,vO as a3,Ct as a4,Kf as a5,Hb as a6,ln as a7,Ho as a8,Q as a9,kG as aA,Cde as aB,MG as aC,gp as aD,Hl as aE,Vn as aF,Bl as aG,s_ as aH,Jo as aI,Nde as aJ,r8 as aK,ox as aL,Fz as aM,Zce as aN,Ve as aO,GY as aP,te as aQ,Rfe as aR,Dfe as aS,Yfe as aT,JP as aU,Pfe as aV,Bfe as aW,Kfe as aX,ZX as aY,HX as aZ,eA as a_,z as aa,hhe as ab,JW as ac,ghe as ad,yhe as ae,uhe as af,Ph as ag,rS as ah,Yt as ai,ID as aj,mhe as ak,Yde as al,Yj as am,qn as an,$T as ao,Ghe as ap,yue as aq,zde as ar,Fde as as,sT as at,HV as au,UV as av,FV as aw,jV as ax,zV as ay,Ide as az,Fce as b,mb as b$,YM as b0,Fe as b1,ne as b2,Fr as b3,Nn as b4,Py as b5,Le as b6,phe as b7,fhe as b8,Hue as b9,Is as bA,jA as bB,ahe as bC,She as bD,aq as bE,Og as bF,Ig as bG,the as bH,lhe as bI,LM as bJ,IA as bK,Kde as bL,i0 as bM,T$ as bN,JU as bO,Eu as bP,jde as bQ,ol as bR,Vl as bS,ohe as bT,_e as bU,ta as bV,As as bW,Jn as bX,Ur as bY,gb as bZ,Ze as b_,Bue as ba,qo as bb,Wue as bc,Vue as bd,Gue as be,ve as bf,ut as bg,Ae as bh,ge as bi,It as bj,Cp as bk,Re as bl,B_ as bm,Ch as bn,kpe as bo,Ge as bp,ye as bq,Mde as br,Lce as bs,ks as bt,KI as bu,QO as bv,F6 as bw,Vr as bx,AA as by,Epe as bz,it as c,Xz as c$,vb as c0,og as c1,yO as c2,I0 as c3,ES as c4,TT as c5,kue as c6,Dhe as c7,Vhe as c8,qde as c9,GF as cA,VF as cB,WF as cC,XF as cD,n8 as cE,gI as cF,yI as cG,i8 as cH,c8 as cI,u8 as cJ,dg as cK,_F as cL,HF as cM,$b as cN,Ay as cO,kz as cP,dhe as cQ,W_ as cR,fp as cS,kh as cT,YW as cU,whe as cV,KW as cW,bhe as cX,x8 as cY,Oy as cZ,wg as c_,zme as ca,gT as cb,$A as cc,lh as cd,r$ as ce,xue as cf,Di as cg,k4 as ch,Qd as ci,Vv as cj,VY as ck,fM as cl,ZR as cm,eue as cn,v4 as co,Rle as cp,Iz as cq,O_ as cr,A_ as cs,Oz as ct,dp as cu,hp as cv,dn as cw,pp as cx,be as cy,hn as cz,MZ as d,cp as d$,ug as d0,nh as d1,uI as d2,N_ as d3,sI as d4,PF as d5,Ule as d6,G6 as d7,lu as d8,x_ as d9,xy as dA,CS as dB,r0 as dC,jh as dD,UM as dE,Ri as dF,Yq as dG,__ as dH,Xq as dI,Rce as dJ,Zhe as dK,Dme as dL,ag as dM,hW as dN,XO as dO,Uue as dP,Ep as dQ,wue as dR,tH as dS,$ue as dT,vue as dU,jJ as dV,N$ as dW,en as dX,Th as dY,tn as dZ,ei as d_,$4 as da,Cue as db,$pe as dc,$5 as dd,Mie as de,Iy as df,Uce as dg,xp as dh,zce as di,tpe as dj,gh as dk,Y1 as dl,ace as dm,ex as dn,oce as dp,Oo as dq,DC as dr,up as ds,_p as dt,Hi as du,ql as dv,s0 as dw,jS as dx,FS as dy,uC as dz,je as e,vD as e$,nee as e0,zfe as e1,Lfe as e2,Fle as e3,Fhe as e4,Whe as e5,kle as e6,kde as e7,by as e8,AG as e9,Ppe as eA,xP as eB,vw as eC,bu as eD,AK as eE,$P as eF,yX as eG,fg as eH,sD as eI,a_ as eJ,LK as eK,i$ as eL,ke as eM,o0 as eN,DS as eO,RS as eP,NS as eQ,zS as eR,PS as eS,Ede as eT,npe as eU,Tp as eV,$s as eW,Afe as eX,ea as eY,Ece as eZ,Tce as e_,sA as ea,oA as eb,mG as ec,pG as ed,Ofe as ee,vhe as ef,c0 as eg,u0 as eh,u_ as ei,Zde as ej,fW as ek,_W as el,bg as em,Qo as en,Yue as eo,Ns as ep,bfe as eq,Ace as er,Gce as es,Cu as et,Uo as eu,ez as ev,y_ as ew,sp as ex,Im as ey,Gle as ez,di as f,Pue as f$,n$ as f0,hC as f1,rpe as f2,Rue as f3,Sce as f4,o9 as f5,rI as f6,kF as f7,MK as f8,Et as f9,Qde as fA,Ol as fB,Hle as fC,rce as fD,Iue as fE,qc as fF,J6 as fG,zr as fH,Tpe as fI,ree as fJ,qfe as fK,Nfe as fL,Jfe as fM,Zfe as fN,ot as fO,cn as fP,lp as fQ,tue as fR,ui as fS,eK as fT,SI as fU,F8 as fV,Je as fW,spe as fX,ape as fY,Vfe as fZ,epe as f_,IK as fa,Gfe as fb,JQ as fc,Qfe as fd,Ez as fe,pT as ff,Lle as fg,wp as fh,MF as fi,cW as fj,lW as fk,rW as fl,nT as fm,ws as fn,dH as fo,Ls as fp,pF as fq,mF as fr,DF as fs,R_ as ft,vF as fu,fF as fv,oI as fw,Zn as fx,yu as fy,Xde as fz,Pl as g,Pn as g$,iF as g0,an as g1,Jle as g2,u6 as g3,m6 as g4,Jv as g5,v6 as g6,Pr as g7,iv as g8,rA as g9,xM as gA,$M as gB,Mle as gC,ce as gD,Jy as gE,ZI as gF,US as gG,nA as gH,ipe as gI,Gde as gJ,f4 as gK,Vle as gL,Jde as gM,zg as gN,u9 as gO,h9 as gP,Nu as gQ,i_ as gR,n_ as gS,ehe as gT,jK as gU,oue as gV,vI as gW,yme as gX,lI as gY,O$ as gZ,$8 as g_,Ll as ga,Ui as gb,Wle as gc,Ple as gd,Cle as ge,on as gf,pce as gg,Bn as gh,Be as gi,Bhe as gj,Ode as gk,eh as gl,vS as gm,DL as gn,Mpe as go,Cpe as gp,cH as gq,c_ as gr,Ipe as gs,eV as gt,Jce as gu,Hce as gv,l_ as gw,Rde as gx,SF as gy,cI as gz,yK as h,ZU as h$,gO as h0,kS as h1,zhe as h2,Nhe as h3,b as h4,qce as h5,rp as h6,lce as h7,cce as h8,Pde as h9,EF as hA,pg as hB,sue as hC,zte as hD,Fh as hE,Ele as hF,b4 as hG,Tl as hH,Dte as hI,JY as hJ,UI as hK,X8 as hL,pue as hM,Ke as hN,Fq as hO,JR as hP,Wfe as hQ,ZQ as hR,Hfe as hS,WQ as hT,jfe as hU,Ufe as hV,mR as hW,Xfe as hX,Ffe as hY,na as hZ,jb as h_,NP as ha,bl as hb,jr as hc,due as hd,Eue as he,f9 as hf,fue as hg,J8 as hh,Eb as hi,T0 as hj,hd as hk,Mue as hl,JC as hm,k_ as hn,N8 as ho,B8 as hp,Ly as hq,uue as hr,Ile as hs,rue as ht,NF as hu,Bm as hv,kJ as hw,eF as hx,zee as hy,iV as hz,yh as i,jle as i$,Xue as i0,k as i1,dO as i2,Xy as i3,nF as i4,rF as i5,sF as i6,Qz as i7,dV as i8,uA as i9,mce as iA,yce as iB,fce as iC,Ale as iD,y4 as iE,_ue as iF,CK as iG,pJ as iH,lJ as iI,Mp as iJ,nue as iK,P_ as iL,yS as iM,Nce as iN,KM as iO,SM as iP,OC as iQ,Oce as iR,No as iS,Mz as iT,g$ as iU,aL as iV,wP as iW,UZ as iX,HL as iY,LD as iZ,Dce as i_,TV as ia,EK as ib,I$ as ic,Wce as id,JK as ie,tF as ig,EV as ih,dA as ii,JG as ij,hq as ik,Br as il,Ds as im,j as io,aO as ip,vf as iq,Av as ir,TM as is,Pce as it,$6 as iu,Cy as iv,Bce as iw,Sue as ix,fD as iy,gce as iz,G as j,EP as j$,Qy as j0,PK as j1,il as j2,JB as j3,ZA as j4,Vce as j5,Dle as j6,zle as j7,Nle as j8,U6 as j9,gue as jA,a9 as jB,l9 as jC,hue as jD,cF as jE,v8 as jF,aI as jG,kI as jH,w_ as jI,Lde as jJ,Ade as jK,Yce as jL,Kce as jM,Xce as jN,HD as jO,Tfe as jP,jZ as jQ,VS as jR,a0 as jS,Hh as jT,jo as jU,UP as jV,au as jW,Sfe as jX,Sy as jY,jce as jZ,qA as j_,nV as ja,ZG as jb,KG as jc,sce as jd,_M as je,ope as jf,T4 as jg,lpe as jh,ci as ji,Vh as jj,XK as jk,zh as jl,bK as jm,xg as jn,che as jo,ihe as jp,rhe as jq,nhe as jr,she as js,_he as jt,B9 as ju,rD as jv,YY as jw,dx as jx,$le as jy,d9 as jz,d as k,Hhe as k$,zo as k0,Nr as k1,d0 as k2,Dde as k3,dP as k4,WL as k5,hP as k6,VJ as k7,Rpe as k8,iK as k9,Ag as kA,Pg as kB,Ble as kC,Mee as kD,Rte as kE,ime as kF,mp as kG,X as kH,Z2 as kI,SS as kJ,mq as kK,gq as kL,IR as kM,Nte as kN,Lte as kO,Tw as kP,nY as kQ,rY as kR,QK as kS,jF as kT,iz as kU,jhe as kV,Uhe as kW,gF as kX,MV as kY,kV as kZ,m4 as k_,Bh as ka,Npe as kb,BL as kc,Ln as kd,Wo as ke,W8 as kf,mue as kg,qhe as kh,TK as ki,n0 as kj,bue as kk,bS as kl,Tb as km,Sb as kn,que as ko,sx as kp,le as kq,rde as kr,uB as ks,tt as kt,Ite as ku,Tle as kv,lq as kw,MX as kx,Zf as ky,oq as kz,h as l,Que as l0,tde as l1,E as m,K as n,xS as o,BS as p,vu as q,Ype as r,D as s,Ro as t,ze as u,mt as v,MJ as w,Al as x,Jpe as y,KO as z};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./statsWorker-M297iQIA.js","./utils-Q3wgF_60.js","./quantizationUtils-Us5VtfAD.js","./heatmapUtils-y_chVdwW.js","./utils-rjkH63q7.js","./generateRendererUtils-_NOHyjAQ.js","./geometryEngineWorker-nRC_riBP.js","./geometryEngineJSON-DvnUfUCd.js","./geometryEngineBase-erHxuJMu.js","./json-v6EOeNTY.js","./CSVSourceWorker-ExeMitRU.js","./date-be_IQzZd.js","./OptimizedGeometry-1RFAES06.js","./FeatureStore-pgucVUmR.js","./featureConversionUtils-FNM6dcN0.js","./OptimizedFeatureSet-smVI1ez9.js","./BoundsStore-OeGFPOhv.js","./PooledRBush-q2FQHlPj.js","./timeSupport-prwk1TB4.js","./projectionSupport-hu9_r6iQ.js","./QueryEngine-N5JNB-Wr.js","./LRUCache-9CocD9iD.js","./WhereClause-eR2YrswJ.js","./TimeOnly-ZwWj2Vlb.js","./UnknownTimeZone-jfi9eEf7.js","./fieldType-3gjYBYno.js","./QueryEngineCapabilities-PzVpW5yD.js","./FieldsIndex-PWGCOsyk.js","./number-axU4eoge.js","./clientSideDefaults-JbC09As3.js","./defaultsJSON-HVtDPFXZ.js","./EdgeProcessingWorker-8mmQGWAN.js","./InterleavedLayout-BRe-EQDM.js","./BufferView-NV8XicnI.js","./types-GBdbcYRa.js","./edgeProcessing-5JwDmA7K.js","./deduplicate-YZbPb1Mn.js","./Indices-ubfD9_AA.js","./VertexAttribute-BUG0xkjK.js","./enums-8pc8f5Ge.js","./VertexElementDescriptor-0hGjloLE.js","./ElevationSamplerWorker-a7dLTNdV.js","./georeference-A5lPWQKO.js","./mat3f64-sunSSgMR.js","./mat4f64-aoQZ5j3f.js","./spatialReferenceEllipsoidUtils-8C5019nR.js","./MeshLocalVertexSpace-POl-9qZz.js","./MeshGeoreferencedRelativeVertexSpace-tKU2P3qA.js","./quat-YniXdMAg.js","./quatf64-5VCgza3C.js","./vec32-Gt3b1FY4.js","./FeatureServiceSnappingSourceWorker-fvU6HiFZ.js","./Query-xcVNMwFB.js","./Field-BSvFaGGy.js","./ElevationInfo-sf5mgUmK.js","./lengthUtils-fNXXQLZy.js","./pbfQueryUtils--aWurwgz.js","./pbf-pkZimYly.js","./query-B9cCw1Wr.js","./queryZScale-EIbHvUEY.js","./ByteSizeUnit-UjtePjs8.js","./GeoJSONSourceWorker-3jKcgcFh.js","./geojson-YqBT6uXP.js","./sourceUtils-xwe5FcVW.js","./MemorySourceWorker-eNiHXQsF.js","./objectIdUtils-GktMsX8e.js","./PBFDecoderWorker-FCx-dABc.js","./Pipeline-aM9Np6A-.js","./FeatureStore2D-VfhZ51QN.js","./CircularArray-1_thnT0U.js","./diffUtils-g7Fohb1Y.js","./ComputedAttributeStorage-puCMOryp.js","./visualVariablesUtils-ftjXEZ2Y.js","./color-MSA9vB2T.js","./enums--FbEXJ87.js","./definitions--BerIEB0.js","./ogcFeatureUtils-ZzRZdsXR.js","./createConnection-3BrCBcBT.js","./geohashUtils-U0jvYCSY.js","./PointCloudWorker-4eRr26D3.js","./vec3f32-6rWBPTzX.js","./PointCloudUniqueValueRenderer-hI318KfE.js","./LegendOptions-E7OIex9R.js","./ColorStop-hqYqJZzQ.js","./I3SBinaryReader-GQ6AqQxi.js","./RasterWorker-Q35JUHM9.js","./dataUtils-Md93pCh6.js","./RasterSymbolizer-ueeB1aPa.js","./colorUtils-Uzv2_Aau.js","./utils-uzOgQz-t.js","./colorRamps-awdEZ3u_.js","./rasterProjectionHelper-TR4Ea9T9.js","./SceneLayerSnappingSourceWorker-jgIjZdxX.js","./lineSegment-fxW95fum.js","./sphere-mNSpBO62.js","./plane-uHSyKblx.js","./SceneLayerWorker-joo05Lyd.js","./WFSSourceWorker-KNT3Eh1P.js","./wfsUtils-CCW1WL0i.js","./xmlUtils-Q_9cB30b.js","./WorkerTileHandler-VmHBrDAs.js","./enums-W_WZ2jKy.js","./GeometryUtils-CEMOhUyj.js","./Rect-pT1ASav_.js","./config-z2KFXUcx.js","./StyleDefinition-ohiNeWtS.js","./TurboLine-w-LQISZ9.js","./StyleRepository-imMMHMjt.js","./earcut-6aBD8Ssv.js","./BidiEngine-8z8MVveq.js","./Popup-CttU747Q.js","./throttle-SZpAiZ7F.js","./AttachmentInfo-vHUiVhqf.js","./AttachmentQuery-mNo7qWQD.js","./utils-IfWb7wGj.js","./parser-WHTFD6Ot.js","./utils-8dHEt1x_.js","./jsonUtils-E5tmSupD.js","./UniqueValueRenderer-vpcJI4tu.js","./SizeVariable-Ekg0XaNX.js","./jsonUtils-1tkaaT9f.js","./styleUtils-u-o4YNNJ.js","./DictionaryLoader-uaxQVTqz.js","./Version-VeHGbusC.js","./executeQueryJSON-N79HOsW0.js","./FeatureSet-2nxwJf8L.js","./RelationshipQuery-Rjgxs11T.js","./TopFeaturesQuery-DVolXONq.js","./FeatureLayer-4rjmbq6O.js","./MultiOriginJSONSupport-2V-G1xbs.js","./commonProperties-K0LcbBkz.js","./FeatureLayerBase-QJ-LJX0M.js","./featureLayerUtils-5SK4-bW3.js","./LayerFloorInfo-HyJxw1xl.js","./serviceCapabilitiesUtils-OTnU9eU9.js","./editsZScale-BeSQZuaR.js","./APIKeyMixin-dy0QiC8S.js","./ArcGISService-vs3FBQvR.js","./BlendLayer-3kNYNVFw.js","./jsonUtils-0YRyalyT.js","./CustomParametersMixin-PFAUWQha.js","./EditBusLayer-BnK4DbeP.js","./FeatureEffectLayer-EAseW86J.js","./FeatureEffect-hNFu_4zx.js","./FeatureReductionLayer-QqVOFpxL.js","./clusterUtils-CpC7FOKC.js","./MD5-uECS9GB-.js","./FeatureReductionSelection-mFV-c50N.js","./LabelClass-V8j5wui3.js","./labelUtils-JUCMTUQJ.js","./OperationalLayer-1-FtoNGP.js","./OrderedLayer-8i5R7tzA.js","./PortalLayer-_Q57Kb8E.js","./portalItemUtils-hm4FAu7j.js","./RefreshableLayer-PTSrPNGJ.js","./ScaleRangeLayer-xyAAcj00.js","./TemporalLayer-6cXUqjfc.js","./FeatureTemplate-OHAm9Vc6.js","./FeatureType-jv7ahdQ_.js","./fieldProperties-A_lnIwNt.js","./labelingInfo-l9wgedMn.js","./versionUtils-qfWN2_GX.js","./styleUtils-Bp-u3KAs.js","./popupUtils-WKtLoZyd.js","./interfaces-JKqm7GXy.js","./ElevationLayer-mZbJL3Ay.js","./ArcGISCachedService-kVv8rAYm.js","./TileInfoTilemapCache-BlYREkUh.js","./TilemapCache-SujtR-kq.js","./layersCreator-n9JZjKFq.js","./portalLayers-2w0cbumF.js","./associatedFeatureServiceUtils-GcxbqtbT.js","./lazyLayerLoader-sdxgKXA_.js","./arcgisLayers-SBcTrLnz.js","./fetchService-2suPbAy4.js","./arcadeUtils-Vceg9UQY.js","./webStyleSymbolUtils-7xd9beLg.js","./devEnvironmentUtils-3qgG8Z2w.js","./webglDeps-ZUjoJlnO.js","./FramebufferObject-xhcDpZRj.js","./Texture-IITjQftW.js","./ProgramTemplate-drETQBUn.js","./NestedMap-9UouPomH.js","./mapViewDeps-LS2iBiBk.js","./ExpandedCIM-r039T5K9.js","./GeometryUtils-pN0lJOJH.js","./floatRGBA-Y0kA9R7X.js","./imageUtils-jLrSHdJs.js","./Container-m-X2DGFy.js","./BufferPool-sURXGJBW.js","./AttributeStoreView-2GRDdbO8.js","./TiledDisplayObject-NTAr5tsC.js","./WGLContainer-RWXnfBYU.js","./util-PmijqwOP.js","./MagnifierPrograms-9wjjUMDp.js","./rasterizingUtils-cwMkH0M_.js","./imageutils-z-WX2QXM.js","./Matcher-5VzK9-Dg.js","./tileUtils-pcBJnprf.js","./testSVGPremultipliedAlpha-nzYqUz7h.js","./RenderingContext-uXh07AFl.js","./OrderIndependentTransparency-JGZ_PxZN.js","./basicInterfaces-IwaMq8O_.js","./doublePrecisionUtils-HJiLm-yC.js","./GraphicsView2D-L3UlZANi.js","./normalizeUtilsSync-UY7exMMQ.js","./GraphicContainer-GliTMIkB.js","./BaseGraphicContainer-nkQkRClz.js","./FeatureContainer-sCP9pctf.js","./TileContainer-941YHDRa.js","./requestImageUtils-pmXm_yWk.js","./TileLayerView2D-Rp24XbVa.js","./imageUtils-lKU3_EXx.js","./BitmapTileContainer-ZMcVXm7i.js","./Bitmap--2UIO8fv.js","./LayerView-SN8Ya_ml.js","./HighlightGraphicContainer-8x6pefx_.js","./RefreshableLayerView-olEw24_L.js","./drapedUtils-CLrcNF7g.js","./floorFilterUtils-zOdaZIyV.js","./sublayerUtils-3kcFtWDF.js","./popupUtils-M2Ta7QiJ.js","./FeatureLayerView2D-onq_pH2e.js","./BaseDynamicLayerView2D-LaYxlAVC.js","./BitmapContainer-pfwWg5Ik.js","./ExportStrategy-BAnY5loQ.js","./GeoRSSLayerView2D-k75du2FM.js","./GraphicsLayerView2D-W1YTkOmp.js","./GroupLayerView2D-vK8A-anV.js","./ImageryLayerView2D-8hP1BX8N.js","./RasterVFDisplayObject-70rkDF8o.js","./ImageryTileLayerView2D-FK6Qbc4_.js","./multidimensionalUtils-UdZMSk8t.js","./rasterUtils-0Mwl0bvL.js","./RawBlockCache-MilNmaRM.js","./KMLLayerView2D-aFFzQZdU.js","./kmlUtils-lHcBXei5.js","./KnowledgeGraphLayerView2D-6IrqUtMn.js","./MapImageLayerView2D-gWuPZ-7T.js","./ExportImageParameters-iY3aJWkC.js","./MapNotesLayerView2D-SXVKy3pv.js","./MediaLayerView2D-ybHVX4A5.js","./perspectiveUtils-0OMWuVWY.js","./OGCFeatureLayerView2D-azhtdzfF.js","./RouteLayerView2D-ZlIkRHOX.js","./Stop-sAXKnfcV.js","./StreamLayerView2D-fEgQ8VZl.js","./SubtypeGroupLayerView2D-SNnzt5gC.js","./VectorTileLayerView2D-0T-smFS0.js","./VideoLayerView2D-B0uoYjWe.js","./GraphicsLayer-do1sCuA6.js","./WMSLayerView2D-C1R82ORq.js","./ExportWMSImageParameters-iMofoGgW.js","./WMTSLayerView2D-LQC1SzoT.js","./calcite-button-w7JwNzf7.js","./label2-t5j720dr.js","./interactive-gTG63b2d.js","./loadable-l8bjYdow.js","./t9n-LS4lEpi9.js","./observers-UtPUWE2u.js","./component-dtiBfYiX.js","./icon-oTfj0fLF.js","./loader-tJKJcETL.js","./calcite-icon-1a_NVDvt.js","./calcite-scrim-CRXSHOVX.js","./scrim-dfEy_MqH.js","./calcite-chip-puVR2h-I.js","./conditionalSlot-Yc0a5H3B.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}