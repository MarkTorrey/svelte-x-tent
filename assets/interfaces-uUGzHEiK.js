import{bt as b,gZ as g,g_ as z,g$ as R,bm as F,t as U,ah as u}from"./index-eSY5-lt-.js";function v(t){return"declaredClass"in t}function m(t){return"declaredClass"in t}function W(t){return"declaredClass"in t}function E(t,n){return t?W(t)?t:new U({layer:n,sourceLayer:n,visible:t.visible,symbol:u(t.symbol),attributes:u(t.attributes),geometry:C(t.geometry)}):null}function C(t){return t==null?null:v(t)?t:b(L(t))}function L(t){const{wkid:n,wkt:a,wkt2:l,latestWkid:o}=t.spatialReference,i={wkid:n,wkt:a,wkt2:l,latestWkid:o};switch(t.type){case"point":{const{x:s,y:r,z:e,m:c}=t;return{x:s,y:r,z:e,m:c,spatialReference:i}}case"polygon":{const{rings:s,hasZ:r,hasM:e}=t;return{rings:f(s),hasZ:r,hasM:e,spatialReference:i}}case"polyline":{const{paths:s,hasZ:r,hasM:e}=t;return{paths:f(s),hasZ:r,hasM:e,spatialReference:i}}case"extent":{const{xmin:s,xmax:r,ymin:e,ymax:c,zmin:y,zmax:x,mmin:k,mmax:w,hasZ:M,hasM:Z}=t;return{xmin:s,xmax:r,ymin:e,ymax:c,zmin:y,zmax:x,mmin:k,mmax:w,hasZ:M,hasM:Z,spatialReference:i}}case"multipoint":{const{points:s,hasZ:r,hasM:e}=t;return{points:d(s)?p(s):s,hasZ:r,hasM:e,spatialReference:i}}default:return}}function f(t){return O(t)?t.map(n=>p(n)):t}function p(t){return t.map(n=>Array.from(n))}function O(t){for(const n of t)if(n.length!==0)return d(n);return!1}function d(t){return t.length>0&&(g(t[0])||z(t[0]))}function A(t,n){if(!t)return null;let a;if(m(t)){if(n==null)return t.clone();if(m(n))return n.copy(t)}return n!=null?(a=n,a.x=t.x,a.y=t.y,a.spatialReference=t.spatialReference,t.hasZ?(a.z=t.z,a.hasZ=t.hasZ):(a.z=void 0,a.hasZ=!1),t.hasM?(a.m=t.m,a.hasM=!0):(a.m=void 0,a.hasM=!1)):(a=R(t.x,t.y,t.z,t.spatialReference),t.hasM&&(a.m=t.m,a.hasM=!0)),a}function J(t){const{wkid:n,wkt:a,wkt2:l,latestWkid:o}=t,i={wkid:n,wkt:a,wkt2:l,latestWkid:o};return F.fromJSON(i)}var h;(function(t){t[t.EnableFastUpdates=0]="EnableFastUpdates",t[t.DisableFastUpdates=1]="DisableFastUpdates",t[t.UpdateFastLocalOrigin=2]="UpdateFastLocalOrigin"})(h||(h={}));export{h as a,E as c,J as k,v as o,C as u,A as x};
