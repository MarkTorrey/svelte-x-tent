import{bJ as a,dE as s}from"./index-BdDnxAOC.js";import{t as l}from"./symbolUtils-BUs8Wbgp.js";import{N as d}from"./utils-Dq0Bk0UU.js";import"./ColorStop-D1flJukn.js";import"./utils-DmAx5TEG.js";import"./jsonUtils-B03p0wkk.js";import"./UniqueValueRenderer-BWPFapkt.js";import"./colorRamps-feXPP0Fe.js";import"./sizeVariableUtils-Cmcuvw-4.js";import"./visualVariableUtils-CGgEbm3F.js";import"./jsonUtils-DM4hoWoB.js";import"./defaults-BX3STjdr.js";import"./defaultsJSON-GKolV7NZ.js";import"./styleUtils-D8VmJ7nq.js";import"./LRUCache-CSFO1iZh.js";import"./FieldsIndex-DdufUIvd.js";import"./UnknownTimeZone-CDnwrDVp.js";import"./OverrideHelper-cJgBvMlU.js";import"./colorUtils-CXI_GYiL.js";import"./utils-DpS7XCOa.js";import"./enums-CmIX1y88.js";import"./quantizationUtils-BIIdN1xY.js";import"./heatmapUtils-BQROikav.js";import"./webStyleSymbolUtils-C-w781HU.js";import"./devEnvironmentUtils-CnNDiFMM.js";import"./cimSymbolUtils-Cz7fBoYZ.js";function G(i,t,o){var e;const r=(e=i.thumbnail)==null?void 0:e.url;return r?a(r,{responseType:"image"}).then(p=>{const m=u(p.data,o);return o!=null&&o.node?(o.node.appendChild(m),o.node):m}):d(i).then(p=>p?t(p,o):null)}function u(i,t){const o=!/\\.svg$/i.test(i.src)&&(t==null?void 0:t.disableUpsampling),r=Math.max(i.width,i.height);let e=(t==null?void 0:t.maxSize)!=null?s(t.maxSize):l.maxSize;o&&(e=Math.min(r,e));const p=typeof(t==null?void 0:t.size)=="number"?t==null?void 0:t.size:null,m=Math.min(e,p!=null?s(p):r);if(m!==r){const h=i.width!==0&&i.height!==0?i.width/i.height:1;h>=1?(i.width=m,i.height=m/h):(i.width=m*h,i.height=m)}return i}export{G as previewWebStyleSymbol};
