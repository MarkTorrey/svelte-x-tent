import{s as C,ar as Ir,as as Mr,at as Pr,au as Nr,av as Tr,aw as Br,ax as Ur,ay as Dr,az as Gr,aA as Hr,aB as _r,aC as Jr}from"./index-rwr9l75y.js";var Ae,we,L={exports:{}};L.exports,we=function(){function n(o,g){function d(){this.constructor=o}d.prototype=g.prototype,o.prototype=new d}function c(o,g,d,r){var v=Error.call(this,o);return Object.setPrototypeOf&&Object.setPrototypeOf(v,c.prototype),v.expected=g,v.found=d,v.location=r,v.name="SyntaxError",v}function l(o,g,d){return d=d||" ",o.length>g?o:(g-=o.length,o+(d+=d.repeat(g)).slice(0,g))}function F(o,g){var d,r={},v=(g=g!==void 0?g:{}).grammarSource,j={start:de},I=de,M="none",P=")",h=",",y="(",O="%",w="px",X="cm",Y="mm",Z="in",ee="pt",re="pc",te="deg",ne="rad",ae="grad",ue="turn",Ce="#",Fe=".",Ee="e",oe=/^[ \t\n\r]/,ce=/^[a-z\-]/,ie=/^[0-9a-fA-F]/,se=/^[+\-]/,k=/^[0-9]/,$e=S("none"),je=x("none",!1),Oe=x(")",!1),fe=x(",",!1),qe=S("whitespace"),le=T([" ","	",`
`,"\r"],!1,!1),ze=S("function"),Se=x("(",!1),ke=S("identifier"),pe=T([["a","z"],"-"],!1,!1),Re=S("percentage"),Ie=x("%",!1),Me=S("length"),Pe=x("px",!1),Ne=x("cm",!1),Te=x("mm",!1),Be=x("in",!1),Ue=x("pt",!1),De=x("pc",!1),Ge=S("angle"),He=x("deg",!1),_e=x("rad",!1),Je=x("grad",!1),Ke=x("turn",!1),Le=S("number"),Qe=S("color"),Ve=x("#",!1),he=T([["0","9"],["a","f"],["A","F"]],!1,!1),me=T(["+","-"],!1,!1),R=T([["0","9"]],!1,!1),We=x(".",!1),Xe=x("e",!1),Ye=function(){return[]},Ze=function(e,a){return{type:"function",name:e,parameters:a||[]}},er=function(e,a){return a.length>0?Rr(e,a,3):[e]},rr=function(e){return{type:"quantity",value:e.value,unit:e.unit}},tr=function(e){return{type:"color",colorType:e.type,value:e.value}},nr=function(e){return e},ar=function(){return D()},ur=function(e){return{value:e,unit:"%"}},or=function(e){return{value:e,unit:"px"}},cr=function(e){return{value:e,unit:"cm"}},ir=function(e){return{value:e,unit:"mm"}},sr=function(e){return{value:e,unit:"in"}},fr=function(e){return{value:e,unit:"pt"}},lr=function(e){return{value:e,unit:"pc"}},pr=function(e){return{value:e,unit:"deg"}},hr=function(e){return{value:e,unit:"rad"}},mr=function(e){return{value:e,unit:"grad"}},gr=function(e){return{value:e,unit:"turn"}},vr=function(e){return{value:e,unit:null}},dr=function(){return{type:"hex",value:D()}},yr=function(e){return{type:"function",value:e}},Ar=function(){return{type:"named",value:D()}},wr=function(){return parseFloat(D())},t=0,m=0,U=[{line:1,column:1}],z=0,_=[],i=0;if("startRule"in g){if(!(g.startRule in j))throw new Error(`Can't start parsing from rule "`+g.startRule+'".');I=j[g.startRule]}function D(){return o.substring(m,t)}function x(e,a){return{type:"literal",text:e,ignoreCase:a}}function T(e,a,u){return{type:"class",parts:e,inverted:a,ignoreCase:u}}function xr(){return{type:"end"}}function S(e){return{type:"other",description:e}}function ge(e){var a,u=U[e];if(u)return u;for(a=e-1;!U[a];)a--;for(u={line:(u=U[a]).line,column:u.column};a<e;)o.charCodeAt(a)===10?(u.line++,u.column=1):u.column++,a++;return U[e]=u,u}function ve(e,a,u){var f=ge(e),A=ge(a),p={source:v,start:{offset:e,line:f.line,column:f.column},end:{offset:a,line:A.line,column:A.column}};return u&&v&&typeof v.offset=="function"&&(p.start=v.offset(p.start),p.end=v.offset(p.end)),p}function s(e){t<z||(t>z&&(z=t,_=[]),_.push(e))}function br(e,a,u){return new c(c.buildMessage(e,a),e,a,u)}function de(){var e;return(e=Cr())===r&&(e=Fr()),e}function Cr(){var e,a;return i++,e=t,b(),o.substr(t,4)===M?(a=M,t+=4):(a=r,i===0&&s(je)),a!==r?(b(),m=e,e=Ye()):(t=e,e=r),i--,e===r&&i===0&&s($e),e}function Fr(){var e,a;if(e=[],(a=J())!==r)for(;a!==r;)e.push(a),a=J();else e=r;return e}function J(){var e,a,u,f;return e=t,b(),(a=$r())!==r?(b(),(u=Er())===r&&(u=null),b(),o.charCodeAt(t)===41?(f=P,t++):(f=r,i===0&&s(Oe)),f!==r?(b(),m=e,e=Ze(a,u)):(t=e,e=r)):(t=e,e=r),e}function Er(){var e,a,u,f,A,p,$,G;if(e=t,(a=K())!==r){for(u=[],f=t,A=b(),o.charCodeAt(t)===44?(p=h,t++):(p=r,i===0&&s(fe)),p===r&&(p=null),$=b(),(G=K())!==r?f=A=[A,p,$,G]:(t=f,f=r);f!==r;)u.push(f),f=t,A=b(),o.charCodeAt(t)===44?(p=h,t++):(p=r,i===0&&s(fe)),p===r&&(p=null),$=b(),(G=K())!==r?f=A=[A,p,$,G]:(t=f,f=r);m=e,e=er(a,u)}else t=e,e=r;return e}function K(){var e,a;return e=t,(a=jr())===r&&(a=Or())===r&&(a=qr())===r&&(a=zr()),a!==r&&(m=e,a=rr(a)),(e=a)===r&&(e=t,(a=Sr())!==r&&(m=e,a=tr(a)),e=a),e}function b(){var e,a;for(i++,e=[],oe.test(o.charAt(t))?(a=o.charAt(t),t++):(a=r,i===0&&s(le));a!==r;)e.push(a),oe.test(o.charAt(t))?(a=o.charAt(t),t++):(a=r,i===0&&s(le));return i--,a=r,i===0&&s(qe),e}function $r(){var e,a,u;return i++,e=t,(a=ye())!==r?(o.charCodeAt(t)===40?(u=y,t++):(u=r,i===0&&s(Se)),u!==r?(m=e,e=nr(a)):(t=e,e=r)):(t=e,e=r),i--,e===r&&(a=r,i===0&&s(ze)),e}function ye(){var e,a,u;if(i++,e=t,a=[],ce.test(o.charAt(t))?(u=o.charAt(t),t++):(u=r,i===0&&s(pe)),u!==r)for(;u!==r;)a.push(u),ce.test(o.charAt(t))?(u=o.charAt(t),t++):(u=r,i===0&&s(pe));else a=r;return a!==r&&(m=e,a=ar()),i--,(e=a)===r&&(a=r,i===0&&s(ke)),e}function jr(){var e,a,u;return i++,e=t,b(),(a=E())!==r?(o.charCodeAt(t)===37?(u=O,t++):(u=r,i===0&&s(Ie)),u!==r?(m=e,e=ur(a)):(t=e,e=r)):(t=e,e=r),i--,e===r&&i===0&&s(Re),e}function Or(){var e,a,u;return i++,e=t,b(),(a=E())!==r?(o.substr(t,2)===w?(u=w,t+=2):(u=r,i===0&&s(Pe)),u!==r?(m=e,e=or(a)):(t=e,e=r)):(t=e,e=r),e===r&&(e=t,b(),(a=E())!==r?(o.substr(t,2)===X?(u=X,t+=2):(u=r,i===0&&s(Ne)),u!==r?(m=e,e=cr(a)):(t=e,e=r)):(t=e,e=r),e===r&&(e=t,b(),(a=E())!==r?(o.substr(t,2)===Y?(u=Y,t+=2):(u=r,i===0&&s(Te)),u!==r?(m=e,e=ir(a)):(t=e,e=r)):(t=e,e=r),e===r&&(e=t,b(),(a=E())!==r?(o.substr(t,2)===Z?(u=Z,t+=2):(u=r,i===0&&s(Be)),u!==r?(m=e,e=sr(a)):(t=e,e=r)):(t=e,e=r),e===r&&(e=t,b(),(a=E())!==r?(o.substr(t,2)===ee?(u=ee,t+=2):(u=r,i===0&&s(Ue)),u!==r?(m=e,e=fr(a)):(t=e,e=r)):(t=e,e=r),e===r&&(e=t,b(),(a=E())!==r?(o.substr(t,2)===re?(u=re,t+=2):(u=r,i===0&&s(De)),u!==r?(m=e,e=lr(a)):(t=e,e=r)):(t=e,e=r)))))),i--,e===r&&i===0&&s(Me),e}function qr(){var e,a,u;return i++,e=t,(a=E())!==r?(o.substr(t,3)===te?(u=te,t+=3):(u=r,i===0&&s(He)),u!==r?(m=e,e=pr(a)):(t=e,e=r)):(t=e,e=r),e===r&&(e=t,(a=E())!==r?(o.substr(t,3)===ne?(u=ne,t+=3):(u=r,i===0&&s(_e)),u!==r?(m=e,e=hr(a)):(t=e,e=r)):(t=e,e=r),e===r&&(e=t,(a=E())!==r?(o.substr(t,4)===ae?(u=ae,t+=4):(u=r,i===0&&s(Je)),u!==r?(m=e,e=mr(a)):(t=e,e=r)):(t=e,e=r),e===r&&(e=t,(a=E())!==r?(o.substr(t,4)===ue?(u=ue,t+=4):(u=r,i===0&&s(Ke)),u!==r?(m=e,e=gr(a)):(t=e,e=r)):(t=e,e=r)))),i--,e===r&&(a=r,i===0&&s(Ge)),e}function zr(){var e,a;return i++,e=t,b(),(a=E())!==r?(m=e,e=vr(a)):(t=e,e=r),i--,e===r&&i===0&&s(Le),e}function Sr(){var e,a,u,f;if(i++,e=t,o.charCodeAt(t)===35?(a=Ce,t++):(a=r,i===0&&s(Ve)),a!==r){if(u=[],ie.test(o.charAt(t))?(f=o.charAt(t),t++):(f=r,i===0&&s(he)),f!==r)for(;f!==r;)u.push(f),ie.test(o.charAt(t))?(f=o.charAt(t),t++):(f=r,i===0&&s(he));else u=r;u!==r?(m=e,e=dr()):(t=e,e=r)}else t=e,e=r;return e===r&&(e=t,(a=J())!==r&&(m=e,a=yr(a)),(e=a)===r&&(e=t,(a=ye())!==r&&(m=e,a=Ar()),e=a)),i--,e===r&&(a=r,i===0&&s(Qe)),e}function E(){var e,a,u,f,A,p,$;for(e=t,se.test(o.charAt(t))?(o.charAt(t),t++):i===0&&s(me),a=t,u=[],k.test(o.charAt(t))?(f=o.charAt(t),t++):(f=r,i===0&&s(R));f!==r;)u.push(f),k.test(o.charAt(t))?(f=o.charAt(t),t++):(f=r,i===0&&s(R));if(o.charCodeAt(t)===46?(f=Fe,t++):(f=r,i===0&&s(We)),f!==r){if(A=[],k.test(o.charAt(t))?(p=o.charAt(t),t++):(p=r,i===0&&s(R)),p!==r)for(;p!==r;)A.push(p),k.test(o.charAt(t))?(p=o.charAt(t),t++):(p=r,i===0&&s(R));else A=r;A!==r?a=u=[u,f,A]:(t=a,a=r)}else t=a,a=r;if(a===r)if(a=[],k.test(o.charAt(t))?(u=o.charAt(t),t++):(u=r,i===0&&s(R)),u!==r)for(;u!==r;)a.push(u),k.test(o.charAt(t))?(u=o.charAt(t),t++):(u=r,i===0&&s(R));else a=r;if(a!==r){if(u=t,o.charCodeAt(t)===101?(f=Ee,t++):(f=r,i===0&&s(Xe)),f!==r){if(se.test(o.charAt(t))?(A=o.charAt(t),t++):(A=r,i===0&&s(me)),A===r&&(A=null),p=[],k.test(o.charAt(t))?($=o.charAt(t),t++):($=r,i===0&&s(R)),$!==r)for(;$!==r;)p.push($),k.test(o.charAt(t))?($=o.charAt(t),t++):($=r,i===0&&s(R));else p=r;p!==r?u=f=[f,A,p]:(t=u,u=r)}else t=u,u=r;u===r&&(u=null),m=e,e=wr()}else t=e,e=r;return e}function kr(e,a){return e.map(function(u){return u[a]})}function Rr(e,a,u){return[e].concat(kr(a,u))}if((d=I())!==r&&t===o.length)return d;throw d!==r&&t<o.length&&s(xr()),br(_,z<o.length?o.charAt(z):null,z<o.length?ve(z,z+1):ve(z,z))}return n(c,Error),c.prototype.format=function(o){var g="Error: "+this.message;if(this.location){var d,r=null;for(d=0;d<o.length;d++)if(o[d].source===this.location.source){r=o[d].text.split(/\r\n|\n|\r/g);break}var v=this.location.start,j=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(v):v,I=this.location.source+":"+j.line+":"+j.column;if(r){var M=this.location.end,P=l("",j.line.toString().length," "),h=r[v.line-1],y=(v.line===M.line?M.column:h.length+1)-v.column||1;g+=`
 --> `+I+`
`+P+` |
`+j.line+" | "+h+`
`+P+" | "+l("",v.column-1," ")+l("",y,"^")}else g+=`
 at `+I}return g},c.buildMessage=function(o,g){var d={literal:function(h){return'"'+v(h.text)+'"'},class:function(h){var y=h.parts.map(function(O){return Array.isArray(O)?j(O[0])+"-"+j(O[1]):j(O)});return"["+(h.inverted?"^":"")+y.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(h){return h.description}};function r(h){return h.charCodeAt(0).toString(16).toUpperCase()}function v(h){return h.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(y){return"\\x0"+r(y)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(y){return"\\x"+r(y)})}function j(h){return h.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(y){return"\\x0"+r(y)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(y){return"\\x"+r(y)})}function I(h){return d[h.type](h)}function M(h){var y,O,w=h.map(I);if(w.sort(),w.length>0){for(y=1,O=1;y<w.length;y++)w[y-1]!==w[y]&&(w[O]=w[y],O++);w.length=O}switch(w.length){case 1:return w[0];case 2:return w[0]+" or "+w[1];default:return w.slice(0,-1).join(", ")+", or "+w[w.length-1]}}function P(h){return h?'"'+v(h)+'"':"end of input"}return"Expected "+M(o)+" but "+P(g)+" found."},{SyntaxError:c,parse:F}},(Ae=L).exports&&(Ae.exports=we());var Kr=L.exports;function lt(n){if(!n||n.length===0)return null;if(typeof n=="string"){const l=xe(n);return l&&l.length!==0?l:null}const c=n.map(l=>{if(!Number.isFinite(l.scale)||l.scale<=0)throw new C("effect:invalid-scale","scale must be finite and greater than 0",{stop:l});return{scale:l.scale,effects:xe(l.value)}});c.sort((l,F)=>F.effects.length-l.effects.length);for(let l=0;l<c.length-1;l++){if(!Ir(c[l].effects,c[l+1].effects))throw new C("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:c[l].effects,b:c[l+1].effects});Mr(c[l].effects,c[l+1].effects)}return c.sort((l,F)=>F.scale-l.scale),c}function xe(n){let c;if(!n)return[];try{c=Kr.parse(n)}catch(l){throw new C("effect:invalid-syntax","Invalid effect syntax",{value:n,error:l})}return c.map(l=>Lr(l))}function Lr(n){try{switch(n.name){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":return Qr(n);case"opacity":return Vr(n);case"hue-rotate":return Wr(n);case"blur":return Xr(n);case"drop-shadow":return Yr(n);case"bloom":return Zr(n)}}catch(c){throw c.details.filter=n,c}throw new C("effect:unknown-effect",`Effect '${n.name}' is not supported`,{effect:n})}function Qr(n){let c=1;return N(n.parameters,1),n.parameters.length===1&&(c=q(n.parameters[0])),new Pr(n.name,c)}function Vr(n){let c=1;return N(n.parameters,1),n.parameters.length===1&&(c=q(n.parameters[0])),new Nr(c)}function Wr(n){let c=0;return N(n.parameters,1),n.parameters.length===1&&(c=ut(n.parameters[0])),new Tr(c)}function Xr(n){let c=0;return N(n.parameters,1),n.parameters.length===1&&(c=W(n.parameters[0]),B(c,n.parameters[0])),new Br(c)}function Yr(n){const c=[];let l=null;for(const F of n.parameters)if(F.type==="color"){if(c.length&&Object.freeze(c),l)throw new C("effect:type-error","Accepts only one color",{});l=ot(F)}else{const o=W(F);if(Object.isFrozen(c))throw new C("effect:type-error","<length> parameters not consecutive",{lengths:c});c.push(o),c.length===3&&B(o,F)}if(c.length<2||c.length>3)throw new C("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${c.length}}`,{lengths:c});return new Ur(c[0],c[1],c[2]||0,l||be("black"))}function Zr(n){let c=1,l=0,F=0;return N(n.parameters,3),n.parameters[0]&&(c=q(n.parameters[0])),n.parameters[1]&&(l=W(n.parameters[1]),B(l,n.parameters[1])),n.parameters[2]&&(F=q(n.parameters[2])),new Dr(c,l,F)}function N(n,c){if(n.length>c)throw new C("effect:type-error",`Function supports up to ${c} parameters, Actual: ${n.length}`,{parameters:n})}function H(n){if(n.type==="color")return"<color>";if(n.unit){if(n.unit in V)return"<length>";if(n.unit in Q)return"<angle>";if(n.unit==="%")return"<percentage>"}return"<double>"}function B(n,c){if(n<0)throw new C("effect:type-error",`Negative values are not allowed, Actual: ${n}`,{term:c})}function et(n){if(n.type!=="quantity"||n.unit!==null)throw new C("effect:type-error",`Expected <double>, Actual: ${H(n)}`,{term:n})}function rt(n){if(n.type!=="quantity"||n.unit!==null&&n.unit!=="%")throw new C("effect:type-error",`Expected <double> or <percentage>, Actual: ${H(n)}`,{term:n})}const Q={deg:1,grad:.9,rad:180/Math.PI,turn:360};function tt(n){if(n.type!=="quantity"||!(n.value===0&&n.unit===null||n.unit&&Q[n.unit]!=null))throw new C("effect:type-error",`Expected <angle>, Actual: ${H(n)}`,{term:n})}const V={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72};function nt(n){if(n.type!=="quantity"||!(n.value===0&&n.unit===null||n.unit&&V[n.unit]!=null))throw new C("effect:type-error",`Expected <length>, Actual: ${H(n)}`,{term:n})}function q(n){rt(n);const c=n.value;return B(c,n),n.unit==="%"?.01*c:c}function at(n){return et(n),B(n.value,n),n.value}function ut(n){return tt(n),n.value*Q[n.unit]||0}function W(n){return nt(n),n.value*V[n.unit]||0}function ot(n){switch(n.colorType){case"hex":return Gr(n.value);case"named":return be(n.value);case"function":return st(n.value)}}function be(n){if(!Hr(n))throw new C("effect:unknown-color",`color '${n}' isn't valid`,{namedColor:n});return _r(n)}const ct=/^rgba?/i,it=/^hsla?/i;function st(n){if(N(n.parameters,4),ct.test(n.name))return[q(n.parameters[0]),q(n.parameters[1]),q(n.parameters[2]),n.parameters[3]?q(n.parameters[3]):1];if(it.test(n.name))return Jr(at(n.parameters[0]),q(n.parameters[1]),q(n.parameters[2]),n.parameters[3]?q(n.parameters[3]):1);throw new C("effect:syntax-error",`Invalid color function '${n.name}'`,{colorFunction:n})}export{lt as y};
