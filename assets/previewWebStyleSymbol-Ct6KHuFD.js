import{ah as a,cb as s}from"./index-Cek7aMWl.js";import{t as l}from"./symbolUtils-gs7zz1py.js";import{N as u}from"./utils-Cp7l-Qiq.js";import"./ColorStop-CqMXhorb.js";import"./utils-CGzR1Xtt.js";import"./jsonUtils-DGzEHX8a.js";import"./UniqueValueRenderer-DoQjGRE5.js";import"./colorRamps-4yJNyWKx.js";import"./sizeVariableUtils-Cmcuvw-4.js";import"./visualVariableUtils-Cdb7Kq7r.js";import"./jsonUtils-C2l4B_cE.js";import"./defaults-fOuW8gwA.js";import"./defaultsJSON-GKolV7NZ.js";import"./styleUtils-Dv2EsbEO.js";import"./LRUCache-pAqnhOsq.js";import"./Version-DJsGRXWf.js";import"./FieldsIndex-Bjg3eA_S.js";import"./UnknownTimeZone-Cjv2gi-C.js";import"./OverrideHelper-ClkM4CZ1.js";import"./colorUtils-BlCLzs4t.js";import"./utils-BE8joJvK.js";import"./quantizationUtils-DeBnMDmu.js";import"./heatmapUtils-NTzr8GZp.js";import"./webStyleSymbolUtils-NOGravR0.js";import"./devEnvironmentUtils-D6qIi8Ky.js";import"./cimSymbolUtils-CiZiLm4M.js";function H(i,t,o){var e;const r=(e=i.thumbnail)==null?void 0:e.url;return r?a(r,{responseType:"image"}).then(p=>{const m=d(p.data,o);return o!=null&&o.node?(o.node.appendChild(m),o.node):m}):u(i).then(p=>p?t(p,o):null)}function d(i,t){const o=!/\\.svg$/i.test(i.src)&&(t==null?void 0:t.disableUpsampling),r=Math.max(i.width,i.height);let e=(t==null?void 0:t.maxSize)!=null?s(t.maxSize):l.maxSize;o&&(e=Math.min(r,e));const p=typeof(t==null?void 0:t.size)=="number"?t==null?void 0:t.size:null,m=Math.min(e,p!=null?s(p):r);if(m!==r){const h=i.width!==0&&i.height!==0?i.width/i.height:1;h>=1?(i.width=m,i.height=m/h):(i.width=m*h,i.height=m)}return i}export{H as previewWebStyleSymbol};
