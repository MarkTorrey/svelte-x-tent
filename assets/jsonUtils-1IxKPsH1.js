import{bx as c,gm as p,s as b,gn as y,ac as g,go as w,ab as x,fe as C,ad as h,gp as $,gq as D,ae as I,gr as L,gl as M,gs as k,gt as v}from"./index-eSY5-lt-.js";const a={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function T(e,o=a){var i,u;if(!e)return{symbol:null};const{retainId:t=a.retainId,ignoreDrivers:s=a.ignoreDrivers,hasLabelingContext:r=a.hasLabelingContext,retainCIM:l=a.retainCIM}=o;let n=null;if(c(e)||e instanceof p)n=e.clone();else if(e.type==="cim"){const m=(u=(i=e.data)==null?void 0:i.symbol)==null?void 0:u.type;if(m!=="CIMPointSymbol")return{error:new b("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${m||"unknown"}' is unsupported in 3D`,{symbol:e})};n=l?e.clone():y.fromCIMSymbol(e)}else if(e instanceof g)n=w.fromSimpleLineSymbol(e);else if(e instanceof x)n=y.fromSimpleMarkerSymbol(e);else if(e instanceof C)n=y.fromPictureMarkerSymbol(e);else if(e instanceof h)n=o.geometryType&&o.geometryType==="mesh"?$.fromSimpleFillSymbol(e):D.fromSimpleFillSymbol(e);else{if(!(e instanceof I))return{error:new b("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${e.type||e.declaredClass}' is unsupported in 3D`,{symbol:e})};n=r?L.fromTextSymbol(e):y.fromTextSymbol(e)}return t&&n&&n.type!=="cim"&&(n.id=e.id),s&&c(n)&&n.symbolLayers.forEach(m=>m.ignoreDrivers=!0),{symbol:n}}function P(e,o,t,s){const r=d(e,{},{context:s,isLabelSymbol:!1});r!=null&&(o[t]=r)}function U(e,o,t,s){const r=d(e,{},{context:s,isLabelSymbol:!0});r!=null&&(o[t]=r)}function f(e){return e instanceof k||e instanceof p}function d(e,o,t){if(e==null)return null;const{context:s,isLabelSymbol:r}=t,l=s==null?void 0:s.origin,n=s==null?void 0:s.messages;if(l==="web-scene"&&!f(e)){const i=T(e,{retainCIM:!0,hasLabelingContext:r});return i.symbol!=null?i.symbol.write(o,s):(n==null||n.push(new b("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:e,context:s,error:i.error})),null)}return(l==="web-map"||l==="portal-item"&&!M(s==null?void 0:s.layer))&&f(e)?(n==null||n.push(new b("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:e,context:s})),null):e.write(o,s)}function V(e,o){return v(e,null,o)}export{T as S,a,V as b,U as i,P as l};
