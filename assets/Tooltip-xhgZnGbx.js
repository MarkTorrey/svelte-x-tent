import{a as Gt,w as Bt,b as Yt,f as It,p as Xt,D as Qt,x as Jt,y as te,F as ee,j as ne,c as ie,e as se,B as oe,M as ae,$ as le,i as T,k as re}from"./unitFormatUtils-14JHbQwR.js";import{aY as ce,n7 as ue,cb as pe,f as j,mr as de,mn as Ft,cU as G,cR as Ht,cz as M,lV as St,jM as he,n8 as fe,T as me,mk as gt,ml as ve,n9 as ge,c4 as _e,l as a,m as c,n as f,k1 as o,l3 as $e,k0 as q,j$ as Lt,bb as B,mu as Z,o as W,B as be,na as Nt,_ as O,nb as ye,nc as we,nd as xe,ne as ke,ag as Te,nf as Me,eq as Y,u as Ct,l2 as Le}from"./index-eSY5-lt-.js";import{t as X}from"./projectVectorToVector-EjL4REoi.js";import{c as Ce,f as ze,a as De}from"./spatialReferenceEllipsoidUtils-C7ZdwAmG.js";import{geodesicLength as At}from"./geometryEngine-OntNUgGF.js";import{t as Ve}from"./memoize-uBdPJ80n.js";function _t(e,t,n,i=2,s="abbr"){return Yt(e,It(t,n).value,n,i,s)}function Pt(e,t,n,i=2,s="abbr"){return Xt(e,It(t,n).value,n,i,s)}function Re(e,t,n=2,i="abbr"){return Qt(e,t.value,t.unit,n,i)}function Ee(e,t,n=2,i="abbr"){return Jt(e,t.value,t.unit,n,i)}function Oe(e,t,n=2,i="abbr"){return te(e,t.value,t.unit,n,i)}function Ie(e,t,n=2,i="abbr"){return ee(e,t.value,t.unit,n,i)}function Fe(e,t,n=2,i="abbr"){return ne(e,t.value,t.unit,n,i)}function He(e,t,n=2,i="abbr"){return ie(e,t.value,t.unit,n,i)}function Se(e,t,n=2,i="abbr"){return se(e,t.value,t.unit,n,i)}function Ne(e,t,n=2,i="abbr"){return oe(e,t.value,t.unit,n,i)}function Ae(e,t,n=2,i="abbr"){return ae(e,t.value,t.unit,n,i)}function Pe(e,t,n=2,i="abbr"){return le(e,t.value,t.unit,n,i)}function $t(e,t,n){return Gt(e.value,e.unit,e.rotationType,t,n)}function Ue(e,t,n){return Bt(e.value,e.unit,e.rotationType,t,n)}function zt(e,t,n,i,s="abbr"){switch(i=i??2,n){case"imperial":return He(e,t,i,s);case"metric":return Re(e,t,i,s);default:return _t(e,t,n,i,s)}}function Ze(e,t,n,i=2,s="abbr"){switch(n){case"imperial":return Se(e,t,i,s);case"metric":return Ee(e,t,i,s);default:return Pt(e,t,n,i,s)}}function We(e,t,n,i=2,s="abbr"){switch(n){case"imperial":return Ne(e,t,i,s);case"metric":return Oe(e,t,i,s);default:return _t(e,t,n,i,s)}}function je(e,t,n,i=2,s="abbr"){switch(n){case"imperial":return Ae(e,t,i,s);case"metric":return Ie(e,t,i,s);default:return Pt(e,t,n,i,s)}}function qe(e,t,n,i=2,s="abbr"){switch(n){case"imperial":return Pe(e,t,i,s);case"metric":return Fe(e,t,i,s);default:return _t(e,t,n,i,s)}}function Dt(e){var s,l;const t="metric";if(e==null)return t;const n=e.map,i=(n&&"portalItem"in n?(s=n.portalItem)==null?void 0:s.portal:null)??ce.getDefault();switch(((l=i.user)==null?void 0:l.units)??i.units){case t:return t;case"english":return"imperial"}return ue(e.spatialReference)??t}function Ut(e){const t=Ce(e),n=t===ze?De:t;return pe(e,n)?n:e}var k;function Zt(e){return jt(e,k.Direct)}function Wt(e){return jt(e,k.Horizontal)}function jt(e,t){const{hasZ:n,spatialReference:i}=e,s=Ut(i);let l=0;const r=Ft(s);if(r==null)return null;const d=t===k.Direct?bt:F;for(const b of e.paths){if(b.length<2)continue;const L=b.length-1;for(let g=0;g<L;++g){const _=b[g];m[0]=_[0],m[1]=_[1],m[2]=n?_[2]:0;const K=b[g+1];$[0]=K[0],$[1]=K[1],$[2]=n?K[2]:0;const Mt=d(m,$,i);if(Mt==null)return null;l+=Mt.value}}return T(l,r)}function Ke(e,t){const{spatialReference:n}=e;return j(n,t.spatialReference)?(m[0]=e.x,m[1]=e.y,m[2]=e.hasZ?e.z:0,$[0]=t.x,$[1]=t.y,$[2]=t.hasZ?t.z:0,bt(m,$,n)):null}function I(e,t){const{spatialReference:n}=e;return j(n,t.spatialReference)?(m[0]=e.x,m[1]=e.y,m[2]=e.hasZ?e.z:0,$[0]=t.x,$[1]=t.y,$[2]=t.hasZ?t.z:0,F(m,$,n)):null}function Sn(e,t){const{spatialReference:n}=e;return j(n,t.spatialReference)?(m[0]=e.x,m[1]=e.y,m[2]=e.hasZ?e.z:0,$[0]=t.x,$[1]=t.y,$[2]=t.hasZ?t.z:0,Ge(m,$,n)):null}function Nn(e){return m[0]=e.x,m[1]=e.y,m[2]=e.hasZ?e.z:0,Be(m,e.spatialReference)}function bt(e,t,n){const i=yt(e,t,n,k.Direct);return i!=null?T(i.direct,i.unit):null}function F(e,t,n){const i=yt(e,t,n,k.Horizontal);return i!=null?T(i.horizontal,i.unit):null}function Ge(e,t,n){const i=yt(e,t,n,k.Vertical);return i!=null?T(i.verticalSigned,i.unit):null}function Be(e,t){const n=de(t);return n!=null?T(e[2],n):null}function yt(e,t,n,i){const s=Ut(n),l=Ft(s);if(l==null)return null;const r=t[2]-e[2];if(i===k.Vertical)return{verticalSigned:r,unit:l};if(!X(e,n,Q,s)||!X(t,n,H,s))return null;if(i===k.Direct)return{direct:G(H,Q),unit:l};if(Ht(S,e[0],e[1],t[2]),!X(S,n,S,s))return null;const d=G(S,H);return i===k.Horizontal?{horizontal:d,unit:l}:{direct:G(H,Q),horizontal:d,vertical:Math.abs(r),unit:l}}(function(e){e[e.Direct=0]="Direct",e[e.Horizontal=1]="Horizontal",e[e.Vertical=2]="Vertical"})(k||(k={}));const m=M(),$=M(),Q=M(),H=M(),S=M();function Ye({hasZ:e,spatialReference:t,paths:n},i,s=0){const l=St(t);if(l==null)return!1;const r=e?d=>d:d=>Ht(Xe,d[0],d[1],s);for(const d of n){const b=[];for(const L of d){const g=[0,0,s];l(r(L),0,g,0),b.push(g)}i.push(b)}return!0}const Xe=M();function Vt(e,t,n){if(t==null)return!1;const i=St(t);return i!=null&&(i(e,0,E,0),n!==E&&(n[0]=E[0],n[1]=E[1],n.length>2&&(n[2]=E[2])),!0)}const E=M();function qt(e,t,n,i,...s){return he(e)&&fe(e)?t.apply(void 0,s):me(e)?n.apply(void 0,s):i.apply(void 0,s)}function Kt(e){const{spatialReference:t}=e;return qt(t,en,nn,sn,e)}function wt(e,t){if(!j(e.spatialReference,t.spatialReference))return null;const{spatialReference:n}=e;return N[0]=e.x,N[1]=e.y,N[2]=e.hasZ?e.z:0,A[0]=t.x,A[1]=t.y,A[2]=t.hasZ?t.z:0,xt(N,A,n)}function xt(e,t,n){return qt(n,Qe,Je,tn,e,t,n)}function Qe(e,t,n){return T(gt(kt,e,t,n).distance,"meters")}function Je(e,t,n){return T(At(on(e,t,n),"meters"),"meters")}function tn(e,t,n){return Vt(e,n,Rt)&&Vt(t,n,Et)?T(gt(kt,Rt,Et).distance,"meters"):null}function en(e){return T(ge([e],"meters")[0],"meters")}function nn(e){return T(At(e,"meters"),"meters")}function sn(e){const t=[];if(!Ye(e,t))return null;let n=0;for(const i of t){let s=0;for(let l=1;l<i.length;++l)s+=gt(kt,i[l-1],i[l]).distance;n+=s}return T(n,"meters")}function on(e,t,n){return{type:"polyline",spatialReference:n,paths:[[[...e],[...t]]]}}const kt=new ve,N=M(),A=M(),Rt=M(),Et=M();function An(e,t){return R(Zt,Kt,Wt,t,e)}function Pn(e,t,n){return R(Ke,wt,I,n,e,t)}function Un(e,t,n,i){return R(bt,xt,F,i,e,t,n)}function Zn(e,t,n){return R(I,wt,I,n,e,t)}function Wn(e,t,n,i){return R(F,xt,F,i,e,t,n)}function jn(e){return R(Zt,Kt,Wt,"on-the-ground",e)}function qn(e,t){return R(I,wt,I,"on-the-ground",e,t)}function R(e,t,n,i,...s){if(i==="on-the-ground"){const l=t.apply(void 0,s);return l??n.apply(void 0,s)}return e.apply(void 0,s)}let C=class extends _e.EventedAccessor{constructor(t){super(t),this._mode="feedback",this.helpMessage=void 0,this.viewType=void 0}get mode(){return this._mode}get allFields(){return[]}get editableFields(){return this.allFields.filter(t=>!t.readOnly)}enterInputMode(){this._mode="input",this.emit("focus")}exitInputMode(){this._mode="feedback"}unlockAllFields(){this.allFields.forEach(t=>t.unlock())}};a([c()],C.prototype,"tooltipOptions",void 0),a([c()],C.prototype,"_mode",void 0),a([c()],C.prototype,"mode",null),a([c()],C.prototype,"helpMessage",void 0),a([c()],C.prototype,"viewType",void 0),a([c()],C.prototype,"allFields",null),a([c()],C.prototype,"editableFields",null),C=a([f("esri.views.interactive.tooltip.SketchTooltipInfo")],C);const D="esri-tooltip",p=`${D}-content`,an=`${D}-content--input`,ln=`${D}-content__header`,rn=`${D}-table`,cn=`${D}-help-message`;function v({className:e,helpMessage:t,mode:n,onDiscard:i,onkeydown:s},...l){const r=l.flat(10).filter(d=>!!d);return o("div",{class:$e(e,p,n==="input"&&an),onkeydown:s},n==="input"?o("div",{class:ln,key:"tooltip-content-header"},o("calcite-button",{appearance:"transparent",iconFlipRtl:"both",iconStart:"chevron-left",kind:"neutral",onclick:i,scale:"s",tabIndex:-1})):null,r.length>0?o("div",{class:rn},...r):null,t?o("div",{class:cn,key:"help-message"},t):null)}const P=`${D}-field`,U={base:P,inputMode:`${P}--input`,title:`${P}__title`,value:`${P}__value`};let u=class extends q{constructor(){super(...arguments),this.hidden=!1,this.mode="feedback"}render(){return o("div",{class:this.classes({[U.base]:!0,[U.inputMode]:this.mode==="input"})},o("div",{class:U.title},this.title),o("div",{class:U.value},this.value))}};a([c()],u.prototype,"hidden",void 0),a([c()],u.prototype,"mode",void 0),a([c()],u.prototype,"title",void 0),a([c()],u.prototype,"value",void 0),u=a([f("esri.views.interactive.tooltip.TooltipField")],u);const un={base:`${D}-value-by-value`};let z=class extends q{constructor(){super(...arguments),this.divider="Ã—"}render(){return o("div",{class:un.base},o("span",null,this.left),o("span",null,this.divider),o("span",null,this.right))}};a([c()],z.prototype,"left",void 0),a([c()],z.prototype,"divider",void 0),a([c()],z.prototype,"right",void 0),z=a([f("esri.views.interactive.tooltip.ValueByValue")],z);let h=class extends q{constructor(){super(...arguments),this._getFormatters=Ve((e,t)=>({angle:n=>$t(n,n.rotationType),area:(n,i)=>qe(e,n,i??t.area),length:(n,i,s)=>zt(e,n,i??t.length,s),relativeLength:(n,i)=>Ze(e,n,i??t.length),totalLength:(n,i)=>zt(e,n,i??t.length),verticalLength:(n,i)=>We(e,n,i??t.length),relativeVerticalLength:(n,i)=>je(e,n,i??t.verticalLength),relativeOrientation:n=>B(n,{maximumFractionDigits:2,minimumFractionDigits:2,signDisplay:"exceptZero"}),percentage:n=>B(n.value,{style:"percent"}),scale:n=>B(n,{style:"percent",maximumFractionDigits:0})})),this._formatScale=e=>this._formatters.scale(e),this._formatRelativeOrientation=e=>this._formatters.relativeOrientation(e),this._formatLength=(e,t,n)=>this._formatters.length(e,t,n),this._formatRelativeLength=(e,t)=>this._formatters.relativeLength(e,t),this._formatVerticalLength=(e,t)=>this._formatters.verticalLength(e,t),this._formatRelativeVerticalLength=(e,t)=>this._formatters.relativeVerticalLength(e,t),this._formatArea=(e,t)=>this._formatters.area(e,t),this._formatPercentage=e=>this._formatters.percentage(e),this._onDiscard=()=>{this._exitInputMode()},this._onCommit=(e,t)=>{var r;if(t==="commit-and-exit")return this._exitInputMode();const n=this._getFocusableInputs(),i=n.length,s=n.indexOf(e);if(s===-1)return this._exitInputMode();const l=((s+(t==="commit-and-next"?1:-1))%i+i)%i;(r=n.at(l))==null||r.focus()},this._handleTab=e=>{if(e.code!==Z.next)return;const t=this._getFocusableInputs();if(t.length===0)return;const n=t.at(0),i=t.at(-1);n&&i&&(e.shiftKey?document.activeElement===n&&(e.preventDefault(),i.focus()):document.activeElement===i&&(e.preventDefault(),n.focus()))}}get _displayUnits(){const e=Dt(this.tooltip.view);return{length:e,verticalLength:e,area:e,angle:"degrees"}}get _inputUnitInfos(){const e=this._messagesUnits,t=d=>({unit:d,abbreviation:re(e,d,"abbr")}),n=Dt(this.tooltip.view),i=ye(n),s=we(n),l=xe(n),r="degrees";return{length:t(i),relativeLength:t(i),verticalLength:t(s),relativeVerticalLength:t(s),area:t(l),orientation:t(r),rotation:t(r)}}get _formatters(){return this._getFormatters(this._messagesUnits,this._displayUnits)}get fieldContext(){return{formatters:this._formatters,inputUnitInfos:this._inputUnitInfos,messages:this._messagesTooltip,onCommit:this._onCommit,onDiscard:this._onDiscard}}initialize(){let e=new AbortController;this.addHandles([W(()=>this.info.mode,t=>{this.tooltip.positionMode=t==="input"?"fixed":"follow-cursor"}),be(()=>this.info,"focus",()=>{e==null||e.abort();const{signal:t}=e=new AbortController;requestAnimationFrame(()=>{var n;t.aborted||((n=this._getFocusableInputs().at(0))==null||n.focus())})})])}loadDependencies(){return Nt({button:()=>O(()=>import("./calcite-button-3vurRxLj.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13]),import.meta.url),icon:()=>O(()=>import("./calcite-icon-uORPeLj9.js"),__vite__mapDeps([14,11,1,2,9]),import.meta.url),input:()=>O(()=>import("./calcite-input-iJ8NMqtW.js"),__vite__mapDeps([15,16,1,2,3,4,8,5,6,7,9,10,11]),import.meta.url)})}_getHelpMessage(e){var b,L,g,_;const{info:t}=this,{tooltipOptions:n,helpMessage:i,viewType:s}=t,l=(b=n==null?void 0:n.visibleElements)==null?void 0:b.helpMessage,r=e??i,d=s==="3d"?"helpMessages3d":"helpMessages2d";return l&&r?(_=(g=(L=this._messagesTooltip)==null?void 0:L.sketch)==null?void 0:g[d])==null?void 0:_[r]:void 0}_exitInputMode(){this.info.exitInputMode(),document.querySelector(".esri-view-surface").focus()}_getFocusableInputs(){var e;return Array.from(((e=this.domNode)==null?void 0:e.querySelectorAll("input:not([disabled])"))??[])}};a([Lt("esri/core/t9n/Units"),c()],h.prototype,"_messagesUnits",void 0),a([Lt("esri/views/interactive/tooltip/t9n/Tooltip"),c()],h.prototype,"_messagesTooltip",void 0),a([c()],h.prototype,"info",void 0),a([c()],h.prototype,"tooltip",void 0),a([c()],h.prototype,"_displayUnits",null),a([c()],h.prototype,"_inputUnitInfos",null),a([c()],h.prototype,"_formatters",null),a([c()],h.prototype,"fieldContext",null),h=a([f("esri.views.interactive.tooltip.content.TooltipContent")],h);const pn={base:`${p} ${`${p}--draw-rectangle`}`};let J=class extends h{render(){const{area:t,radius:n,xSize:i,ySize:s,tooltipOptions:l}=this.info,{visibleElements:r}=l,d=this._messagesTooltip.sketch;return o(v,{className:pn.base,helpMessage:this._getHelpMessage()},r.radius&&n!=null?o(u,{title:d.radius,value:this._formatLength(n)}):null,r.size&&i!=null&&s!=null?o(u,{title:d.size,value:o(z,{left:this._formatLength(i),right:this._formatLength(s)})}):null,r.area?o(u,{title:d.area,value:this._formatArea(t)}):null)}};J=a([f("esri.views.interactive.tooltip.content.TooltipContentDrawCircle")],J);const dn={base:`${p}--draw-mesh`};let tt=class extends h{render(){const{elevation:t,tooltipOptions:n}=this.info,{visibleElements:i}=n,s=this._messagesTooltip.sketch;return o(v,{className:dn.base,helpMessage:this._getHelpMessage()},i.elevation?o(u,{title:s.elevation,value:this._formatVerticalLength(t.actual)}):null)}};tt=a([f("esri.views.interactive.tooltip.content.TooltipContentDrawMesh")],tt);const y=`${D}-editable-field`,w={base:y,inputMode:`${y}--input`,locked:`${y}--locked`,title:`${y}__title`,titleContent:`${y}__title__content`,value:`${y}__value`,valueContent:`${y}__value__content`,input:`${y}__input`,inputDisabled:`${y}__input--disabled`,inputReadOnly:`${y}__input--read-only`,inputSuffix:`${y}__input-suffix`,button:`${y}__button`};let x=class extends q{constructor(){super(...arguments),this._input=null,this._afterInputCreate=t=>{this._input=t},this._selectText=()=>{requestAnimationFrame(()=>{var t;(t=this._input)==null||t.select()})},this._onKeyDown=t=>{t.key===Z.discard&&this._discard()},this._onInputKeyDown=t=>{switch(t.key){case Z.commit:return this._commit({type:"commit-and-exit",allowLockingCurrentValue:!0});case Z.next:return t.stopPropagation(),this._commit({type:t.shiftKey?"commit-and-previous":"commit-and-next",allowLockingCurrentValue:!1})}},this._onInput=t=>{this.field.inputValue=t.target.value},this._onLockClick=()=>{const{field:t}=this;t.locked?t.unlock():this._lock()}}loadDependencies(){return Nt({button:()=>O(()=>import("./calcite-button-3vurRxLj.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13]),import.meta.url),icon:()=>O(()=>import("./calcite-icon-uORPeLj9.js"),__vite__mapDeps([14,11,1,2,9]),import.meta.url)})}render(){const{mode:t,field:n}=this,i=t==="input",{locked:s}=n;return o("div",{class:this.classes({[w.base]:!0,[w.inputMode]:t==="input",[w.locked]:s})},o("div",{class:w.title,key:"title"},o("div",{class:w.titleContent,key:"title-content"},this._title,s&&!i?o("calcite-icon",{icon:"lock",key:"icon",scale:"s"}):null)),o("div",{class:w.value,key:"value"},i?this._renderInput():o("span",{key:"formatted-value"},this._feedbackValue)))}get _initialValue(){const{field:t}=this;return t.actual!=null?t.toInputUnits(t.actual,this.context).value:null}get _feedbackValue(){const{context:t,field:n}=this,{actual:i,committed:s,format:l}=n;return s!=null?l(s,t):i!=null?l(i,t):""}get _displayValue(){const{field:t}=this,{inputValue:n,committed:i}=t;return n??(i!=null?this._toString(t.toInputUnits(i,this.context).value):this._toString(this._initialValue))}get _suffix(){const{suffix:t}=this.field;return typeof t=="string"?t:t(this.context)}get _title(){const{title:t}=this.field;return typeof t=="string"?t:t(this.context)}_renderInput(){const{disabled:t,locked:n,readOnly:i}=this.field;return o("div",{class:w.valueContent,key:"input-container",onkeydown:this._onKeyDown},o("input",{afterCreate:this._afterInputCreate,class:this.classes({[w.input]:!0,[w.inputDisabled]:t,[w.inputReadOnly]:i}),disabled:t||i,onfocus:this._selectText,oninput:this._onInput,onkeydown:this._onInputKeyDown,readOnly:i,type:"text",value:this._displayValue}),o("div",{class:w.inputSuffix,key:"suffix"},this._suffix),i?void 0:o("calcite-button",{appearance:"transparent",class:w.button,disabled:t,iconStart:n?"lock":"unlock",kind:"neutral",onclick:this._onLockClick,scale:"s",tabIndex:-1}))}_commit({type:t,allowLockingCurrentValue:n}){const{_input:i,field:s}=this;i&&(s.locked&&s.inputValue===""?s.unlock():(n||s.inputValue!=null)&&this._lock(),this.context.onCommit(i,t))}_discard(){this._input&&(this.field.inputValue=null,this.context.onDiscard(this._input))}_lock(){const{field:t}=this,n=this._parseNumber(t.inputValue),i=n!=null?t.createQuantity(n,this.context):null;t.lock(i)}_parseNumber(t){if(t==null)return null;const n=parseFloat(t);return isNaN(n)||!isFinite(n)?null:n}_toString(t){return t!=null?t.toFixed(3):"0"}};a([c()],x.prototype,"field",void 0),a([c()],x.prototype,"context",void 0),a([c()],x.prototype,"mode",void 0),a([c()],x.prototype,"_initialValue",null),a([c()],x.prototype,"_feedbackValue",null),a([c()],x.prototype,"_input",void 0),a([c()],x.prototype,"_displayValue",null),a([c()],x.prototype,"_suffix",null),a([c()],x.prototype,"_title",null),x=a([f("esri.views.interactive.tooltip.TooltipEditableField")],x);function Tt(e){const t=e.fields.filter(n=>n!=null&&!n.hidden);return t.length===0?null:o(ke,null,t.map(n=>o(x,{context:e.context,field:n,key:n.id,mode:e.mode})))}const hn={base:`${p}--draw-point`};let et=class extends h{render(){const{fieldContext:t,info:n}=this,{mode:i,elevation:s,tooltipOptions:l}=n,{visibleElements:r}=l;return o(v,{className:hn.base,helpMessage:this._getHelpMessage(),mode:i,onkeydown:this._handleTab,onDiscard:this._onDiscard},o(Tt,{context:t,fields:[r.elevation?s:void 0],mode:i}))}};et=a([f("esri.views.interactive.tooltip.content.TooltipContentDrawPoint")],et);const fn={base:`${p} ${`${p}--draw-polygon`}`};let nt=class extends h{render(){const{fieldContext:t,info:n}=this,{area:i,distance:s,elevation:l,mode:r,orientation:d,tooltipOptions:b,viewType:L}=n,{inputEnabled:g,visibleElements:_}=b;return o(v,{className:fn.base,helpMessage:this._getHelpMessage(),mode:r,onkeydown:this._handleTab,onDiscard:this._onDiscard},o(Tt,{context:t,fields:[g&&_.orientation?d:void 0,g&&_.distance?s:void 0,_.elevation&&L!=="2d"?l:void 0,_.area?i:void 0],mode:r}))}};nt=a([f("esri.views.interactive.tooltip.content.TooltipContentDrawPolygon")],nt);const mn={base:`${p} ${`${p}--draw-polyline`}`};let it=class extends h{render(){const{fieldContext:t,info:n}=this,{distance:i,elevation:s,mode:l,orientation:r,tooltipOptions:d,totalLength:b,viewType:L}=n,{inputEnabled:g,visibleElements:_}=d;return o(v,{className:mn.base,helpMessage:this._getHelpMessage(),mode:l,onkeydown:this._handleTab,onDiscard:this._onDiscard},o(Tt,{context:t,fields:[g&&_.orientation?r:void 0,g&&_.distance?i:void 0,_.elevation&&L!=="2d"?s:void 0,_.totalLength?b:void 0],mode:l}))}};it=a([f("esri.views.interactive.tooltip.content.TooltipContentDrawPolyline")],it);const vn={base:`${p} ${`${p}--draw-rectangle`}`};let st=class extends h{render(){const{area:t,xSize:n,ySize:i,tooltipOptions:s}=this.info,{visibleElements:l}=s,r=this._messagesTooltip.sketch;return o(v,{className:vn.base,helpMessage:this._getHelpMessage()},l.size&&n!=null&&i!=null?o(u,{title:r.size,value:o(z,{left:this._formatLength(n),right:this._formatLength(i)})}):null,l.area?o(u,{title:r.area,value:this._formatArea(t)}):null)}};st=a([f("esri.views.interactive.tooltip.content.TooltipContentDrawRectangle")],st);const gn={base:`${p} ${`${p}--extent-rotate`}`};let ot=class extends h{render(){const{angle:t,tooltipOptions:n}=this.info,{visibleElements:i}=n,s=this._messagesTooltip.sketch;return o(v,{className:gn.base,helpMessage:this._getHelpMessage()},i.rotation?o(u,{title:s.rotation,value:this._formatRelativeOrientation(t)}):null)}};ot=a([f("esri.views.interactive.tooltip.content.TooltipContentExtentRotate")],ot);const _n={base:`${p} ${`${p}--extent-scale`}`};let at=class extends h{render(){const t=this.info,{visibleElements:n}=t.tooltipOptions,i=this._messagesTooltip.sketch;return o(v,{className:_n.base,helpMessage:this._getHelpMessage()},n.size?o(u,{title:i.size,value:o(z,{left:this._formatLength(t.xSize),right:this._formatLength(t.ySize)})}):null,n.scale?o(u,{title:i.scale,value:o(z,{left:this._formatScale(t.xScale),right:this._formatScale(t.yScale)})}):null)}};at=a([f("esri.views.interactive.tooltip.content.TooltipContentExtentScale")],at);const $n={base:`${p} ${`${p}--reshape-edge-offset`}`};let lt=class extends h{render(){const{area:t,distance:n,totalLength:i,tooltipOptions:s}=this.info,{visibleElements:l}=s,r=this._messagesTooltip.sketch;return o(v,{className:$n.base,helpMessage:this._getHelpMessage()},l.distance?o(u,{title:r.distance,value:this._formatRelativeLength(n)}):null,l.area&&t!=null?o(u,{title:r.area,value:this._formatArea(t)}):null,l.totalLength&&i!=null?o(u,{title:r.totalLength,value:this._formatLength(i)}):null)}};lt=a([f("esri.views.interactive.tooltip.content.TooltipContentReshapeEdgeOffset")],lt);const bn={base:`${p} ${`${p}--transform-absolute`}`};let rt=class extends h{render(){const{info:t}=this,{visibleElements:n}=t.tooltipOptions,i=this._messagesTooltip.sketch;return o(v,{className:bn.base,helpMessage:this._getHelpMessage()},n.orientation&&t.orientation!=null?o(u,{key:"orientation",title:i.orientation,value:$t(t.orientation,t.rotationType,t.orientationPrecision)}):null,n.size&&t.size!=null?o(u,{key:"size",title:i.size,value:this._formatLength(t.size,t.sizeUnit,t.sizePrecision)}):null)}};rt=a([f("esri.views.interactive.tooltip.content.TooltipContentTransformAbsolute")],rt);const yn={base:`${p} ${`${p}--transform-rotate`}`};let ct=class extends h{render(){const{info:t}=this,{visibleElements:n}=t.tooltipOptions,i=this._messagesTooltip.sketch;return o(v,{className:yn.base,helpMessage:this._getHelpMessage()},n.rotation&&t.rotation!=null?o(u,{key:"rotation",title:i.rotation,value:Ue(t.rotation,t.rotationType,t.rotationPrecision)}):null,n.orientation&&t.orientation!=null?o(u,{key:"orientation",title:i.orientation,value:$t(t.orientation,t.rotationType,t.orientationPrecision)}):null)}};ct=a([f("esri.views.interactive.tooltip.content.TooltipContentTransformRotate")],ct);const wn={base:`${p} ${`${p}--transform-scale`}`};let ut=class extends h{render(){const{info:t}=this,{visibleElements:n}=t.tooltipOptions,i=this._messagesTooltip.sketch;return o(v,{className:wn.base,helpMessage:this._getHelpMessage()},n.scale&&t.scale!=null?o(u,{key:"scale",title:i.scale,value:this._formatPercentage(t.scale)}):null,n.size&&t.size!=null?o(u,{key:"size",title:i.size,value:this._formatLength(t.size,t.sizeUnit,t.sizePrecision)}):null)}};ut=a([f("esri.views.interactive.tooltip.content.TooltipContentTransformScale")],ut);const xn={base:`${p} ${`${p}--translate-graphic`}`};let pt=class extends h{render(){const{info:t}=this,{visibleElements:n}=t.tooltipOptions,i=this._messagesTooltip.sketch;return o(v,{className:xn.base,helpMessage:this._getHelpMessage()},n.distance?o(u,{title:i.distance,value:this._formatLength(t.distance)}):null)}};pt=a([f("esri.views.interactive.tooltip.content.TooltipContentTranslateGraphic")],pt);const kn={base:`${p} ${`${p}--translate-graphic-xy`}`};let dt=class extends h{render(){const{info:t}=this,{visibleElements:n}=t.tooltipOptions,i=this._messagesTooltip.sketch;return o(v,{className:kn.base,helpMessage:this._getHelpMessage()},n.distance?o(u,{title:i.distance,value:this._formatRelativeLength(t.distance)}):null)}};dt=a([f("esri.views.interactive.tooltip.content.TooltipContentTranslateGraphicXY")],dt);const Tn={base:`${p} ${`${p}--translate-graphic-z`}`};let ht=class extends h{render(){const{info:e}=this,{visibleElements:t}=e.tooltipOptions,n=this._messagesTooltip.sketch;return o(v,{className:Tn.base,helpMessage:this._getHelpMessage()},t.distance?o(u,{title:n.distance,value:this._formatRelativeVerticalLength(e.distance)}):null)}};ht=a([f("esri.views.interactive.tooltip.content.TooltipContentTranslateGraphicZ")],ht);const Mn={base:`${p} ${`${p}--translate-vertex`}`};let ft=class extends h{render(){const{distance:t,elevation:n,area:i,totalLength:s,tooltipOptions:l}=this.info,{visibleElements:r}=l,d=this._messagesTooltip.sketch;return o(v,{className:Mn.base,helpMessage:this._getHelpMessage()},r.distance?o(u,{title:d.distance,value:this._formatLength(t)}):null,r.elevation&&n!=null?o(u,{title:d.elevation,value:this._formatVerticalLength(n.actual)}):null,r.area&&i!=null?o(u,{title:d.area,value:this._formatArea(i)}):null,r.totalLength&&s!=null?o(u,{title:d.totalLength,value:this._formatLength(s)}):null)}};ft=a([f("esri.views.interactive.tooltip.content.TooltipContentTranslateVertex")],ft);const Ln={base:`${p} ${`${p}--translate-vertex`}`};let mt=class extends h{render(){const{area:e,distance:t,elevation:n,totalLength:i,tooltipOptions:s}=this.info,{visibleElements:l}=s,r=this._messagesTooltip.sketch;return o(v,{className:Ln.base,helpMessage:this._getHelpMessage()},l.distance?o(u,{title:r.distance,value:this._formatRelativeLength(t)}):null,l.elevation&&n!=null?o(u,{title:r.elevation,value:this._formatVerticalLength(n.actual)}):null,l.area&&e!=null?o(u,{title:r.area,value:this._formatArea(e)}):null,l.totalLength&&i!=null?o(u,{title:r.totalLength,value:this._formatLength(i)}):null)}};mt=a([f("esri.views.interactive.tooltip.content.TooltipContentTranslateVertexXY")],mt);const Cn={base:`${p} ${`${p}--translate-vertex`}`};let vt=class extends h{render(){const{distance:e,elevation:t,tooltipOptions:n}=this.info,{visibleElements:i}=n,s=this._messagesTooltip.sketch;return o(v,{className:Cn.base,helpMessage:this._getHelpMessage()},i.distance?o(u,{title:s.distance,value:this._formatRelativeVerticalLength(e)}):null,i.elevation&&t!=null?o(u,{title:s.elevation,value:this._formatVerticalLength(t.actual)}):null)}};vt=a([f("esri.views.interactive.tooltip.content.TooltipContentTranslateVertexZ")],vt);function zn(e,t){if(t==null)return null;const n=document.createElement("div");switch(t.type){case"draw-point":return new et({tooltip:e,info:t,container:n});case"draw-polygon":return new nt({tooltip:e,info:t,container:n});case"draw-polyline":return new it({tooltip:e,info:t,container:n});case"draw-mesh":return new tt({tooltip:e,info:t,container:n});case"draw-rectangle":return new st({tooltip:e,info:t,container:n});case"draw-circle":return new J({tooltip:e,info:t,container:n});case"extent-rotate":return new ot({tooltip:e,info:t,container:n});case"extent-scale":return new at({tooltip:e,info:t,container:n});case"transform-absolute":return new rt({tooltip:e,info:t,container:n});case"transform-rotate":return new ct({tooltip:e,info:t,container:n});case"transform-scale":return new ut({tooltip:e,info:t,container:n});case"translate-graphic":return new pt({tooltip:e,info:t,container:n});case"translate-graphic-z":return new ht({tooltip:e,info:t,container:n});case"translate-graphic-xy":return new dt({tooltip:e,info:t,container:n});case"translate-vertex":return new ft({tooltip:e,info:t,container:n});case"translate-vertex-z":return new vt({tooltip:e,info:t,container:n});case"translate-vertex-xy":return new mt({tooltip:e,info:t,container:n});case"reshape-edge-offset":return new lt({tooltip:e,info:t,container:n})}}const Dn={base:`${D}`};let V=class extends Te{constructor(e){super(e),this.info=null,this.positionMode="follow-cursor",this._contentContainer=(()=>{const t=document.createElement("div");return t.classList.add(Dn.base),Me(t),t})(),this._contentWidget=null}initialize(){const e=this._contentContainer;this.addHandles([W(()=>{var t;return(t=this.view.overlay)==null?void 0:t.surface},t=>{e.remove(),t==null||t.appendChild(e)},Y),W(()=>this.info,(t,n)=>{if(this._contentWidget!=null&&t!=null&&n!=null&&t.type===n.type)this._contentWidget.info=t;else{this._contentWidget=Ct(this._contentWidget);const i=zn(this,t);i&&(this._contentWidget=i,i.container&&e.appendChild(i.container))}},Y),W(()=>({container:this._contentContainer,contentWidget:this._contentWidget,screenPoint:this._screenPoint,positionMode:this.positionMode}),Vn,Y)])}destroy(){this._contentWidget=Ct(this._contentWidget),this._contentContainer.remove()}clear(){this.info=null}get _screenPoint(){const e=this.view.inputManager;return e!=null&&e.multiTouchActive?null:e==null?void 0:e.latestPointerLocation}get test(){var e;return{contentContainer:this._contentContainer,visible:((e=this._contentContainer)==null?void 0:e.style.display)!=="none"}}};function Vn({container:e,contentWidget:t,screenPoint:n,positionMode:i}){const{style:s}=e;if(i==="docked")return s.display="block",void(s.transform="none");if(i!=="fixed")if(n!=null&&t!=null){s.display="block";const l=Le(e),r=`translate(${Math.round(n.x)+Ot[0]*(l?-1:1)}px, ${Math.round(n.y)+Ot[1]}px)`;s.transform=l?`translate(-100%, 0) ${r}`:r}else s.display="none"}a([c({nonNullable:!0})],V.prototype,"view",void 0),a([c()],V.prototype,"info",void 0),a([c()],V.prototype,"positionMode",void 0),a([c()],V.prototype,"_contentContainer",void 0),a([c()],V.prototype,"_contentWidget",void 0),a([c()],V.prototype,"_screenPoint",null),V=a([f("esri.views.interactive.tooltip.Tooltip")],V);const Ot=[20,20];export{Nn as R,Zn as a,xt as b,Ge as c,Pn as d,Dt as e,Wn as f,jn as g,Ut as i,Un as l,qn as m,Vt as o,An as p,zt as q,qt as r,C as s,V as u,Sn as y};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./calcite-button-3vurRxLj.js","./index-eSY5-lt-.js","./index-5m03CWEM.css","./form-LcE6Lkpd.js","./interactive-2Bqh_3jm.js","./label2-hpOGNwRK.js","./loadable-C2NJ3dkg.js","./t9n-BOGCQY_s.js","./key-qdHumIlA.js","./observers-5FXfqfxe.js","./component-dtiBfYiX.js","./icon-1wOoQPvy.js","./loader-ykN72O3c.js","./guid-6vN-YNJI.js","./calcite-icon-uORPeLj9.js","./calcite-input-iJ8NMqtW.js","./input-RWhP8e8n.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}