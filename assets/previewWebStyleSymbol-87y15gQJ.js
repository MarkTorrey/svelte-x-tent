import{bJ as a,dE as s}from"./index-CaKGzNfV.js";import{t as l}from"./symbolUtils-xSXqfs0R.js";import{N as d}from"./utils-DQq6Erk5.js";import"./ColorStop-Ck7LDARl.js";import"./utils-Zehheh82.js";import"./jsonUtils-BOyZBBAS.js";import"./UniqueValueRenderer-BcKHDo_8.js";import"./colorRamps-Q60ZSTdL.js";import"./sizeVariableUtils-Cmcuvw-4.js";import"./visualVariableUtils-Dirgs_V6.js";import"./jsonUtils-BZkfKxwG.js";import"./defaults-r4nVzw_0.js";import"./defaultsJSON-GKolV7NZ.js";import"./styleUtils-m3XI6lz9.js";import"./LRUCache-BaJSamnL.js";import"./FieldsIndex-CfsNliOd.js";import"./UnknownTimeZone-D9sfa0VK.js";import"./OverrideHelper-cVV05tA4.js";import"./colorUtils-DyHwYZ1z.js";import"./utils-DKWWfa8p.js";import"./enums-CmIX1y88.js";import"./quantizationUtils-DwrM8is6.js";import"./heatmapUtils-DaJThs33.js";import"./webStyleSymbolUtils-YINkqlm_.js";import"./devEnvironmentUtils-CnNDiFMM.js";import"./cimSymbolUtils-DWQ0pYp2.js";function G(i,t,o){var e;const r=(e=i.thumbnail)==null?void 0:e.url;return r?a(r,{responseType:"image"}).then(p=>{const m=u(p.data,o);return o!=null&&o.node?(o.node.appendChild(m),o.node):m}):d(i).then(p=>p?t(p,o):null)}function u(i,t){const o=!/\\.svg$/i.test(i.src)&&(t==null?void 0:t.disableUpsampling),r=Math.max(i.width,i.height);let e=(t==null?void 0:t.maxSize)!=null?s(t.maxSize):l.maxSize;o&&(e=Math.min(r,e));const p=typeof(t==null?void 0:t.size)=="number"?t==null?void 0:t.size:null,m=Math.min(e,p!=null?s(p):r);if(m!==r){const h=i.width!==0&&i.height!==0?i.width/i.height:1;h>=1?(i.width=m,i.height=m/h):(i.width=m*h,i.height=m)}return i}export{G as previewWebStyleSymbol};
